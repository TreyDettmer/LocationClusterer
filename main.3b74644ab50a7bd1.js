(self.webpackChunkgeo_cluster=self.webpackChunkgeo_cluster||[]).push([[179],{5637:(Qe,fe,j)=>{"use strict";function P(n){return"function"==typeof n}function M(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const v=M(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function w(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class E{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(P(i))try{i()}catch(o){e=o instanceof v?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{C(o)}catch(u){e=e??[],u instanceof v?e=[...e,...u.errors]:e.push(u)}}if(e)throw new v(e)}}add(e){var t;if(e&&e!==this)if(this.closed)C(e);else{if(e instanceof E){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&w(t,e)}remove(e){const{_finalizers:t}=this;t&&w(t,e),e instanceof E&&e._removeParent(this)}}E.EMPTY=(()=>{const n=new E;return n.closed=!0,n})();const S=E.EMPTY;function R(n){return n instanceof E||n&&"closed"in n&&P(n.remove)&&P(n.add)&&P(n.unsubscribe)}function C(n){P(n)?n():n.unsubscribe()}const H={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y={setTimeout(n,e,...t){const{delegate:i}=Y;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Y;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function $(n){Y.setTimeout(()=>{const{onUnhandledError:e}=H;if(!e)throw n;e(n)})}function te(){}const q=k("C",void 0,void 0);function k(n,e,t){return{kind:n,value:e,error:t}}let O=null;function B(n){if(H.useDeprecatedSynchronousErrorHandling){const e=!O;if(e&&(O={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=O;if(O=null,t)throw i}}else n()}class U extends E{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,R(e)&&e.add(this)):this.destination=J}static create(e,t,i){return new z(e,t,i)}next(e){this.isStopped?ue(function N(n){return k("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ue(function ne(n){return k("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ue(q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const F=Function.prototype.bind;function X(n,e){return F.call(n,e)}class oe{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){ie(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){ie(i)}else ie(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ie(t)}}}class z extends U{constructor(e,t,i){let r;if(super(),P(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&H.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&X(e.next,o),error:e.error&&X(e.error,o),complete:e.complete&&X(e.complete,o)}):r=e}this.destination=new oe(r)}}function ie(n){H.useDeprecatedSynchronousErrorHandling?function I(n){H.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=n)}(n):$(n)}function ue(n,e){const{onStoppedNotification:t}=H;t&&Y.setTimeout(()=>t(n,e))}const J={closed:!0,next:te,error:function Q(n){throw n},complete:te},Me="function"==typeof Symbol&&Symbol.observable||"@@observable";function Te(n){return n}let ve=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function se(n){return n&&n instanceof U||function ce(n){return n&&P(n.next)&&P(n.error)&&P(n.complete)}(n)&&R(n)}(t)?t:new z(t,i,r);return B(()=>{const{operator:u,source:c}=this;o.add(u?u.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=he(i))((r,o)=>{const u=new z({next:c=>{try{t(c)}catch(f){o(f),u.unsubscribe()}},error:o,complete:r});this.subscribe(u)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Me](){return this}pipe(...t){return function Ee(n){return 0===n.length?Te:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=he(t))((i,r)=>{let o;this.subscribe(u=>o=u,u=>r(u),()=>i(o))})}}return n.create=e=>new n(e),n})();function he(n){var e;return null!==(e=n??H.Promise)&&void 0!==e?e:Promise}const ke=M(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pe=(()=>{class n extends ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Le(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new ke}next(t){B(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){B(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){B(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?S:(this.currentObservers=null,o.push(t),new E(()=>{this.currentObservers=null,w(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new ve;return t.source=this,t}}return n.create=(e,t)=>new Le(e,t),n})();class Le extends pe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:S}}function $e(n){return e=>{if(function Ie(n){return P(n?.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ke(n,e,t,i,r){return new W(n,e,t,i,r)}class W extends U{constructor(e,t,i,r,o,u){super(e),this.onFinalize=o,this.shouldUnsubscribe=u,this._next=t?function(c){try{t(c)}catch(f){e.error(f)}}:super._next,this._error=r?function(c){try{r(c)}catch(f){e.error(f)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ae(n,e){return $e((t,i)=>{let r=0;t.subscribe(Ke(i,o=>{i.next(n.call(e,o,r++))}))})}function Et(n){return this instanceof Et?(this.v=n,this):new Et(n)}function bn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Xe(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(u){return new Promise(function(c,f){!function r(o,u,c,f){Promise.resolve(f).then(function(d){o({value:d,done:c})},u)}(c,f,(u=n[o](u)).done,u.value)})}}}const cr=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function pt(n){return P(n?.then)}function Ma(n){return P(n[Me])}function Uo(n){return Symbol.asyncIterator&&P(n?.[Symbol.asyncIterator])}function ln(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const gs=function qs(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function is(n){return P(n?.[gs])}function Pa(n){return function pn(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(b){i[b]&&(r[b]=function(D){return new Promise(function(K,ee){o.push([b,D,K,ee])>1||c(b,D)})})}function c(b,D){try{!function f(b){b.value instanceof Et?Promise.resolve(b.value.v).then(d,m):y(o[0][2],b)}(i[b](D))}catch(K){y(o[0][3],K)}}function d(b){c("next",b)}function m(b){c("throw",b)}function y(b,D){b(D),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Et(t.read());if(r)return yield Et(void 0);yield yield Et(i)}}finally{t.releaseLock()}})}function cc(n){return P(n?.getReader)}function Lo(n){if(n instanceof ve)return n;if(null!=n){if(Ma(n))return function yh(n){return new ve(e=>{const t=n[Me]();if(P(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(cr(n))return function Gr(n){return new ve(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(pt(n))return function $t(n){return new ve(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,$)})}(n);if(Uo(n))return $s(n);if(is(n))return function Nu(n){return new ve(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(cc(n))return function In(n){return $s(Pa(n))}(n)}throw ln(n)}function $s(n){return new ve(e=>{(function Go(n,e){var t,i,r,o;return function Re(n,e,t,i){return new(t||(t=Promise))(function(o,u){function c(m){try{d(i.next(m))}catch(y){u(y)}}function f(m){try{d(i.throw(m))}catch(y){u(y)}}function d(m){m.done?o(m.value):function r(o){return o instanceof t?o:new t(function(u){u(o)})}(m.value).then(c,f)}d((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=bn(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(u){r={error:u}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Dr(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Gi(n,e,t=1/0){return P(e)?Gi((i,r)=>ae((o,u)=>e(i,o,r,u))(Lo(n(i,r))),t):("number"==typeof e&&(t=e),$e((i,r)=>function qo(n,e,t,i,r,o,u,c){const f=[];let d=0,m=0,y=!1;const b=()=>{y&&!f.length&&!d&&e.complete()},D=ee=>d<i?K(ee):f.push(ee),K=ee=>{o&&e.next(ee),d++;let xe=!1;Lo(t(ee,m++)).subscribe(Ke(e,_e=>{r?.(_e),o?D(_e):e.next(_e)},()=>{xe=!0},void 0,()=>{if(xe)try{for(d--;f.length&&d<i;){const _e=f.shift();u?Dr(e,u,()=>K(_e)):K(_e)}b()}catch(_e){e.error(_e)}}))};return n.subscribe(Ke(e,D,()=>{y=!0,b()})),()=>{c?.()}}(i,r,n,t)))}function Ws(n=1/0){return Gi(Te,n)}const ao=new ve(n=>n.complete());function ul(n){return n&&P(n.schedule)}function Hi(n){return n[n.length-1]}function qi(n){return P(Hi(n))?n.pop():void 0}function ms(n){return ul(Hi(n))?n.pop():void 0}function Zs(n,e=0){return $e((t,i)=>{t.subscribe(Ke(i,r=>Dr(i,n,()=>i.next(r),e),()=>Dr(i,n,()=>i.complete(),e),r=>Dr(i,n,()=>i.error(r),e)))})}function hr(n,e=0){return $e((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function hu(n,e){if(!n)throw new Error("Iterable cannot be null");return new ve(t=>{Dr(t,e,()=>{const i=n[Symbol.asyncIterator]();Dr(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function En(n,e){return e?function ca(n,e){if(null!=n){if(Ma(n))return function cu(n,e){return Lo(n).pipe(hr(e),Zs(e))}(n,e);if(cr(n))return function rs(n,e){return new ve(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(pt(n))return function Ps(n,e){return Lo(n).pipe(hr(e),Zs(e))}(n,e);if(Uo(n))return hu(n,e);if(is(n))return function Qr(n,e){return new ve(t=>{let i;return Dr(t,e,()=>{i=n[gs](),Dr(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(u){return void t.error(u)}o?t.complete():t.next(r)},0,!0)}),()=>P(i?.return)&&i.return()})}(n,e);if(cc(n))return function fu(n,e){return hu(Pa(n),e)}(n,e)}throw ln(n)}(n,e):Lo(n)}function sn(...n){const e=ms(n),t=function wo(n,e){return"number"==typeof Hi(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Lo(i[0]):Ws(t)(En(i,e)):ao}function du(n={}){const{connector:e=(()=>new pe),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let u,c,f,d=0,m=!1,y=!1;const b=()=>{c?.unsubscribe(),c=void 0},D=()=>{b(),u=f=void 0,m=y=!1},K=()=>{const ee=u;D(),ee?.unsubscribe()};return $e((ee,xe)=>{d++,!y&&!m&&b();const _e=f=f??e();xe.add(()=>{d--,0===d&&!y&&!m&&(c=Jr(K,r))}),_e.subscribe(xe),!u&&d>0&&(u=new z({next:de=>_e.next(de),error:de=>{y=!0,b(),c=Jr(D,t,de),_e.error(de)},complete:()=>{m=!0,b(),c=Jr(D,i),_e.complete()}}),Lo(ee).subscribe(u))})(o)}}function Jr(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new z({next:()=>{i.unsubscribe(),n()}});return e(...t).subscribe(i)}function di(n){for(let e in n)if(n[e]===di)return e;throw Error("Could not find renamed property on target object.")}function pu(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function _t(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(_t).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function tr(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Wo=di({__forward_ref__:di});function Si(n){return n.__forward_ref__=Si,n.toString=function(){return _t(this())},n}function gt(n){return ll(n)?n():n}function ll(n){return"function"==typeof n&&n.hasOwnProperty(Wo)&&n.__forward_ref__===Si}function gu(n){return n&&!!n.\u0275providers}const gi="https://g.co/ng/security#xss";class ft extends Error{constructor(e,t){super(Ys(e,t)),this.code=e}}function Ys(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function cn(n){return"string"==typeof n?n:null==n?"":String(n)}function Xs(n,e){throw new ft(-201,!1)}function wr(n,e){null==n&&function Yt(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function Mt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function An(n){return{providers:n.providers||[],imports:n.imports||[]}}function $i(n){return Zo(n,Za)||Zo(n,Is)}function Zo(n,e){return n.hasOwnProperty(e)?n[e]:null}function Jt(n){return n&&(n.hasOwnProperty(ss)||n.hasOwnProperty(Pl))?n[ss]:null}const Za=di({\u0275prov:di}),ss=di({\u0275inj:di}),Is=di({ngInjectableDef:di}),Pl=di({ngInjectorDef:di});var gn=(()=>((gn=gn||{})[gn.Default=0]="Default",gn[gn.Host=1]="Host",gn[gn.Self=2]="Self",gn[gn.SkipSelf=4]="SkipSelf",gn[gn.Optional=8]="Optional",gn))();let Or;function ki(n){const e=Or;return Or=n,e}function Ta(n,e,t){const i=$i(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&gn.Optional?null:void 0!==e?e:void Xs(_t(n))}const Ti=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Js={},ir="__NG_DI_FLAG__",Co="ngTempTokenPath",pa="ngTokenPath",Fu=/\n/gm,Il="\u0275",Bu="__source";let xn;function Eo(n){const e=xn;return xn=n,e}function Wi(n,e=gn.Default){if(void 0===xn)throw new ft(-203,!1);return null===xn?Ta(n,void 0,e):xn.get(n,e&gn.Optional?null:void 0,e)}function st(n,e=gn.Default){return(function da(){return Or}()||Wi)(gt(n),e)}function Yo(n,e=gn.Default){return st(n,mn(e))}function mn(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Hr(n){const e=[];for(let t=0;t<n.length;t++){const i=gt(n[t]);if(Array.isArray(i)){if(0===i.length)throw new ft(900,!1);let r,o=gn.Default;for(let u=0;u<i.length;u++){const c=i[u],f=_u(c);"number"==typeof f?-1===f?r=c.token:o|=f:r=c}e.push(st(r,o))}else e.push(st(i))}return e}function _i(n,e){return n[ir]=e,n.prototype[ir]=e,n}function _u(n){return n[ir]}function Ts(n){return{toString:n}.toString()}var lo=(()=>((lo=lo||{})[lo.OnPush=0]="OnPush",lo[lo.Default=1]="Default",lo))(),hn=(()=>{return(n=hn||(hn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",hn;var n})();const pr={},Fn=[],Xo=di({\u0275cmp:di}),to=di({\u0275dir:di}),kr=di({\u0275pipe:di}),vs=di({\u0275mod:di}),Oo=di({\u0275fac:di}),as=di({__NG_ELEMENT_ID__:di});let Rr=0;function Pr(n){return Ts(()=>{const e=La(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===lo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||hn.Emulated,id:"c"+Rr++,styles:n.styles||Fn,_:null,schemas:n.schemas||null,tView:null};yu(t);const i=n.dependencies;return t.directiveDefs=co(i,!1),t.pipeDefs=co(i,!0),t})}function bs(n){return _n(n)||Qi(n)}function ko(n){return null!==n}function Mn(n){return Ts(()=>({type:n.type,bootstrap:n.bootstrap||Fn,declarations:n.declarations||Fn,imports:n.imports||Fn,exports:n.exports||Fn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Fr(n,e){if(null==n)return pr;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Nt(n){return Ts(()=>{const e=La(n);return yu(e),e})}function jr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function _n(n){return n[Xo]||null}function Qi(n){return n[to]||null}function rr(n){return n[kr]||null}function La(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Fn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fr(n.inputs,e),outputs:Fr(n.outputs)}}function yu(n){n.features?.forEach(e=>e(n))}function co(n,e){if(!n)return null;const t=e?rr:bs;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(ko)}const ls=0,kt=1,fn=2,zn=3,Ii=4,Ro=5,Ln=6,$r=7,Ri=8,Ya=9,ea=10,on=11,ws=12,or=13,Qo=14,gr=15,ho=16,Ir=17,No=18,Bi=19,Ji=20,cs=21,Pn=22,hs=1,ta=2,mr=7,Xa=8,er=9,fo=10;function yi(n){return Array.isArray(n)&&"object"==typeof n[hs]}function _r(n){return Array.isArray(n)&&!0===n[hs]}function Jo(n){return 0!=(4&n.flags)}function As(n){return n.componentOffset>-1}function no(n){return 1==(1&n.flags)}function Br(n){return!!n.template}function io(n){return 0!=(256&n[fn])}function dt(n,e){return n.hasOwnProperty(Oo)?n[Oo]:null}class Lt{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function jt(){return Cn}function Cn(n){return n.type.prototype.ngOnChanges&&(n.setInput=_a),go}function go(){const n=xo(this),e=n?.current;if(e){const t=n.previous;if(t===pr)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function _a(n,e,t,i){const r=this.declaredInputs[t],o=xo(n)||function Ka(n,e){return n[na]=e}(n,{previous:pr,current:null}),u=o.current||(o.current={}),c=o.previous,f=c[r];u[r]=new Lt(f&&f.currentValue,e,c===pr),n[i]=e}jt.ngInherit=!0;const na="__ngSimpleChanges__";function xo(n){return n[na]||null}const qt=function(n,e,t){},Os="svg";function ar(n){for(;Array.isArray(n);)n=n[ls];return n}function Ra(n,e){return ar(e[n])}function Zi(n,e){return ar(e[n.index])}function Ll(n,e){return n.data[e]}function Cs(n,e){return n[e]}function s(n,e){const t=e[n];return yi(t)?t:t[ls]}function h(n){return 64==(64&n[fn])}function _(n,e){return null==e?null:n[e]}function T(n){n[No]=0}function G(n,e){n[Ro]+=e;let t=n,i=n[zn];for(;null!==i&&(1===e&&1===t[Ro]||-1===e&&0===t[Ro]);)i[Ro]+=e,t=i,i=i[zn]}const le={lFrame:N1(null),bindingsEnabled:!0};function Ct(){return le.bindingsEnabled}function at(){return le.lFrame.lView}function en(){return le.lFrame.tView}function Ai(n){return le.lFrame.contextLView=n,n[Ri]}function vr(n){return le.lFrame.contextLView=null,n}function Cr(){let n=dc();for(;null!==n&&64===n.type;)n=n.parent;return n}function dc(){return le.lFrame.currentTNode}function bu(n,e){const t=le.lFrame;t.currentTNode=n,t.isParent=e}function rm(){return le.lFrame.isParent}function om(){le.lFrame.isParent=!1}function ks(){const n=le.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function pc(){return le.lFrame.bindingIndex++}function zu(n){const e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function XA(n,e){const t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,sm(e)}function sm(n){le.lFrame.currentDirectiveIndex=n}function am(n){const e=le.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function O1(){return le.lFrame.currentQueryIndex}function um(n){le.lFrame.currentQueryIndex=n}function QA(n){const e=n[kt];return 2===e.type?e.declTNode:1===e.type?n[Ln]:null}function k1(n,e,t){if(t&gn.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&gn.Host||(r=QA(o),null===r||(o=o[gr],10&r.type))););if(null===r)return!1;e=r,n=o}const i=le.lFrame=R1();return i.currentTNode=e,i.lView=n,!0}function lm(n){const e=R1(),t=n[kt];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function R1(){const n=le.lFrame,e=null===n?null:n.child;return null===e?N1(n):e}function N1(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function F1(){const n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const B1=F1;function cm(){const n=F1();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Rs(){return le.lFrame.selectedIndex}function Ol(n){le.lFrame.selectedIndex=n}function Zr(){const n=le.lFrame;return Ll(n.tView,n.selectedIndex)}function Qf(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:c,ngAfterViewInit:f,ngAfterViewChecked:d,ngOnDestroy:m}=o;u&&(n.contentHooks??(n.contentHooks=[])).push(-t,u),c&&((n.contentHooks??(n.contentHooks=[])).push(t,c),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,c)),f&&(n.viewHooks??(n.viewHooks=[])).push(-t,f),d&&((n.viewHooks??(n.viewHooks=[])).push(t,d),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,d)),null!=m&&(n.destroyHooks??(n.destroyHooks=[])).push(t,m)}}function Jf(n,e,t){H1(n,e,3,t)}function ed(n,e,t,i){(3&n[fn])===t&&H1(n,e,t,i)}function hm(n,e){let t=n[fn];(3&t)===e&&(t&=2047,t+=1,n[fn]=t)}function H1(n,e,t,i){const o=i??-1,u=e.length-1;let c=0;for(let f=void 0!==i?65535&n[No]:0;f<u;f++)if("number"==typeof e[f+1]){if(c=e[f],null!=i&&c>=i)break}else e[f]<0&&(n[No]+=65536),(c<o||-1==o)&&(oL(n,t,e,f),n[No]=(4294901760&n[No])+f+2),f++}function oL(n,e,t,i){const r=t[i]<0,o=t[i+1],c=n[r?-t[i]:t[i]];if(r){if(n[fn]>>11<n[No]>>16&&(3&n[fn])===e){n[fn]+=2048,qt(4,c,o);try{o.call(c)}finally{qt(5,c,o)}}}else{qt(4,c,o);try{o.call(c)}finally{qt(5,c,o)}}}const gc=-1;class wh{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function dm(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],u=t[i++],c=t[i++];n.setAttribute(e,u,c,o)}else{const o=r,u=t[++i];U1(o)?n.setProperty(e,o,u):n.setAttribute(e,o,u),i++}}return i}function j1(n){return 3===n||4===n||6===n}function U1(n){return 64===n.charCodeAt(0)}function Ch(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||G1(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function G1(n,e,t,i,r){let o=0,u=n.length;if(-1===e)u=-1;else for(;o<n.length;){const c=n[o++];if("number"==typeof c){if(c===e){u=-1;break}if(c>e){u=o-1;break}}}for(;o<n.length;){const c=n[o];if("number"==typeof c)break;if(c===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==u&&(n.splice(u,0,e),o=u+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function q1(n){return n!==gc}function td(n){return 32767&n}function nd(n,e){let t=function lL(n){return n>>16}(n),i=e;for(;t>0;)i=i[gr],t--;return i}let pm=!0;function id(n){const e=pm;return pm=n,e}const $1=255,W1=5;let cL=0;const wu={};function rd(n,e){const t=Z1(n,e);if(-1!==t)return t;const i=e[kt];i.firstCreatePass&&(n.injectorIndex=e.length,gm(i.data,n),gm(e,null),gm(i.blueprint,null));const r=mm(n,e),o=n.injectorIndex;if(q1(r)){const u=td(r),c=nd(r,e),f=c[kt].data;for(let d=0;d<8;d++)e[o+d]=c[u+d]|f[u+d]}return e[o+8]=r,o}function gm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Z1(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function mm(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=tb(r),null===i)return gc;if(t++,r=r[gr],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return gc}function _m(n,e,t){!function hL(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(as)&&(i=t[as]),null==i&&(i=t[as]=cL++);const r=i&$1;e.data[n+(r>>W1)]|=1<<r}(n,e,t)}function Y1(n,e,t){if(t&gn.Optional||void 0!==n)return n;Xs()}function X1(n,e,t,i){if(t&gn.Optional&&void 0===i&&(i=null),!(t&(gn.Self|gn.Host))){const r=n[Ya],o=ki(void 0);try{return r?r.get(e,i,t&gn.Optional):Ta(e,i,t&gn.Optional)}finally{ki(o)}}return Y1(i,0,t)}function K1(n,e,t,i=gn.Default,r){if(null!==n){if(1024&e[fn]){const u=function mL(n,e,t,i,r){let o=n,u=e;for(;null!==o&&null!==u&&1024&u[fn]&&!(256&u[fn]);){const c=Q1(o,u,t,i|gn.Self,wu);if(c!==wu)return c;let f=o.parent;if(!f){const d=u[cs];if(d){const m=d.get(t,wu,i);if(m!==wu)return m}f=tb(u),u=u[gr]}o=f}return r}(n,e,t,i,wu);if(u!==wu)return u}const o=Q1(n,e,t,i,wu);if(o!==wu)return o}return X1(e,t,i,r)}function Q1(n,e,t,i,r){const o=function pL(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(as)?n[as]:void 0;return"number"==typeof e?e>=0?e&$1:gL:e}(t);if("function"==typeof o){if(!k1(e,n,i))return i&gn.Host?Y1(r,0,i):X1(e,t,i,r);try{const u=o(i);if(null!=u||i&gn.Optional)return u;Xs()}finally{B1()}}else if("number"==typeof o){let u=null,c=Z1(n,e),f=gc,d=i&gn.Host?e[ho][Ln]:null;for((-1===c||i&gn.SkipSelf)&&(f=-1===c?mm(n,e):e[c+8],f!==gc&&eb(i,!1)?(u=e[kt],c=td(f),e=nd(f,e)):c=-1);-1!==c;){const m=e[kt];if(J1(o,c,m.data)){const y=dL(c,e,t,u,i,d);if(y!==wu)return y}f=e[c+8],f!==gc&&eb(i,e[kt].data[c+8]===d)&&J1(o,c,e)?(u=m,c=td(f),e=nd(f,e)):c=-1}}return r}function dL(n,e,t,i,r,o){const u=e[kt],c=u.data[n+8],m=od(c,u,t,null==i?As(c)&&pm:i!=u&&0!=(3&c.type),r&gn.Host&&o===c);return null!==m?kl(e,u,m,c):wu}function od(n,e,t,i,r){const o=n.providerIndexes,u=e.data,c=1048575&o,f=n.directiveStart,m=o>>20,b=r?c+m:n.directiveEnd;for(let D=i?c:c+m;D<b;D++){const K=u[D];if(D<f&&t===K||D>=f&&K.type===t)return D}if(r){const D=u[f];if(D&&Br(D)&&D.type===t)return f}return null}function kl(n,e,t,i){let r=n[t];const o=e.data;if(function sL(n){return n instanceof wh}(r)){const u=r;u.resolving&&function Ia(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ft(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ut(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():cn(n)}(o[t]));const c=id(u.canSeeViewProviders);u.resolving=!0;const f=u.injectImpl?ki(u.injectImpl):null;k1(n,i,gn.Default);try{r=n[t]=u.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function rL(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const u=Cn(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,u),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,u)}r&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,r),o&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==f&&ki(f),id(c),u.resolving=!1,B1()}}return r}function J1(n,e,t){return!!(t[e+(n>>W1)]&1<<n)}function eb(n,e){return!(n&gn.Self||n&gn.Host&&e)}class mc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return K1(this._tNode,this._lView,e,mn(i),t)}}function gL(){return new mc(Cr(),at())}function fs(n){return Ts(()=>{const e=n.prototype.constructor,t=e[Oo]||ym(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Oo]||ym(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function ym(n){return ll(n)?()=>{const e=ym(gt(n));return e&&e()}:dt(n)}function tb(n){const e=n[kt],t=e.type;return 2===t?e.declTNode:1===t?n[Ln]:null}function _c(n){return function fL(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(j1(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(Cr(),n)}const vc="__parameters__";function wc(n,e,t){return Ts(()=>{const i=function vm(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const u=new r(...o);return c.annotation=u,c;function c(f,d,m){const y=f.hasOwnProperty(vc)?f[vc]:Object.defineProperty(f,vc,{value:[]})[vc];for(;y.length<=m;)y.push(null);return(y[m]=y[m]||[]).push(u),f}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class St{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Mt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Rl(n,e){n.forEach(t=>Array.isArray(t)?Rl(t,e):e(t))}function ib(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function sd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Sh(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function ya(n,e,t){let i=Cc(n,e);return i>=0?n[1|i]=t:(i=~i,function bL(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function wm(n,e){const t=Cc(n,e);if(t>=0)return n[1|t]}function Cc(n,e){return function rb(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),u=n[o<<t];if(e===u)return o<<t;u>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Nl=_i(wc("Optional"),8),Dh=_i(wc("SkipSelf"),4);var ia=(()=>((ia=ia||{})[ia.Important=1]="Important",ia[ia.DashCase=2]="DashCase",ia))();const Mm=new Map;let jL=0;const Im="__ngContext__";function Es(n,e){yi(e)?(n[Im]=e[Ji],function GL(n){Mm.set(n[Ji],n)}(e)):n[Im]=e}let Tm;function Am(n,e){return Tm(n,e)}function Th(n){const e=n[zn];return _r(e)?e[zn]:e}function Lm(n){return xb(n[or])}function Om(n){return xb(n[Ii])}function xb(n){for(;null!==n&&!_r(n);)n=n[Ii];return n}function xc(n,e,t,i,r){if(null!=i){let o,u=!1;_r(i)?o=i:yi(i)&&(u=!0,i=i[ls]);const c=ar(i);0===n&&null!==t?null==r?Tb(e,t,c):Fl(e,t,c,r||null,!0):1===n&&null!==t?Fl(e,t,c,r||null,!0):2===n?function zm(n,e,t){const i=cd(n,e);i&&function cO(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,c,u):3===n&&e.destroyNode(c),null!=o&&function dO(n,e,t,i,r){const o=t[mr];o!==ar(t)&&xc(e,n,i,o,r);for(let c=fo;c<t.length;c++){const f=t[c];Ah(f[kt],f,n,e,i,o)}}(e,n,o,t,r)}}function Rm(n,e,t){return n.createElement(e,t)}function Db(n,e){const t=n[er],i=t.indexOf(e),r=e[zn];512&e[fn]&&(e[fn]&=-513,G(r,-1)),t.splice(i,1)}function Nm(n,e){if(n.length<=fo)return;const t=fo+e,i=n[t];if(i){const r=i[Ir];null!==r&&r!==n&&Db(r,i),e>0&&(n[t-1][Ii]=i[Ii]);const o=sd(n,fo+e);!function nO(n,e){Ah(n,e,e[on],2,null,null),e[ls]=null,e[Ln]=null}(i[kt],i);const u=o[Bi];null!==u&&u.detachView(o[kt]),i[zn]=null,i[Ii]=null,i[fn]&=-65}return i}function Mb(n,e){if(!(128&e[fn])){const t=e[on];t.destroyNode&&Ah(n,e,t,3,null,null),function oO(n){let e=n[or];if(!e)return Fm(n[kt],n);for(;e;){let t=null;if(yi(e))t=e[or];else{const i=e[fo];i&&(t=i)}if(!t){for(;e&&!e[Ii]&&e!==n;)yi(e)&&Fm(e[kt],e),e=e[zn];null===e&&(e=n),yi(e)&&Fm(e[kt],e),t=e&&e[Ii]}e=t}}(e)}}function Fm(n,e){if(!(128&e[fn])){e[fn]&=-65,e[fn]|=128,function lO(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof wh)){const o=t[i+1];if(Array.isArray(o))for(let u=0;u<o.length;u+=2){const c=r[o[u]],f=o[u+1];qt(4,c,f);try{f.call(c)}finally{qt(5,c,f)}}else{qt(4,r,o);try{o.call(r)}finally{qt(5,r,o)}}}}}(n,e),function uO(n,e){const t=n.cleanup,i=e[$r];let r=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const u=t[o+3];u>=0?i[r=u]():i[r=-u].unsubscribe(),o+=2}else{const u=i[r=t[o+1]];t[o].call(u)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();e[$r]=null}}(n,e),1===e[kt].type&&e[on].destroy();const t=e[Ir];if(null!==t&&_r(e[zn])){t!==e[zn]&&Db(t,e);const i=e[Bi];null!==i&&i.detachView(n)}!function qL(n){Mm.delete(n[Ji])}(e)}}function Pb(n,e,t){return function Ib(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[ls];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===hn.None||o===hn.Emulated)return null}return Zi(i,t)}}(n,e.parent,t)}function Fl(n,e,t,i,r){n.insertBefore(e,t,i,r)}function Tb(n,e,t){n.appendChild(e,t)}function Ab(n,e,t,i,r){null!==i?Fl(n,e,t,i,r):Tb(n,e,t)}function cd(n,e){return n.parentNode(e)}function Lb(n,e,t){return kb(n,e,t)}let Bm,dd,Um,kb=function Ob(n,e,t){return 40&n.type?Zi(n,t):null};function hd(n,e,t,i){const r=Pb(n,i,e),o=e[on],c=Lb(i.parent||e[Ln],i,e);if(null!=r)if(Array.isArray(t))for(let f=0;f<t.length;f++)Ab(o,r,t[f],c,!1);else Ab(o,r,t,c,!1);void 0!==Bm&&Bm(o,i,e,t,r)}function fd(n,e){if(null!==e){const t=e.type;if(3&t)return Zi(e,n);if(4&t)return Vm(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return fd(n,i);{const r=n[e.index];return _r(r)?Vm(-1,r):ar(r)}}if(32&t)return Am(e,n)()||ar(n[e.index]);{const i=Nb(n,e);return null!==i?Array.isArray(i)?i[0]:fd(Th(n[ho]),i):fd(n,e.next)}}return null}function Nb(n,e){return null!==e?n[ho][Ln].projection[e.projection]:null}function Vm(n,e){const t=fo+n+1;if(t<e.length){const i=e[t],r=i[kt].firstChild;if(null!==r)return fd(i,r)}return e[mr]}function Hm(n,e,t,i,r,o,u){for(;null!=t;){const c=i[t.index],f=t.type;if(u&&0===e&&(c&&Es(ar(c),i),t.flags|=2),32!=(32&t.flags))if(8&f)Hm(n,e,t.child,i,r,o,!1),xc(e,n,r,c,o);else if(32&f){const d=Am(t,i);let m;for(;m=d();)xc(e,n,r,m,o);xc(e,n,r,c,o)}else 16&f?Fb(n,e,i,t,r,o):xc(e,n,r,c,o);t=u?t.projectionNext:t.next}}function Ah(n,e,t,i,r,o){Hm(t,i,n.firstChild,e,r,o,!1)}function Fb(n,e,t,i,r,o){const u=t[ho],f=u[Ln].projection[i.projection];if(Array.isArray(f))for(let d=0;d<f.length;d++)xc(e,n,r,f[d],o);else Hm(n,e,f,u[zn],r,o,!0)}function Bb(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Vb(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&dm(n,e,i),null!==r&&Bb(n,e,r),null!==o&&function gO(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function Sc(n){return function jm(){if(void 0===dd&&(dd=null,Ti.trustedTypes))try{dd=Ti.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return dd}()?.createHTML(n)||n}class Bl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gi})`}}class bO extends Bl{getTypeName(){return"HTML"}}class wO extends Bl{getTypeName(){return"Style"}}class CO extends Bl{getTypeName(){return"Script"}}class EO extends Bl{getTypeName(){return"URL"}}class xO extends Bl{getTypeName(){return"ResourceURL"}}function va(n){return n instanceof Bl?n.changingThisBreaksApplicationSecurity:n}function Cu(n,e){const t=function SO(n){return n instanceof Bl&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${gi})`)}return t===e}class AO{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Sc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class LO{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Sc(e),t}}const kO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gd(n){return(n=String(n)).match(kO)?n:"unsafe:"+n}function Hu(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Lh(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const qb=Hu("area,br,col,hr,img,wbr"),$b=Hu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wb=Hu("rp,rt"),qm=Lh(qb,Lh($b,Hu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lh(Wb,Hu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lh(Wb,$b)),$m=Hu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zb=Lh($m,Hu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),RO=Hu("script,style,template");class NO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!qm.hasOwnProperty(t))return this.sanitizedSomething=!0,!RO.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),u=o.name,c=u.toLowerCase();if(!Zb.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let f=o.value;$m[c]&&(f=gd(f)),this.buf.push(" ",u,'="',Yb(f),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();qm.hasOwnProperty(t)&&!qb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Yb(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const FO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,BO=/([^\#-~ |!])/g;function Yb(n){return n.replace(/&/g,"&amp;").replace(FO,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(BO,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let md;function Xb(n,e){let t=null;try{md=md||function Gb(n){const e=new LO(n);return function OO(){try{return!!(new window.DOMParser).parseFromString(Sc(""),"text/html")}catch{return!1}}()?new AO(e):e}(n);let i=e?String(e):"";t=md.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=md.getInertBodyElement(i)}while(i!==o);return Sc((new NO).sanitizeChildren(Wm(t)||t))}finally{if(t){const i=Wm(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Wm(n){return"content"in n&&function VO(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Yi=(()=>((Yi=Yi||{})[Yi.NONE=0]="NONE",Yi[Yi.HTML=1]="HTML",Yi[Yi.STYLE=2]="STYLE",Yi[Yi.SCRIPT=3]="SCRIPT",Yi[Yi.URL=4]="URL",Yi[Yi.RESOURCE_URL=5]="RESOURCE_URL",Yi))();const Jb=new St("ENVIRONMENT_INITIALIZER"),ew=new St("INJECTOR",-1),tw=new St("INJECTOR_DEF_TYPES");class nw{get(e,t=Js){if(t===Js){const i=new Error(`NullInjectorError: No provider for ${_t(e)}!`);throw i.name="NullInjectorError",i}return t}}function ZO(...n){return{\u0275providers:iw(0,n),\u0275fromNgModule:!0}}function iw(n,...e){const t=[],i=new Set;let r;return Rl(e,o=>{const u=o;Zm(u,t,[],i)&&(r||(r=[]),r.push(u))}),void 0!==r&&rw(r,t),t}function rw(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];Ym(r,o=>{e.push(o)})}}function Zm(n,e,t,i){if(!(n=gt(n)))return!1;let r=null,o=Jt(n);const u=!o&&_n(n);if(o||u){if(u&&!u.standalone)return!1;r=n}else{const f=n.ngModule;if(o=Jt(f),!o)return!1;r=f}const c=i.has(r);if(u){if(c)return!1;if(i.add(r),u.dependencies){const f="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const d of f)Zm(d,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let d;i.add(r);try{Rl(o.imports,m=>{Zm(m,e,t,i)&&(d||(d=[]),d.push(m))})}finally{}void 0!==d&&rw(d,e)}if(!c){const d=dt(r)||(()=>new r);e.push({provide:r,useFactory:d,deps:Fn},{provide:tw,useValue:r,multi:!0},{provide:Jb,useValue:()=>st(r),multi:!0})}const f=o.providers;null==f||c||Ym(f,m=>{e.push(m)})}}return r!==n&&void 0!==n.providers}function Ym(n,e){for(let t of n)gu(t)&&(t=t.\u0275providers),Array.isArray(t)?Ym(t,e):e(t)}const YO=di({provide:String,useValue:di});function Xm(n){return null!==n&&"object"==typeof n&&YO in n}function Vl(n){return"function"==typeof n}const Km=new St("Set Injector scope."),_d={},KO={};let Qm;function yd(){return void 0===Qm&&(Qm=new nw),Qm}class zl{}class aw extends zl{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,e_(e,u=>this.processProvider(u)),this.records.set(ew,Dc(void 0,this)),r.has("environment")&&this.records.set(zl,Dc(void 0,this));const o=this.records.get(Km);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tw.multi,Fn,gn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Eo(this),i=ki(void 0);try{return e()}finally{Eo(t),ki(i)}}get(e,t=Js,i=gn.Default){this.assertNotDestroyed(),i=mn(i);const r=Eo(this),o=ki(void 0);try{if(!(i&gn.SkipSelf)){let c=this.records.get(e);if(void 0===c){const f=function nk(n){return"function"==typeof n||"object"==typeof n&&n instanceof St}(e)&&$i(e);c=f&&this.injectableDefInScope(f)?Dc(Jm(e),_d):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&gn.Self?yd():this.parent).get(e,t=i&gn.Optional&&t===Js?null:t)}catch(u){if("NullInjectorError"===u.name){if((u[Co]=u[Co]||[]).unshift(_t(e)),r)throw u;return function uo(n,e,t,i){const r=n[Co];throw e[Bu]&&r.unshift(e[Bu]),n.message=function Aa(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Il?n.slice(2):n;let r=_t(e);if(Array.isArray(e))r=e.map(_t).join(" -> ");else if("object"==typeof e){let o=[];for(let u in e)if(e.hasOwnProperty(u)){let c=e[u];o.push(u+":"+("string"==typeof c?JSON.stringify(c):_t(c)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Fu,"\n  ")}`}("\n"+n.message,r,t,i),n[pa]=r,n[Co]=null,n}(u,e,"R3InjectorError",this.source)}throw u}finally{ki(o),Eo(r)}}resolveInjectorInitializers(){const e=Eo(this),t=ki(void 0);try{const i=this.get(Jb.multi,Fn,gn.Self);for(const r of i)r()}finally{Eo(e),ki(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(_t(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ft(205,!1)}processProvider(e){let t=Vl(e=gt(e))?e:gt(e&&e.provide);const i=function JO(n){return Xm(n)?Dc(void 0,n.useValue):Dc(uw(n),_d)}(e);if(Vl(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Dc(void 0,_d,!0),r.factory=()=>Hr(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===_d&&(t.value=KO,t.value=t.factory()),"object"==typeof t.value&&t.value&&function tk(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=gt(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Jm(n){const e=$i(n),t=null!==e?e.factory:dt(n);if(null!==t)return t;if(n instanceof St)throw new ft(204,!1);if(n instanceof Function)return function QO(n){const e=n.length;if(e>0)throw Sh(e,"?"),new ft(204,!1);const t=function nr(n){return n&&(n[Za]||n[Is])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new ft(204,!1)}function uw(n,e,t){let i;if(Vl(n)){const r=gt(n);return dt(r)||Jm(r)}if(Xm(n))i=()=>gt(n.useValue);else if(function sw(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Hr(n.deps||[]));else if(function ow(n){return!(!n||!n.useExisting)}(n))i=()=>st(gt(n.useExisting));else{const r=gt(n&&(n.useClass||n.provide));if(!function ek(n){return!!n.deps}(n))return dt(r)||Jm(r);i=()=>new r(...Hr(n.deps))}return i}function Dc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function e_(n,e){for(const t of n)Array.isArray(t)?e_(t,e):t&&gu(t)?e_(t.\u0275providers,e):e(t)}class ik{}class lw{}class ok{resolveComponentFactory(e){throw function rk(n){const e=Error(`No component factory found for ${_t(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Mc=(()=>{class n{}return n.NULL=new ok,n})();function sk(){return Pc(Cr(),at())}function Pc(n,e){return new br(Zi(n,e))}let br=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=sk,n})();function ak(n){return n instanceof br?n.nativeElement:n}class kh{}let Hl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function uk(){const n=at(),t=s(Cr().index,n);return(yi(t)?t:n)[on]}(),n})(),lk=(()=>{class n{}return n.\u0275prov=Mt({token:n,providedIn:"root",factory:()=>null}),n})();class Ic{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ck=new Ic("15.2.9"),t_={},n_="ngOriginalError";function i_(n){return n[n_]}class ju{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&i_(e);for(;t&&i_(t);)t=i_(t);return t||null}}function fw(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}const dw="ng-template";function wk(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const u=n[i++];if(t&&"class"===o&&-1!==fw(u.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function pw(n){return 4===n.type&&n.value!==dw}function Ck(n,e,t){return e===(4!==n.type||t?n.value:dw)}function Ek(n,e,t){let i=4;const r=n.attrs||[],o=function Dk(n){for(let e=0;e<n.length;e++)if(j1(n[e]))return e;return n.length}(r);let u=!1;for(let c=0;c<e.length;c++){const f=e[c];if("number"!=typeof f){if(!u)if(4&i){if(i=2|1&i,""!==f&&!Ck(n,f,t)||""===f&&1===e.length){if(Ja(i))return!1;u=!0}}else{const d=8&i?f:e[++c];if(8&i&&null!==n.attrs){if(!wk(n.attrs,d,t)){if(Ja(i))return!1;u=!0}continue}const y=xk(8&i?"class":f,r,pw(n),t);if(-1===y){if(Ja(i))return!1;u=!0;continue}if(""!==d){let b;b=y>o?"":r[y+1].toLowerCase();const D=8&i?b:null;if(D&&-1!==fw(D,d,0)||2&i&&d!==b){if(Ja(i))return!1;u=!0}}}}else{if(!u&&!Ja(i)&&!Ja(f))return!1;if(u&&Ja(f))continue;u=!1,i=f|1&i}}return Ja(i)||u}function Ja(n){return 0==(1&n)}function xk(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const u=e[r];if(u===n)return r;if(3===u||6===u)o=!0;else{if(1===u||2===u){let c=e[++r];for(;"string"==typeof c;)c=e[++r];continue}if(4===u)break;if(0===u){r+=4;continue}}r+=o?1:2}return-1}return function Mk(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function gw(n,e,t=!1){for(let i=0;i<e.length;i++)if(Ek(n,e[i],t))return!0;return!1}function Pk(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function mw(n,e){return n?":not("+e.trim()+")":e}function Ik(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let u=n[t];if("string"==typeof u)if(2&i){const c=n[++t];r+="["+u+(c.length>0?'="'+c+'"':"")+"]"}else 8&i?r+="."+u:4&i&&(r+=" "+u);else""!==r&&!Ja(u)&&(e+=mw(o,r),r=""),i=u,o=o||!Ja(i);t++}return""!==r&&(e+=mw(o,r)),e}const Sn={};function Gt(n){_w(en(),at(),Rs()+n,!1)}function _w(n,e,t,i){if(!i)if(3==(3&e[fn])){const o=n.preOrderCheckHooks;null!==o&&Jf(e,o,t)}else{const o=n.preOrderHooks;null!==o&&ed(e,o,0,t)}Ol(t)}function ww(n,e=null,t=null,i){const r=Cw(n,e,t,i);return r.resolveInjectorInitializers(),r}function Cw(n,e=null,t=null,i,r=new Set){const o=[t||Fn,ZO(n)];return i=i||("object"==typeof n?void 0:_t(n)),new aw(o,e||yd(),i||null,r)}let Ns=(()=>{class n{static create(t,i){if(Array.isArray(t))return ww({name:""},i,t,"");{const r=t.name??"";return ww({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=Js,n.NULL=new nw,n.\u0275prov=Mt({token:n,providedIn:"any",factory:()=>st(ew)}),n.__NG_ELEMENT_ID__=-1,n})();function Je(n,e=gn.Default){const t=at();return null===t?st(n,e):K1(Cr(),t,gt(n),e)}function bd(){throw new Error("invalid")}function Iw(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const u=n.data[o];um(t[i]),u.contentQueries(2,e[o],o)}}}function wd(n,e,t,i,r,o,u,c,f,d,m){const y=e.blueprint.slice();return y[ls]=r,y[fn]=76|i,(null!==m||n&&1024&n[fn])&&(y[fn]|=1024),T(y),y[zn]=y[gr]=n,y[Ri]=t,y[ea]=u||n&&n[ea],y[on]=c||n&&n[on],y[ws]=f||n&&n[ws]||null,y[Ya]=d||n&&n[Ya]||null,y[Ln]=o,y[Ji]=function UL(){return jL++}(),y[cs]=m,y[ho]=2==e.type?n[ho]:y,y}function Lc(n,e,t,i,r){let o=n.data[e];if(null===o)o=function u_(n,e,t,i,r){const o=dc(),u=rm(),f=n.data[e]=function tR(n,e,t,i,r,o){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=f),null!==o&&(u?null==o.child&&null!==f.parent&&(o.child=f):null===o.next&&(o.next=f,f.prev=o)),f}(n,e,t,i,r),function YA(){return le.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const u=function bh(){const n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===u?-1:u.injectorIndex}return bu(o,!0),o}function Rh(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function l_(n,e,t){lm(e);try{const i=n.viewQuery;null!==i&&y_(1,i,t);const r=n.template;null!==r&&Tw(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Iw(n,e),n.staticViewQueries&&y_(2,n.viewQuery,t);const o=n.components;null!==o&&function Qk(n,e){for(let t=0;t<e.length;t++)wR(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[fn]&=-5,cm()}}function Cd(n,e,t,i){const r=e[fn];if(128!=(128&r)){lm(e);try{T(e),function A1(n){return le.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Tw(n,e,t,2,i);const u=3==(3&r);if(u){const d=n.preOrderCheckHooks;null!==d&&Jf(e,d,null)}else{const d=n.preOrderHooks;null!==d&&ed(e,d,0,null),hm(e,0)}if(function vR(n){for(let e=Lm(n);null!==e;e=Om(e)){if(!e[ta])continue;const t=e[er];for(let i=0;i<t.length;i++){const r=t[i];512&r[fn]||G(r[zn],1),r[fn]|=512}}}(e),function yR(n){for(let e=Lm(n);null!==e;e=Om(e))for(let t=fo;t<e.length;t++){const i=e[t],r=i[kt];h(i)&&Cd(r,i,r.template,i[Ri])}}(e),null!==n.contentQueries&&Iw(n,e),u){const d=n.contentCheckHooks;null!==d&&Jf(e,d)}else{const d=n.contentHooks;null!==d&&ed(e,d,1),hm(e,1)}!function Xk(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Ol(~r);else{const o=r,u=t[++i],c=t[++i];XA(u,o),c(2,e[o])}}}finally{Ol(-1)}}(n,e);const c=n.components;null!==c&&function Kk(n,e){for(let t=0;t<e.length;t++)bR(n,e[t])}(e,c);const f=n.viewQuery;if(null!==f&&y_(2,f,i),u){const d=n.viewCheckHooks;null!==d&&Jf(e,d)}else{const d=n.viewHooks;null!==d&&ed(e,d,2),hm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[fn]&=-41,512&e[fn]&&(e[fn]&=-513,G(e[zn],-1))}finally{cm()}}}function Tw(n,e,t,i,r){const o=Rs(),u=2&i;try{Ol(-1),u&&e.length>Pn&&_w(n,e,Pn,!1),qt(u?2:0,r),t(i,r)}finally{Ol(o),qt(u?3:1,r)}}function c_(n,e,t){if(Jo(e)){const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const u=n.data[o];u.contentQueries&&u.contentQueries(1,t[o],o)}}}function h_(n,e,t){Ct()&&(function uR(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;As(t)&&function gR(n,e,t){const i=Zi(e,n),r=Aw(t),o=n[ea],u=Ed(n,wd(n,r,null,t.onPush?32:16,i,e,o,o.createRenderer(i,t),null,null,null));n[e.index]=u}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||rd(t,e),Es(i,e);const u=t.initialInputs;for(let c=r;c<o;c++){const f=n.data[c],d=kl(e,n,c,t);Es(d,e),null!==u&&mR(0,c-r,d,f,0,u),Br(f)&&(s(t.index,e)[Ri]=kl(e,n,c,t))}}(n,e,t,Zi(t,e)),64==(64&t.flags)&&Nw(n,e,t))}function f_(n,e,t=Zi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const u=i[o+1],c=-1===u?t(e,n):n[u];n[r++]=c}}}function Aw(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=d_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function d_(n,e,t,i,r,o,u,c,f,d){const m=Pn+i,y=m+r,b=function Jk(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Sn);return t}(m,y),D="function"==typeof d?d():d;return b[kt]={type:n,blueprint:b,template:t,queries:null,viewQuery:c,declTNode:e,data:b.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:f,consts:D,incompleteFirstPass:!1}}function Lw(n,e,t,i){const r=Bw(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&Vw(n).push(i,r.length-1))}function Ow(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?kw(t,e,r,o):i.hasOwnProperty(r)&&kw(t,e,i[r],o)}return t}function kw(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function ba(n,e,t,i,r,o,u,c){const f=Zi(e,t);let m,d=e.inputs;!c&&null!=d&&(m=d[i])?(v_(n,t,m,i,r),As(e)&&function rR(n,e){const t=s(e,n);16&t[fn]||(t[fn]|=32)}(t,e.index)):3&e.type&&(i=function iR(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=u?u(r,e.value||"",i):r,o.setProperty(f,i,r))}function p_(n,e,t,i){if(Ct()){const r=null===i?null:{"":-1},o=function cR(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const u=t[o];if(gw(e,u.selectors,!1))if(i||(i=[]),Br(u))if(null!==u.findHostDirectiveDefs){const c=[];r=r||new Map,u.findHostDirectiveDefs(u,c,r),i.unshift(...c,u),g_(n,e,c.length)}else i.unshift(u),g_(n,e,0);else r=r||new Map,u.findHostDirectiveDefs?.(u,i,r),i.push(u)}return null===i?null:[i,r]}(n,t);let u,c;null===o?u=c=null:[u,c]=o,null!==u&&Rw(n,e,t,u,r,c),r&&function hR(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new ft(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=Ch(t.mergedAttrs,t.attrs)}function Rw(n,e,t,i,r,o){for(let d=0;d<i.length;d++)_m(rd(t,e),n,i[d].type);!function dR(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let d=0;d<i.length;d++){const m=i[d];m.providersResolver&&m.providersResolver(m)}let u=!1,c=!1,f=Rh(n,e,i.length,null);for(let d=0;d<i.length;d++){const m=i[d];t.mergedAttrs=Ch(t.mergedAttrs,m.hostAttrs),pR(n,t,e,f,m),fR(f,m,r),null!==m.contentQueries&&(t.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(t.flags|=64);const y=m.type.prototype;!u&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),u=!0),!c&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),c=!0),f++}!function nR(n,e,t){const r=e.directiveEnd,o=n.data,u=e.attrs,c=[];let f=null,d=null;for(let m=e.directiveStart;m<r;m++){const y=o[m],b=t?t.get(y):null,K=b?b.outputs:null;f=Ow(y.inputs,m,f,b?b.inputs:null),d=Ow(y.outputs,m,d,K);const ee=null===f||null===u||pw(e)?null:_R(f,m,u);c.push(ee)}null!==f&&(f.hasOwnProperty("class")&&(e.flags|=8),f.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=f,e.outputs=d}(n,t,o)}function Nw(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,u=function KA(){return le.lFrame.currentDirectiveIndex}();try{Ol(o);for(let c=i;c<r;c++){const f=n.data[c],d=e[c];sm(c),(null!==f.hostBindings||0!==f.hostVars||null!==f.hostAttrs)&&lR(f,d)}}finally{Ol(-1),sm(u)}}function lR(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function g_(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function fR(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Br(e)&&(t[""]=n)}}function pR(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=dt(r.type)),u=new wh(o,Br(r),Je);n.blueprint[i]=u,t[i]=u,function sR(n,e,t,i,r){const o=r.hostBindings;if(o){let u=n.hostBindingOpCodes;null===u&&(u=n.hostBindingOpCodes=[]);const c=~e.index;(function aR(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(u)!=c&&u.push(c),u.push(t,i,o)}}(n,e,i,Rh(n,t,r.hostVars,Sn),r)}function Eu(n,e,t,i,r,o){const u=Zi(n,e);!function m_(n,e,t,i,r,o,u){if(null==o)n.removeAttribute(e,r,t);else{const c=null==u?cn(o):u(o,i||"",r);n.setAttribute(e,r,c,t)}}(e[on],u,o,n.value,t,i,r)}function mR(n,e,t,i,r,o){const u=o[e];if(null!==u){const c=i.setInput;for(let f=0;f<u.length;){const d=u[f++],m=u[f++],y=u[f++];null!==c?i.setInput(t,y,d,m):t[m]=y}}}function _R(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const u=n[o];for(let c=0;c<u.length;c+=2)if(u[c]===e){i.push(o,u[c+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Fw(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null]}function bR(n,e){const t=s(e,n);if(h(t)){const i=t[kt];48&t[fn]?Cd(i,t,i.template,t[Ri]):t[Ro]>0&&__(t)}}function __(n){for(let i=Lm(n);null!==i;i=Om(i))for(let r=fo;r<i.length;r++){const o=i[r];if(h(o))if(512&o[fn]){const u=o[kt];Cd(u,o,u.template,o[Ri])}else o[Ro]>0&&__(o)}const t=n[kt].components;if(null!==t)for(let i=0;i<t.length;i++){const r=s(t[i],n);h(r)&&r[Ro]>0&&__(r)}}function wR(n,e){const t=s(e,n),i=t[kt];(function CR(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),l_(i,t,t[Ri])}function Ed(n,e){return n[or]?n[Qo][Ii]=e:n[or]=e,n[Qo]=e,e}function xd(n){for(;n;){n[fn]|=32;const e=Th(n);if(io(n)&&!e)return n;n=e}return null}function Sd(n,e,t,i=!0){const r=e[ea];r.begin&&r.begin();try{Cd(n,e,n.template,t)}catch(u){throw i&&Hw(e,u),u}finally{r.end&&r.end()}}function y_(n,e,t){um(0),e(n,t)}function Bw(n){return n[$r]||(n[$r]=[])}function Vw(n){return n.cleanup||(n.cleanup=[])}function zw(n,e,t){return(null===n||Br(n))&&(t=function vi(n){for(;Array.isArray(n);){if("object"==typeof n[hs])return n;n=n[ls]}return null}(t[e.index])),t[on]}function Hw(n,e){const t=n[Ya],i=t?t.get(ju,null):null;i&&i.handleError(e)}function v_(n,e,t,i,r){for(let o=0;o<t.length;){const u=t[o++],c=t[o++],f=e[u],d=n.data[u];null!==d.setInput?d.setInput(f,r,i,c):f[c]=r}}function Gu(n,e,t){const i=Ra(e,n);!function Sb(n,e,t){n.setValue(e,t)}(n[on],i,t)}function Dd(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let u=0;u<e.length;u++){const c=e[u];"number"==typeof c?o=c:1==o?r=tr(r,c):2==o&&(i=tr(i,c+": "+e[++u]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Md(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&i.push(ar(o)),_r(o))for(let c=fo;c<o.length;c++){const f=o[c],d=f[kt].firstChild;null!==d&&Md(f[kt],f,d,i)}const u=t.type;if(8&u)Md(n,e,t.child,i);else if(32&u){const c=Am(t,e);let f;for(;f=c();)i.push(f)}else if(16&u){const c=Nb(e,t);if(Array.isArray(c))i.push(...c);else{const f=Th(e[ho]);Md(f[kt],f,c,i,!0)}}t=r?t.projectionNext:t.next}return i}class Nh{get rootNodes(){const e=this._lView,t=e[kt];return Md(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ri]}set context(e){this._lView[Ri]=e}get destroyed(){return 128==(128&this._lView[fn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[zn];if(_r(e)){const t=e[Xa],i=t?t.indexOf(this):-1;i>-1&&(Nm(e,i),sd(t,i))}this._attachedToViewContainer=!1}Mb(this._lView[kt],this._lView)}onDestroy(e){Lw(this._lView[kt],this._lView,null,e)}markForCheck(){xd(this._cdRefInjectingView||this._lView)}detach(){this._lView[fn]&=-65}reattach(){this._lView[fn]|=64}detectChanges(){Sd(this._lView[kt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ft(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rO(n,e){Ah(n,e,e[on],2,null,null)}(this._lView[kt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ft(902,!1);this._appRef=e}}class ER extends Nh{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Sd(e[kt],e,e[Ri],!1)}checkNoChanges(){}get context(){return null}}class jw extends Mc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=_n(e);return new Fh(t,this.ngModule)}}function Uw(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class SR{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=mn(i);const r=this.injector.get(e,t_,i);return r!==t_||t===t_?r:this.parentInjector.get(e,t,i)}}class Fh extends lw{get inputs(){return Uw(this.componentDef.inputs)}get outputs(){return Uw(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Tk(n){return n.map(Ik).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof zl?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const u=o?new SR(e,o):e,c=u.get(kh,null);if(null===c)throw new ft(407,!1);const f=u.get(lk,null),d=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=i?function eR(n,e,t){return n.selectRootElement(e,t===hn.ShadowDom)}(d,i,this.componentDef.encapsulation):Rm(d,m,function xR(n){const e=n.toLowerCase();return"svg"===e?Os:"math"===e?"math":null}(m)),b=this.componentDef.onPush?288:272,D=d_(0,null,null,1,0,null,null,null,null,null),K=wd(null,D,null,b,null,null,c,d,f,u,null);let ee,xe;lm(K);try{const _e=this.componentDef;let de,me=null;_e.findHostDirectiveDefs?(de=[],me=new Map,_e.findHostDirectiveDefs(_e,de,me),de.push(_e)):de=[_e];const Ne=function MR(n,e){const t=n[kt],i=Pn;return n[i]=e,Lc(t,i,2,"#host",null)}(K,y),Be=function PR(n,e,t,i,r,o,u,c){const f=r[kt];!function IR(n,e,t,i){for(const r of n)e.mergedAttrs=Ch(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Dd(e,e.mergedAttrs,!0),null!==t&&Vb(i,t,e))}(i,n,e,u);const d=o.createRenderer(e,t),m=wd(r,Aw(t),null,t.onPush?32:16,r[n.index],n,o,d,c||null,null,null);return f.firstCreatePass&&g_(f,n,i.length-1),Ed(r,m),r[n.index]=m}(Ne,y,_e,de,K,c,d);xe=Ll(D,Pn),y&&function AR(n,e,t,i){if(i)dm(n,t,["ng-version",ck.full]);else{const{attrs:r,classes:o}=function Ak(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!Ja(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&dm(n,t,r),o&&o.length>0&&Bb(n,t,o.join(" "))}}(d,_e,y,i),void 0!==t&&function LR(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(xe,this.ngContentSelectors,t),ee=function TR(n,e,t,i,r,o){const u=Cr(),c=r[kt],f=Zi(u,r);Rw(c,r,u,t,null,i);for(let m=0;m<t.length;m++)Es(kl(r,c,u.directiveStart+m,u),r);Nw(c,r,u),f&&Es(f,r);const d=kl(r,c,u.directiveStart+u.componentOffset,u);if(n[Ri]=r[Ri]=d,null!==o)for(const m of o)m(d,e);return c_(c,u,n),d}(Be,_e,de,me,K,[OR]),l_(D,K,null)}finally{cm()}return new DR(this.componentType,ee,Pc(xe,K),K,xe)}}class DR extends ik{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new ER(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const o=this._rootLView;v_(o[kt],o,r,e,t),xd(s(this._tNode.index,o))}}get injector(){return new mc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function OR(){const n=Cr();Qf(at()[kt],n)}function On(n){let e=function Gw(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Br(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ft(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const u=n;u.inputs=b_(n.inputs),u.declaredInputs=b_(n.declaredInputs),u.outputs=b_(n.outputs);const c=r.hostBindings;c&&FR(n,c);const f=r.viewQuery,d=r.contentQueries;if(f&&RR(n,f),d&&NR(n,d),pu(n.inputs,r.inputs),pu(n.declaredInputs,r.declaredInputs),pu(n.outputs,r.outputs),Br(r)&&r.data.animation){const m=n.data;m.animation=(m.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let u=0;u<o.length;u++){const c=o[u];c&&c.ngInherit&&c(n),c===On&&(t=!1)}}e=Object.getPrototypeOf(e)}!function kR(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ch(r.hostAttrs,t=Ch(t,r.hostAttrs))}}(i)}function b_(n){return n===pr?{}:n===Fn?[]:n}function RR(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function NR(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function FR(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function Pd(n){return!!w_(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function w_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function xs(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function jl(n,e,t,i){const r=xs(n,e,t);return xs(n,e+1,i)||r}function So(n,e,t,i){const r=at();return xs(r,pc(),e)&&(en(),Eu(Zr(),r,n,e,t,i)),So}function Fc(n,e,t,i,r,o,u,c,f,d){const y=function Fa(n,e,t,i,r,o){const u=jl(n,e,t,i);return jl(n,e+2,r,o)||u}(n,function Vu(){return le.lFrame.bindingIndex}(),t,r,u,f);return zu(4),y?e+cn(t)+i+cn(r)+o+cn(u)+c+cn(f)+d:Sn}function Vi(n,e,t,i,r,o,u,c){const f=at(),d=en(),m=n+Pn,y=d.firstCreatePass?function WR(n,e,t,i,r,o,u,c,f){const d=e.consts,m=Lc(e,n,4,u||null,_(d,c));p_(e,t,m,_(d,f)),Qf(e,m);const y=m.tView=d_(2,m,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d);return null!==e.queries&&(e.queries.template(e,m),y.queries=e.queries.embeddedTView(m)),m}(m,d,f,e,t,i,r,o,u):d.data[m];bu(y,!1);const b=f[on].createComment("");hd(d,f,b,y),Es(b,f),Ed(f,f[m]=Fw(b,f,b,y)),no(y)&&h_(d,f,y),null!=u&&f_(f,y,c)}function Td(n){return Cs(function ZA(){return le.lFrame.contextLView}(),Pn+n)}function Xt(n,e,t){const i=at();return xs(i,pc(),e)&&ba(en(),Zr(),i,n,e,i[on],t,!1),Xt}function C_(n,e,t,i,r){const u=r?"class":"style";v_(n,t,e.inputs[u],u,i)}function Ft(n,e,t,i){const r=at(),o=en(),u=Pn+n,c=r[on],f=o.firstCreatePass?function YR(n,e,t,i,r,o){const u=e.consts,f=Lc(e,n,2,i,_(u,r));return p_(e,t,f,_(u,o)),null!==f.attrs&&Dd(f,f.attrs,!1),null!==f.mergedAttrs&&Dd(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(u,o,r,e,t,i):o.data[u],d=r[u]=Rm(c,e,function iL(){return le.lFrame.currentNamespace}()),m=no(f);return bu(f,!0),Vb(c,d,f),32!=(32&f.flags)&&hd(o,r,d,f),0===function nt(){return le.lFrame.elementDepthCount}()&&Es(d,r),function rt(){le.lFrame.elementDepthCount++}(),m&&(h_(o,r,f),c_(o,f,r)),null!==i&&f_(r,f),Ft}function zt(){let n=Cr();rm()?om():(n=n.parent,bu(n,!1));const e=n;!function bt(){le.lFrame.elementDepthCount--}();const t=en();return t.firstCreatePass&&(Qf(t,n),Jo(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function aL(n){return 0!=(8&n.flags)}(e)&&C_(t,e,at(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function uL(n){return 0!=(16&n.flags)}(e)&&C_(t,e,at(),e.stylesWithoutHost,!1),zt}function es(n,e,t,i){return Ft(n,e,t,i),zt(),es}function hl(n,e,t){const i=at(),r=en(),o=n+Pn,u=r.firstCreatePass?function XR(n,e,t,i,r){const o=e.consts,u=_(o,i),c=Lc(e,n,8,"ng-container",u);return null!==u&&Dd(c,u,!0),p_(e,t,c,_(o,r)),null!==e.queries&&e.queries.elementStart(e,c),c}(o,r,i,e,t):r.data[o];bu(u,!0);const c=i[o]=i[on].createComment("");return hd(r,i,c,u),Es(c,i),no(u)&&(h_(r,i,u),c_(r,u,i)),null!=t&&f_(i,u),hl}function fl(){let n=Cr();const e=en();return rm()?om():(n=n.parent,bu(n,!1)),e.firstCreatePass&&(Qf(e,n),Jo(n)&&e.queries.elementEnd(n)),fl}function Ba(){return at()}function Ad(n){return!!n&&"function"==typeof n.then}function rC(n){return!!n&&"function"==typeof n.subscribe}const oC=rC;function kn(n,e,t,i){const r=at(),o=en(),u=Cr();return sC(o,r,r[on],u,n,e,i),kn}function E_(n,e){const t=Cr(),i=at(),r=en();return sC(r,i,zw(am(r.data),t,i),t,n,e),E_}function sC(n,e,t,i,r,o,u){const c=no(i),d=n.firstCreatePass&&Vw(n),m=e[Ri],y=Bw(e);let b=!0;if(3&i.type||u){const ee=Zi(i,e),xe=u?u(ee):ee,_e=y.length,de=u?Ne=>u(ar(Ne[i.index])):i.index;let me=null;if(!u&&c&&(me=function KR(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const u=r[o];if(u===t&&r[o+1]===i){const c=e[$r],f=r[o+2];return c.length>f?c[f]:null}"string"==typeof u&&(o+=2)}return null}(n,e,r,i.index)),null!==me)(me.__ngLastListenerFn__||me).__ngNextListenerFn__=o,me.__ngLastListenerFn__=o,b=!1;else{o=uC(i,e,m,o,!1);const Ne=t.listen(xe,r,o);y.push(o,Ne),d&&d.push(r,de,_e,_e+1)}}else o=uC(i,e,m,o,!1);const D=i.outputs;let K;if(b&&null!==D&&(K=D[r])){const ee=K.length;if(ee)for(let xe=0;xe<ee;xe+=2){const Be=e[K[xe]][K[xe+1]].subscribe(o),We=y.length;y.push(o,Be),d&&d.push(r,i.index,We,-(We+1))}}}function aC(n,e,t,i){try{return qt(6,e,t),!1!==t(i)}catch(r){return Hw(n,r),!1}finally{qt(7,e,t)}}function uC(n,e,t,i,r){return function o(u){if(u===Function)return i;xd(n.componentOffset>-1?s(n.index,e):e);let f=aC(e,t,i,u),d=o.__ngNextListenerFn__;for(;d;)f=aC(e,t,d,u)&&f,d=d.__ngNextListenerFn__;return r&&!1===f&&(u.preventDefault(),u.returnValue=!1),f}}function Li(n=1){return function JA(n){return(le.lFrame.contextLView=function eL(n,e){for(;n>0;)e=e[gr],n--;return e}(n,le.lFrame.contextLView))[Ri]}(n)}function QR(n,e){let t=null;const i=function Sk(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?gw(n,o,!0):Pk(i,o))return r}else t=r}return t}function Vh(n){const e=at()[ho][Ln];if(!e.projection){const i=e.projection=Sh(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const u=n?QR(o,n):0;null!==u&&(r[u]?r[u].projectionNext=o:i[u]=o,r[u]=o),o=o.next}}}function Va(n,e=0,t){const i=at(),r=en(),o=Lc(r,Pn+n,16,null,t||null);null===o.projection&&(o.projection=e),om(),32!=(32&o.flags)&&function fO(n,e,t){Fb(e[on],0,e,t,Pb(n,t,e),Lb(t.parent||e[Ln],t,e))}(r,i,o)}function Ld(n,e){return n<<17|e<<2}function dl(n){return n>>17&32767}function S_(n){return 2|n}function Ul(n){return(131068&n)>>2}function D_(n,e){return-131069&n|e<<2}function M_(n){return 1|n}function yC(n,e,t,i,r){const o=n[t+1],u=null===e;let c=i?dl(o):Ul(o),f=!1;for(;0!==c&&(!1===f||u);){const m=n[c+1];rN(n[c],e)&&(f=!0,n[c+1]=i?M_(m):S_(m)),c=i?dl(m):Ul(m)}f&&(n[t+1]=i?S_(o):M_(o))}function rN(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Cc(n,e)>=0}function P_(n,e,t){return eu(n,e,t,!1),P_}function Ss(n,e){return eu(n,e,null,!0),Ss}function eu(n,e,t,i){const r=at(),o=en(),u=zu(2);o.firstUpdatePass&&function DC(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Rs()],u=function SC(n,e){return e>=n.expandoStartIndex}(n,t);(function TC(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!u&&(e=!1),e=function dN(n,e,t,i){const r=am(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=zh(t=I_(null,n,e,t,i),e.attrs,i),o=null);else{const u=e.directiveStylingLast;if(-1===u||n[u]!==r)if(t=I_(r,n,e,t,i),null===o){let f=function pN(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Ul(i))return n[dl(i)]}(n,e,i);void 0!==f&&Array.isArray(f)&&(f=I_(null,n,e,f[1],i),f=zh(f,e.attrs,i),function gN(n,e,t,i){n[dl(t?e.classBindings:e.styleBindings)]=i}(n,e,i,f))}else o=function mN(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=zh(i,n[o].hostAttrs,t);return zh(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function nN(n,e,t,i,r,o){let u=o?e.classBindings:e.styleBindings,c=dl(u),f=Ul(u);n[i]=t;let m,d=!1;if(Array.isArray(t)?(m=t[1],(null===m||Cc(t,m)>0)&&(d=!0)):m=t,r)if(0!==f){const b=dl(n[c+1]);n[i+1]=Ld(b,c),0!==b&&(n[b+1]=D_(n[b+1],i)),n[c+1]=function eN(n,e){return 131071&n|e<<17}(n[c+1],i)}else n[i+1]=Ld(c,0),0!==c&&(n[c+1]=D_(n[c+1],i)),c=i;else n[i+1]=Ld(f,0),0===c?c=i:n[f+1]=D_(n[f+1],i),f=i;d&&(n[i+1]=S_(n[i+1])),yC(n,m,i,!0),yC(n,m,i,!1),function iN(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Cc(o,e)>=0&&(t[i+1]=M_(t[i+1]))}(e,m,n,i,o),u=Ld(c,f),o?e.classBindings=u:e.styleBindings=u}(r,o,e,t,u,i)}}(o,n,u,i),e!==Sn&&xs(r,u,e)&&function PC(n,e,t,i,r,o,u,c){if(!(3&e.type))return;const f=n.data,d=f[c+1],m=function tN(n){return 1==(1&n)}(d)?IC(f,e,t,r,Ul(d),u):void 0;Od(m)||(Od(o)||function JR(n){return 2==(2&n)}(d)&&(o=IC(f,null,t,r,c,u)),function pO(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:ia.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ia.Important),n.setStyle(t,i,r,o))}}(i,u,Ra(Rs(),t),r,o))}(o,o.data[Rs()],r,r[on],n,r[u+1]=function bN(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=_t(va(n)))),n}(e,t),i,u)}function I_(n,e,t,i,r){let o=null;const u=t.directiveEnd;let c=t.directiveStylingLast;for(-1===c?c=t.directiveStart:c++;c<u&&(o=e[c],i=zh(i,o.hostAttrs,r),o!==n);)c++;return null!==n&&(t.directiveStylingLast=c),i}function zh(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const u=e[o];"number"==typeof u?r=u:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ya(n,u,!!t||e[++o]))}return void 0===n?null:n}function IC(n,e,t,i,r,o){const u=null===e;let c;for(;r>0;){const f=n[r],d=Array.isArray(f),m=d?f[1]:f,y=null===m;let b=t[r+1];b===Sn&&(b=y?Fn:void 0);let D=y?wm(b,i):m===i?b:void 0;if(d&&!Od(D)&&(D=wm(f,i)),Od(D)&&(c=D,u))return c;const K=n[r+1];r=u?dl(K):Ul(K)}if(null!==e){let f=o?e.residualClasses:e.residualStyles;null!=f&&(c=wm(f,i))}return c}function Od(n){return void 0!==n}function Hn(n,e=""){const t=at(),i=en(),r=n+Pn,o=i.firstCreatePass?Lc(i,r,1,e,null):i.data[r],u=t[r]=function km(n,e){return n.createText(e)}(t[on],e);hd(i,t,u,o),bu(o,!1)}function Gl(n){return nu("",n,""),Gl}function nu(n,e,t){const i=at(),r=function kc(n,e,t,i){return xs(n,pc(),t)?e+cn(t)+i:Sn}(i,n,e,t);return r!==Sn&&Gu(i,Rs(),r),nu}function T_(n,e,t,i,r,o,u,c,f){const d=at(),m=Fc(d,n,e,t,i,r,o,u,c,f);return m!==Sn&&Gu(d,Rs(),m),T_}function Uc(n,e,t){const i=at();return xs(i,pc(),e)&&ba(en(),Zr(),i,n,e,i[on],t,!0),Uc}function A_(n,e,t){const i=at();if(xs(i,pc(),e)){const o=en(),u=Zr();ba(o,u,i,n,e,zw(am(o.data),u,i),t,!0)}return A_}const qc="en-US";let YC=qc;function k_(n,e,t,i,r){if(n=gt(n),Array.isArray(n))for(let o=0;o<n.length;o++)k_(n[o],e,t,i,r);else{const o=en(),u=at();let c=Vl(n)?n:gt(n.provide),f=uw(n);const d=Cr(),m=1048575&d.providerIndexes,y=d.directiveStart,b=d.providerIndexes>>20;if(Vl(n)||!n.multi){const D=new wh(f,r,Je),K=N_(c,e,r?m:m+b,y);-1===K?(_m(rd(d,u),o,c),R_(o,n,e.length),e.push(c),d.directiveStart++,d.directiveEnd++,r&&(d.providerIndexes+=1048576),t.push(D),u.push(D)):(t[K]=D,u[K]=D)}else{const D=N_(c,e,m+b,y),K=N_(c,e,m,m+b),xe=K>=0&&t[K];if(r&&!xe||!r&&!(D>=0&&t[D])){_m(rd(d,u),o,c);const _e=function BF(n,e,t,i,r){const o=new wh(n,t,Je);return o.multi=[],o.index=e,o.componentProviders=0,bE(o,r,i&&!t),o}(r?FF:NF,t.length,r,i,f);!r&&xe&&(t[K].providerFactory=_e),R_(o,n,e.length,0),e.push(c),d.directiveStart++,d.directiveEnd++,r&&(d.providerIndexes+=1048576),t.push(_e),u.push(_e)}else R_(o,n,D>-1?D:K,bE(t[r?K:D],f,!r&&i));!r&&i&&xe&&t[K].componentProviders++}}}function R_(n,e,t,i){const r=Vl(e),o=function XO(n){return!!n.useClass}(e);if(r||o){const f=(o?gt(e.useClass):e).prototype.ngOnDestroy;if(f){const d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const m=d.indexOf(t);-1===m?d.push(t,[i,f]):d[m+1].push(i,f)}else d.push(t,f)}}}function bE(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function N_(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function NF(n,e,t,i){return F_(this.multi,[])}function FF(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const u=this.providerFactory.componentProviders,c=kl(t,t[kt],this.providerFactory.index,i);o=c.slice(0,u),F_(r,o);for(let f=u;f<c.length;f++)o.push(c[f])}else o=[],F_(r,o);return o}function F_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ur(n,e=[]){return t=>{t.providersResolver=(i,r)=>function RF(n,e,t){const i=en();if(i.firstCreatePass){const r=Br(n);k_(t,i.data,i.blueprint,r,!0),k_(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class $c{}class VF{}class wE extends $c{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jw(this);const i=function Fi(n,e){const t=n[vs]||null;if(!t&&!0===e)throw new Error(`Type ${_t(n)} does not have '\u0275mod' property.`);return t}(e);this._bootstrapComponents=function Uu(n){return n instanceof Function?n():n}(i.bootstrap),this._r3Injector=Cw(e,t,[{provide:$c,useValue:this},{provide:Mc,useValue:this.componentFactoryResolver}],_t(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class B_ extends VF{constructor(e){super(),this.moduleType=e}create(e){return new wE(this.moduleType,e)}}function TE(n,e,t,i,r,o){const u=e+t;return xs(n,u,r)?function xu(n,e,t){return n[e]=t}(n,u+1,o?i.call(o,r):i(r)):function $h(n,e){const t=n[e];return t===Sn?void 0:t}(n,u+1)}function NE(n,e,t){const i=n+Pn,r=at(),o=Cs(r,i);return function Wh(n,e){return n[kt].data[e].pure}(r,i)?TE(r,ks(),e,o.transform,t,o):o.transform(t)}function z_(n){return e=>{setTimeout(n,void 0,e)}}const lr=class d2 extends pe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),u=i;if(e&&"object"==typeof e){const f=e;r=f.next?.bind(f),o=f.error?.bind(f),u=f.complete?.bind(f)}this.__isAsync&&(o=z_(o),r&&(r=z_(r)),u&&(u=z_(u)));const c=super.subscribe({next:r,error:o,complete:u});return e instanceof E&&e.add(c),c}};function p2(){return this._results[Symbol.iterator]()}class H_{get changes(){return this._changes||(this._changes=new lr)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=H_.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=p2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function Na(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function yL(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Mu=(()=>{class n{}return n.__NG_ELEMENT_ID__=_2,n})();const g2=Mu,m2=class extends g2{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tView,r=wd(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[Ir]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[Bi];return null!==u&&(r[Bi]=u.createEmbeddedView(i)),l_(i,r,e),new Nh(r)}};function _2(){return Bd(Cr(),at())}function Bd(n,e){return 4&n.type?new m2(e,n,Pc(n,e)):null}let za=(()=>{class n{}return n.__NG_ELEMENT_ID__=y2,n})();function y2(){return VE(Cr(),at())}const v2=za,FE=class extends v2{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Pc(this._hostTNode,this._hostLView)}get injector(){return new mc(this._hostTNode,this._hostLView)}get parentInjector(){const e=mm(this._hostTNode,this._hostLView);if(q1(e)){const t=nd(e,this._hostLView),i=td(e);return new mc(t[kt].data[i+8],t)}return new mc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=BE(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-fo}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const u=e.createEmbeddedView(t||{},o);return this.insert(u,r),u}createComponent(e,t,i,r,o){const u=e&&!function xh(n){return"function"==typeof n}(e);let c;if(u)c=t;else{const y=t||{};c=y.index,i=y.injector,r=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}const f=u?e:new Fh(_n(e)),d=i||this.parentInjector;if(!o&&null==f.ngModule){const b=(u?d:this.parentInjector).get(zl,null);b&&(o=b)}const m=f.create(d,r,void 0,o);return this.insert(m.hostView,c),m}insert(e,t){const i=e._lView,r=i[kt];if(function p(n){return _r(n[zn])}(i)){const m=this.indexOf(e);if(-1!==m)this.detach(m);else{const y=i[zn],b=new FE(y,y[Ln],y[zn]);b.detach(b.indexOf(e))}}const o=this._adjustIndex(t),u=this._lContainer;!function sO(n,e,t,i){const r=fo+i,o=t.length;i>0&&(t[r-1][Ii]=e),i<o-fo?(e[Ii]=t[r],ib(t,fo+i,e)):(t.push(e),e[Ii]=null),e[zn]=t;const u=e[Ir];null!==u&&t!==u&&function aO(n,e){const t=n[er];e[ho]!==e[zn][zn][ho]&&(n[ta]=!0),null===t?n[er]=[e]:t.push(e)}(u,e);const c=e[Bi];null!==c&&c.insertView(n),e[fn]|=64}(r,i,u,o);const c=Vm(o,u),f=i[on],d=cd(f,u[mr]);return null!==d&&function iO(n,e,t,i,r,o){i[ls]=r,i[Ln]=e,Ah(n,i,t,1,r,o)}(r,u[Ln],f,i,d,c),e.attachToViewContainerRef(),ib(j_(u),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=BE(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Nm(this._lContainer,t);i&&(sd(j_(this._lContainer),t),Mb(i[kt],i))}detach(e){const t=this._adjustIndex(e,-1),i=Nm(this._lContainer,t);return i&&null!=sd(j_(this._lContainer),t)?new Nh(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function BE(n){return n[Xa]}function j_(n){return n[Xa]||(n[Xa]=[])}function VE(n,e){let t;const i=e[n.index];if(_r(i))t=i;else{let r;if(8&n.type)r=ar(i);else{const o=e[on];r=o.createComment("");const u=Zi(n,e);Fl(o,cd(o,u),r,function hO(n,e){return n.nextSibling(e)}(o,u),!1)}e[n.index]=t=Fw(i,e,r,n),Ed(e,t)}return new FE(t,n,e)}class U_{constructor(e){this.queryList=e,this.matches=null}clone(){return new U_(this.queryList)}setDirty(){this.queryList.setDirty()}}class G_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const u=t.getByIndex(o);r.push(this.queries[u.indexInDeclarationView].clone())}return new G_(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==GE(e,t).matches&&this.queries[t].setDirty()}}class zE{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class q_{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new q_(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class $_{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new $_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,b2(t,o)),this.matchTNodeWithReadOption(e,t,od(t,e,o,!1,!1))}else i===Mu?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,od(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===br||r===za||r===Mu&&4&t.type)this.addMatch(t.index,-2);else{const o=od(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function b2(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function C2(n,e,t,i){return-1===t?function w2(n,e){return 11&n.type?Pc(n,e):4&n.type?Bd(n,e):null}(e,n):-2===t?function E2(n,e,t){return t===br?Pc(e,n):t===Mu?Bd(e,n):t===za?VE(e,n):void 0}(n,e,i):kl(n,n[kt],t,e)}function HE(n,e,t,i){const r=e[Bi].queries[i];if(null===r.matches){const o=n.data,u=t.matches,c=[];for(let f=0;f<u.length;f+=2){const d=u[f];c.push(d<0?null:C2(e,o[d],u[f+1],t.metadata.read))}r.matches=c}return r.matches}function W_(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const u=HE(n,e,r,t);for(let c=0;c<o.length;c+=2){const f=o[c];if(f>0)i.push(u[c/2]);else{const d=o[c+1],m=e[-f];for(let y=fo;y<m.length;y++){const b=m[y];b[Ir]===b[zn]&&W_(b[kt],b,d,i)}if(null!==m[er]){const y=m[er];for(let b=0;b<y.length;b++){const D=y[b];W_(D[kt],D,d,i)}}}}}return i}function Do(n){const e=at(),t=en(),i=O1();um(i+1);const r=GE(t,i);if(n.dirty&&function a(n){return 4==(4&n[fn])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?W_(t,e,i,[]):HE(t,e,r,i);n.reset(o,ak),n.notifyOnChanges()}return!0}return!1}function iu(n,e,t){const i=en();i.firstCreatePass&&(UE(i,new zE(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),jE(i,at(),e)}function Pu(n,e,t,i){const r=en();if(r.firstCreatePass){const o=Cr();UE(r,new zE(e,t,i),o.index),function S2(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}jE(r,at(),t)}function Mo(){return function x2(n,e){return n[Bi].queries[e].queryList}(at(),O1())}function jE(n,e,t){const i=new H_(4==(4&t));Lw(n,e,i,i.destroy),null===e[Bi]&&(e[Bi]=new G_),e[Bi].queries.push(new U_(i))}function UE(n,e,t){null===n.queries&&(n.queries=new q_),n.queries.track(new $_(e,t))}function GE(n,e){return n.queries.getByIndex(e)}function zd(...n){}const lx=new St("Application Initializer");let Hd=(()=>{class n{constructor(t){this.appInits=t,this.resolve=zd,this.reject=zd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Ad(o))t.push(o);else if(oC(o)){const u=new Promise((c,f)=>{o.subscribe({complete:c,error:f})});t.push(u)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(st(lx,8))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yc=new St("AppId",{providedIn:"root",factory:function cx(){return`${Q_()}${Q_()}${Q_()}`}});function Q_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hx=new St("Platform Initializer"),jd=new St("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Iu=new St("AnimationModuleType"),Tu=new St("LocaleId",{providedIn:"root",factory:()=>Yo(Tu,gn.Optional|gn.SkipSelf)||function $2(){return typeof $localize<"u"&&$localize.locale||qc}()}),K2=(()=>Promise.resolve(0))();function J_(n){typeof Zone>"u"?K2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class bi{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lr(!1),this.onMicrotaskEmpty=new lr(!1),this.onStable=new lr(!1),this.onError=new lr(!1),typeof Zone>"u")throw new ft(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Q2(){let n=Ti.requestAnimationFrame,e=Ti.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function tB(n){const e=()=>{!function eB(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ti,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ty(n),n.isCheckStableRunning=!0,ey(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ty(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,u,c)=>{try{return px(n),t.invokeTask(r,o,u,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),gx(n)}},onInvoke:(t,i,r,o,u,c,f)=>{try{return px(n),t.invoke(r,o,u,c,f)}finally{n.shouldCoalesceRunChangeDetection&&e(),gx(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,ty(n),ey(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bi.isInAngularZone())throw new ft(909,!1)}static assertNotInAngularZone(){if(bi.isInAngularZone())throw new ft(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,u=o.scheduleEventTask("NgZoneEvent: "+r,e,J2,zd,zd);try{return o.runTask(u,t,i)}finally{o.cancelTask(u)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const J2={};function ey(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ty(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function px(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gx(n){n._nesting--,ey(n)}class nB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lr,this.onMicrotaskEmpty=new lr,this.onStable=new lr,this.onError=new lr}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const mx=new St(""),Ud=new St("");let ry,ny=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ry||(function iB(n){ry=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bi.assertNotInAngularZone(),J_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())J_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(st(bi),st(iy),st(Ud))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})(),iy=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return ry?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const qu=!1;let pl=null;const _x=new St("AllowMultipleToken"),oy=new St("PlatformDestroyListeners"),rB=new St("appBootstrapListener");function vx(n,e,t=[]){const i=`Platform: ${e}`,r=new St(i);return(o=[])=>{let u=sy();if(!u||u.injector.get(_x,!1)){const c=[...t,...o,{provide:r,useValue:!0}];n?n(c):function aB(n){if(pl&&!pl.get(_x,!1))throw new ft(400,!1);pl=n;const e=n.get(wx);(function yx(n){const e=n.get(hx,null);e&&e.forEach(t=>t())})(n)}(function bx(n=[],e){return Ns.create({name:e,providers:[{provide:Km,useValue:"platform"},{provide:oy,useValue:new Set([()=>pl=null])},...n]})}(c,i))}return function lB(n){const e=sy();if(!e)throw new ft(401,!1);return e}()}}function sy(){return pl?.get(wx)??null}let wx=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function Ex(n,e){let t;return t="noop"===n?new nB:("zone.js"===n?void 0:n)||new bi(e),t}(i?.ngZone,function Cx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:bi,useValue:r}];return r.run(()=>{const u=Ns.create({providers:o,parent:this.injector,name:t.moduleType.name}),c=t.create(u),f=c.injector.get(ju,null);if(!f)throw new ft(402,!1);return r.runOutsideAngular(()=>{const d=r.onError.subscribe({next:m=>{f.handleError(m)}});c.onDestroy(()=>{Gd(this._modules,c),d.unsubscribe()})}),function xx(n,e,t){try{const i=t();return Ad(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(f,r,()=>{const d=c.injector.get(Hd);return d.runInitializers(),d.donePromise.then(()=>(function XC(n){wr(n,"Expected localeId to be defined"),"string"==typeof n&&(YC=n.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Tu,qc)||qc),this._moduleDoBootstrap(c),c))})})}bootstrapModule(t,i=[]){const r=Sx({},i);return function oB(n,e,t){const i=new B_(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(Yh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new ft(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ft(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(oy,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(st(Ns))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Sx(n,e){return Array.isArray(e)?e.reduce(Sx,n):{...n,...e}}let Yh=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new ve(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new ve(c=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{bi.assertNotInAngularZone(),J_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{bi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{f.unsubscribe(),d.unsubscribe()}});this.isStable=sn(o,u.pipe(du()))}bootstrap(t,i){const r=t instanceof lw;if(!this._injector.get(Hd).done){!r&&function Ko(n){const e=_n(n)||Qi(n)||rr(n);return null!==e&&e.standalone}(t);throw new ft(405,qu)}let u;u=r?t:this._injector.get(Mc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);const c=function sB(n){return n.isBoundToModule}(u)?void 0:this._injector.get($c),d=u.create(Ns.NULL,[],i||u.selector,c),m=d.location.nativeElement,y=d.injector.get(mx,null);return y?.registerApplication(m),d.onDestroy(()=>{this.detachView(d.hostView),Gd(this.components,d),y?.unregisterApplication(m)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new ft(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Gd(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(rB,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Gd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ft(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(st(bi),st(zl),st(ju))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let $l=(()=>{class n{}return n.__NG_ELEMENT_ID__=hB,n})();function hB(n){return function fB(n,e,t){if(As(n)&&!t){const i=s(n.index,e);return new Nh(i,i)}return 47&n.type?new Nh(e[ho],e):null}(Cr(),at(),16==(16&n))}class Tx{constructor(){}supports(e){return Pd(e)}create(e){return new yB(e)}}const _B=(n,e)=>e;class yB{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_B}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const u=!i||t&&t.currentIndex<Lx(i,r,o)?t:i,c=Lx(u,r,o),f=u.currentIndex;if(u===i)r--,i=i._nextRemoved;else if(t=t._next,null==u.previousIndex)r++;else{o||(o=[]);const d=c-r,m=f-r;if(d!=m){for(let b=0;b<d;b++){const D=b<o.length?o[b]:o[b]=0,K=D+b;m<=K&&K<d&&(o[b]=D+1)}o[u.previousIndex]=m-d}}c!==f&&e(u,c,f)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Pd(e))throw new ft(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,u,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],u=this._trackByFn(c,o),null!==t&&Object.is(t.trackById,u)?(i&&(t=this._verifyReinsertion(t,o,u,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,u,c),i=!0),t=t._next}else r=0,function GR(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,c=>{u=this._trackByFn(r,c),null!==t&&Object.is(t.trackById,u)?(i&&(t=this._verifyReinsertion(t,c,u,r)),Object.is(t.item,c)||this._addIdentityChange(t,c)):(t=this._mismatch(t,c,u,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new vB(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ax),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ax),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class vB{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bB{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class Ax{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new bB,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lx(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class Ox{constructor(){}supports(e){return e instanceof Map||w_(e)}create(){return new wB}}class wB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||w_(e)))throw new ft(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,u=r._next;return o&&(o._next=u),u&&(u._prev=o),r._next=null,r._prev=null,r}const i=new CB(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class CB{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kx(){return new Wd([new Tx])}let Wd=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||kx()),deps:[[n,new Dh,new Nl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new ft(901,!1)}}return n.\u0275prov=Mt({token:n,providedIn:"root",factory:kx}),n})();function Rx(){return new Xh([new Ox])}let Xh=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||Rx()),deps:[[n,new Dh,new Nl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new ft(901,!1)}}return n.\u0275prov=Mt({token:n,providedIn:"root",factory:Rx}),n})();const SB=vx(null,"core",[]);let DB=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(st(Yh))},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({}),n})();let fy=null;function $u(){return fy}class IB{}const Bn=new St("DocumentToken");let Nx=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Mt({token:n,factory:function(){return function TB(){return st(Fx)}()},providedIn:"platform"}),n})(),Fx=(()=>{class n extends Nx{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $u().getBaseHref(this._doc)}onPopState(t){const i=$u().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=$u().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){Bx()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){Bx()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(st(Bn))},n.\u0275prov=Mt({token:n,factory:function(){return function AB(){return new Fx(st(Bn))}()},providedIn:"platform"}),n})();function Bx(){return!!window.history.pushState}function Vx(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function zx(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Zl(n){return n&&"?"!==n[0]?"?"+n:n}let dy=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Mt({token:n,factory:function(){return Yo(OB)},providedIn:"root"}),n})();const LB=new St("appBaseHref");let OB=(()=>{class n extends dy{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Yo(Bn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Vx(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Zl(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const u=this.prepareExternalUrl(r+Zl(o));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,o){const u=this.prepareExternalUrl(r+Zl(o));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(st(Nx),st(LB,8))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),py=(()=>{class n{constructor(t){this._subject=new lr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function NB(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(zx(Hx(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Zl(i))}normalize(t){return n.stripTrailingSlash(function RB(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Hx(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zl(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zl(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Zl,n.joinWithSlash=Vx,n.stripTrailingSlash=zx,n.\u0275fac=function(t){return new(t||n)(st(dy))},n.\u0275prov=Mt({token:n,factory:function(){return function kB(){return new py(st(dy))}()},providedIn:"root"}),n})();function Hx(n){return n.replace(/\/index.html$/,"")}function Xx(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const xy=/\s+/,Kx=[];let Qx=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=Kx,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(xy):Kx}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(xy):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(xy).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(Je(Wd),Je(Xh),Je(br),Je(Hl))},n.\u0275dir=Nt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class w3{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let tS=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new w3(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,u),nS(c,r)}});for(let r=0,o=i.length;r<o;r++){const c=i.get(r).context;c.index=r,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{nS(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(Je(za),Je(Mu),Je(Wd))},n.\u0275dir=Nt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function nS(n,e){n.context.$implicit=e.item}let ip=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new E3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){iS("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){iS("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(Je(za),Je(Mu))},n.\u0275dir=Nt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class E3{constructor(){this.$implicit=null,this.ngIf=null}}function iS(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${_t(e)}'.`)}class Sy{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let rp=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Nt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),rS=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Sy(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(Je(za),Je(Mu),Je(rp,9))},n.\u0275dir=Nt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();class S3{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class D3{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const M3=new D3,P3=new S3;let sS=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(Ad(t))return M3;if(rC(t))return P3;throw function su(n,e){return new ft(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(Je($l,16))},n.\u0275pipe=jr({name:"async",type:n,pure:!1,standalone:!0}),n})(),Py=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({}),n})();const uS="browser";class cS{}class EV extends IB{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ay extends EV{static makeCurrent(){!function PB(n){fy||(fy=n)}(new Ay)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function xV(){return ef=ef||document.querySelector("base"),ef?ef.getAttribute("href"):null}();return null==t?null:function SV(n){ap=ap||document.createElement("a"),ap.setAttribute("href",n);const e=ap.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ef=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xx(document.cookie,e)}}let ap,ef=null;const gS=new St("TRANSITION_ID"),MV=[{provide:lx,useFactory:function DV(n,e,t){return()=>{t.get(Hd).donePromise.then(()=>{const i=$u(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[gS,Bn,Ns],multi:!0}];let IV=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})();const up=new St("EventManagerPlugins");let lp=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(st(up),st(bi))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})();class mS{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=$u().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let _S=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let o=r.get(t)??0;return o+=i,o>0?r.set(t,o):r.delete(t),o}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})(),tf=(()=>{class n extends _S{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(o=>o.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const o=this.styleRef.get(i);o?o.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(st(Bn))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})();const Ly={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Oy=/%COMP%/g,bS=new St("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function wS(n,e){return e.flat(100).map(t=>t.replace(Oy,n))}function CS(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let cp=(()=>{class n{constructor(t,i,r,o){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new ky(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof SS?r.applyToHost(t):r instanceof Ry&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const u=this.eventManager,c=this.sharedStylesHost,f=this.removeStylesOnCompDestory;switch(i.encapsulation){case hn.Emulated:o=new SS(u,c,i,this.appId,f);break;case hn.ShadowDom:return new NV(u,c,t,i);default:o=new Ry(u,c,i,f)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(st(lp),st(tf),st(Yc),st(bS))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})();class ky{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ly[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(xS(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(xS(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=Ly[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ly[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ia.DashCase|ia.Important)?e.style.setProperty(t,i,r&ia.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ia.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,CS(i)):this.eventManager.addEventListener(e,t,CS(i))}}function xS(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class NV extends ky{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=wS(r.id,r.styles);for(const u of o){const c=document.createElement("style");c.textContent=u,this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ry extends ky{constructor(e,t,i,r,o=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=wS(o,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class SS extends Ry{constructor(e,t,i,r,o){const u=r+"-"+i.id;super(e,t,i,o,u),this.contentAttr=function OV(n){return"_ngcontent-%COMP%".replace(Oy,n)}(u),this.hostAttr=function kV(n){return"_nghost-%COMP%".replace(Oy,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let FV=(()=>{class n extends mS{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(st(Bn))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})();const DS=["alt","control","meta","shift"],BV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let zV=(()=>{class n extends mS{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$u().onAndCancel(t,o.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),u="code."),DS.forEach(d=>{const m=i.indexOf(d);m>-1&&(i.splice(m,1),u+=d+".")}),u+=o,0!=i.length||0===o.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static matchEventFullKeyCode(t,i){let r=BV[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),DS.forEach(u=>{u!==r&&(0,VV[u])(t)&&(o+=u+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(st(Bn))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})();const GV=vx(SB,"browser",[{provide:jd,useValue:uS},{provide:hx,useValue:function HV(){Ay.makeCurrent()},multi:!0},{provide:Bn,useFactory:function UV(){return function vO(n){Um=n}(document),document},deps:[]}]),IS=new St(""),TS=[{provide:Ud,useClass:class PV{addToWindow(e){Ti.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Ti.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ti.getAllAngularRootElements=()=>e.getAllRootElements(),Ti.frameworkStabilizers||(Ti.frameworkStabilizers=[]),Ti.frameworkStabilizers.push(i=>{const r=Ti.getAllAngularTestabilities();let o=r.length,u=!1;const c=function(f){u=u||f,o--,0==o&&i(u)};r.forEach(function(f){f.whenStable(c)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?$u().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:mx,useClass:ny,deps:[bi,iy,Ud]},{provide:ny,useClass:ny,deps:[bi,iy,Ud]}],AS=[{provide:Km,useValue:"root"},{provide:ju,useFactory:function jV(){return new ju},deps:[]},{provide:up,useClass:FV,multi:!0,deps:[Bn,bi,jd]},{provide:up,useClass:zV,multi:!0,deps:[Bn]},{provide:cp,useClass:cp,deps:[lp,tf,Yc,bS]},{provide:kh,useExisting:cp},{provide:_S,useExisting:tf},{provide:tf,useClass:tf,deps:[Bn]},{provide:lp,useClass:lp,deps:[up,bi]},{provide:cS,useClass:IV,deps:[]},[]];let LS=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Yc,useValue:t.appId},{provide:gS,useExisting:Yc},MV]}}}return n.\u0275fac=function(t){return new(t||n)(st(IS,12))},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({providers:[...AS,...TS],imports:[Py,DB]}),n})();typeof window<"u"&&window;let Vy,By=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Mt({token:n,factory:function(t){let i=null;return i=t?new(t||n):st(RS),i},providedIn:"root"}),n})(),RS=(()=>{class n extends By{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Yi.NONE:return i;case Yi.HTML:return Cu(i,"HTML")?va(i):Xb(this._doc,String(i)).toString();case Yi.STYLE:return Cu(i,"Style")?va(i):i;case Yi.SCRIPT:if(Cu(i,"Script"))return va(i);throw new Error("unsafe value used in a script context");case Yi.URL:return Cu(i,"URL")?va(i):gd(String(i));case Yi.RESOURCE_URL:if(Cu(i,"ResourceURL"))return va(i);throw new Error(`unsafe value used in a resource URL context (see ${gi})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${gi})`)}}bypassSecurityTrustHtml(t){return function DO(n){return new bO(n)}(t)}bypassSecurityTrustStyle(t){return function MO(n){return new wO(n)}(t)}bypassSecurityTrustScript(t){return function PO(n){return new CO(n)}(t)}bypassSecurityTrustUrl(t){return function IO(n){return new EO(n)}(t)}bypassSecurityTrustResourceUrl(t){return function TO(n){return new xO(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(st(Bn))},n.\u0275prov=Mt({token:n,factory:function(t){let i=null;return i=t?new t:function KV(n){return new RS(n.get(Bn))}(st(Ns)),i},providedIn:"root"}),n})();try{Vy=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Vy=!1}let Xc,Ds=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Y3(n){return n===uS}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Vy)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(st(jd))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NS=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function FS(){if(Xc)return Xc;if("object"!=typeof document||!document)return Xc=new Set(NS),Xc;let n=document.createElement("input");return Xc=new Set(NS.filter(e=>(n.setAttribute("type",e),n.type===e))),Xc}let nf,Yl,zy;function rf(n){return function QV(){if(null==nf&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>nf=!0}))}finally{nf=nf||!1}return nf}()?n:!!n.capture}function JV(){if(null==Yl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Yl=!1,Yl;if("scrollBehavior"in document.documentElement.style)Yl=!0;else{const n=Element.prototype.scrollTo;Yl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Yl}function Hy(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Xl(n){return n.composedPath?n.composedPath()[0]:n.target}function jy(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class nz extends pe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function Zu(...n){return En(n,ms(n))}function Gy(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Yu(n){return n<=0?()=>ao:$e((e,t)=>{let i=0;e.subscribe(Ke(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Kl(n,e){return $e((t,i)=>{let r=0;t.subscribe(Ke(i,o=>n.call(e,o,r++)&&i.next(o)))})}function BS(n){return Kl((e,t)=>n<=t)}function lz(n,e){return n===e}function sa(n){return $e((e,t)=>{Lo(n).subscribe(Ke(t,()=>t.complete(),te)),!t.closed&&e.subscribe(t)})}function wa(n){return null!=n&&"false"!=`${n}`}function fp(n,e=0){return function cz(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function dp(n){return Array.isArray(n)?n:[n]}function To(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Xu(n){return n instanceof br?n.nativeElement:n}class hz extends E{constructor(e,t){super()}schedule(e,t=0){return this}}const pp={setInterval(n,e,...t){const{delegate:i}=pp;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=pp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class qy extends hz{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return pp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&pp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,w(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const VS={now:()=>(VS.delegate||Date).now(),delegate:void 0};class sf{constructor(e,t=sf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}sf.now=VS.now;class $y extends sf{constructor(e,t=sf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const Wy=new $y(qy),fz=Wy;function zS(n,e=Wy){return $e((t,i)=>{let r=null,o=null,u=null;const c=()=>{if(r){r.unsubscribe(),r=null;const d=o;o=null,i.next(d)}};function f(){const d=u+n,m=e.now();if(m<d)return r=this.schedule(void 0,d-m),void i.add(r);c()}t.subscribe(Ke(i,d=>{o=d,u=e.now(),r||(r=e.schedule(f,n),i.add(r))},()=>{c(),i.complete()},void 0,()=>{o=r=null}))})}let HS=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dz=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Xu(t);return new ve(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new pe,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(st(HS))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jS=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new lr,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=wa(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=fp(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(zS(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(Je(dz),Je(br),Je(bi))},n.\u0275dir=Nt({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Zy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({providers:[HS]}),n})();const{isArray:pz}=Array,{getPrototypeOf:gz,prototype:mz,keys:_z}=Object;function US(n){if(1===n.length){const e=n[0];if(pz(e))return{args:e,keys:null};if(function yz(n){return n&&"object"==typeof n&&gz(n)===mz}(e)){const t=_z(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:vz}=Array;function Yy(n){return ae(e=>function bz(n,e){return vz(e)?n(...e):n(e)}(n,e))}function GS(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function qS(n,e,t){n?Dr(t,n,e):e()}function Xy(...n){return function Ez(){return Ws(1)}()(En(n,ms(n)))}function Kc(...n){const e=ms(n);return $e((t,i)=>{(e?Xy(n,t,e):Xy(n,t)).subscribe(i)})}const $S=new Set;let Qc,xz=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Dz}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Sz(n){if(!$S.has(n))try{Qc||(Qc=document.createElement("style"),Qc.setAttribute("type","text/css"),document.head.appendChild(Qc)),Qc.sheet&&(Qc.sheet.insertRule(`@media ${n} {body{ }}`,0),$S.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(st(Ds))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Dz(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let WS=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new pe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return ZS(dp(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=function wz(...n){const e=ms(n),t=qi(n),{args:i,keys:r}=US(n);if(0===i.length)return En([],e);const o=new ve(function Cz(n,e,t=Te){return i=>{qS(e,()=>{const{length:r}=n,o=new Array(r);let u=r,c=r;for(let f=0;f<r;f++)qS(e,()=>{const d=En(n[f],e);let m=!1;d.subscribe(Ke(i,y=>{o[f]=y,m||(m=!0,c--),c||i.next(t(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>GS(r,u):Te));return t?o.pipe(Yy(t)):o}(ZS(dp(t)).map(u=>this._registerQuery(u).observable));return o=Xy(o.pipe(Yu(1)),o.pipe(BS(1),zS(0))),o.pipe(ae(u=>{const c={matches:!1,breakpoints:{}};return u.forEach(({matches:f,query:d})=>{c.matches=c.matches||f,c.breakpoints[d]=f}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new ve(u=>{const c=f=>this._zone.run(()=>u.next(f));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(Kc(i),ae(({matches:u})=>({query:t,matches:u})),sa(this._destroySubject)),mql:i};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(st(xz),st(bi))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZS(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function gp(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const XS="cdk-describedby-message",mp="cdk-describedby-host";let Ky=0,Tz=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Ky++,this._document=t,this._id=Yo(Yc)+"-"+Ky++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const o=Qy(i,r);"string"!=typeof i?(KS(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const o=Qy(i,r);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof i){const u=this._messageRegistry.get(o);u&&0===u.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${mp}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(mp);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");KS(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Qy(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=gp(t,"aria-describedby").filter(r=>0!=r.indexOf(XS));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function Pz(n,e,t){const i=gp(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(mp,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function Iz(n,e,t){const r=gp(n,e).filter(o=>o!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(mp)}_isElementDescribedByMessage(t,i){const r=gp(t,"aria-describedby"),o=this._messageRegistry.get(i),u=o&&o.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=t.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(st(Bn),st(Ds))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qy(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function KS(n,e){n.id||(n.id=`${XS}-${e}-${Ky++}`)}let _p=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Lz(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function Az(n){try{return n.frameElement}catch{return null}}(function zz(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===JS(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=JS(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Bz(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function Vz(n){return!function kz(n){return function Nz(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Oz(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Rz(n){return function Fz(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||QS(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(st(Ds))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QS(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function JS(n){if(!QS(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Hz{constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Yu(1)).subscribe(e)}}let Jy=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Hz(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(st(_p),st(bi),st(Bn))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eD(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function tD(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const jz=new St("cdk-input-modality-detector-options"),Uz={ignoreKeys:[18,17,224,91,16]},Jc=rf({passive:!0,capture:!0});let Gz=(()=>{class n{constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new nz(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(c=>c===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Xl(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(eD(u)?"keyboard":"mouse"),this._mostRecentTarget=Xl(u))},this._onTouchstart=u=>{tD(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xl(u))},this._options={...Uz,...o},this.modalityDetected=this._modality.pipe(BS(1)),this.modalityChanged=this.modalityDetected.pipe(function uz(n,e=Te){return n=n??lz,$e((t,i)=>{let r,o=!0;t.subscribe(Ke(i,u=>{const c=e(u);(o||!n(r,c))&&(o=!1,r=c,i.next(u))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Jc),r.addEventListener("mousedown",this._onMousedown,Jc),r.addEventListener("touchstart",this._onTouchstart,Jc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Jc),document.removeEventListener("mousedown",this._onMousedown,Jc),document.removeEventListener("touchstart",this._onTouchstart,Jc))}}return n.\u0275fac=function(t){return new(t||n)(st(Ds),st(bi),st(Bn),st(jz,8))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $z=new St("cdk-focus-monitor-default-options"),yp=rf({passive:!0,capture:!0});let eh=(()=>{class n{constructor(t,i,r,o,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new pe,this._rootNodeFocusAndBlurListener=c=>{for(let d=Xl(c);d;d=d.parentElement)"focus"===c.type?this._onFocus(c,d):this._onBlur(c,d)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=Xu(t);if(!this._platform.isBrowser||1!==r.nodeType)return Zu(null);const o=function tz(n){if(function ez(){if(null==zy){const n=typeof document<"u"?document.head:null;zy=!(!n||!n.createShadowRoot&&!n.attachShadow)}return zy}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const c={checkChildren:i,subject:new pe,rootNode:o};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(t){const i=Xu(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Xu(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([c,f])=>this._originChanged(c,i,f)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Xl(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,yp),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,yp)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(sa(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,yp),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,yp),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(st(bi),st(Ds),st(Gz),st(Bn,8),st($z,8))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iD="cdk-high-contrast-black-on-white",rD="cdk-high-contrast-white-on-black",ev="cdk-high-contrast-active";let oD=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Yo(WS).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(ev,iD,rD),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(ev,iD):2===i&&t.add(ev,rD)}}}return n.\u0275fac=function(t){return new(t||n)(st(Ds),st(Bn))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sD=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(st(oD))},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({imports:[Zy]}),n})();const Wz=new St("cdk-dir-doc",{providedIn:"root",factory:function Zz(){return Yo(Bn)}}),Yz=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let af=(()=>{class n{constructor(t){this.value="ltr",this.change=new lr,t&&(this.value=function Xz(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Yz.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(st(Wz,8))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({}),n})();const Qz=new St("mat-sanity-checks",{providedIn:"root",factory:function Kz(){return!0}});let Vs=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!jy()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(st(oD),st(Qz,8),st(Bn))},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({imports:[uf,uf]}),n})();function lD(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=wa(e)}}}function vp(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function cD(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=wa(e)}}}function Jz(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?fp(t):this.defaultTabIndex}}}function e5(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}}}let hD=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class n5{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const fD={enterDuration:225,exitDuration:150},tv=rf({passive:!0}),dD=["mousedown","touchstart"],pD=["mouseup","mouseleave","touchend","touchcancel"];class o5{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Xu(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...fD,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function s5(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),c=e-r.left,f=t-r.top,d=o.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=c-u+"px",m.style.top=f-u+"px",m.style.height=2*u+"px",m.style.width=2*u+"px",null!=i.color&&(m.style.backgroundColor=i.color),m.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(m);const y=window.getComputedStyle(m),D=y.transitionDuration,K="none"===y.transitionProperty||"0s"===D||"0s, 0s"===D,ee=new n5(this,m,i,K);m.style.transform="scale3d(1, 1, 1)",ee.state=0,i.persistent||(this._mostRecentTransientRipple=ee);let xe=null;return!K&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const _e=()=>this._finishRippleTransition(ee),de=()=>this._destroyRipple(ee);m.addEventListener("transitionend",_e),m.addEventListener("transitioncancel",de),xe={onTransitionEnd:_e,onTransitionCancel:de}}),this._activeRipples.set(ee,xe),(K||!d)&&this._finishRippleTransition(ee),ee}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...fD,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Xu(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(dD))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(pD),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=eD(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!tD(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,tv)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(dD.forEach(e=>{this._triggerElement.removeEventListener(e,this,tv)}),this._pointerUpEventsRegistered&&pD.forEach(e=>{this._triggerElement.removeEventListener(e,this,tv)}))}}const a5=new St("mat-ripple-global-options");let bp=(()=>{class n{constructor(t,i,r,o,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new o5(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(Je(br),Je(bi),Je(Ds),Je(a5,8),Je(Iu,8))},n.\u0275dir=Nt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&Ss("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),gD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({imports:[Vs,Vs]}),n})();const u5=["mat-button",""],l5=["*"],h5=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],f5=vp(lD(cD(class{constructor(n){this._elementRef=n}})));let wp=(()=>{class n extends f5{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of h5)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(Je(br),Je(eh),Je(Iu,8))},n.\u0275cmp=Pr({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&iu(bp,5),2&t){let r;Do(r=Mo())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(So("disabled",i.disabled||null),Ss("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[On],attrs:u5,ngContentSelectors:l5,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(Vh(),Ft(0,"span",0),Va(1),zt(),es(2,"span",1)(3,"span",2)),2&t&&(Gt(2),Ss("mat-button-ripple-round",i.isRoundButton||i.isIconButton),Xt("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[bp],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),d5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({imports:[gD,Vs,Vs]}),n})();const p5=["addListener","removeListener"],g5=["addEventListener","removeEventListener"],m5=["on","off"];function Cp(n,e,t,i){if(P(t)&&(i=t,t=void 0),i)return Cp(n,e,t).pipe(Yy(i));const[r,o]=function v5(n){return P(n.addEventListener)&&P(n.removeEventListener)}(n)?g5.map(u=>c=>n[u](e,c,t)):function _5(n){return P(n.addListener)&&P(n.removeListener)}(n)?p5.map(mD(n,e)):function y5(n){return P(n.on)&&P(n.off)}(n)?m5.map(mD(n,e)):[];if(!r&&cr(n))return Gi(u=>Cp(u,e,t))(Lo(n));if(!r)throw new TypeError("Invalid event target");return new ve(u=>{const c=(...f)=>u.next(1<f.length?f:f[0]);return r(c),()=>o(c)})}function mD(n,e){return t=>i=>n[t](e,i)}class _D{}class b5{}const Ku="*";function nv(n,e){return{type:7,name:n,definitions:e,options:{}}}function cf(n,e=null){return{type:4,styles:e,timings:n}}function yD(n,e=null){return{type:3,steps:n,options:e}}function vD(n,e=null){return{type:2,steps:n,options:e}}function aa(n){return{type:6,styles:n,offset:null}}function hf(n,e,t){return{type:0,name:n,styles:e,options:t}}function ff(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function bD(n=null){return{type:9,options:n}}function wD(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function CD(n){Promise.resolve().then(n)}class df{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){CD(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ED{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?CD(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,c)=>Math.max(u,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const iv="!",C5=["connectionContainer"],E5=["inputContainer"],x5=["label"];function S5(n,e){1&n&&(hl(0),Ft(1,"div",14),es(2,"div",15)(3,"div",16)(4,"div",17),zt(),Ft(5,"div",18),es(6,"div",15)(7,"div",16)(8,"div",17),zt(),fl())}function D5(n,e){if(1&n){const t=Ba();Ft(0,"div",19),kn("cdkObserveContent",function(){return Ai(t),vr(Li().updateOutlineGap())}),Va(1,1),zt()}2&n&&Xt("cdkObserveContentDisabled","outline"!=Li().appearance)}function M5(n,e){if(1&n&&(hl(0),Va(1,2),Ft(2,"span"),Hn(3),zt(),fl()),2&n){const t=Li(2);Gt(3),Gl(t._control.placeholder)}}function P5(n,e){1&n&&Va(0,3,["*ngSwitchCase","true"])}function I5(n,e){1&n&&(Ft(0,"span",23),Hn(1," *"),zt())}function T5(n,e){if(1&n){const t=Ba();Ft(0,"label",20,21),kn("cdkObserveContent",function(){return Ai(t),vr(Li().updateOutlineGap())}),Vi(2,M5,4,1,"ng-container",12),Vi(3,P5,1,0,"ng-content",12),Vi(4,I5,2,0,"span",22),zt()}if(2&n){const t=Li();Ss("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),Xt("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),So("for",t._control.id)("aria-owns",t._control.id),Gt(2),Xt("ngSwitchCase",!1),Gt(1),Xt("ngSwitchCase",!0),Gt(1),Xt("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function A5(n,e){1&n&&(Ft(0,"div",24),Va(1,4),zt())}function L5(n,e){if(1&n&&(Ft(0,"div",25),es(1,"span",26),zt()),2&n){const t=Li();Gt(1),Ss("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function O5(n,e){1&n&&(Ft(0,"div"),Va(1,5),zt()),2&n&&Xt("@transitionMessages",Li()._subscriptAnimationState)}function k5(n,e){if(1&n&&(Ft(0,"div",30),Hn(1),zt()),2&n){const t=Li(2);Xt("id",t._hintLabelId),Gt(1),Gl(t.hintLabel)}}function R5(n,e){if(1&n&&(Ft(0,"div",27),Vi(1,k5,2,2,"div",28),Va(2,6),es(3,"div",29),Va(4,7),zt()),2&n){const t=Li();Xt("@transitionMessages",t._subscriptAnimationState),Gt(1),Xt("ngIf",t.hintLabel)}}const N5=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],F5=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let B5=0;const xD=new St("MatError");let V5=(()=>{class n{constructor(t,i){this.id="mat-error-"+B5++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(_c("aria-live"),Je(br))},n.\u0275dir=Nt({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&So("id",i.id)},inputs:{id:"id"},features:[ur([{provide:xD,useExisting:n}])]}),n})();const z5={transitionMessages:nv("transitionMessages",[hf("enter",aa({opacity:1,transform:"translateY(0%)"})),ff("void => enter",[aa({opacity:0,transform:"translateY(-5px)"}),cf("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let rv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Nt({type:n}),n})();const H5=new St("MatHint");let Ep=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Nt({type:n,selectors:[["mat-label"]]}),n})(),j5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Nt({type:n,selectors:[["mat-placeholder"]]}),n})();const U5=new St("MatPrefix"),G5=new St("MatSuffix");let SD=0;const $5=vp(class{constructor(n){this._elementRef=n}},"primary"),W5=new St("MAT_FORM_FIELD_DEFAULT_OPTIONS"),MD=new St("MatFormField");let PD=(()=>{class n extends $5{constructor(t,i,r,o,u,c,f){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=u,this._ngZone=c,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new pe,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+SD++,this._labelId="mat-form-field-label-"+SD++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==f,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=wa(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Kc(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(sa(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(sa(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),sn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Kc(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Kc(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(sa(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Cp(this._label.nativeElement,"transitionend").pipe(Yu(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const m=i.querySelectorAll(`${r}, ${o}`);for(let y=0;y<m.length;y++)m[y].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,c=0;const f=i.querySelectorAll(r),d=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const m=i.getBoundingClientRect();if(0===m.width&&0===m.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const y=this._getStartEnd(m),b=t.children,D=this._getStartEnd(b[0].getBoundingClientRect());let K=0;for(let ee=0;ee<b.length;ee++)K+=b[ee].offsetWidth;u=Math.abs(D-y)-5,c=K>0?.75*K+10:0}for(let m=0;m<f.length;m++)f[m].style.width=`${u}px`;for(let m=0;m<d.length;m++)d[m].style.width=`${c}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(Je(br),Je($l),Je(af,8),Je(W5,8),Je(Ds),Je(bi),Je(Iu,8))},n.\u0275cmp=Pr({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(Pu(r,rv,5),Pu(r,rv,7),Pu(r,Ep,5),Pu(r,Ep,7),Pu(r,j5,5),Pu(r,xD,5),Pu(r,H5,5),Pu(r,U5,5),Pu(r,G5,5)),2&t){let o;Do(o=Mo())&&(i._controlNonStatic=o.first),Do(o=Mo())&&(i._controlStatic=o.first),Do(o=Mo())&&(i._labelChildNonStatic=o.first),Do(o=Mo())&&(i._labelChildStatic=o.first),Do(o=Mo())&&(i._placeholderChild=o.first),Do(o=Mo())&&(i._errorChildren=o),Do(o=Mo())&&(i._hintChildren=o),Do(o=Mo())&&(i._prefixChildren=o),Do(o=Mo())&&(i._suffixChildren=o)}},viewQuery:function(t,i){if(1&t&&(iu(C5,7),iu(E5,5),iu(x5,5)),2&t){let r;Do(r=Mo())&&(i._connectionContainerRef=r.first),Do(r=Mo())&&(i._inputContainerRef=r.first),Do(r=Mo())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&Ss("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[ur([{provide:MD,useExisting:n}]),On],ngContentSelectors:F5,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(Vh(N5),Ft(0,"div",0)(1,"div",1,2),kn("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),Vi(3,S5,9,0,"ng-container",3),Vi(4,D5,2,1,"div",4),Ft(5,"div",5,6),Va(7),Ft(8,"span",7),Vi(9,T5,5,16,"label",8),zt()(),Vi(10,A5,2,0,"div",9),zt(),Vi(11,L5,2,4,"div",10),Ft(12,"div",11),Vi(13,O5,2,1,"div",12),Vi(14,R5,5,2,"div",13),zt()()),2&t&&(Gt(3),Xt("ngIf","outline"==i.appearance),Gt(1),Xt("ngIf",i._prefixChildren.length),Gt(5),Xt("ngIf",i._hasFloatingLabel()),Gt(1),Xt("ngIf",i._suffixChildren.length),Gt(1),Xt("ngIf","outline"!=i.appearance),Gt(1),Xt("ngSwitch",i._getDisplayedMessages()),Gt(1),Xt("ngSwitchCase","error"),Gt(1),Xt("ngSwitchCase","hint"))},dependencies:[ip,rp,rS,jS],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[z5.transitionMessages]},changeDetection:0}),n})(),ov=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({imports:[Py,Vs,Zy,Vs]}),n})();function ID(n,e,t,i,r,o,u){try{var c=n[o](u),f=c.value}catch(d){return void t(d)}c.done?e(f):Promise.resolve(f).then(i,r)}function Qu(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function u(f){ID(o,i,r,u,c,"next",f)}function c(f){ID(o,i,r,u,c,"throw",f)}u(void 0)})}}function TD(...n){const e=qi(n),{args:t,keys:i}=US(n),r=new ve(o=>{const{length:u}=t;if(!u)return void o.complete();const c=new Array(u);let f=u,d=u;for(let m=0;m<u;m++){let y=!1;Lo(t[m]).subscribe(Ke(o,b=>{y||(y=!0,d--),c[m]=b},()=>f--,void 0,()=>{(!f||!y)&&(d||o.next(i?GS(i,c):c),o.complete())}))}});return e?r.pipe(Yy(e)):r}let AD=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(Je(Hl),Je(br))},n.\u0275dir=Nt({type:n}),n})(),Ql=(()=>{class n extends AD{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=fs(n)))(i||n)}}(),n.\u0275dir=Nt({type:n,features:[On]}),n})();const au=new St("NgValueAccessor"),Y5={provide:au,useExisting:Si(()=>th),multi:!0},K5=new St("CompositionEventMode");let th=(()=>{class n extends AD{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function X5(){const n=$u()?$u().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(Je(Hl),Je(br),Je(K5,8))},n.\u0275dir=Nt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&kn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[ur([Y5]),On]}),n})();const Q5=!1;function ml(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function OD(n){return null!=n&&"number"==typeof n.length}const ds=new St("NgValidators"),_l=new St("NgAsyncValidators"),J5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xp{static min(e){return kD(e)}static max(e){return RD(e)}static required(e){return function ND(n){return ml(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function FD(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function BD(n){return ml(n.value)||J5.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function VD(n){return e=>ml(e.value)||!OD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function zD(n){return e=>OD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function HD(n){if(!n)return Sp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(ml(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return WD(e)}static composeAsync(e){return ZD(e)}}function kD(n){return e=>{if(ml(e.value)||ml(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function RD(n){return e=>{if(ml(e.value)||ml(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Sp(n){return null}function jD(n){return null!=n}function UD(n){const e=Ad(n)?En(n):n;if(Q5&&!oC(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new ft(-1101,t)}return e}function GD(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function qD(n,e){return e.map(t=>t(n))}function $D(n){return n.map(e=>function e8(n){return!n.validate}(e)?e:t=>e.validate(t))}function WD(n){if(!n)return null;const e=n.filter(jD);return 0==e.length?null:function(t){return GD(qD(t,e))}}function sv(n){return null!=n?WD($D(n)):null}function ZD(n){if(!n)return null;const e=n.filter(jD);return 0==e.length?null:function(t){return TD(qD(t,e).map(UD)).pipe(ae(GD))}}function av(n){return null!=n?ZD($D(n)):null}function YD(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function XD(n){return n._rawValidators}function KD(n){return n._rawAsyncValidators}function uv(n){return n?Array.isArray(n)?n:[n]:[]}function Dp(n,e){return Array.isArray(n)?n.includes(e):n===e}function QD(n,e){const t=uv(e);return uv(n).forEach(r=>{Dp(t,r)||t.push(r)}),t}function JD(n,e){return uv(e).filter(t=>!Dp(n,t))}class eM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=av(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class zs extends eM{get formDirective(){return null}get path(){return null}}class Ju extends eM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tM{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mp=(()=>{class n extends tM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(Je(Ju,2))},n.\u0275dir=Nt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Ss("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[On]}),n})(),nM=(()=>{class n extends tM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(Je(zs,10))},n.\u0275dir=Nt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&Ss("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[On]}),n})();function iM(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const hv=!1,pf="VALID",Ip="INVALID",nh="PENDING",gf="DISABLED";function fv(n){return(Tp(n)?n.validators:n)||null}function dv(n,e){return(Tp(e)?e.asyncValidators:n)||null}function Tp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class sM{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===pf}get invalid(){return this.status===Ip}get pending(){return this.status==nh}get disabled(){return this.status===gf}get enabled(){return this.status!==gf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(QD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(QD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JD(e,this._rawAsyncValidators))}hasValidator(e){return Dp(this._rawValidators,e)}hasAsyncValidator(e){return Dp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=nh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gf,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=pf,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pf||this.status===nh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gf:pf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=nh,this._hasOwnPendingAsyncValidator=!0;const t=UD(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new lr,this.statusChanges=new lr}_calculateStatus(){return this._allControlsDisabled()?gf:this.errors?Ip:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nh)?nh:this._anyControlsHaveStatus(Ip)?Ip:pf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Tp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function a8(n){return Array.isArray(n)?sv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function u8(n){return Array.isArray(n)?av(n):n||null}(this._rawAsyncValidators)}}class Ap extends sM{constructor(e,t,i){super(fv(t),dv(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function oM(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new ft(1002,hv?function s8(n,e){return`Must supply a value for form control ${iM(n,e)}`}(e,r):"")})})(this,!0,e),Object.keys(e).forEach(i=>{(function rM(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new ft(1e3,hv?function r8(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new ft(1001,hv?function o8(n,e){return`Cannot find form control ${iM(n,e)}`}(e,t):"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const l8=Ap,Jl=new St("CallSetDisabledState",{providedIn:"root",factory:()=>mf}),mf="always";function Lp(n,e){return[...e.path,n]}function _f(n,e,t=mf){pv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function f8(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&aM(n,e)})}(n,e),function p8(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function d8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&aM(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function h8(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Op(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Rp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function kp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function pv(n,e){const t=XD(n);null!==e.validator?n.setValidators(YD(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=KD(n);null!==e.asyncValidator?n.setAsyncValidators(YD(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();kp(e._rawValidators,r),kp(e._rawAsyncValidators,r)}function Rp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=XD(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=KD(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return kp(e._rawValidators,i),kp(e._rawAsyncValidators,i),t}function aM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function uM(n,e){pv(n,e)}function mv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function lM(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function _v(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===th?t=o:function _8(n){return Object.getPrototypeOf(n.constructor)===Ql}(o)?i=o:r=o}),r||i||t||null}const v8={provide:zs,useExisting:Si(()=>Np)},yf=(()=>Promise.resolve())();let Np=(()=>{class n extends zs{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new lr,this.form=new Ap({},sv(t),av(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){yf.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),_f(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){yf.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){yf.then(()=>{const i=this._findContainer(t.path),r=new Ap({});uM(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){yf.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){yf.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,lM(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(Je(ds,10),Je(_l,10),Je(Jl,8))},n.\u0275dir=Nt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&kn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ur([v8]),On]}),n})();function cM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function hM(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const yv=class extends sM{constructor(e=null,t,i){super(fv(t),dv(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=hM(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){hM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},b8=yv,E8={provide:Ju,useExisting:Si(()=>Fp)},pM=(()=>Promise.resolve())();let Fp=(()=>{class n extends Ju{constructor(t,i,r,o,u,c){super(),this._changeDetectorRef=u,this.callSetDisabledState=c,this.control=new yv,this._registered=!1,this.update=new lr,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=_v(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),mv(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_f(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){pM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&function hy(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(i);pM.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Lp(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(Je(zs,9),Je(ds,10),Je(_l,10),Je(au,10),Je($l,8),Je(Jl,8))},n.\u0275dir=Nt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ur([E8]),On,jt]}),n})(),gM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Nt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const x8={provide:au,useExisting:Si(()=>Bp),multi:!0};let Bp=(()=>{class n extends Ql{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=fs(n)))(i||n)}}(),n.\u0275dir=Nt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&kn("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[ur([x8]),On]}),n})(),mM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({}),n})();const vv=new St("NgModelWithFormControlWarning"),I8={provide:zs,useExisting:Si(()=>vf)};let vf=(()=>{class n extends zs{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new lr,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return _f(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Op(t.control||null,t,!1),function y8(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,lM(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Op(i||null,t),(n=>n instanceof yv)(r)&&(_f(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);uM(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function g8(n,e){return Rp(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pv(this.form,this),this._oldForm&&Rp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(Je(ds,10),Je(_l,10),Je(Jl,8))},n.\u0275dir=Nt({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&kn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ur([I8]),On,jt]}),n})();const L8={provide:Ju,useExisting:Si(()=>Cv)};let Cv=(()=>{class n extends Ju{set isDisabled(t){}constructor(t,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new lr,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=_v(0,o)}ngOnChanges(t){this._added||this._setUpControl(),mv(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Lp(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(Je(zs,13),Je(ds,10),Je(_l,10),Je(au,10),Je(vv,8))},n.\u0275dir=Nt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ur([L8]),On,jt]}),n})();function xM(n){return"number"==typeof n?n:parseFloat(n)}let ec=(()=>{class n{constructor(){this._validator=Sp}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Sp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Nt({type:n,features:[jt]}),n})();const V8={provide:ds,useExisting:Si(()=>Sv),multi:!0};let Sv=(()=>{class n extends ec{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>xM(t),this.createValidator=t=>RD(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=fs(n)))(i||n)}}(),n.\u0275dir=Nt({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&So("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[ur([V8]),On]}),n})();const z8={provide:ds,useExisting:Si(()=>Dv),multi:!0};let Dv=(()=>{class n extends ec{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>xM(t),this.createValidator=t=>kD(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=fs(n)))(i||n)}}(),n.\u0275dir=Nt({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&So("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[ur([z8]),On]}),n})(),IM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({imports:[mM]}),n})(),Z8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Jl,useValue:t.callSetDisabledState??mf}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({imports:[IM]}),n})(),Y8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vv,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Jl,useValue:t.callSetDisabledState??mf}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({imports:[IM]}),n})();var bf=(()=>{return(n=bf||(bf={}))[n.Complete=0]="Complete",n[n.Progess=1]="Progess",n[n.Error=2]="Error",bf;var n})(),X8=j(8660);const wf={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=wf;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new E(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=wf;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=wf;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class Q8 extends $y{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class K8 extends qy{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=wf.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(wf.cancelAnimationFrame(t),e._scheduled=void 0)}});let Iv,eH=1;const Vp={};function TM(n){return n in Vp&&(delete Vp[n],!0)}const tH={setImmediate(n){const e=eH++;return Vp[e]=!0,Iv||(Iv=Promise.resolve()),Iv.then(()=>TM(e)&&n()),e},clearImmediate(n){TM(n)}},{setImmediate:nH,clearImmediate:iH}=tH,zp={setImmediate(...n){const{delegate:e}=zp;return(e?.setImmediate||nH)(...n)},clearImmediate(n){const{delegate:e}=zp;return(e?.clearImmediate||iH)(n)},delegate:void 0};new class oH extends $y{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class rH extends qy{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=zp.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(zp.clearImmediate(t),e._scheduled=void 0)}});function AM(n,e=Wy){return function aH(n){return $e((e,t)=>{let i=!1,r=null,o=null,u=!1;const c=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const d=r;r=null,t.next(d)}u&&t.complete()},f=()=>{o=null,u&&t.complete()};e.subscribe(Ke(t,d=>{i=!0,r=d,o||Lo(n(d)).subscribe(o=Ke(t,c,f))},()=>{u=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>function lH(n=0,e,t=fz){let i=-1;return null!=e&&(ul(e)?t=e:i=e),new ve(r=>{let o=function uH(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,e))}let LM=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new pe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ve(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(AM(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Zu()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Kl(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Xu(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Cp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(st(bi),st(Ds),st(Bn,8))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OM=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new pe,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(AM(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(st(Ds),st(bi),st(Bn,8))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({}),n})(),kM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({imports:[uf,Tv,uf,Tv]}),n})();class Av{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Hp extends Av{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class RM extends Av{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class fH extends Av{constructor(e){super(),this.element=e instanceof br?e.nativeElement:e}}class Lv{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Hp?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof RM?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof fH?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class dH extends Lv{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const c=u.element,f=this._document.createComment("dom-portal");c.parentNode.insertBefore(f,c),this.outletElement.appendChild(c),this._attachedPortal=u,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(c,f)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Ns.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Ov=(()=>{class n extends Lv{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new lr,this.attachDomPortal=o=>{const u=o.element,c=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(c,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(u,c)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=i.createComponent(o,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(Je(Mc),Je(za),Je(Bn))},n.\u0275dir=Nt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[On]}),n})(),jp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({}),n})();const NM=JV();class pH{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=To(-this._previousScrollPosition.left),e.style.top=To(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),NM&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),NM&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class gH{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class FM{enable(){}disable(){}attach(){}}function kv(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function BM(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class mH{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();kv(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let _H=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new FM,this.close=u=>new gH(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new pH(this._viewportRuler,this._document),this.reposition=u=>new mH(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(st(LM),st(OM),st(bi),st(Bn))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class VM{constructor(e){if(this.scrollStrategy=new FM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class yH{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let zM=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(st(Bn))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vH=(()=>{class n extends zM{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const c=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(r)):c.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(st(Bn),st(bi,8))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bH=(()=>{class n extends zM{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Xl(o)},this._clickListener=o=>{const u=Xl(o),c="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let d=f.length-1;d>-1;d--){const m=f[d];if(m._outsidePointerEvents.observers.length<1||!m.hasAttached())continue;if(m.overlayElement.contains(u)||m.overlayElement.contains(c))break;const y=m._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>y.next(o)):y.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(st(Bn),st(Ds),st(bi,8))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Up=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||jy()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),jy()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(st(Bn),st(Ds))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Cf{constructor(e,t,i,r,o,u,c,f,d,m=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=c,this._location=f,this._outsideClickDispatcher=d,this._animationsDisabled=m,this._backdropElement=null,this._backdropClick=new pe,this._attachments=new pe,this._detachments=new pe,this._locationChanges=E.EMPTY,this._backdropClickHandler=y=>this._backdropClick.next(y),this._backdropTransitionendHandler=y=>{this._disposeBackdrop(y.target)},this._keydownEvents=new pe,this._outsidePointerEvents=new pe,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Yu(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=To(this._config.width),e.height=To(this._config.height),e.minWidth=To(this._config.minWidth),e.minHeight=To(this._config.minHeight),e.maxWidth=To(this._config.maxWidth),e.maxHeight=To(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=dp(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(sa(sn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const HM="cdk-overlay-connected-position-bounding-box",wH=/([A-Za-z%]+)$/;class CH{constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new pe,this._resizeSubscription=E.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(HM),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let c of this._preferredPositions){let f=this._getOriginPoint(e,r,c),d=this._getOverlayPoint(f,t,c),m=this._getOverlayFit(d,t,i,c);if(m.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,f);this._canFitWithFlexibleDimensions(m,d,i)?o.push({position:c,origin:f,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(f,c)}):(!u||u.overlayFit.visibleArea<m.visibleArea)&&(u={overlayFit:m,overlayPoint:d,originPoint:f,position:c,overlayRect:t})}if(o.length){let c=null,f=-1;for(const d of o){const m=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);m>f&&(f=m,c=d)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&tc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(HM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;r="start"==i.originX?u:c}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=UM(t);let{x:u,y:c}=e,f=this._getOffset(r,"x"),d=this._getOffset(r,"y");f&&(u+=f),d&&(c+=d);let b=0-c,D=c+o.height-i.height,K=this._subtractOverflows(o.width,0-u,u+o.width-i.width),ee=this._subtractOverflows(o.height,b,D),xe=K*ee;return{visibleArea:xe,isCompletelyWithinViewport:o.width*o.height===xe,fitsInViewportVertically:ee===o.height,fitsInViewportHorizontally:K==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,u=jM(this._overlayRef.getConfig().minHeight),c=jM(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=u&&u<=r)&&(e.fitsInViewportHorizontally||null!=c&&c<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=UM(t),o=this._viewportRect,u=Math.max(e.x+r.width-o.width,0),c=Math.max(e.y+r.height-o.height,0),f=Math.max(o.top-i.top-e.y,0),d=Math.max(o.left-i.left-e.x,0);let m=0,y=0;return m=r.width<=o.width?d||-u:e.x<this._viewportMargin?o.left-i.left-e.x:0,y=r.height<=o.height?f||-c:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:m,y},{x:e.x+m,y:e.y+y}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new yH(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,u,c,m,y,b;if("top"===t.overlayY)u=e.y,o=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)c=i.height-e.y+2*this._viewportMargin,o=i.height-c+this._viewportMargin;else{const D=Math.min(i.bottom-e.y+i.top,e.y),K=this._lastBoundingBoxSize.height;o=2*D,u=e.y-D,o>K&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-K/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)b=i.width-e.x+this._viewportMargin,m=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)y=e.x,m=i.right-e.x;else{const D=Math.min(i.right-e.x+i.left,e.x),K=this._lastBoundingBoxSize.width;m=2*D,y=e.x-D,m>K&&!this._isInitialRender&&!this._growAfterOpen&&(y=e.x-K/2)}return{top:u,left:y,bottom:c,right:b,width:m,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=To(i.height),r.top=To(i.top),r.bottom=To(i.bottom),r.width=To(i.width),r.left=To(i.left),r.right=To(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=To(o)),u&&(r.maxWidth=To(u))}this._lastBoundingBoxSize=i,tc(this._boundingBox.style,r)}_resetBoundingBoxStyles(){tc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){tc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const m=this._viewportRuler.getViewportScrollPosition();tc(i,this._getExactOverlayY(t,e,m)),tc(i,this._getExactOverlayX(t,e,m))}else i.position="static";let c="",f=this._getOffset(t,"x"),d=this._getOffset(t,"y");f&&(c+=`translateX(${f}px) `),d&&(c+=`translateY(${d}px)`),i.transform=c.trim(),u.maxHeight&&(r?i.maxHeight=To(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=To(u.maxWidth):o&&(i.maxWidth="")),tc(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=To(o.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=To(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:BM(e,i),isOriginOutsideView:kv(e,i),isOverlayClipped:BM(t,i),isOverlayOutsideView:kv(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&dp(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof br)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function tc(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function jM(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(wH);return t&&"px"!==t?null:parseFloat(e)}return n||null}function UM(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const GM="cdk-global-overlay-wrapper";class EH{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(GM),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:c}=i,f=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),d=!("100%"!==o&&"100vh"!==o||c&&"100%"!==c&&"100vh"!==c),m=this._xPosition,y=this._xOffset,b="rtl"===this._overlayRef.getConfig().direction;let D="",K="",ee="";f?ee="flex-start":"center"===m?(ee="center",b?K=y:D=y):b?"left"===m||"end"===m?(ee="flex-end",D=y):("right"===m||"start"===m)&&(ee="flex-start",K=y):"left"===m||"start"===m?(ee="flex-start",D=y):("right"===m||"end"===m)&&(ee="flex-end",K=y),e.position=this._cssPosition,e.marginLeft=f?"0":D,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=f?"0":K,t.justifyContent=ee,t.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(GM),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let xH=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new EH}flexibleConnectedTo(t){return new CH(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(st(OM),st(Bn),st(Ds),st(Up))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SH=0,yl=(()=>{class n{constructor(t,i,r,o,u,c,f,d,m,y,b,D){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=c,this._ngZone=f,this._document=d,this._directionality=m,this._location=y,this._outsideClickDispatcher=b,this._animationsModuleType=D}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new VM(t);return u.direction=u.direction||this._directionality.value,new Cf(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+SH++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Yh)),new dH(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(st(_H),st(Up),st(Mc),st(xH),st(vH),st(Ns),st(bi),st(Bn),st(af),st(py),st(bH),st(Iu,8))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})();const PH={provide:new St("cdk-connected-overlay-scroll-strategy"),deps:[yl],useFactory:function MH(n){return()=>n.scrollStrategies.reposition()}};let Rv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({providers:[yl,PH],imports:[uf,jp,kM,kM]}),n})();function qM(n){return new ve(e=>{Lo(n()).subscribe(e)})}function IH(n,e){}class Gp{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let $M=(()=>{class n extends Lv{constructor(t,i,r,o,u,c,f,d){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=u,this._ngZone=c,this._overlayRef=f,this._focusMonitor=d,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=m=>{this._portalOutlet.hasAttached();const y=this._portalOutlet.attachDomPortal(m);return this._contentAttached(),y},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Hy(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=Hy();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Hy())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(Je(br),Je(Jy),Je(Bn,8),Je(Gp),Je(_p),Je(bi),Je(Cf),Je(eh))},n.\u0275cmp=Pr({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&iu(Ov,7),2&t){let r;Do(r=Mo())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&So("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[On],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&Vi(0,IH,0,0,"ng-template",0)},dependencies:[Ov],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class Nv{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new pe,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Gy(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const WM=new St("DialogScrollStrategy"),TH=new St("DialogData"),AH=new St("DefaultDialogConfig"),OH={provide:WM,deps:[yl],useFactory:function LH(n){return()=>n.scrollStrategies.block()}};let kH=0,ZM=(()=>{class n{constructor(t,i,r,o,u,c){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new pe,this._afterOpenedAtThisLevel=new pe,this._ariaHiddenElements=new Map,this.afterAllClosed=qM(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Kc(void 0))),this._scrollStrategy=c}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,i){(i={...this._defaultOptions||new Gp,...i}).id=i.id||"cdk-dialog-"+kH++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),u=this._overlay.create(o),c=new Nv(u,i),f=this._attachContainer(u,c,i);return c.containerInstance=f,this._attachDialogContent(t,c,f,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){Fv(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){Fv(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),Fv(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new VM({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,u=[{provide:Gp,useValue:r},{provide:Nv,useValue:i},{provide:Cf,useValue:t}];let c;r.container?"function"==typeof r.container?c=r.container:(c=r.container.type,u.push(...r.container.providers(r))):c=$M;const f=new Hp(c,r.viewContainerRef,Ns.create({parent:o||this._injector,providers:u}),r.componentFactoryResolver);return t.attach(f).instance}_attachDialogContent(t,i,r,o){if(t instanceof Mu){const u=this._createInjector(o,i,r,void 0);let c={$implicit:o.data,dialogRef:i};o.templateContext&&(c={...c,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new RM(t,null,c,u))}else{const u=this._createInjector(o,i,r,this._injector),c=r.attachComponentPortal(new Hp(t,o.viewContainerRef,u,o.componentFactoryResolver));i.componentInstance=c.instance}}_createInjector(t,i,r,o){const u=t.injector||t.viewContainerRef?.injector,c=[{provide:TH,useValue:t.data},{provide:Nv,useValue:i}];return t.providers&&("function"==typeof t.providers?c.push(...t.providers(i,t,r)):c.push(...t.providers)),t.direction&&(!u||!u.get(af,null,gn.Optional))&&c.push({provide:af,useValue:{value:t.direction,change:Zu()}}),Ns.create({parent:u||o,providers:c})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,u)=>{o?u.setAttribute("aria-hidden",o):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(st(yl),st(Ns),st(AH,8),st(n,12),st(Up),st(WM))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})();function Fv(n,e){let t=n.length;for(;t--;)e(n[t])}let RH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({providers:[ZM,OH],imports:[Rv,jp,sD,jp]}),n})();function NH(n,e){}const ih={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},FH={dialogContainer:nv("dialogContainer",[hf("void, exit",aa({opacity:0,transform:"scale(0.7)"})),hf("enter",aa({transform:"none"})),ff("* => enter",yD([cf("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",aa({transform:"none",opacity:1})),wD("@*",bD(),{optional:!0})]),ih),ff("* => void, * => exit",yD([cf("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",aa({opacity:0})),wD("@*",bD(),{optional:!0})]),ih)])};class qp{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=ih.params.enterAnimationDuration,this.exitAnimationDuration=ih.params.exitAnimationDuration}}let BH=(()=>{class n extends $M{constructor(t,i,r,o,u,c,f,d){super(t,i,r,o,u,c,f,d),this._animationStateChanged=new lr}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(Je(br),Je(Jy),Je(Bn,8),Je(qp),Je(_p),Je(bi),Je(Cf),Je(eh))},n.\u0275cmp=Pr({type:n,selectors:[["ng-component"]],features:[On],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),VH=(()=>{class n extends BH{constructor(t,i,r,o,u,c,f,d,m){super(t,i,r,o,u,c,f,m),this._changeDetectorRef=d,this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?this._openAnimationDone(i):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||ih.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||ih.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(Je(br),Je(Jy),Je(Bn,8),Je(qp),Je(_p),Je(bi),Je(Cf),Je($l),Je(eh))},n.\u0275cmp=Pr({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,i){1&t&&E_("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&t&&(Uc("id",i._config.id),So("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),A_("@dialogContainer",i._getAnimationState()))},features:[On],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&Vi(0,NH,0,0,"ng-template",0)},dependencies:[Ov],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[FH.dialogContainer]}}),n})();class $p{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new pe,this._beforeClosed=new pe,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(Kl(r=>"opened"===r.state),Yu(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Kl(r=>"closed"===r.state),Yu(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),sn(this.backdropClick(),this.keydownEvents().pipe(Kl(r=>27===r.keyCode&&!this.disableClose&&!Gy(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function YM(n,e,t){return n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Kl(t=>"closing"===t.state),Yu(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const XM=new St("MatDialogData"),zH=new St("mat-dialog-default-options"),KM=new St("mat-dialog-scroll-strategy"),jH={provide:KM,deps:[yl],useFactory:function HH(n){return()=>n.scrollStrategies.block()}};let UH=0,GH=(()=>{class n{constructor(t,i,r,o,u,c,f,d,m,y){this._overlay=t,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=f,this._dialogContainerType=d,this._dialogDataToken=m,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new pe,this._afterOpenedAtThisLevel=new pe,this._idPrefix="mat-dialog-",this.afterAllClosed=qM(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Kc(void 0))),this._scrollStrategy=c,this._dialog=i.get(ZM)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){let r;(i={...this._defaultOptions||new qp,...i}).id=i.id||`${this._idPrefix}${UH++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:qp,useValue:i},{provide:Gp,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(u,c,f)=>(r=new this._dialogRefConstructor(u,i,f),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:f},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(r);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){bd()},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})(),Wp=(()=>{class n extends GH{constructor(t,i,r,o,u,c,f,d){super(t,i,o,c,f,u,$p,VH,XM,d)}}return n.\u0275fac=function(t){return new(t||n)(st(yl),st(Ns),st(py,8),st(zH,8),st(KM),st(n,12),st(Up),st(Iu,8))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})(),YH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({providers:[Wp,jH],imports:[RH,Rv,jp,Vs,Vs]}),n})();const JM=rf({passive:!0});let XH=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ao;const i=Xu(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new pe,u="cdk-text-field-autofilled",c=f=>{"cdk-text-field-autofill-start"!==f.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===f.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:f.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:f.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",c,JM),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",c,JM)}}),o}stopMonitoring(t){const i=Xu(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(st(Ds),st(bi))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({}),n})();const KH=new St("MAT_INPUT_VALUE_ACCESSOR"),QH=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let JH=0;const ej=e5(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new pe}});let tP=(()=>{class n extends ej{constructor(t,i,r,o,u,c,f,d,m,y){super(c,o,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=d,this._formField=y,this._uid="mat-input-"+JH++,this.focused=!1,this.stateChanges=new pe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(K=>FS().has(K)),this._iOSKeyupListener=K=>{const ee=K.target;!ee.value&&0===ee.selectionStart&&0===ee.selectionEnd&&(ee.setSelectionRange(1,1),ee.setSelectionRange(0,0))};const b=this._elementRef.nativeElement,D=b.nodeName.toLowerCase();this._inputValueAccessor=f||b,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&m.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===D,this._isTextarea="textarea"===D,this._isInFormField=!!y,this._isNativeSelect&&(this.controlType=b.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=wa(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(xp.required)??!1}set required(t){this._required=wa(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&FS().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=wa(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,i=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){QH.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(Je(br),Je(Ds),Je(Ju,10),Je(Np,8),Je(vf,8),Je(hD),Je(KH,10),Je(XH),Je(bi),Je(MD,8))},n.\u0275dir=Nt({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&kn("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(Uc("disabled",i.disabled)("required",i.required),So("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),Ss("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[ur([{provide:rv,useExisting:n}]),On,jt]}),n})(),tj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({providers:[hD],imports:[eP,ov,Vs,eP,ov]}),n})();function Bv(n){return $e((e,t)=>{let o,i=null,r=!1;i=e.subscribe(Ke(t,void 0,void 0,u=>{o=Lo(n(u,Bv(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}var tn=j(8407);class el{constructor(){this._latitude=0,this._longitude=0,this._patUID="",this._zip="",this._location=[0,0],this._memberAddress="",this._city="",this._state="",this._county="",this._squaredDistanceFromOrigin=-1}get squaredDistanceFromOrigin(){return this._squaredDistanceFromOrigin}set squaredDistanceFromOrigin(e){this._squaredDistanceFromOrigin=e}get marker(){return this._marker}set marker(e){this._marker=e}get county(){return this._county}set county(e){this._county=e}get patUID(){return this._patUID}set patUID(e){this._patUID=e}get zip(){return this._zip}set zip(e){this._zip=e}get state(){return this._state}set state(e){this._state=e}get city(){return this._city}set city(e){this._city=e}set memberAddress(e){this._memberAddress=e}get memberAddress(){return this._memberAddress}set longitude(e){this._longitude=e,this.location=[this._latitude,this._longitude]}get longitude(){return this._longitude}set latitude(e){this._latitude=e,this.location=[this._latitude,this._longitude]}get latitude(){return this._latitude}set location(e){this._location=e,this._latitude=this._location[0],this._longitude=this._location[1]}get location(){return this._location}}el.HighlightedStyle="\n            background-color: #ffd500;\n            width: 1.25rem;\n            height: 1.25rem;\n            display: block;\n            left: 0;\n            top: 0;\n            position: relative;\n            border-radius: 1.25rem;\n            border: 1px solid #000000;\n            text-align: center;\n            color: white;\n            box-shadow: 2px 2px 3px grey;",el.HighlightedIcon=tn.divIcon({className:"patient-icon"}),el.HoveredStyle="\n              background-color: #ff7300;\n              width: 1.25rem;\n              height: 1.25rem;\n              display: block;\n              left: 0;\n              top: 0;\n              position: relative;\n              border-radius: 1.25rem;\n              border: 1px solid #000000;\n              text-align: center;\n              color: white;\n              box-shadow: 2px 2px 3px grey;",el.HoveredIcon=tn.divIcon({className:"patient-icon"}),el.DefaultStyle="\n              background-color: #000000;\n              width: 30px;\n              height: 30px;\n              display: block;\n              left: 0;\n              top: 0;\n              position: relative;\n              border-radius: 50%;\n              border: 1px solid #FFFFFF;\n              text-align: center;\n              color: white;\n              box-shadow: 2px 2px 3px grey;",el.DefaultIcon=tn.divIcon({className:"patient-icon"});class nP extends tn.Marker{constructor(e,t,i){super(e,i),this.setData(t)}getData(){return this.patient}setData(e){this.patient=e}}let ij=(()=>{class n{constructor(){this.Message="",this.messageTimeout=null}LogMessage(t,i=!1){this.clearMessageTimeout(),this.Message=t,i&&(this.messageTimeout=setTimeout(this.clearMessage,3e3))}clearMessageTimeout(){null!=this.messageTimeout&&(clearTimeout(this.messageTimeout),this.messageTimeout=null)}clearMessage(){this.Message=""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Zp{}class Vv{}class tl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(o=>o.toString()),r.length>0){const o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof tl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new tl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof tl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let u=this.headers.get(t);if(!u)return;u=u.filter(c=>-1===o.indexOf(c)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class oj{encodeKey(e){return iP(e)}encodeValue(e){return iP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const aj=/%(\d[a-f0-9])/gi,uj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iP(n){return encodeURIComponent(n).replace(aj,(e,t)=>uj[t]??e)}function Yp(n){return`${n}`}class vl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new oj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function sj(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,c]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],f=t.get(u)||[];f.push(c),t.set(u,f)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Yp):[Yp(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new vl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Yp(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Yp(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class lj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function rP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function oP(n){return typeof Blob<"u"&&n instanceof Blob}function sP(n){return typeof FormData<"u"&&n instanceof FormData}class Ef{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function cj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new tl),this.context||(this.context=new lj),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const c=t.indexOf("?");this.urlWithParams=t+(-1===c?"?":c<t.length-1?"&":"")+u}}else this.params=new vl,this.urlWithParams=t}serializeBody(){return null===this.body?null:rP(this.body)||oP(this.body)||sP(this.body)||function hj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sP(this.body)?null:oP(this.body)?this.body.type||null:rP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,c=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let f=e.headers||this.headers,d=e.params||this.params;const m=e.context??this.context;return void 0!==e.setHeaders&&(f=Object.keys(e.setHeaders).reduce((y,b)=>y.set(b,e.setHeaders[b]),f)),e.setParams&&(d=Object.keys(e.setParams).reduce((y,b)=>y.set(b,e.setParams[b]),d)),new Ef(t,i,o,{params:d,headers:f,context:m,reportProgress:c,responseType:r,withCredentials:u})}}var Ao=(()=>((Ao=Ao||{})[Ao.Sent=0]="Sent",Ao[Ao.UploadProgress=1]="UploadProgress",Ao[Ao.ResponseHeader=2]="ResponseHeader",Ao[Ao.DownloadProgress=3]="DownloadProgress",Ao[Ao.Response=4]="Response",Ao[Ao.User=5]="User",Ao))();class zv{constructor(e,t=200,i="OK"){this.headers=e.headers||new tl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Hv extends zv{constructor(e={}){super(e),this.type=Ao.ResponseHeader}clone(e={}){return new Hv({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Xp extends zv{constructor(e={}){super(e),this.type=Ao.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Xp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class aP extends zv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function jv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Kp=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Ef)o=t;else{let f,d;f=r.headers instanceof tl?r.headers:new tl(r.headers),r.params&&(d=r.params instanceof vl?r.params:new vl({fromObject:r.params})),o=new Ef(t,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Zu(o).pipe(function rj(n,e){return P(e)?Gi(n,e,1):Gi(n,1)}(f=>this.handler.handle(f)));if(t instanceof Ef||"events"===r.observe)return u;const c=u.pipe(Kl(f=>f instanceof Xp));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(ae(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return c.pipe(ae(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return c.pipe(ae(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return c.pipe(ae(f=>f.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new vl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,jv(r,i))}post(t,i,r={}){return this.request("POST",t,jv(r,i))}put(t,i,r={}){return this.request("PUT",t,jv(r,i))}}return n.\u0275fac=function(t){return new(t||n)(st(Zp))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})();function uP(n,e){return e(n)}function fj(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const pj=new St("HTTP_INTERCEPTORS"),xf=new St("HTTP_INTERCEPTOR_FNS");function gj(){let n=null;return(e,t)=>(null===n&&(n=(Yo(pj,{optional:!0})??[]).reduceRight(fj,uP)),n(e,t))}let lP=(()=>{class n extends Zp{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(xf)));this.chain=i.reduceRight((r,o)=>function dj(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(r,o,this.injector),uP)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(st(Vv),st(zl))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})();const vj=/^\)\]\}',?\n/;let hP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ve(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((D,K)=>r.setRequestHeader(D,K.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const D=t.detectContentTypeHeader();null!==D&&r.setRequestHeader("Content-Type",D)}if(t.responseType){const D=t.responseType.toLowerCase();r.responseType="json"!==D?D:"text"}const o=t.serializeBody();let u=null;const c=()=>{if(null!==u)return u;const D=r.statusText||"OK",K=new tl(r.getAllResponseHeaders()),ee=function bj(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return u=new Hv({headers:K,status:r.status,statusText:D,url:ee}),u},f=()=>{let{headers:D,status:K,statusText:ee,url:xe}=c(),_e=null;204!==K&&(_e=typeof r.response>"u"?r.responseText:r.response),0===K&&(K=_e?200:0);let de=K>=200&&K<300;if("json"===t.responseType&&"string"==typeof _e){const me=_e;_e=_e.replace(vj,"");try{_e=""!==_e?JSON.parse(_e):null}catch(Ne){_e=me,de&&(de=!1,_e={error:Ne,text:_e})}}de?(i.next(new Xp({body:_e,headers:D,status:K,statusText:ee,url:xe||void 0})),i.complete()):i.error(new aP({error:_e,headers:D,status:K,statusText:ee,url:xe||void 0}))},d=D=>{const{url:K}=c(),ee=new aP({error:D,status:r.status||0,statusText:r.statusText||"Unknown Error",url:K||void 0});i.error(ee)};let m=!1;const y=D=>{m||(i.next(c()),m=!0);let K={type:Ao.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(K.total=D.total),"text"===t.responseType&&r.responseText&&(K.partialText=r.responseText),i.next(K)},b=D=>{let K={type:Ao.UploadProgress,loaded:D.loaded};D.lengthComputable&&(K.total=D.total),i.next(K)};return r.addEventListener("load",f),r.addEventListener("error",d),r.addEventListener("timeout",d),r.addEventListener("abort",d),t.reportProgress&&(r.addEventListener("progress",y),null!==o&&r.upload&&r.upload.addEventListener("progress",b)),r.send(o),i.next({type:Ao.Sent}),()=>{r.removeEventListener("error",d),r.removeEventListener("abort",d),r.removeEventListener("load",f),r.removeEventListener("timeout",d),t.reportProgress&&(r.removeEventListener("progress",y),null!==o&&r.upload&&r.upload.removeEventListener("progress",b)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(st(cS))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})();const Uv=new St("XSRF_ENABLED"),fP=new St("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),dP=new St("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class pP{}let Ej=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xx(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(st(Bn),st(jd),st(fP))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})();function xj(n,e){const t=n.url.toLowerCase();if(!Yo(Uv)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=Yo(pP).getToken(),r=Yo(dP);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var yo=(()=>((yo=yo||{})[yo.Interceptors=0]="Interceptors",yo[yo.LegacyInterceptors=1]="LegacyInterceptors",yo[yo.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",yo[yo.NoXsrfProtection=3]="NoXsrfProtection",yo[yo.JsonpSupport=4]="JsonpSupport",yo[yo.RequestsMadeViaParent=5]="RequestsMadeViaParent",yo))();function rh(n,e){return{\u0275kind:n,\u0275providers:e}}function Sj(...n){const e=[Kp,hP,lP,{provide:Zp,useExisting:lP},{provide:Vv,useExisting:hP},{provide:xf,useValue:xj,multi:!0},{provide:Uv,useValue:!0},{provide:pP,useClass:Ej}];for(const t of n)e.push(...t.\u0275providers);return function WO(n){return{\u0275providers:n}}(e)}const gP=new St("LEGACY_INTERCEPTOR_FN");let Mj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({providers:[Sj(rh(yo.LegacyInterceptors,[{provide:gP,useFactory:gj},{provide:xf,useExisting:gP,multi:!0}]))]}),n})();const Pj=["map"];function Ij(n,e){1&n&&(Ft(0,"mat-error"),Hn(1,"Must be between 1 and 25."),zt())}function Tj(n,e){if(1&n){const t=Ba();Ft(0,"button",14),kn("click",function(){return Ai(t),vr(Li().SaveFile())}),Hn(1," Download Clustered Data "),zt()}if(2&n){const t=Li();Xt("disabled",t.settingsForm.invalid||t.ShowSpinner||null==t.UploadedFile)}}function Aj(n,e){if(1&n&&(Ft(0,"p"),Hn(1),zt()),2&n){const t=Li();Gt(1),Gl(t.loadLoggerService.Message)}}function Lj(n,e){1&n&&es(0,"app-loading-spinner")}function Oj(n,e){if(1&n&&(Ft(0,"div"),es(1,"app-patient-panel",29),zt()),2&n){const t=e.$implicit,i=Li(2);Gt(1),Xt("patient",t)("appComponent",i)("cluster",i.SelectedCluster)}}function kj(n,e){if(1&n&&(hl(0),Vi(1,Oj,2,3,"div",28),fl()),2&n){const t=Li();Gt(1),Xt("ngForOf",t.SelectedPatients)}}function Rj(n,e){if(1&n&&(hl(0),es(1,"app-cluster-panel",30),fl()),2&n){const t=Li();Gt(1),Xt("cluster",t.SelectedCluster)("appComponent",t)}}function Nj(n,e){if(1&n){const t=Ba();Ft(0,"button",33),kn("click",function(r){return Ai(t),vr(Li(2).OnPatientReassignRequest(r,null))}),Hn(1),zt()}if(2&n){const t=Li(2);Xt("disabled",t.SelectedPatients.length<=1||t.IsChoosingNewClusterForPatient&&null!=t.SelectedPatient),Gt(1),nu(" ",t.IsChoosingNewClusterForPatient&&null==t.SelectedPatient?"Cancel":"Reassign Points to Cluster"," ")}}function Fj(n,e){if(1&n){const t=Ba();Ft(0,"button",33),kn("click",function(r){return Ai(t),vr(Li(2).CreateClusterFromSelectedPatients(r))}),Hn(1,"Create Cluster from Points"),zt()}if(2&n){const t=Li(2);Xt("disabled",t.IsChoosingNewClusterForPatient||t.SelectedPatients.length<=1)}}function Bj(n,e){if(1&n&&(Ft(0,"div",31),Vi(1,Nj,2,2,"button",32),Vi(2,Fj,2,1,"button",32),zt()),2&n){const t=Li();Gt(1),Xt("ngIf",0!=t.SelectedPatients.length),Gt(1),Xt("ngIf",0!=t.SelectedPatients.length)}}function Vj(n,e){1&n&&(Ft(0,"p",34),Hn(1,"Choose A Cluster"),zt())}function zj(n,e){if(1&n&&(Ft(0,"p",35),Hn(1),zt()),2&n){const t=Li();Gt(1),nu("Unclustered Patients: ",t.mapComponent.UnclusteredPatientCount,"")}}function Hj(n,e){if(1&n){const t=Ba();Ft(0,"button",36),kn("click",function(r){return Ai(t),vr(Li().RestoreClusters(r))}),Hn(1,"Undo"),zt()}}function jj(n,e){if(1&n){const t=Ba();Ft(0,"button",37),kn("click",function(){return Ai(t),vr(Li().mapComponent.HideAllDisplayedClusteredPatients())}),Hn(1,"Hide Patients"),zt()}}function Uj(n,e){if(1&n){const t=Ba();Ft(0,"button",38),kn("click",function(){return Ai(t),vr(Li().AutoAssignUnclusteredPatients())}),Hn(1,"Auto Assign Patients"),zt()}}var Gj=j(8151);let mP=(()=>{class n{constructor(t,i,r){this.loadLoggerService=t,this.dialog=i,this.http=r,this.title="Location-Cluster",this.LONGITUDE="longitude",this.LATITUDE="latitude",this.Clusters=[],this.UploadedFile=void 0,this.UploadedFileName="",this.patients=[],this.ShowSpinner=!1,this.SelectedCluster=null,this.SelectedPatient=null,this.SelectedPatients=[],this.IsChoosingNewClusterForPatient=!1,this.timeOfLastBoxSelect=Date.now(),this.HasInitializedMap=!1,this.settingsForm=new l8({maxDiameter:new b8(10,[xp.min(1),xp.max(25),xp.required])})}ngAfterViewInit(){this.mapComponent.OnClusterClicked.subscribe(({cluster:t})=>{this.OnClusterClicked(t)}),this.mapComponent.OnBoxSelect.subscribe(({bounds:t})=>{this.OnBoxSelect(t)}),this.mapComponent.OnPatientsClicked.subscribe(({patients:t,cluster:i})=>{this.OnPatientsClicked(t,i)}),this.mapComponent.OnDeselect.subscribe(({})=>{this.OnDeselect()}),this.HasInitializedMap=!0}GetClusterEstimatedMilage(t){null==this.SelectedCluster||this.SelectedCluster.patients.length>=12||this.GetClusterMilage(this.SelectedCluster).subscribe(i=>{if(console.log(i),i.code)if("Ok"==i.code){if(i.trips.length>0){try{let o=Gj.decode(i.trips[0].geometry);this.mapComponent.DrawClusterRoundTripRoute(this.SelectedCluster,o)}catch(o){console.log(o)}let r=Math.round(i.trips[0].distance/1609.34*10)/10;this.SelectedCluster.milageEstimate=r}}else console.log("mapbox API failure");else console.log("mapbox API failure")})}OnDeselect(){Date.now()-this.timeOfLastBoxSelect<500||(null!=this.SelectedCluster&&(this.SelectedCluster.isHighlighted=!1,this.SelectedCluster.shouldDisplayArea=!0),this.CancelPatientSelection(),this.SelectedCluster=null)}DeleteCluster(t){t.preventDefault(),null!=this.SelectedCluster&&(this.mapComponent.DeleteCluster(this.SelectedCluster),this.SelectedCluster=null)}CancelPatientSelection(){for(let t=0;t<this.SelectedPatients.length;t++)try{this.SelectedPatients[t].marker.getElement()?.classList.remove("patient-icon-hovered","patient-icon-highlighted")}catch{}this.SelectedPatients=[],this.SelectedPatient=null}OnClusterClicked(t){if(!(Date.now()-this.timeOfLastBoxSelect<500)){if(this.IsChoosingNewClusterForPatient)return void this.OnPatientReassignConfirmation(t);this.CancelPatientSelection(),null!=this.SelectedCluster&&(this.SelectedCluster.isHighlighted=!1,this.SelectedCluster.shouldDisplayArea=!0),this.SelectedCluster=t,this.SelectedCluster.isHighlighted=!0}}OnPatientReassignRequest(t,i){if(t.preventDefault(),this.IsChoosingNewClusterForPatient)return this.IsChoosingNewClusterForPatient=!1,void(this.SelectedPatient=null);this.IsChoosingNewClusterForPatient=!0,this.SelectedPatient=i}OnPatientReassignConfirmation(t){this.IsChoosingNewClusterForPatient=!1,null!=this.SelectedPatient?this.mapComponent.SwitchPatientsAssignedCluster([this.SelectedPatient],null==this.SelectedCluster?null:this.SelectedCluster,t):this.SelectedPatients.length>0&&this.mapComponent.SwitchPatientsAssignedCluster(this.SelectedPatients,null==this.SelectedCluster?null:this.SelectedCluster,t),this.CancelPatientSelection(),this.OnDeselect()}OnPatientsClicked(t,i){if(!this.IsChoosingNewClusterForPatient){this.CancelPatientSelection();for(let o=0;o<this.SelectedPatients.length;o++)try{this.SelectedPatients[o].marker.getElement()?.classList.remove("patient-icon-hovered","patient-icon-highlighted")}catch{}this.SelectedPatients=[];for(let o=0;o<t.length;o++){try{t[o].marker.getElement()?.classList.add("patient-icon-highlighted")}catch{}this.SelectedPatients.push(t[o])}null!=i?null!=this.SelectedCluster?this.SelectedCluster!=i&&(this.SelectedCluster.isHighlighted=!1,i.isHighlighted=!0,this.SelectedCluster=i):(i.isHighlighted=!0,this.SelectedCluster=i):null!=this.SelectedCluster&&(this.SelectedCluster.isHighlighted=!1,this.SelectedCluster.shouldDisplayArea=!0,this.SelectedCluster=null)}}OnBoxSelect(t){let i=[];for(let o=0;o<this.patients.length;o++)t.contains(this.patients[o].location)&&i.push(this.patients[o]);for(let o=i.length-1;o>=0;o--)for(let u=0;u<this.mapComponent.Clusters.length;u++)if(this.mapComponent.Clusters[u].patients.includes(i[o])&&!this.mapComponent.Clusters[u].shouldDisplayPatients){i.splice(o,1);break}if(0==i.length){for(let o=0;o<this.SelectedPatients.length;o++)try{this.SelectedPatients[o].marker.getElement()?.classList.remove("patient-icon-hovered","patient-icon-highlighted")}catch{}return void(this.SelectedPatients=[])}let r=null;for(let o=0;o<this.mapComponent.Clusters.length;o++)for(let u=0;u<i.length;u++)if(this.mapComponent.Clusters[o].patients.includes(i[u])){if(null!=r&&r!=this.mapComponent.Clusters[o])return void console.log("points in different clusters");r=this.mapComponent.Clusters[o]}null==this.SelectedCluster?(this.SelectedCluster=r,null!=this.SelectedCluster&&(this.SelectedCluster.isHighlighted=!0)):(this.SelectedCluster.isHighlighted=!1,this.SelectedCluster=r,null!=this.SelectedCluster&&(this.SelectedCluster.isHighlighted=!0)),this.timeOfLastBoxSelect=Date.now();for(let o=0;o<i.length;o++)this.SelectedPatients.push(i[o]);this.SelectedPatients=Array.from(new Set(this.SelectedPatients));for(let o=0;o<this.SelectedPatients.length;o++)try{this.SelectedPatients[o].marker.getElement()?.classList.add("patient-icon-highlighted")}catch{}}UploadedFileChanged(t){if(!t.target.files[0])return;this.UploadedFile=t.target.files[0];let i=new FileReader;i.onload=r=>{X8().fromString(i.result).then(o=>{if(this.dataFrame=o,!this.isValidCsvFile())return alert("Invalid file: missing longitude or latitude information"),this.UploadedFile=void 0,void(this.UploadedFileName="");this.UploadedFileName=this.UploadedFile.name,this.setLongitudeAndLatitudeConstants(),this.dataFrameLocations=new Array(this.dataFrame.length).fill([0,0]);for(let u=0;u<this.dataFrame.length;u++){let c=new el;this.dataFrameLocations[u]=[parseFloat(this.dataFrame[u][this.LATITUDE]),parseFloat(this.dataFrame[u][this.LONGITUDE])],c.latitude=parseFloat(this.dataFrame[u][this.LATITUDE]),c.longitude=parseFloat(this.dataFrame[u][this.LONGITUDE]),c.patUID=this.dataFrame[u].PatUID,c.memberAddress=this.dataFrame[u].MemberAddress,c.city=this.dataFrame[u].City,c.state=this.dataFrame[u].State,c.zip=this.dataFrame[u].Zip,c.county=this.dataFrame[u].County,this.patients.push(c),isNaN(this.dataFrameLocations[u][0])&&(console.log(`dataframe[${u}][Latitude]: ${this.dataFrame[u][this.LATITUDE]} is not a number`),this.dataFrameLocations[u]=[0,this.dataFrameLocations[u][1]]),isNaN(this.dataFrameLocations[u][1])&&(console.log(`dataframe[${u}][Longitude]: ${this.dataFrame[u][this.LONGITUDE]} is not a number`),this.dataFrameLocations[u]=[this.dataFrameLocations[u][0],0])}},o=>{console.error(o)})},i.onprogress=r=>{},i.readAsText(this.UploadedFile)}CreateClusterFromSelectedPatients(t){t.preventDefault(),!(this.SelectedPatients.length<=1)&&(this.mapComponent.CreateClusterFromSelectedPatients(this.SelectedPatients),this.CancelPatientSelection())}AutoPartitionCluster(t){null!=this.SelectedCluster&&this.mapComponent.PartitionCluster(this.SelectedCluster)}RunGridCluster(t,i,r){var o=this;t.preventDefault(),null!=this.SelectedCluster&&(this.loadLoggerService.LogMessage("Grid Partitioning"),this.ShowSpinner=!0,setTimeout(Qu(function*(){null!=o.SelectedCluster&&o.mapComponent.GridCutCluster(o.SelectedCluster,i,r),o.OnDeselect(),o.loadLoggerService.LogMessage(""),o.ShowSpinner=!1}),100))}RunKmeans(t,i){if(t.preventDefault(),null==this.SelectedCluster)return;this.ShowSpinner=!0,this.loadLoggerService.LogMessage("Auto Partitioning");let r=[];for(let o=0;o<this.SelectedCluster.patients.length;o++)r.push(this.SelectedCluster.patients[o].location);if(typeof Worker<"u"){const o=new Worker(j.tu(new URL(j.p+j.u(324),j.b)));o.onmessage=({data:u})=>{let c=u;if(c.status==bf.Progess)this.loadLoggerService.LogMessage(c.message||"");else if(c.status==bf.Error)this.loadLoggerService.LogMessage(c.message||"",!0),this.ShowSpinner=!1;else{let f=c.data.labels;null!=this.SelectedCluster&&(this.SelectedCluster.isHighlighted=!1,this.mapComponent.HandleKmeansResults(this.SelectedCluster,i,f),this.SelectedCluster=null),this.loadLoggerService.LogMessage(""),this.ShowSpinner=!1}},o.postMessage({k:i,patientLocations:r})}else console.warn("Workers aren't available"),this.loadLoggerService.LogMessage("Web Workers are unavailable in your browser",!0),this.ShowSpinner=!1}AutoAssignUnclusteredPatients(){var t=this;this.loadLoggerService.LogMessage("Auto Assigning"),this.ShowSpinner=!0,setTimeout(Qu(function*(){t.mapComponent.AutoAssignUnclusteredPatients(),t.OnDeselect(),t.loadLoggerService.LogMessage(""),t.ShowSpinner=!1}),100)}SaveFile(){let i=this.mapComponent.Clusters;for(let d=0;d<this.dataFrame.length;d++){let m=0,y=this.dataFrame[d].PatUID,b=!1;for(m=0;m<i.length;m++)if(i[m].patients.findIndex(K=>K.patUID===y)>=0){b=!0;break}this.dataFrame[d].cluster=b?m+1:-1}let u=function t(d){let m=d.map(y=>Object.values(y));return m.unshift(Object.keys(d[0])),`${m.join("\n").replace(/,/g,",")}`}(this.dataFrame);const c=new Blob([u],{type:"text/csv"}),f=document.createElement("a");f.href=URL.createObjectURL(c),f.download="ClusteredData.csv",f.click(),f.remove()}resetClusterValues(){for(let t=0;t<this.dataFrame.length;t++)"cluster"in this.dataFrame[t]&&(this.dataFrame[t].cluster=0)}RestoreClusters(t){this.OnDeselect(),this.mapComponent.RestoreClusters()}isValidCsvFile(){return!!(this.dataFrame[0].Longitude||this.dataFrame[0].longitude||this.dataFrame[0].Lng||this.dataFrame[0].lng)}setLongitudeAndLatitudeConstants(){this.dataFrame[0].Longitude?this.LONGITUDE="Longitude":this.dataFrame[0].longitude?this.LONGITUDE="longitude":this.dataFrame[0].Lng?this.LONGITUDE="Lng":this.dataFrame[0].lng&&(this.LONGITUDE="lng"),this.dataFrame[0].Latitude?this.LATITUDE="Latitude":this.dataFrame[0].latitude?this.LATITUDE="latitude":this.dataFrame[0].Lat?this.LATITUDE="Lat":this.dataFrame[0].lat&&(this.LATITUDE="lat")}FindValidClusters(){var t=this;return Qu(function*(){0!=t.patients.length?t.ShowSpinner||(t.OnDeselect(),t.ShowSpinner=!0,t.mapComponent.ClearMarkers(),null!=t.dataFrame[0].cluster?(t.loadLoggerService.LogMessage("Loading Existing Clusters"),setTimeout(Qu(function*(){let i=[...new Set(t.dataFrame.map(u=>u.cluster))].length,r=[],o=[];for(let u=0;u<i;u++)r.push([]);for(let u=0;u<t.dataFrame.length;u++){let c=t.dataFrame[u].cluster;-1!=c?r[c-1].push(t.patients[u]):o.push(t.patients[u])}yield t.mapComponent.CreateClustersFromPatientGroups(r,t.patients,o),t.loadLoggerService.LogMessage(""),t.ShowSpinner=!1}),100)):(t.loadLoggerService.LogMessage("Finding Clusters"),setTimeout(Qu(function*(){let i=t.settingsForm.controls.maxDiameter.value-1.5;i=Math.max(1,i),yield t.mapComponent.CreateMarkerClusters(t.patients,i/2),t.loadLoggerService.LogMessage(""),t.ShowSpinner=!1}),100))):alert("No data to cluster")})()}GetClusterMilage(t){let i=[];for(let d=0;d<t.patients.length;d++)i.push([t.patients[d].longitude,t.patients[d].latitude]);let r=[];for(let d=0;d<i.length;d++)r.push(i[d].join(","));let o=r.join(";");return this.http.get(`https://api.mapbox.com/optimized-trips/v1/mapbox/driving/${o}?steps=true&access_token=pk.eyJ1IjoidHJleWRldHRtZXIiLCJhIjoiY2xoOGRsd3JzMDQ1ejNkbzZiZmNvNGNxaCJ9.fGOdn3Ju30RKt11nZ_fBww`).pipe(ae(d=>d),Bv((d,m)=>{throw console.error(d),d}))}CalculateInterquartileRange(){let t=[],i=[];for(let r=0;r<this.dataFrameLocations.length;r++)t.push(this.dataFrameLocations[r][0]),i.push(this.dataFrameLocations[r][1])}}return n.\u0275fac=function(t){return new(t||n)(Je(ij),Je(Wp),Je(Kp))},n.\u0275cmp=Pr({type:n,selectors:[["app-root"]],viewQuery:function(t,i){if(1&t&&iu(Pj,5),2&t){let r;Do(r=Mo())&&(i.mapComponent=r.first)}},decls:44,vars:15,consts:[[1,"page-container"],[1,"header"],[1,"inputs-container"],[1,"file-upload-container"],["type","file","accept",".csv",1,"file-input",3,"change"],["fileUpload",""],[1,"file-upload"],["mat-icon-button","","matTooltipPosition","right","matTooltip","Upload a CSV file containing longitude and latitude columns","matTooltipClass","primary-tooltip",1,"upload-button","gradient-button",3,"click"],[1,"cluster-settings-form",3,"formGroup"],[1,"cluster-settings-container"],["appearance","outline","color","primary",1,"cluster-settings-wide-form-field"],["matInput","","type","number","matTooltipPosition","right","matTooltip","The maximum distance between any two points in a cluster","matTooltipClass","primary-tooltip","formControlName","maxDiameter"],[4,"ngIf"],[1,"buttons-container"],["mat-flat-button","",1,"cluster-button","gradient-button",3,"disabled","click"],["mat-flat-button","","class"," cluster-button gradient-button",3,"disabled","click",4,"ngIf"],[1,"log-container"],[1,"content"],[1,"side-panel"],[1,"side-panel-scrollbox"],["class","side-panel-footer",4,"ngIf"],[1,"map-container"],["map",""],["class","reassign-cluster-prompt",4,"ngIf"],["class","unclustered-patients-prompt",4,"ngIf"],["class","undo-button","color","accent","mat-raised-button","",3,"click",4,"ngIf"],["class","reset-button","color","accent","mat-raised-button","",3,"click",4,"ngIf"],["matTooltipPosition","right","matTooltip","Assigns patients to nearest clusters","matTooltipClass","primary-tooltip","class","auto-assign-button","color","accent","mat-raised-button","",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"patient","appComponent","cluster"],[3,"cluster","appComponent"],[1,"side-panel-footer"],["color","accent","mat-flat-button","",3,"disabled","click",4,"ngIf"],["color","accent","mat-flat-button","",3,"disabled","click"],[1,"reassign-cluster-prompt"],[1,"unclustered-patients-prompt"],["color","accent","mat-raised-button","",1,"undo-button",3,"click"],["color","accent","mat-raised-button","",1,"reset-button",3,"click"],["matTooltipPosition","right","matTooltip","Assigns patients to nearest clusters","matTooltipClass","primary-tooltip","color","accent","mat-raised-button","",1,"auto-assign-button",3,"click"]],template:function(t,i){if(1&t){const r=Ba();Ft(0,"div",0)(1,"div",1)(2,"h1"),Hn(3,"Location Clusterer"),zt()(),Ft(4,"div",2)(5,"div",3)(6,"input",4,5),kn("change",function(u){return i.UploadedFileChanged(u)}),zt(),Ft(8,"div",6),Hn(9),Ft(10,"button",7),kn("click",function(){return Ai(r),vr(Td(7).click())}),Ft(11,"mat-icon"),Hn(12,"attach_file"),zt()()()(),Ft(13,"form",8)(14,"div",9)(15,"mat-form-field",10)(16,"mat-label"),Hn(17,"Maximum Cluster Diameter (miles)"),zt(),es(18,"input",11),Vi(19,Ij,2,0,"mat-error",12),zt()(),Ft(20,"div",13)(21,"button",14),kn("click",function(){return i.FindValidClusters()}),Hn(22," Generate Clusters "),zt(),Vi(23,Tj,2,1,"button",15),zt()()(),Ft(24,"div",16),Vi(25,Aj,2,1,"p",12),Vi(26,Lj,1,0,"app-loading-spinner",12),zt(),Ft(27,"div",17)(28,"div",18)(29,"div",19),Vi(30,kj,2,1,"ng-container",12),Vi(31,Rj,2,2,"ng-container",12),zt(),Vi(32,Bj,3,2,"div",20),zt(),Ft(33,"div",21),es(34,"app-map",null,22),Vi(36,Vj,2,0,"p",23),Vi(37,zj,2,1,"p",24),Vi(38,Hj,2,0,"button",25),Vi(39,jj,2,0,"button",26),Vi(40,Uj,2,0,"button",27),zt()(),Ft(41,"footer")(42,"p"),Hn(43,"\xa9 2023 Trey Dettmer"),zt()()()}2&t&&(Gt(9),nu(" ",i.UploadedFileName||"No file uploaded yet."," "),Gt(4),Xt("formGroup",i.settingsForm),Gt(6),Xt("ngIf",i.settingsForm.controls.maxDiameter.invalid&&(i.settingsForm.controls.maxDiameter.dirty||i.settingsForm.controls.maxDiameter.touched)),Gt(2),Xt("disabled",i.settingsForm.invalid||i.ShowSpinner||null==i.UploadedFile),Gt(2),Xt("ngIf",!!i.HasInitializedMap&&i.mapComponent.Clusters.length>0),Gt(2),Xt("ngIf",""!=i.loadLoggerService.Message),Gt(1),Xt("ngIf",i.ShowSpinner),Gt(4),Xt("ngIf",0!=i.SelectedPatients.length),Gt(1),Xt("ngIf",i.SelectedCluster&&0==i.SelectedPatients.length),Gt(1),Xt("ngIf",0!=i.SelectedPatients.length),Gt(4),Xt("ngIf",i.IsChoosingNewClusterForPatient),Gt(1),Xt("ngIf",i.HasInitializedMap&&i.mapComponent.Clusters.length>0),Gt(1),Xt("ngIf",i.HasInitializedMap&&i.mapComponent.CanUndo),Gt(1),Xt("ngIf",i.HasInitializedMap&&i.mapComponent.PatientsAreVisible),Gt(1),Xt("ngIf",i.HasInitializedMap&&i.mapComponent.Clusters.length>0&&i.mapComponent.UnclusteredPatientCount>0&&i.mapComponent.AreMappedPolygonsVisible()))},styles:['*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box;margin:0;padding:0}@font-face{font-family:DidactGothicRegular;src:url(/LocationClusterer/assets/DidactGothic-Regular.ttf) format("truetype")}html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow-x:hidden}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-family:DidactGothicRegular,Open Sans,sans-serif;min-height:100%;width:100vw;margin:0;padding:0;position:relative}.header[_ngcontent-%COMP%]{height:7vh;display:flex;width:100vw;flex-direction:column;justify-content:center;align-items:center}h1[_ngcontent-%COMP%]{font-size:2rem;font-family:DidactGothicRegular,Open Sans,sans-serif;font-weight:400}.inputs-container[_ngcontent-%COMP%]{width:100vw;display:flex;flex-direction:column;align-items:center;gap:20px}.cluster-settings-form[_ngcontent-%COMP%]{padding-bottom:15px}.cluster-settings-wide-form-field[_ngcontent-%COMP%]{width:min(260px,70vw)}  .primary-tooltip{font-size:.75rem}.input-error[_ngcontent-%COMP%]{display:block;color:red;padding:0;margin:0}.file-upload-container[_ngcontent-%COMP%]{width:min(900px,70vw);display:flex;justify-content:center}.file-upload[_ngcontent-%COMP%]{padding-top:10px;width:min(400px,70vw);display:flex;justify-content:center;align-items:center;gap:10px;font-family:DidactGothicRegular,Open Sans,sans-serif}.file-input[_ngcontent-%COMP%]{display:none}.upload-button[_ngcontent-%COMP%]{color:#fff}.cluster-settings-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cluster-settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:min(900px,70vw);justify-content:center;gap:10px}.cluster-settings-form-field[_ngcontent-%COMP%]{font-family:DidactGothicRegular,Open Sans,sans-serif}.buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.cluster-button[_ngcontent-%COMP%]{position:relative;font-family:DidactGothicRegular,Open Sans,sans-serif;color:#fff;margin:0 5px}.gradient-button[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--theme-gradient-color1),var(--theme-gradient-color2),var(--theme-gradient-color2),var(--theme-gradient-color1));background-size:320%;background-position:left;transition:.1s background-position linear}.gradient-button[_ngcontent-%COMP%]:hover{background-position:right}.log-container[_ngcontent-%COMP%]{height:3vh;width:90vw;color:#000;display:flex;flex-direction:row;justify-content:center;align-items:center;align-self:center;gap:10px}.content[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.side-panel[_ngcontent-%COMP%]{width:300px;height:60vh;background-color:#e2e3e4;margin:10px;display:flex;flex-direction:column;align-items:center}.side-panel-footer[_ngcontent-%COMP%]{padding:5px;display:flex;flex-direction:column;background-color:#ccc;width:100%;justify-content:center;margin-top:auto}.side-panel-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px 0}.side-panel-scrollbox[_ngcontent-%COMP%]{width:100%;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none;display:flex;flex-direction:column;align-items:stretch;padding:0 5px}.side-panel-scrollbox[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.map-container[_ngcontent-%COMP%]{height:60vh;width:min(900px,60vw);align-self:center;padding:0;margin:10px;position:relative}.undo-button[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:10px;z-index:400}.reset-button[_ngcontent-%COMP%]{position:absolute;top:60px;right:10px;z-index:400}.auto-assign-button[_ngcontent-%COMP%]{position:absolute;bottom:50px;left:10px;z-index:400}.reassign-cluster-prompt[_ngcontent-%COMP%]{position:absolute;top:10px;left:20%;right:20%;background-color:#f5f5f5f2;padding:5px;color:#000;z-index:400;text-align:center}.unclustered-patients-prompt[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:30%;right:30%;background-color:#f5f5f5cd;padding:5px;color:#000;z-index:400;text-align:center}.map-legend[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:stretch;background-color:#a1a1a180;width:min(150px,11.67vw);height:30vh;right:0;top:0;z-index:1}.legend-title[_ngcontent-%COMP%]{text-align:center;text-decoration:underline}.cluster-info[_ngcontent-%COMP%]{text-align:left;padding:5px}#map[_ngcontent-%COMP%]{position:absolute;left:0;top:0}footer[_ngcontent-%COMP%]{background:#e2e3e4;color:#181d24;text-align:center;font-family:DidactGothicRegular,Open Sans,sans-serif;padding:1em 0;margin-top:auto}  .patient-icon{background-color:#000;width:30px;height:30px;border-radius:50%;border:1px solid #FFFFFF;text-align:center;color:#fff;box-shadow:2px 2px 3px gray;z-index:10;transform-origin:bottom right;position:absolute;transition:all .2s ease-in-out}  .patient-icon.patient-icon-highlighted{background-color:#ffd500!important;border:1px solid #000000!important}  .patient-icon.patient-icon-hovered{background-color:#ff7300!important;border:1px solid #000000!important;z-index:10000!important;width:15px!important;height:15px!important}']}),n})();function _P(n){return new ft(3e3,!1)}function S4(){return typeof window<"u"&&typeof window.document<"u"}function Gv(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function bl(n){switch(n.length){case 0:return new df;case 1:return n[0];default:return new ED(n)}}function yP(n,e,t,i,r=new Map,o=new Map){const u=[],c=[];let f=-1,d=null;if(i.forEach(m=>{const y=m.get("offset"),b=y==f,D=b&&d||new Map;m.forEach((K,ee)=>{let xe=ee,_e=K;if("offset"!==ee)switch(xe=e.normalizePropertyName(xe,u),_e){case iv:_e=r.get(ee);break;case Ku:_e=o.get(ee);break;default:_e=e.normalizeStyleValue(ee,xe,_e,u)}D.set(xe,_e)}),b||c.push(D),d=D,f=y}),u.length)throw function d4(n){return new ft(3502,!1)}();return c}function qv(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&$v(t,"start",n)));break;case"done":n.onDone(()=>i(t&&$v(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&$v(t,"destroy",n)))}}function $v(n,e,t){const o=Wv(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(o._data=u),o}function Wv(n,e,t,i,r="",o=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function Ca(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function vP(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Zv=(n,e)=>!1,bP=(n,e,t)=>[],wP=null;function Yv(n){const e=n.parentNode||n.host;return e===wP?null:e}(Gv()||typeof Element<"u")&&(S4()?(wP=(()=>document.documentElement)(),Zv=(n,e)=>{for(;e;){if(e===n)return!0;e=Yv(e)}return!1}):Zv=(n,e)=>n.contains(e),bP=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let nc=null,CP=!1;const EP=Zv,xP=bP;let SP=(()=>{class n{validateStyleProperty(t){return function M4(n){nc||(nc=function P4(){return typeof document<"u"?document.body:null}()||{},CP=!!nc.style&&"WebkitAppearance"in nc.style);let e=!0;return nc.style&&!function D4(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in nc.style,!e&&CP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in nc.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return EP(t,i)}getParentElement(t){return Yv(t)}query(t,i,r){return xP(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,u,c=[],f){return new df(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})(),Xv=(()=>{class n{}return n.NOOP=new SP,n})();const I4=1e3,Kv="ng-enter",Qp="ng-leave",Jp="ng-trigger",eg=".ng-trigger",MP="ng-animating",Qv=".ng-animating";function nl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Jv(parseFloat(e[1]),e[2])}function Jv(n,e){return"s"===e?n*I4:n}function tg(n,e,t){return n.hasOwnProperty("duration")?n:function A4(n,e,t){let r,o=0,u="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return e.push(_P()),{duration:0,delay:0,easing:""};r=Jv(parseFloat(c[1]),c[2]);const f=c[3];null!=f&&(o=Jv(parseFloat(f),c[4]));const d=c[5];d&&(u=d)}else r=n;if(!t){let c=!1,f=e.length;r<0&&(e.push(function qj(){return new ft(3100,!1)}()),c=!0),o<0&&(e.push(function $j(){return new ft(3101,!1)}()),c=!0),c&&e.splice(f,0,_P())}return{duration:r,delay:o,easing:u}}(n,e,t)}function Sf(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function PP(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function wl(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function TP(n,e,t){return t?e+":"+t+";":""}function AP(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=TP(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=TP(0,R4(t),n.style[t]));n.setAttribute("style",e)}function Au(n,e,t){n.style&&(e.forEach((i,r)=>{const o=t0(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),Gv()&&AP(n))}function ic(n,e){n.style&&(e.forEach((t,i)=>{const r=t0(i);n.style[r]=""}),Gv()&&AP(n))}function Df(n){return Array.isArray(n)?1==n.length?n[0]:vD(n):n}const e0=new RegExp("{{\\s*(.+?)\\s*}}","g");function LP(n){let e=[];if("string"==typeof n){let t;for(;t=e0.exec(n);)e.push(t[1]);e0.lastIndex=0}return e}function Mf(n,e,t){const i=n.toString(),r=i.replace(e0,(o,u)=>{let c=e[u];return null==c&&(t.push(function Zj(n){return new ft(3003,!1)}()),c=""),c.toString()});return r==i?n:r}function ng(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const k4=/-+([a-z0-9])/g;function t0(n){return n.replace(k4,(...e)=>e[1].toUpperCase())}function R4(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ea(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Yj(n){return new ft(3004,!1)}()}}function OP(n,e){return window.getComputedStyle(n)[e]}const og="*";function H4(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function j4(n,e,t){if(":"==n[0]){const f=function U4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function l4(n){return new ft(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof f)return void e.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function u4(n){return new ft(3015,!1)}()),e;const r=i[1],o=i[2],u=i[3];e.push(kP(r,u));"<"==o[0]&&!(r==og&&u==og)&&e.push(kP(u,r))}(i,t,e)):t.push(n),t}const sg=new Set(["true","1"]),ag=new Set(["false","0"]);function kP(n,e){const t=sg.has(n)||ag.has(n),i=sg.has(e)||ag.has(e);return(r,o)=>{let u=n==og||n==r,c=e==og||e==o;return!u&&t&&"boolean"==typeof r&&(u=r?sg.has(n):ag.has(n)),!c&&i&&"boolean"==typeof o&&(c=o?sg.has(e):ag.has(e)),u&&c}}const G4=new RegExp("s*:selfs*,?","g");function n0(n,e,t,i){return new q4(n).build(e,t,i)}class q4{constructor(e){this._driver=e}build(e,t,i){const r=new Z4(t);return this._resetContextStyleTimingState(r),Ea(this,Df(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function Kj(){return new ft(3006,!1)}()),e.definitions.forEach(c=>{if(this._resetContextStyleTimingState(t),0==c.type){const f=c,d=f.name;d.toString().split(/\s*,\s*/).forEach(m=>{f.name=m,o.push(this.visitState(f,t))}),f.name=d}else if(1==c.type){const f=this.visitTransition(c,t);i+=f.queryCount,r+=f.depCount,u.push(f)}else t.errors.push(function Qj(){return new ft(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(f=>{LP(f).forEach(d=>{u.hasOwnProperty(d)||o.add(d)})})}),o.size&&(ng(o.values()),t.errors.push(function Jj(n,e){return new ft(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ea(this,Df(e.animation),t);return{type:1,matchers:H4(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:rc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ea(this,i,t)),options:rc(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(u=>{t.currentTime=i;const c=Ea(this,u,t);return r=Math.max(r,t.currentTime),c});return t.currentTime=r,{type:3,steps:o,options:rc(e.options)}}visitAnimate(e,t){const i=function X4(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return r0(tg(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=r0(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=tg(t,e);return r0(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:aa({});if(5==o.type)r=this.visitKeyframes(o,t);else{let u=e.styles,c=!1;if(!u){c=!0;const d={};i.easing&&(d.easing=i.easing),u=aa(d)}t.currentTime+=i.duration+i.delay;const f=this.visitStyle(u,t);f.isEmptyStep=c,r=f}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let c of r)"string"==typeof c?c===Ku?i.push(c):t.errors.push(new ft(3002,!1)):i.push(PP(c));let o=!1,u=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(u=c.get("easing"),c.delete("easing")),!o))for(let f of c.values())if(f.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((c,f)=>{const d=t.collectedStyles.get(t.currentQuerySelector),m=d.get(f);let y=!0;m&&(o!=r&&o>=m.startTime&&r<=m.endTime&&(t.errors.push(function t4(n,e,t,i,r){return new ft(3010,!1)}()),y=!1),o=m.startTime),y&&d.set(f,{startTime:o,endTime:r}),t.options&&function O4(n,e,t){const i=e.params||{},r=LP(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function Wj(n){return new ft(3001,!1)}())})}(c,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function n4(){return new ft(3011,!1)}()),i;let o=0;const u=[];let c=!1,f=!1,d=0;const m=e.steps.map(_e=>{const de=this._makeStyleAst(_e,t);let me=null!=de.offset?de.offset:function Y4(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(de.styles),Ne=0;return null!=me&&(o++,Ne=de.offset=me),f=f||Ne<0||Ne>1,c=c||Ne<d,d=Ne,u.push(Ne),de});f&&t.errors.push(function i4(){return new ft(3012,!1)}()),c&&t.errors.push(function r4(){return new ft(3200,!1)}());const y=e.steps.length;let b=0;o>0&&o<y?t.errors.push(function o4(){return new ft(3202,!1)}()):0==o&&(b=1/(y-1));const D=y-1,K=t.currentTime,ee=t.currentAnimateTimings,xe=ee.duration;return m.forEach((_e,de)=>{const me=b>0?de==D?1:b*de:u[de],Ne=me*xe;t.currentTime=K+ee.delay+Ne,ee.duration=Ne,this._validateStyleAst(_e,t),_e.offset=me,i.styles.push(_e)}),i}visitReference(e,t){return{type:8,animation:Ea(this,Df(e.animation),t),options:rc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:rc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rc(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,u]=function $4(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(G4,"")),n=n.replace(/@\*/g,eg).replace(/@\w+/g,t=>eg+"-"+t.slice(1)).replace(/:animating/g,Qv),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Ca(t.collectedStyles,t.currentQuerySelector,new Map);const c=Ea(this,Df(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:c,originalSelector:e.selector,options:rc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function s4(){return new ft(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:tg(e.timings,t.errors,!0);return{type:12,animation:Ea(this,Df(e.animation),t),timings:i,options:null}}}class Z4{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rc(n){return n?(n=Sf(n)).params&&(n.params=function W4(n){return n?Sf(n):null}(n.params)):n={},n}function r0(n,e,t){return{duration:n,delay:e,easing:t}}function o0(n,e,t,i,r,o,u=null,c=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:c}}class ug{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const J4=new RegExp(":enter","g"),tU=new RegExp(":leave","g");function s0(n,e,t,i,r,o=new Map,u=new Map,c,f,d=[]){return(new nU).buildKeyframes(n,e,t,i,r,o,u,c,f,d)}class nU{buildKeyframes(e,t,i,r,o,u,c,f,d,m=[]){d=d||new ug;const y=new a0(e,t,d,r,o,m,[]);y.options=f;const b=f.delay?nl(f.delay):0;y.currentTimeline.delayNextStep(b),y.currentTimeline.setStyles([u],null,y.errors,f),Ea(this,i,y);const D=y.timelines.filter(K=>K.containsAnimation());if(D.length&&c.size){let K;for(let ee=D.length-1;ee>=0;ee--){const xe=D[ee];if(xe.element===t){K=xe;break}}K&&!K.allowOnlyTimelineStyles()&&K.setStyles([c],null,y.errors,f)}return D.length?D.map(K=>K.buildKeyframes()):[o0(t,[],[],[],0,b,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const u="number"==typeof o?o:nl(Mf(o,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const u=null!=i.duration?nl(i.duration):null,c=null!=i.delay?nl(i.delay):null;return 0!==u&&e.forEach(f=>{const d=t.appendInstructionToTimeline(f,u,c);o=Math.max(o,d.duration+d.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Ea(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=lg);const u=nl(o.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Ea(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?nl(e.options.delay):0;e.steps.forEach(u=>{const c=t.createSubContext(e.options);o&&c.delayNextStep(o),Ea(this,u,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return tg(t.params?Mf(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,c=t.createSubContext().currentTimeline;c.easing=i.easing,e.styles.forEach(f=>{c.forwardTime((f.offset||0)*o),c.setStyles(f.styles,f.easing,t.errors,t.options),c.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(c),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?nl(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=lg);let u=i;const c=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=c.length;let f=null;c.forEach((d,m)=>{t.currentQueryIndex=m;const y=t.createSubContext(e.options,d);o&&y.delayNextStep(o),d===t.element&&(f=y.currentTimeline),Ea(this,e.animation,y),y.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,y.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),f&&(t.currentTimeline.mergeTimelineCollectedStyles(f),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,u=Math.abs(o.duration),c=u*(t.currentQueryTotal-1);let f=u*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":f=c-f;break;case"full":f=i.currentStaggerTime}const m=t.currentTimeline;f&&m.delayNextStep(f);const y=m.currentTime;Ea(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-y+(r.startTime-i.currentTimeline.startTime)}}const lg={};class a0{constructor(e,t,i,r,o,u,c,f){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new cg(this._driver,t,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=nl(i.duration)),null!=i.delay&&(r.delay=nl(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(c=>{(!t||!u.hasOwnProperty(c))&&(u[c]=Mf(o[c],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new a0(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=lg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new iU(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,u){let c=[];if(r&&c.push(this.element),e.length>0){e=(e=e.replace(J4,"."+this._enterClassName)).replace(tU,"."+this._leaveClassName);let d=this._driver.query(this.element,e,1!=i);0!==i&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),c.push(...d)}return!o&&0==c.length&&u.push(function a4(n){return new ft(3014,!1)}()),c}}class cg{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new cg(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ku),this._currentKeyframe.set(t,Ku);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},u=function rU(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Ku)}else wl(r,t)}),t}(e,this._globalTimelineStyles);for(let[c,f]of u){const d=Mf(f,o,i);this._pendingStyles.set(c,d),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Ku),this._updateStyle(c,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((c,f)=>{const d=wl(c,new Map,this._backFill);d.forEach((m,y)=>{m===iv?e.add(y):m===Ku&&t.add(y)}),i||d.set("offset",f/this.duration),r.push(d)});const o=e.size?ng(e.values()):[],u=t.size?ng(t.values()):[];if(i){const c=r[0],f=new Map(c);c.set("offset",0),f.set("offset",1),r=[c,f]}return o0(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class iU extends cg{constructor(e,t,i,r,o,u,c=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],u=i+t,c=t/u,f=wl(e[0]);f.set("offset",0),o.push(f);const d=wl(e[0]);d.set("offset",FP(c)),o.push(d);const m=e.length-1;for(let y=1;y<=m;y++){let b=wl(e[y]);const D=b.get("offset");b.set("offset",FP((t+D*i)/u)),o.push(b)}i=u,t=0,r="",e=o}return o0(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function FP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class u0{}const oU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class sU extends u0{normalizePropertyName(e,t){return t0(e)}normalizeStyleValue(e,t,i,r){let o="";const u=i.toString().trim();if(oU.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&r.push(function Xj(n,e){return new ft(3005,!1)}())}return u+o}}function BP(n,e,t,i,r,o,u,c,f,d,m,y,b){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:u,timelines:c,queriedElements:f,preStyleProps:d,postStyleProps:m,totalTime:y,errors:b}}const l0={};class VP{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function aU(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,u,c,f,d,m){const y=[],b=this.ast.options&&this.ast.options.params||l0,K=this.buildStyles(i,c&&c.params||l0,y),ee=f&&f.params||l0,xe=this.buildStyles(r,ee,y),_e=new Set,de=new Map,me=new Map,Ne="void"===r,Be={params:uU(ee,b),delay:this.ast.options?.delay},We=m?[]:s0(e,t,this.ast.animation,o,u,K,xe,Be,d,y);let Ye=0;if(We.forEach(Fe=>{Ye=Math.max(Fe.duration+Fe.delay,Ye)}),y.length)return BP(t,this._triggerName,i,r,Ne,K,xe,[],[],de,me,Ye,y);We.forEach(Fe=>{const Ht=Fe.element,Pt=Ca(de,Ht,new Set);Fe.preStyleProps.forEach(un=>Pt.add(un));const rn=Ca(me,Ht,new Set);Fe.postStyleProps.forEach(un=>rn.add(un)),Ht!==t&&_e.add(Ht)});const et=ng(_e.values());return BP(t,this._triggerName,i,r,Ne,K,xe,We,et,de,me,Ye)}}function uU(n,e){const t=Sf(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class lU{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Sf(this.defaultParams);return Object.keys(e).forEach(o=>{const u=e[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,c)=>{u&&(u=Mf(u,r,t));const f=this.normalizer.normalizePropertyName(c,t);u=this.normalizer.normalizeStyleValue(c,f,u,t),i.set(c,u)})}),i}}class hU{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new lU(r.style,r.options&&r.options.params||{},i))}),zP(this.states,"true","1"),zP(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new VP(e,r,this.states))}),this.fallbackTransition=function fU(n,e,t){return new VP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,c)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function zP(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const dU=new ug;class pU{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],o=n0(this._driver,t,i,r);if(i.length)throw function p4(n){return new ft(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=yP(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let u;const c=new Map;if(o?(u=s0(this._driver,t,o,Kv,Qp,new Map,new Map,i,dU,r),u.forEach(m=>{const y=Ca(c,m.element,new Map);m.postStyleProps.forEach(b=>y.set(b,null))})):(r.push(function g4(){return new ft(3300,!1)}()),u=[]),r.length)throw function m4(n){return new ft(3504,!1)}();c.forEach((m,y)=>{m.forEach((b,D)=>{m.set(D,this._driver.computeStyle(y,D,Ku))})});const d=bl(u.map(m=>{const y=c.get(m.element);return this._buildPlayer(m,new Map,y)}));return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function _4(n){return new ft(3301,!1)}();return t}listen(e,t,i,r){const o=Wv(t,"","","");return qv(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const HP="ng-animate-queued",c0="ng-animate-disabled",vU=[],jP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ua="__ng_removed";class h0{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function xU(n){return n??null}(i?e.value:e),i){const o=Sf(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Pf="void",f0=new h0(Pf);class wU{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ga(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function y4(n,e){return new ft(3302,!1)}();if(null==i||0==i.length)throw function v4(n){return new ft(3303,!1)}();if(!function SU(n){return"start"==n||"done"==n}(i))throw function b4(n,e){return new ft(3400,!1)}();const o=Ca(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};o.push(u);const c=Ca(this._engine.statesByElement,e,new Map);return c.has(t)||(Ga(e,Jp),Ga(e,Jp+"-"+t),c.set(t,f0)),()=>{this._engine.afterFlush(()=>{const f=o.indexOf(u);f>=0&&o.splice(f,1),this._triggers.has(t)||c.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function w4(n){return new ft(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),u=new d0(this.id,t,e);let c=this._engine.statesByElement.get(e);c||(Ga(e,Jp),Ga(e,Jp+"-"+t),this._engine.statesByElement.set(e,c=new Map));let f=c.get(t);const d=new h0(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&d.absorbOptions(f.options),c.set(t,d),f||(f=f0),d.value!==Pf&&f.value===d.value){if(!function PU(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(f.params,d.params)){const ee=[],xe=o.matchStyles(f.value,f.params,ee),_e=o.matchStyles(d.value,d.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{ic(e,xe),Au(e,_e)})}return}const b=Ca(this._engine.playersByElement,e,[]);b.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==t&&ee.queued&&ee.destroy()});let D=o.matchTransition(f.value,d.value,e,d.params),K=!1;if(!D){if(!r)return;D=o.fallbackTransition,K=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:D,fromState:f,toState:d,player:u,isFallbackTransition:K}),K||(Ga(e,HP),u.onStart(()=>{oh(e,HP)})),u.onDone(()=>{let ee=this.players.indexOf(u);ee>=0&&this.players.splice(ee,1);const xe=this._engine.playersByElement.get(e);if(xe){let _e=xe.indexOf(u);_e>=0&&xe.splice(_e,1)}}),this.players.push(u),b.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,eg,!0);i.forEach(r=>{if(r[Ua])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),u=new Map;if(o){const c=[];if(o.forEach((f,d)=>{if(u.set(d,f.value),this._triggers.has(d)){const m=this.trigger(e,d,Pf,r);m&&c.push(m)}}),c.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&bl(c).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const f=this._triggers.get(u).fallbackTransition,d=i.get(u)||f0,m=new h0(Pf),y=new d0(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:f,fromState:d,toState:m,player:y,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Ua];(!o||o===jP)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ga(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(c=>{if(c.name==i.triggerName){const f=Wv(o,i.triggerName,i.fromState.value,i.toState.value);f._data=e,qv(i.player,c.phase,f,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class CU{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new wU(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,c=this.driver.getParentElement(t);for(;c;){const f=r.get(c);if(f){const d=i.indexOf(f);i.splice(d+1,0,e),u=!0;break}c=this.driver.getParentElement(c)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(hg(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!hg(t))return;const o=t[Ua];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ga(e,c0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),oh(e,c0))}removeNode(e,t,i,r){if(hg(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Ua]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return hg(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,eg,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Qv,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return bl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ua];if(t&&t.setForRemoval){if(e[Ua]=jP,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(c0)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ga(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?bl(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function C4(n){return new ft(3402,!1)}()}_flushAnimations(e,t){const i=new ug,r=[],o=new Map,u=[],c=new Map,f=new Map,d=new Map,m=new Set;this.disabledNodes.forEach(lt=>{m.add(lt);const xt=this.driver.query(lt,".ng-animate-queued",!0);for(let Dt=0;Dt<xt.length;Dt++)m.add(xt[Dt])});const y=this.bodyNode,b=Array.from(this.statesByElement.keys()),D=qP(b,this.collectedEnterElements),K=new Map;let ee=0;D.forEach((lt,xt)=>{const Dt=Kv+ee++;K.set(xt,Dt),lt.forEach(At=>Ga(At,Dt))});const xe=[],_e=new Set,de=new Set;for(let lt=0;lt<this.collectedLeaveElements.length;lt++){const xt=this.collectedLeaveElements[lt],Dt=xt[Ua];Dt&&Dt.setForRemoval&&(xe.push(xt),_e.add(xt),Dt.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(At=>_e.add(At)):de.add(xt))}const me=new Map,Ne=qP(b,Array.from(_e));Ne.forEach((lt,xt)=>{const Dt=Qp+ee++;me.set(xt,Dt),lt.forEach(At=>Ga(At,Dt))}),e.push(()=>{D.forEach((lt,xt)=>{const Dt=K.get(xt);lt.forEach(At=>oh(At,Dt))}),Ne.forEach((lt,xt)=>{const Dt=me.get(xt);lt.forEach(At=>oh(At,Dt))}),xe.forEach(lt=>{this.processLeaveNode(lt)})});const Be=[],We=[];for(let lt=this._namespaceList.length-1;lt>=0;lt--)this._namespaceList[lt].drainQueuedTransitions(t).forEach(Dt=>{const At=Dt.player,Oi=Dt.element;if(Be.push(At),this.collectedEnterElements.length){const xr=Oi[Ua];if(xr&&xr.setForMove){if(xr.previousTriggersValues&&xr.previousTriggersValues.has(Dt.triggerName)){const lu=xr.previousTriggersValues.get(Dt.triggerName),ns=this.statesByElement.get(Dt.element);if(ns&&ns.has(Dt.triggerName)){const al=ns.get(Dt.triggerName);al.value=lu,ns.set(Dt.triggerName,al)}}return void At.destroy()}}const Xi=!y||!this.driver.containsElement(y,Oi),Ui=me.get(Oi),Vn=K.get(Oi),vn=this._buildInstruction(Dt,i,Vn,Ui,Xi);if(vn.errors&&vn.errors.length)return void We.push(vn);if(Xi)return At.onStart(()=>ic(Oi,vn.fromStyles)),At.onDestroy(()=>Au(Oi,vn.toStyles)),void r.push(At);if(Dt.isFallbackTransition)return At.onStart(()=>ic(Oi,vn.fromStyles)),At.onDestroy(()=>Au(Oi,vn.toStyles)),void r.push(At);const Er=[];vn.timelines.forEach(xr=>{xr.stretchStartingKeyframe=!0,this.disabledNodes.has(xr.element)||Er.push(xr)}),vn.timelines=Er,i.append(Oi,vn.timelines),u.push({instruction:vn,player:At,element:Oi}),vn.queriedElements.forEach(xr=>Ca(c,xr,[]).push(At)),vn.preStyleProps.forEach((xr,lu)=>{if(xr.size){let ns=f.get(lu);ns||f.set(lu,ns=new Set),xr.forEach((al,Sl)=>ns.add(Sl))}}),vn.postStyleProps.forEach((xr,lu)=>{let ns=d.get(lu);ns||d.set(lu,ns=new Set),xr.forEach((al,Sl)=>ns.add(Sl))})});if(We.length){const lt=[];We.forEach(xt=>{lt.push(function E4(n,e){return new ft(3505,!1)}())}),Be.forEach(xt=>xt.destroy()),this.reportError(lt)}const Ye=new Map,et=new Map;u.forEach(lt=>{const xt=lt.element;i.has(xt)&&(et.set(xt,xt),this._beforeAnimationBuild(lt.player.namespaceId,lt.instruction,Ye))}),r.forEach(lt=>{const xt=lt.element;this._getPreviousPlayers(xt,!1,lt.namespaceId,lt.triggerName,null).forEach(At=>{Ca(Ye,xt,[]).push(At),At.destroy()})});const Fe=xe.filter(lt=>WP(lt,f,d)),Ht=new Map;GP(Ht,this.driver,de,d,Ku).forEach(lt=>{WP(lt,f,d)&&Fe.push(lt)});const rn=new Map;D.forEach((lt,xt)=>{GP(rn,this.driver,new Set(lt),f,iv)}),Fe.forEach(lt=>{const xt=Ht.get(lt),Dt=rn.get(lt);Ht.set(lt,new Map([...Array.from(xt?.entries()??[]),...Array.from(Dt?.entries()??[])]))});const un=[],wt=[],Kt={};u.forEach(lt=>{const{element:xt,player:Dt,instruction:At}=lt;if(i.has(xt)){if(m.has(xt))return Dt.onDestroy(()=>Au(xt,At.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(At.totalTime),void r.push(Dt);let Oi=Kt;if(et.size>1){let Ui=xt;const Vn=[];for(;Ui=Ui.parentNode;){const vn=et.get(Ui);if(vn){Oi=vn;break}Vn.push(Ui)}Vn.forEach(vn=>et.set(vn,Oi))}const Xi=this._buildAnimation(Dt.namespaceId,At,Ye,o,rn,Ht);if(Dt.setRealPlayer(Xi),Oi===Kt)un.push(Dt);else{const Ui=this.playersByElement.get(Oi);Ui&&Ui.length&&(Dt.parentPlayer=bl(Ui)),r.push(Dt)}}else ic(xt,At.fromStyles),Dt.onDestroy(()=>Au(xt,At.toStyles)),wt.push(Dt),m.has(xt)&&r.push(Dt)}),wt.forEach(lt=>{const xt=o.get(lt.element);if(xt&&xt.length){const Dt=bl(xt);lt.setRealPlayer(Dt)}}),r.forEach(lt=>{lt.parentPlayer?lt.syncPlayerEvents(lt.parentPlayer):lt.destroy()});for(let lt=0;lt<xe.length;lt++){const xt=xe[lt],Dt=xt[Ua];if(oh(xt,Qp),Dt&&Dt.hasAnimation)continue;let At=[];if(c.size){let Xi=c.get(xt);Xi&&Xi.length&&At.push(...Xi);let Ui=this.driver.query(xt,Qv,!0);for(let Vn=0;Vn<Ui.length;Vn++){let vn=c.get(Ui[Vn]);vn&&vn.length&&At.push(...vn)}}const Oi=At.filter(Xi=>!Xi.destroyed);Oi.length?DU(this,xt,Oi):this.processLeaveNode(xt)}return xe.length=0,un.forEach(lt=>{this.players.push(lt),lt.onDone(()=>{lt.destroy();const xt=this.players.indexOf(lt);this.players.splice(xt,1)}),lt.play()}),un}elementContainsData(e,t){let i=!1;const r=t[Ua];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let u=[];if(t){const c=this.playersByQueriedElement.get(e);c&&(u=c)}else{const c=this.playersByElement.get(e);if(c){const f=!o||o==Pf;c.forEach(d=>{d.queued||!f&&d.triggerName!=r||u.push(d)})}}return(i||r)&&(u=u.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),u}_beforeAnimationBuild(e,t,i){const o=t.element,u=t.isRemovalTransition?void 0:e,c=t.isRemovalTransition?void 0:t.triggerName;for(const f of t.timelines){const d=f.element,m=d!==o,y=Ca(i,d,[]);this._getPreviousPlayers(d,m,u,c,t.toState).forEach(D=>{const K=D.getRealPlayer();K.beforeDestroy&&K.beforeDestroy(),D.destroy(),y.push(D)})}ic(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,u){const c=t.triggerName,f=t.element,d=[],m=new Set,y=new Set,b=t.timelines.map(K=>{const ee=K.element;m.add(ee);const xe=ee[Ua];if(xe&&xe.removedBeforeQueried)return new df(K.duration,K.delay);const _e=ee!==f,de=function MU(n){const e=[];return $P(n,e),e}((i.get(ee)||vU).map(Ye=>Ye.getRealPlayer())).filter(Ye=>!!Ye.element&&Ye.element===ee),me=o.get(ee),Ne=u.get(ee),Be=yP(0,this._normalizer,0,K.keyframes,me,Ne),We=this._buildPlayer(K,Be,de);if(K.subTimeline&&r&&y.add(ee),_e){const Ye=new d0(e,c,ee);Ye.setRealPlayer(We),d.push(Ye)}return We});d.forEach(K=>{Ca(this.playersByQueriedElement,K.element,[]).push(K),K.onDone(()=>function EU(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,K.element,K))}),m.forEach(K=>Ga(K,MP));const D=bl(b);return D.onDestroy(()=>{m.forEach(K=>oh(K,MP)),Au(f,t.toStyles)}),y.forEach(K=>{Ca(r,K,[]).push(D)}),D}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new df(e.duration,e.delay)}}class d0{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new df,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>qv(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ca(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function hg(n){return n&&1===n.nodeType}function UP(n,e){const t=n.style.display;return n.style.display=e??"none",t}function GP(n,e,t,i,r){const o=[];t.forEach(f=>o.push(UP(f)));const u=[];i.forEach((f,d)=>{const m=new Map;f.forEach(y=>{const b=e.computeStyle(d,y,r);m.set(y,b),(!b||0==b.length)&&(d[Ua]=bU,u.push(d))}),n.set(d,m)});let c=0;return t.forEach(f=>UP(f,o[c++])),u}function qP(n,e){const t=new Map;if(n.forEach(c=>t.set(c,[])),0==e.length)return t;const i=1,r=new Set(e),o=new Map;function u(c){if(!c)return i;let f=o.get(c);if(f)return f;const d=c.parentNode;return f=t.has(d)?d:r.has(d)?i:u(d),o.set(c,f),f}return e.forEach(c=>{const f=u(c);f!==i&&t.get(f).push(c)}),t}function Ga(n,e){n.classList?.add(e)}function oh(n,e){n.classList?.remove(e)}function DU(n,e,t){bl(t).onDone(()=>n.processLeaveNode(e))}function $P(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof ED?$P(i.players,e):e.push(i)}}function WP(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class fg{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new CU(e,t,i),this._timelineEngine=new pU(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const u=e+"-"+r;let c=this._triggerCache[u];if(!c){const f=[],d=[],m=n0(this._driver,o,f,d);if(f.length)throw function f4(n,e){return new ft(3404,!1)}();c=function cU(n,e,t){return new hU(n,e,t)}(r,m,this._normalizer),this._triggerCache[u]=c}this._transitionEngine.registerTrigger(t,r,c)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,u]=vP(i);this._timelineEngine.command(o,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[u,c]=vP(i);return this._timelineEngine.listen(u,t,c,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let TU=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Au(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Au(this._element,this._initialStyles),this._endStyles&&(Au(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ic(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ic(this._element,this._endStyles),this._endStyles=null),Au(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function p0(n){let e=null;return n.forEach((t,i)=>{(function AU(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class ZP{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:OP(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class LU{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return EP(e,t)}getParentElement(e){return Yv(e)}query(e,t,i){return xP(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,u=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(f.easing=o);const d=new Map,m=u.filter(D=>D instanceof ZP);(function N4(n,e){return 0===n||0===e})(i,r)&&m.forEach(D=>{D.currentSnapshot.forEach((K,ee)=>d.set(ee,K))});let y=function L4(n){return n.length?n[0]instanceof Map?n:n.map(e=>PP(e)):[]}(t).map(D=>wl(D));y=function F4(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<e.length;o++){let u=e[o];r.forEach(c=>u.set(c,OP(n,c)))}}return e}(e,y,d);const b=function IU(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=p0(e[0]),e.length>1&&(i=p0(e[e.length-1]))):e instanceof Map&&(t=p0(e)),t||i?new TU(n,t,i):null}(e,y);return new ZP(e,y,f,b)}}let OU=(()=>{class n extends _D{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:hn.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?vD(t):t;return YP(this._renderer,null,i,"register",[r]),new kU(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(st(kh),st(Bn))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})();class kU extends b5{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new RU(this._id,e,t||{},this._renderer)}}class RU{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return YP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function YP(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const XP="@.disabled";let NU=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const c=u?.parentNode(o);c&&u.removeChild(c,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let m=this._rendererCache.get(o);return m||(m=new KP("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,m)),m}const u=i.id,c=i.id+"-"+this._currentId;this._currentId++,this.engine.register(c,t);const f=m=>{Array.isArray(m)?m.forEach(f):this.engine.registerTrigger(u,c,t,m.name,m)};return i.data.animation.forEach(f),new FU(this,c,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,c]=o;u(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(st(kh),st(fg),st(bi))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})();class KP{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==XP?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class FU extends KP{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==XP?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function BU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function VU(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(e,t,i)}}const QP=[{provide:_D,useClass:OU},{provide:u0,useFactory:function HU(){return new sU}},{provide:fg,useClass:(()=>{class n extends fg{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(st(Bn),st(Xv),st(u0),st(Yh))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac}),n})()},{provide:kh,useFactory:function jU(n,e,t){return new NU(n,e,t)},deps:[cp,fg,bi]}],g0=[{provide:Xv,useFactory:()=>new LU},{provide:Iu,useValue:"BrowserAnimations"},...QP],JP=[{provide:Xv,useClass:SP},{provide:Iu,useValue:"NoopAnimations"},...QP];let UU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?JP:g0}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({providers:g0,imports:[LS]}),n})();function m0(n,e,t){const i=P(n)||e||t?{next:n,error:e,complete:t}:n;return i?$e((r,o)=>{var u;null===(u=i.subscribe)||void 0===u||u.call(i);let c=!0;r.subscribe(Ke(o,f=>{var d;null===(d=i.next)||void 0===d||d.call(i,f),o.next(f)},()=>{var f;c=!1,null===(f=i.complete)||void 0===f||f.call(i),o.complete()},f=>{var d;c=!1,null===(d=i.error)||void 0===d||d.call(i,f),o.error(f)},()=>{var f,d;c&&(null===(f=i.unsubscribe)||void 0===f||f.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):Te}const $U=["*"];let pg;function If(n){return function WU(){if(void 0===pg&&(pg=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(pg=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return pg}()?.createHTML(n)||n}function eI(n){return Error(`Unable to find icon with the name "${n}"`)}function tI(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function nI(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class oc{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let gg=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new oc(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const u=this._sanitizer.sanitize(Yi.HTML,r);if(!u)throw nI(r);const c=If(u);return this._addSvgIconConfig(t,i,new oc("",c,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new oc(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(Yi.HTML,i);if(!o)throw nI(i);const u=If(o);return this._addSvgIconSetConfig(t,new oc("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(Yi.RESOURCE_URL,t);if(!i)throw tI(t);const r=this._cachedIconsByUrl.get(i);return r?Zu(mg(r)):this._loadSvgIconFromConfig(new oc(t,null)).pipe(m0(o=>this._cachedIconsByUrl.set(i,o)),ae(o=>mg(o)))}getNamedSvgIcon(t,i=""){const r=iI(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):function GU(n,e){const t=P(n)?n:()=>n,i=r=>r.error(t());return new ve(e?r=>e.schedule(i,0,r):i)}(eI(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Zu(mg(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(ae(i=>mg(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Zu(r):TD(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Bv(c=>{const d=`Loading icon set URL: ${this._sanitizer.sanitize(Yi.RESOURCE_URL,u.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(d)),Zu(null)})))).pipe(ae(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw eI(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(u,t,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(m0(i=>t.svgText=i),ae(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Zu(null):this._fetchIcon(t).pipe(m0(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const c=this._svgElementFromString(If("<svg></svg>"));return c.appendChild(u),this._setSvgAttributes(c,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(If("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:u,value:c}=r[o];"id"!==u&&i.setAttribute(u,c)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function ZU(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(Yi.RESOURCE_URL,i);if(!u)throw tI(i);const c=this._inProgressUrlFetches.get(u);if(c)return c;const f=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe(ae(d=>If(d)),function qU(n){return $e((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>this._inProgressUrlFetches.delete(u)),du());return this._inProgressUrlFetches.set(u,f),f}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(iI(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return XU(o)?new oc(o.url,null,o.options):new oc(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(st(Kp,8),st(By),st(Bn,8),st(ju))},n.\u0275prov=Mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mg(n){return n.cloneNode(!0)}function iI(n,e){return n+":"+e}function XU(n){return!(!n.url||!n.options)}const KU=vp(class{constructor(n){this._elementRef=n}}),QU=new St("MAT_ICON_DEFAULT_OPTIONS"),JU=new St("mat-icon-location",{providedIn:"root",factory:function e6(){const n=Yo(Bn),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),rI=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],t6=rI.map(n=>`[${n}]`).join(", "),n6=/^url\(['"]?#(.*?)['"]?\)$/;let i6=(()=>{class n extends KU{constructor(t,i,r,o,u,c){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=E.EMPTY,c&&(c.color&&(this.color=this.defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=wa(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(t6),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)rI.forEach(u=>{const c=i[o],f=c.getAttribute(u),d=f?f.match(n6):null;if(d){let m=r.get(c);m||(m=[],r.set(c,m)),m.push({name:u,value:d[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Yu(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(Je(br),Je(gg),_c("aria-hidden"),Je(JU),Je(ju),Je(QU,8))},n.\u0275cmp=Pr({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(So("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Ss("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[On],ngContentSelectors:$U,decls:1,vars:0,template:function(t,i){1&t&&(Vh(),Va(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),r6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({imports:[Vs,Vs]}),n})(),o6=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Pr({type:n,selectors:[["app-loading-spinner"]],decls:13,vars:0,consts:[[1,"sk-circle"],[1,"sk-circle1","sk-child"],[1,"sk-circle2","sk-child"],[1,"sk-circle3","sk-child"],[1,"sk-circle4","sk-child"],[1,"sk-circle5","sk-child"],[1,"sk-circle6","sk-child"],[1,"sk-circle7","sk-child"],[1,"sk-circle8","sk-child"],[1,"sk-circle9","sk-child"],[1,"sk-circle10","sk-child"],[1,"sk-circle11","sk-child"],[1,"sk-circle12","sk-child"]],template:function(t,i){1&t&&(Ft(0,"div",0),es(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12),zt())},styles:['.sk-circle[_ngcontent-%COMP%]{margin:100px auto;width:35px;height:35px;position:relative}.sk-circle[_ngcontent-%COMP%]   .sk-child[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0}.sk-circle[_ngcontent-%COMP%]   .sk-child[_ngcontent-%COMP%]:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:#333;border-radius:100%;animation:_ngcontent-%COMP%_sk-circleBounceDelay 1.2s infinite ease-in-out both}.sk-circle[_ngcontent-%COMP%]   .sk-circle2[_ngcontent-%COMP%]{transform:rotate(30deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle3[_ngcontent-%COMP%]{transform:rotate(60deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle4[_ngcontent-%COMP%]{transform:rotate(90deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle5[_ngcontent-%COMP%]{transform:rotate(120deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle6[_ngcontent-%COMP%]{transform:rotate(150deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle7[_ngcontent-%COMP%]{transform:rotate(180deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle8[_ngcontent-%COMP%]{transform:rotate(210deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle9[_ngcontent-%COMP%]{transform:rotate(240deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle10[_ngcontent-%COMP%]{transform:rotate(270deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle11[_ngcontent-%COMP%]{transform:rotate(300deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle12[_ngcontent-%COMP%]{transform:rotate(330deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle2[_ngcontent-%COMP%]:before{animation-delay:-1.1s}.sk-circle[_ngcontent-%COMP%]   .sk-circle3[_ngcontent-%COMP%]:before{animation-delay:-1s}.sk-circle[_ngcontent-%COMP%]   .sk-circle4[_ngcontent-%COMP%]:before{animation-delay:-.9s}.sk-circle[_ngcontent-%COMP%]   .sk-circle5[_ngcontent-%COMP%]:before{animation-delay:-.8s}.sk-circle[_ngcontent-%COMP%]   .sk-circle6[_ngcontent-%COMP%]:before{animation-delay:-.7s}.sk-circle[_ngcontent-%COMP%]   .sk-circle7[_ngcontent-%COMP%]:before{animation-delay:-.6s}.sk-circle[_ngcontent-%COMP%]   .sk-circle8[_ngcontent-%COMP%]:before{animation-delay:-.5s}.sk-circle[_ngcontent-%COMP%]   .sk-circle9[_ngcontent-%COMP%]:before{animation-delay:-.4s}.sk-circle[_ngcontent-%COMP%]   .sk-circle10[_ngcontent-%COMP%]:before{animation-delay:-.3s}.sk-circle[_ngcontent-%COMP%]   .sk-circle11[_ngcontent-%COMP%]:before{animation-delay:-.2s}.sk-circle[_ngcontent-%COMP%]   .sk-circle12[_ngcontent-%COMP%]:before{animation-delay:-.1s}@keyframes _ngcontent-%COMP%_sk-circleBounceDelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}']}),n})();var Hs=6371008.8,oI={centimeters:100*Hs,centimetres:100*Hs,degrees:Hs/111325,feet:3.28084*Hs,inches:39.37*Hs,kilometers:Hs/1e3,kilometres:Hs/1e3,meters:Hs,metres:Hs,miles:Hs/1609.344,millimeters:1e3*Hs,millimetres:1e3*Hs,nauticalmiles:Hs/1852,radians:1,yards:1.0936*Hs};function il(n,e,t){void 0===t&&(t={});var i={type:"Feature"};return(0===t.id||t.id)&&(i.id=t.id),t.bbox&&(i.bbox=t.bbox),i.properties=e||{},i.geometry=n,i}function Cl(n,e,t){if(void 0===t&&(t={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!y0(n[0])||!y0(n[1]))throw new Error("coordinates must contain numbers");return il({type:"Point",coordinates:n},e,t)}function _g(n,e,t){void 0===t&&(t={});for(var i=0,r=n;i<r.length;i++){var o=r[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var u=0;u<o[o.length-1].length;u++)if(o[o.length-1][u]!==o[0][u])throw new Error("First and last Position are not equivalent.")}return il({type:"Polygon",coordinates:n},e,t)}function vg(n){return n%360*Math.PI/180}function y0(n){return!isNaN(n)&&null!==n&&!Array.isArray(n)}function Tf(n,e,t){if(null!==n)for(var i,r,o,u,c,f,d,b,m=0,y=0,D=n.type,K="FeatureCollection"===D,ee="Feature"===D,xe=K?n.features.length:1,_e=0;_e<xe;_e++){c=(b=!!(d=K?n.features[_e].geometry:ee?n.geometry:n)&&"GeometryCollection"===d.type)?d.geometries.length:1;for(var de=0;de<c;de++){var me=0,Ne=0;if(null!==(u=b?d.geometries[de]:d)){f=u.coordinates;var Be=u.type;switch(m=!t||"Polygon"!==Be&&"MultiPolygon"!==Be?0:1,Be){case null:break;case"Point":if(!1===e(f,y,_e,me,Ne))return!1;y++,me++;break;case"LineString":case"MultiPoint":for(i=0;i<f.length;i++){if(!1===e(f[i],y,_e,me,Ne))return!1;y++,"MultiPoint"===Be&&me++}"LineString"===Be&&me++;break;case"Polygon":case"MultiLineString":for(i=0;i<f.length;i++){for(r=0;r<f[i].length-m;r++){if(!1===e(f[i][r],y,_e,me,Ne))return!1;y++}"MultiLineString"===Be&&me++,"Polygon"===Be&&Ne++}"Polygon"===Be&&me++;break;case"MultiPolygon":for(i=0;i<f.length;i++){for(Ne=0,r=0;r<f[i].length;r++){for(o=0;o<f[i][r].length-m;o++){if(!1===e(f[i][r][o],y,_e,me,Ne))return!1;y++}Ne++}me++}break;case"GeometryCollection":for(i=0;i<u.geometries.length;i++)if(!1===Tf(u.geometries[i],e,t))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function cI(n,e){var t,i,r,o,u,c,f,d,m,y,b=0,D="FeatureCollection"===n.type,K="Feature"===n.type,ee=D?n.features.length:1;for(t=0;t<ee;t++){for(d=D?n.features[t].properties:K?n.properties:{},m=D?n.features[t].bbox:K?n.bbox:void 0,y=D?n.features[t].id:K?n.id:void 0,u=(f=!!(c=D?n.features[t].geometry:K?n.geometry:n)&&"GeometryCollection"===c.type)?c.geometries.length:1,r=0;r<u;r++)if(null!==(o=f?c.geometries[r]:c))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,b,d,m,y))return!1;break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)if(!1===e(o.geometries[i],b,d,m,y))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,b,d,m,y))return!1;b++}}function v0(n){var e=[1/0,1/0,-1/0,-1/0];return Tf(n,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}v0.default=v0;const g6=v0;function b0(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if("Feature"===n.type&&null!==n.geometry&&"Point"===n.geometry.type)return n.geometry.coordinates;if("Point"===n.type)return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function pI(n,e,t){if(void 0===t&&(t={}),!n)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=b0(n),r=function y6(n){return"Feature"===n.type?n.geometry:n}(e),o=r.type,u=e.bbox,c=r.coordinates;if(u&&!1===function P6(n,e){return e[0]<=n[0]&&e[1]<=n[1]&&e[2]>=n[0]&&e[3]>=n[1]}(i,u))return!1;"Polygon"===o&&(c=[c]);for(var f=!1,d=0;d<c.length&&!f;d++)if(gI(i,c[d][0],t.ignoreBoundary)){for(var m=!1,y=1;y<c[d].length&&!m;)gI(i,c[d][y],!t.ignoreBoundary)&&(m=!0),y++;m||(f=!0)}return f}function gI(n,e,t){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,o=e.length-1;r<e.length;o=r++){var u=e[r][0],c=e[r][1],f=e[o][0],d=e[o][1];if(n[1]*(u-f)+c*(f-n[0])+d*(n[0]-u)==0&&(u-n[0])*(f-n[0])<=0&&(c-n[1])*(d-n[1])<=0)return!t;c>n[1]!=d>n[1]&&n[0]<(f-u)*(n[1]-c)/(d-c)+u&&(i=!i)}return i}j(5943),j(1335);const T6=function I6(n,e,t){void 0===t&&(t={});var i=b0(n),r=b0(e),o=vg(r[1]-i[1]),u=vg(r[0]-i[0]),c=vg(i[1]),f=vg(r[1]),d=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(c)*Math.cos(f);return function uI(n,e){void 0===e&&(e="kilometers");var t=oI[e];if(!t)throw new Error(e+" units is invalid");return n*t}(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),t.units)};var _I=new ArrayBuffer(16);new Float64Array(_I),new Uint32Array(_I),j(3544),function(){function n(e){this.points=e.points||[],this.duration=e.duration||1e4,this.sharpness=e.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=e.stepLength||60,this.length=this.points.length,this.delay=0;for(var t=0;t<this.length;t++)this.points[t].z=this.points[t].z||0;for(t=0;t<this.length-1;t++){var i=this.points[t],r=this.points[t+1];this.centers.push({x:(i.x+r.x)/2,y:(i.y+r.y)/2,z:(i.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),t=0;t<this.centers.length-1;t++){var o=this.points[t+1].x-(this.centers[t].x+this.centers[t+1].x)/2,u=this.points[t+1].y-(this.centers[t].y+this.centers[t+1].y)/2,c=this.points[t+1].z-(this.centers[t].y+this.centers[t+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t].x+o),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t].y+u),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t].z+c)},{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t+1].x+o),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t+1].y+u),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t+1].z+c)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}n.prototype.cacheSteps=function(e){var t=[],i=this.pos(0);t.push(0);for(var r=0;r<this.duration;r+=10){var o=this.pos(r);Math.sqrt((o.x-i.x)*(o.x-i.x)+(o.y-i.y)*(o.y-i.y)+(o.z-i.z)*(o.z-i.z))>e&&(t.push(r),i=o)}return t},n.prototype.vector=function(e){var t=this.pos(e+10),i=this.pos(e-10);return{angle:180*Math.atan2(t.y-i.y,t.x-i.x)/3.14,speed:Math.sqrt((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y)+(i.z-t.z)*(i.z-t.z))}},n.prototype.pos=function(e){var t=e-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);var i=t/this.duration;if(i>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*i);return function $6(n,e,t,i,r){var o=function W6(n){var e=n*n;return[e*n,3*e*(1-n),3*n*(1-n)*(1-n),(1-n)*(1-n)*(1-n)]}(n);return{x:r.x*o[0]+i.x*o[1]+t.x*o[2]+e.x*o[3],y:r.y*o[0]+i.y*o[1]+t.y*o[2]+e.y*o[3],z:r.z*o[0]+i.z*o[1]+t.z*o[2]+e.z*o[3]}}((this.length-1)*i-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])}}();const EI=function X6(n){return function Y6(n,e){void 0===e&&(e={});var t=Number(n[0]),i=Number(n[1]),r=Number(n[2]),o=Number(n[3]);if(6===n.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var u=[t,i];return _g([[u,[r,i],[r,o],[t,o],u]],e.properties,{bbox:n,id:e.id})}(g6(n))};j(5469),j(5406);var PI=6378137;function II(n){var e=0;if(n&&n.length>0){e+=Math.abs(TI(n[0]));for(var t=1;t<n.length;t++)e-=Math.abs(TI(n[t]))}return e}function TI(n){var e,t,r,o,u,c,f=0,d=n.length;if(d>2){for(c=0;c<d;c++)c===d-2?(r=d-2,o=d-1,u=0):c===d-1?(r=d-1,o=0,u=1):(r=c,o=c+1,u=c+2),e=n[r],t=n[o],f+=(M0(n[u][0])-M0(e[0]))*Math.sin(M0(t[1]));f=f*PI*PI/2}return f}function M0(n){return n*Math.PI/180}var RI=Math.PI/180,NI=180/Math.PI,Of=function(n,e){this.lon=n,this.lat=e,this.x=RI*n,this.y=RI*e};Of.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Of.prototype.antipode=function(){return new Of(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var FI=function(){this.coords=[],this.length=0};FI.prototype.move_to=function(n){this.length++,this.coords.push(n)};var P0=function(n){this.properties=n||{},this.geometries=[]};P0.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var n=[],e=0;e<this.geometries.length;e++)n.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:n},type:"Feature",properties:this.properties}},P0.prototype.wkt=function(){for(var n="",e="LINESTRING(",t=function(o){e+=o[0]+" "+o[1]+","},i=0;i<this.geometries.length;i++){if(0===this.geometries[i].coords.length)return"LINESTRING(empty)";this.geometries[i].coords.forEach(t),n+=e.substring(0,e.length-1)+")"}return n};var I0=function(n,e,t){if(!n||void 0===n.x||void 0===n.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Of(n.x,n.y),this.end=new Of(e.x,e.y),this.properties=t||{};var i=this.start.x-this.end.x,o=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(i/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+n.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+n+" and "+e)};I0.prototype.interpolate=function(n){var e=Math.sin((1-n)*this.g)/Math.sin(this.g),t=Math.sin(n*this.g)/Math.sin(this.g),i=e*Math.cos(this.start.y)*Math.cos(this.start.x)+t*Math.cos(this.end.y)*Math.cos(this.end.x),r=e*Math.cos(this.start.y)*Math.sin(this.start.x)+t*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+t*Math.sin(this.end.y),u=NI*Math.atan2(o,Math.sqrt(Math.pow(i,2)+Math.pow(r,2)));return[NI*Math.atan2(r,i),u]},I0.prototype.Arc=function(n,e){var t=[];if(!n||n<=2)t.push([this.start.lon,this.start.lat]),t.push([this.end.lon,this.end.lat]);else for(var i=1/(n-1),r=0;r<n;++r){var u=this.interpolate(i*r);t.push(u)}for(var c=!1,f=0,d=e&&e.offset?e.offset:10,m=180-d,y=-180+d,b=360-d,D=1;D<t.length;++D){var K=t[D-1][0],ee=t[D][0],xe=Math.abs(ee-K);xe>b&&(ee>m&&K<y||K>m&&ee<y)?c=!0:xe>f&&(f=xe)}var _e=[];if(c&&f<d){var de=[];_e.push(de);for(var me=0;me<t.length;++me){var Ne=parseFloat(t[me][0]);if(me>0&&Math.abs(Ne-t[me-1][0])>b){var Be=parseFloat(t[me-1][0]),We=parseFloat(t[me-1][1]),Ye=parseFloat(t[me][0]),et=parseFloat(t[me][1]);if(Be>-180&&Be<y&&180===Ye&&me+1<t.length&&t[me-1][0]>-180&&t[me-1][0]<y){de.push([-180,t[me][1]]),me++,de.push([t[me][0],t[me][1]]);continue}if(Be>m&&Be<180&&-180===Ye&&me+1<t.length&&t[me-1][0]>m&&t[me-1][0]<180){de.push([180,t[me][1]]),me++,de.push([t[me][0],t[me][1]]);continue}if(Be<y&&Ye>m){var Fe=Be;Be=Ye,Ye=Fe;var Ht=We;We=et,et=Ht}if(Be>m&&Ye<y&&(Ye+=360),Be<=180&&Ye>=180&&Be<Ye){var Pt=(180-Be)/(Ye-Be),rn=Pt*et+(1-Pt)*We;de.push([t[me-1][0]>m?180:-180,rn]),(de=[]).push([t[me-1][0]>m?-180:180,rn]),_e.push(de)}else _e.push(de=[]);de.push([Ne,t[me][1]])}else de.push([t[me][0],t[me][1]])}}else{var un=[];_e.push(un);for(var wt=0;wt<t.length;++wt)un.push([t[wt][0],t[wt][1]])}for(var Kt=new P0(this.properties),lt=0;lt<_e.length;++lt){var xt=new FI;Kt.geometries.push(xt);for(var Dt=_e[lt],At=0;At<Dt.length;++At)xt.move_to(Dt[At])}return Kt},j(6952);var jn=[],Un=[],Gn=[],qn=[],$n=[],Wn=[],Zn=[],Yn=[],Xn=[],Kn=[],Qn=[],Jn=[],ei=[],ti=[],ni=[],ii=[],ri=[],oi=[],si=[],ai=[],ui=[],li=[],ci=[],hi=[];Zn[85]=Kn[85]=-1,Yn[85]=Qn[85]=0,Xn[85]=Jn[85]=1,si[85]=li[85]=1,ai[85]=ci[85]=0,ui[85]=hi[85]=1,jn[85]=qn[85]=0,Un[85]=$n[85]=-1,Gn[85]=ni[85]=0,ii[85]=ei[85]=0,ri[85]=ti[85]=1,Wn[85]=oi[85]=1,li[1]=li[169]=0,ci[1]=ci[169]=-1,hi[1]=hi[169]=0,ei[1]=ei[169]=-1,ti[1]=ti[169]=0,ni[1]=ni[169]=0,Kn[4]=Kn[166]=0,Qn[4]=Qn[166]=-1,Jn[4]=Jn[166]=1,ii[4]=ii[166]=1,ri[4]=ri[166]=0,oi[4]=oi[166]=0,Zn[16]=Zn[154]=0,Yn[16]=Yn[154]=1,Xn[16]=Xn[154]=1,qn[16]=qn[154]=1,$n[16]=$n[154]=0,Wn[16]=Wn[154]=1,si[64]=si[106]=0,ai[64]=ai[106]=1,ui[64]=ui[106]=0,jn[64]=jn[106]=-1,Un[64]=Un[106]=0,Gn[64]=Gn[106]=1,si[2]=si[168]=0,ai[2]=ai[168]=-1,ui[2]=ui[168]=1,li[2]=li[168]=0,ci[2]=ci[168]=-1,hi[2]=hi[168]=0,ei[2]=ei[168]=-1,ti[2]=ti[168]=0,ni[2]=ni[168]=0,ii[2]=ii[168]=-1,ri[2]=ri[168]=0,oi[2]=oi[168]=1,Zn[8]=Zn[162]=0,Yn[8]=Yn[162]=-1,Xn[8]=Xn[162]=0,Kn[8]=Kn[162]=0,Qn[8]=Qn[162]=-1,Jn[8]=Jn[162]=1,ei[8]=ei[162]=1,ti[8]=ti[162]=0,ni[8]=ni[162]=1,ii[8]=ii[162]=1,ri[8]=ri[162]=0,oi[8]=oi[162]=0,Zn[32]=Zn[138]=0,Yn[32]=Yn[138]=1,Xn[32]=Xn[138]=1,Kn[32]=Kn[138]=0,Qn[32]=Qn[138]=1,Jn[32]=Jn[138]=0,jn[32]=jn[138]=1,Un[32]=Un[138]=0,Gn[32]=Gn[138]=0,qn[32]=qn[138]=1,$n[32]=$n[138]=0,Wn[32]=Wn[138]=1,li[128]=li[42]=0,ci[128]=ci[42]=1,hi[128]=hi[42]=1,si[128]=si[42]=0,ai[128]=ai[42]=1,ui[128]=ui[42]=0,jn[128]=jn[42]=-1,Un[128]=Un[42]=0,Gn[128]=Gn[42]=1,qn[128]=qn[42]=-1,$n[128]=$n[42]=0,Wn[128]=Wn[42]=0,Kn[5]=Kn[165]=-1,Qn[5]=Qn[165]=0,Jn[5]=Jn[165]=0,li[5]=li[165]=1,ci[5]=ci[165]=0,hi[5]=hi[165]=0,ii[20]=ii[150]=0,ri[20]=ri[150]=1,oi[20]=oi[150]=1,qn[20]=qn[150]=0,$n[20]=$n[150]=-1,Wn[20]=Wn[150]=1,Zn[80]=Zn[90]=-1,Yn[80]=Yn[90]=0,Xn[80]=Xn[90]=1,si[80]=si[90]=1,ai[80]=ai[90]=0,ui[80]=ui[90]=1,ei[65]=ei[105]=0,ti[65]=ti[105]=1,ni[65]=ni[105]=0,jn[65]=jn[105]=0,Un[65]=Un[105]=-1,Gn[65]=Gn[105]=0,Zn[160]=Zn[10]=-1,Yn[160]=Yn[10]=0,Xn[160]=Xn[10]=1,Kn[160]=Kn[10]=-1,Qn[160]=Qn[10]=0,Jn[160]=Jn[10]=0,li[160]=li[10]=1,ci[160]=ci[10]=0,hi[160]=hi[10]=0,si[160]=si[10]=1,ai[160]=ai[10]=0,ui[160]=ui[10]=1,ii[130]=ii[40]=0,ri[130]=ri[40]=1,oi[130]=oi[40]=1,ei[130]=ei[40]=0,ti[130]=ti[40]=1,ni[130]=ni[40]=0,jn[130]=jn[40]=0,Un[130]=Un[40]=-1,Gn[130]=Gn[40]=0,qn[130]=qn[40]=0,$n[130]=$n[40]=-1,Wn[130]=Wn[40]=1,Kn[37]=Kn[133]=0,Qn[37]=Qn[133]=1,Jn[37]=Jn[133]=1,li[37]=li[133]=0,ci[37]=ci[133]=1,hi[37]=hi[133]=0,jn[37]=jn[133]=-1,Un[37]=Un[133]=0,Gn[37]=Gn[133]=0,qn[37]=qn[133]=1,$n[37]=$n[133]=0,Wn[37]=Wn[133]=0,ii[148]=ii[22]=-1,ri[148]=ri[22]=0,oi[148]=oi[22]=0,li[148]=li[22]=0,ci[148]=ci[22]=-1,hi[148]=hi[22]=1,si[148]=si[22]=0,ai[148]=ai[22]=1,ui[148]=ui[22]=1,qn[148]=qn[22]=-1,$n[148]=$n[22]=0,Wn[148]=Wn[22]=1,Zn[82]=Zn[88]=0,Yn[82]=Yn[88]=-1,Xn[82]=Xn[88]=1,ii[82]=ii[88]=1,ri[82]=ri[88]=0,oi[82]=oi[88]=1,ei[82]=ei[88]=-1,ti[82]=ti[88]=0,ni[82]=ni[88]=1,si[82]=si[88]=0,ai[82]=ai[88]=-1,ui[82]=ui[88]=0,Zn[73]=Zn[97]=0,Yn[73]=Yn[97]=1,Xn[73]=Xn[97]=0,Kn[73]=Kn[97]=0,Qn[73]=Qn[97]=-1,Jn[73]=Jn[97]=0,ei[73]=ei[97]=1,ti[73]=ti[97]=0,ni[73]=ni[97]=0,jn[73]=jn[97]=1,Un[73]=Un[97]=0,Gn[73]=Gn[97]=1,Zn[145]=Zn[25]=0,Yn[145]=Yn[25]=-1,Xn[145]=Xn[25]=0,ei[145]=ei[25]=1,ti[145]=ti[25]=0,ni[145]=ni[25]=1,li[145]=li[25]=0,ci[145]=ci[25]=1,hi[145]=hi[25]=1,qn[145]=qn[25]=-1,$n[145]=$n[25]=0,Wn[145]=Wn[25]=0,Kn[70]=Kn[100]=0,Qn[70]=Qn[100]=1,Jn[70]=Jn[100]=0,ii[70]=ii[100]=-1,ri[70]=ri[100]=0,oi[70]=oi[100]=1,si[70]=si[100]=0,ai[70]=ai[100]=-1,ui[70]=ui[100]=1,jn[70]=jn[100]=1,Un[70]=Un[100]=0,Gn[70]=Gn[100]=0,Kn[101]=Kn[69]=0,Qn[101]=Qn[69]=1,Jn[101]=Jn[69]=0,jn[101]=jn[69]=1,Un[101]=Un[69]=0,Gn[101]=Gn[69]=0,li[149]=li[21]=0,ci[149]=ci[21]=1,hi[149]=hi[21]=1,qn[149]=qn[21]=-1,$n[149]=$n[21]=0,Wn[149]=Wn[21]=0,ii[86]=ii[84]=-1,ri[86]=ri[84]=0,oi[86]=oi[84]=1,si[86]=si[84]=0,ai[86]=ai[84]=-1,ui[86]=ui[84]=1,Zn[89]=Zn[81]=0,Yn[89]=Yn[81]=-1,Xn[89]=Xn[81]=0,ei[89]=ei[81]=1,ti[89]=ti[81]=0,ni[89]=ni[81]=1,Zn[96]=Zn[74]=0,Yn[96]=Yn[74]=1,Xn[96]=Xn[74]=0,Kn[96]=Kn[74]=-1,Qn[96]=Qn[74]=0,Jn[96]=Jn[74]=1,si[96]=si[74]=1,ai[96]=ai[74]=0,ui[96]=ui[74]=0,jn[96]=jn[74]=1,Un[96]=Un[74]=0,Gn[96]=Gn[74]=1,Zn[24]=Zn[146]=0,Yn[24]=Yn[146]=-1,Xn[24]=Xn[146]=1,ii[24]=ii[146]=1,ri[24]=ri[146]=0,oi[24]=oi[146]=1,ei[24]=ei[146]=0,ti[24]=ti[146]=1,ni[24]=ni[146]=1,qn[24]=qn[146]=0,$n[24]=$n[146]=-1,Wn[24]=Wn[146]=0,Kn[6]=Kn[164]=-1,Qn[6]=Qn[164]=0,Jn[6]=Jn[164]=1,ii[6]=ii[164]=-1,ri[6]=ri[164]=0,oi[6]=oi[164]=0,li[6]=li[164]=0,ci[6]=ci[164]=-1,hi[6]=hi[164]=1,si[6]=si[164]=1,ai[6]=ai[164]=0,ui[6]=ui[164]=0,ei[129]=ei[41]=0,ti[129]=ti[41]=1,ni[129]=ni[41]=1,li[129]=li[41]=0,ci[129]=ci[41]=1,hi[129]=hi[41]=0,jn[129]=jn[41]=-1,Un[129]=Un[41]=0,Gn[129]=Gn[41]=0,qn[129]=qn[41]=0,$n[129]=$n[41]=-1,Wn[129]=Wn[41]=0,ii[66]=ii[104]=0,ri[66]=ri[104]=1,oi[66]=oi[104]=0,ei[66]=ei[104]=-1,ti[66]=ti[104]=0,ni[66]=ni[104]=1,si[66]=si[104]=0,ai[66]=ai[104]=-1,ui[66]=ui[104]=0,jn[66]=jn[104]=0,Un[66]=Un[104]=-1,Gn[66]=Gn[104]=1,Zn[144]=Zn[26]=-1,Yn[144]=Yn[26]=0,Xn[144]=Xn[26]=0,li[144]=li[26]=1,ci[144]=ci[26]=0,hi[144]=hi[26]=1,si[144]=si[26]=0,ai[144]=ai[26]=1,ui[144]=ui[26]=1,qn[144]=qn[26]=-1,$n[144]=$n[26]=0,Wn[144]=Wn[26]=1,Kn[36]=Kn[134]=0,Qn[36]=Qn[134]=1,Jn[36]=Jn[134]=1,ii[36]=ii[134]=0,ri[36]=ri[134]=1,oi[36]=oi[134]=0,jn[36]=jn[134]=0,Un[36]=Un[134]=-1,Gn[36]=Gn[134]=1,qn[36]=qn[134]=1,$n[36]=$n[134]=0,Wn[36]=Wn[134]=0,Zn[9]=Zn[161]=-1,Yn[9]=Yn[161]=0,Xn[9]=Xn[161]=0,Kn[9]=Kn[161]=0,Qn[9]=Qn[161]=-1,Jn[9]=Jn[161]=0,ei[9]=ei[161]=1,ti[9]=ti[161]=0,ni[9]=ni[161]=0,li[9]=li[161]=1,ci[9]=ci[161]=0,hi[9]=hi[161]=1,Zn[136]=0,Yn[136]=1,Xn[136]=1,Kn[136]=0,Qn[136]=1,Jn[136]=0,ii[136]=-1,ri[136]=0,oi[136]=1,ei[136]=-1,ti[136]=0,ni[136]=0,li[136]=0,ci[136]=-1,hi[136]=0,si[136]=0,ai[136]=-1,ui[136]=1,jn[136]=1,Un[136]=0,Gn[136]=0,qn[136]=1,$n[136]=0,Wn[136]=1,Zn[34]=0,Yn[34]=-1,Xn[34]=0,Kn[34]=0,Qn[34]=-1,Jn[34]=1,ii[34]=1,ri[34]=0,oi[34]=0,ei[34]=1,ti[34]=0,ni[34]=1,li[34]=0,ci[34]=1,hi[34]=1,si[34]=0,ai[34]=1,ui[34]=0,jn[34]=-1,Un[34]=0,Gn[34]=1,qn[34]=-1,$n[34]=0,Wn[34]=0,Zn[35]=0,Yn[35]=1,Xn[35]=1,Kn[35]=0,Qn[35]=-1,Jn[35]=1,ii[35]=1,ri[35]=0,oi[35]=0,ei[35]=-1,ti[35]=0,ni[35]=0,li[35]=0,ci[35]=-1,hi[35]=0,si[35]=0,ai[35]=1,ui[35]=0,jn[35]=-1,Un[35]=0,Gn[35]=1,qn[35]=1,$n[35]=0,Wn[35]=1,Zn[153]=0,Yn[153]=1,Xn[153]=1,ei[153]=-1,ti[153]=0,ni[153]=0,li[153]=0,ci[153]=-1,hi[153]=0,qn[153]=1,$n[153]=0,Wn[153]=1,Kn[102]=0,Qn[102]=-1,Jn[102]=1,ii[102]=1,ri[102]=0,oi[102]=0,si[102]=0,ai[102]=1,ui[102]=0,jn[102]=-1,Un[102]=0,Gn[102]=1,Zn[155]=0,Yn[155]=-1,Xn[155]=0,ei[155]=1,ti[155]=0,ni[155]=1,li[155]=0,ci[155]=1,hi[155]=1,qn[155]=-1,$n[155]=0,Wn[155]=0,Kn[103]=0,Qn[103]=1,Jn[103]=0,ii[103]=-1,ri[103]=0,oi[103]=1,si[103]=0,ai[103]=-1,ui[103]=1,jn[103]=1,Un[103]=0,Gn[103]=0,Zn[152]=0,Yn[152]=1,Xn[152]=1,ii[152]=-1,ri[152]=0,oi[152]=1,ei[152]=-1,ti[152]=0,ni[152]=0,li[152]=0,ci[152]=-1,hi[152]=0,si[152]=0,ai[152]=-1,ui[152]=1,qn[152]=1,$n[152]=0,Wn[152]=1,Zn[156]=0,Yn[156]=-1,Xn[156]=1,ii[156]=1,ri[156]=0,oi[156]=1,ei[156]=-1,ti[156]=0,ni[156]=0,li[156]=0,ci[156]=-1,hi[156]=0,si[156]=0,ai[156]=1,ui[156]=1,qn[156]=-1,$n[156]=0,Wn[156]=1,Zn[137]=0,Yn[137]=1,Xn[137]=1,Kn[137]=0,Qn[137]=1,Jn[137]=0,ei[137]=-1,ti[137]=0,ni[137]=0,li[137]=0,ci[137]=-1,hi[137]=0,jn[137]=1,Un[137]=0,Gn[137]=0,qn[137]=1,$n[137]=0,Wn[137]=1,Zn[139]=0,Yn[139]=1,Xn[139]=1,Kn[139]=0,Qn[139]=-1,Jn[139]=0,ei[139]=1,ti[139]=0,ni[139]=0,li[139]=0,ci[139]=1,hi[139]=0,jn[139]=-1,Un[139]=0,Gn[139]=0,qn[139]=1,$n[139]=0,Wn[139]=1,Zn[98]=0,Yn[98]=-1,Xn[98]=0,Kn[98]=0,Qn[98]=-1,Jn[98]=1,ii[98]=1,ri[98]=0,oi[98]=0,ei[98]=1,ti[98]=0,ni[98]=1,si[98]=0,ai[98]=1,ui[98]=0,jn[98]=-1,Un[98]=0,Gn[98]=1,Zn[99]=0,Yn[99]=1,Xn[99]=0,Kn[99]=0,Qn[99]=-1,Jn[99]=1,ii[99]=1,ri[99]=0,oi[99]=0,ei[99]=-1,ti[99]=0,ni[99]=1,si[99]=0,ai[99]=-1,ui[99]=0,jn[99]=1,Un[99]=0,Gn[99]=1,Kn[38]=0,Qn[38]=-1,Jn[38]=1,ii[38]=1,ri[38]=0,oi[38]=0,li[38]=0,ci[38]=1,hi[38]=1,si[38]=0,ai[38]=1,ui[38]=0,jn[38]=-1,Un[38]=0,Gn[38]=1,qn[38]=-1,$n[38]=0,Wn[38]=0,Kn[39]=0,Qn[39]=1,Jn[39]=1,ii[39]=-1,ri[39]=0,oi[39]=0,li[39]=0,ci[39]=-1,hi[39]=1,si[39]=0,ai[39]=1,ui[39]=0,jn[39]=-1,Un[39]=0,Gn[39]=1,qn[39]=1,$n[39]=0,Wn[39]=0;var O0=function(n){return[[n.bottomleft,0],[0,0],[0,n.leftbottom]]},k0=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0]]},R0=function(n){return[[n.topright,1],[1,1],[1,n.righttop]]},N0=function(n){return[[0,n.lefttop],[0,1],[n.topleft,1]]},F0=function(n){return[[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop]]},B0=function(n){return[[n.bottomright,0],[n.bottomleft,0],[1,n.righttop],[1,n.rightbottom]]},V0=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.topleft,1],[n.topright,1]]},z0=function(n){return[[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]},Vt=[],Rt=[],nn=[],Zt=[],dn=[],an=[],fi=[],wi=[];Zt[1]=dn[1]=18,Zt[169]=dn[169]=18,nn[4]=Rt[4]=12,nn[166]=Rt[166]=12,Vt[16]=wi[16]=4,Vt[154]=wi[154]=4,an[64]=fi[64]=22,an[106]=fi[106]=22,nn[2]=an[2]=17,Zt[2]=dn[2]=18,nn[168]=an[168]=17,Zt[168]=dn[168]=18,Vt[8]=Zt[8]=9,Rt[8]=nn[8]=12,Vt[162]=Zt[162]=9,Rt[162]=nn[162]=12,Vt[32]=wi[32]=4,Rt[32]=fi[32]=1,Vt[138]=wi[138]=4,Rt[138]=fi[138]=1,dn[128]=wi[128]=21,an[128]=fi[128]=22,dn[42]=wi[42]=21,an[42]=fi[42]=22,Rt[5]=dn[5]=14,Rt[165]=dn[165]=14,nn[20]=wi[20]=6,nn[150]=wi[150]=6,Vt[80]=an[80]=11,Vt[90]=an[90]=11,Zt[65]=fi[65]=3,Zt[105]=fi[105]=3,Vt[160]=an[160]=11,Rt[160]=dn[160]=14,Vt[10]=an[10]=11,Rt[10]=dn[10]=14,nn[130]=wi[130]=6,Zt[130]=fi[130]=3,nn[40]=wi[40]=6,Zt[40]=fi[40]=3,Rt[101]=fi[101]=1,Rt[69]=fi[69]=1,dn[149]=wi[149]=21,dn[21]=wi[21]=21,nn[86]=an[86]=17,nn[84]=an[84]=17,Vt[89]=Zt[89]=9,Vt[81]=Zt[81]=9,Vt[96]=fi[96]=0,Rt[96]=an[96]=15,Vt[74]=fi[74]=0,Rt[74]=an[74]=15,Vt[24]=nn[24]=8,Zt[24]=wi[24]=7,Vt[146]=nn[146]=8,Zt[146]=wi[146]=7,Rt[6]=an[6]=15,nn[6]=dn[6]=16,Rt[164]=an[164]=15,nn[164]=dn[164]=16,Zt[129]=wi[129]=7,dn[129]=fi[129]=20,Zt[41]=wi[41]=7,dn[41]=fi[41]=20,nn[66]=fi[66]=2,Zt[66]=an[66]=19,nn[104]=fi[104]=2,Zt[104]=an[104]=19,Vt[144]=dn[144]=10,an[144]=wi[144]=23,Vt[26]=dn[26]=10,an[26]=wi[26]=23,Rt[36]=wi[36]=5,nn[36]=fi[36]=2,Rt[134]=wi[134]=5,nn[134]=fi[134]=2,Vt[9]=dn[9]=10,Rt[9]=Zt[9]=13,Vt[161]=dn[161]=10,Rt[161]=Zt[161]=13,Rt[37]=wi[37]=5,dn[37]=fi[37]=20,Rt[133]=wi[133]=5,dn[133]=fi[133]=20,nn[148]=dn[148]=16,an[148]=wi[148]=23,nn[22]=dn[22]=16,an[22]=wi[22]=23,Vt[82]=nn[82]=8,Zt[82]=an[82]=19,Vt[88]=nn[88]=8,Zt[88]=an[88]=19,Vt[73]=fi[73]=0,Rt[73]=Zt[73]=13,Vt[97]=fi[97]=0,Rt[97]=Zt[97]=13,Vt[145]=Zt[145]=9,dn[145]=wi[145]=21,Vt[25]=Zt[25]=9,dn[25]=wi[25]=21,Rt[70]=fi[70]=1,nn[70]=an[70]=17,Rt[100]=fi[100]=1,nn[100]=an[100]=17,Vt[34]=Zt[34]=9,Rt[34]=nn[34]=12,dn[34]=wi[34]=21,an[34]=fi[34]=22,Vt[136]=wi[136]=4,Rt[136]=fi[136]=1,nn[136]=an[136]=17,Zt[136]=dn[136]=18,Vt[35]=wi[35]=4,Rt[35]=nn[35]=12,Zt[35]=dn[35]=18,an[35]=fi[35]=22,Vt[153]=wi[153]=4,Zt[153]=dn[153]=18,Rt[102]=nn[102]=12,an[102]=fi[102]=22,Vt[155]=Zt[155]=9,dn[155]=wi[155]=23,Rt[103]=fi[103]=1,nn[103]=an[103]=17,Vt[152]=wi[152]=4,nn[152]=an[152]=17,Zt[152]=dn[152]=18,Vt[156]=nn[156]=8,Zt[156]=dn[156]=18,an[156]=wi[156]=23,Vt[137]=wi[137]=4,Rt[137]=fi[137]=1,Zt[137]=dn[137]=18,Vt[139]=wi[139]=4,Rt[139]=Zt[139]=13,dn[139]=fi[139]=20,Vt[98]=Zt[98]=9,Rt[98]=nn[98]=12,an[98]=fi[98]=22,Vt[99]=fi[99]=0,Rt[99]=nn[99]=12,Zt[99]=an[99]=19,Rt[38]=nn[38]=12,dn[38]=wi[38]=21,an[38]=fi[38]=22,Rt[39]=wi[39]=5,nn[39]=dn[39]=16,an[39]=fi[39]=22;var It=[];function U0(n,e,t){return function R9(n){return(n>0)-(n<0)||+n}((e[0]-n[0])*(t[1]-e[1])-(t[0]-e[0])*(e[1]-n[1]))}function JI(n,e){return e.geometry.coordinates[0].every(function(t){return pI(Cl(t),n)})}It[1]=It[169]=O0,It[4]=It[166]=k0,It[16]=It[154]=R0,It[64]=It[106]=N0,It[168]=It[2]=F0,It[162]=It[8]=B0,It[138]=It[32]=V0,It[42]=It[128]=z0,It[5]=It[165]=function(n){return[[0,0],[0,n.leftbottom],[1,n.rightbottom],[1,0]]},It[20]=It[150]=function(n){return[[1,0],[n.bottomright,0],[n.topright,1],[1,1]]},It[80]=It[90]=function(n){return[[1,1],[1,n.righttop],[0,n.lefttop],[0,1]]},It[65]=It[105]=function(n){return[[n.bottomleft,0],[0,0],[0,1],[n.topleft,1]]},It[160]=It[10]=function(n){return[[1,n.righttop],[1,n.rightbottom],[0,n.leftbottom],[0,n.lefttop]]},It[130]=It[40]=function(n){return[[n.topleft,1],[n.topright,1],[n.bottomright,0],[n.bottomleft,0]]},It[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},It[101]=It[69]=function(n){return[[1,n.rightbottom],[1,0],[0,0],[0,1],[n.topleft,1]]},It[149]=It[21]=function(n){return[[n.topright,1],[1,1],[1,0],[0,0],[0,n.leftbottom]]},It[86]=It[84]=function(n){return[[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[1,1]]},It[89]=It[81]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,1]]},It[96]=It[74]=function(n){return[[1,n.righttop],[1,n.rightbottom],[0,n.lefttop],[0,1],[n.topleft,1]]},It[24]=It[146]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[n.topright,1]]},It[6]=It[164]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop]]},It[129]=It[41]=function(n){return[[n.topright,1],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topleft,1]]},It[66]=It[104]=function(n){return[[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1],[n.topleft,1]]},It[144]=It[26]=function(n){return[[1,1],[1,n.righttop],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},It[36]=It[134]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[n.topleft,1],[n.topright,1]]},It[9]=It[161]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,n.leftbottom]]},It[37]=It[133]=function(n){return[[1,n.rightbottom],[1,0],[0,0],[0,n.leftbottom],[n.topleft,1],[n.topright,1]]},It[148]=It[22]=function(n){return[[1,1],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},It[82]=It[88]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1]]},It[73]=It[97]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,1],[n.topleft,1]]},It[145]=It[25]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topright,1]]},It[70]=It[100]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[n.topleft,1]]},It[34]=function(n){return[z0(n),B0(n)]},It[35]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]},It[136]=function(n){return[V0(n),F0(n)]},It[153]=function(n){return[R0(n),O0(n)]},It[102]=function(n){return[k0(n),N0(n)]},It[155]=function(n){return[[1,1],[1,n.righttop],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topright,1]]},It[103]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.lefttop],[0,1],[n.topleft,1]]},It[152]=function(n){return[R0(n),F0(n)]},It[156]=function(n){return[[1,1],[1,n.righttop],[n.bottomright,0],[n.bottomleft,0],[0,n.leftbottom],[0,n.lefttop],[n.topright,1]]},It[137]=function(n){return[V0(n),O0(n)]},It[139]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomleft,0],[0,0],[0,n.leftbottom],[n.topleft,1],[n.topright,1]]},It[98]=function(n){return[B0(n),N0(n)]},It[99]=function(n){return[[1,n.righttop],[1,n.rightbottom],[n.bottomright,0],[n.bottomleft,0],[0,n.lefttop],[0,1],[n.topleft,1]]},It[38]=function(n){return[k0(n),z0(n)]},It[39]=function(n){return[[1,n.rightbottom],[1,0],[n.bottomright,0],[0,n.leftbottom],[0,n.lefttop],[n.topleft,1],[n.topright,1]]};const eT=function(){function n(e){this.id=n.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return n.buildId=function(e){return e.join(",")},n.prototype.removeInnerEdge=function(e){this.innerEdges=this.innerEdges.filter(function(t){return t.from.id!==e.from.id})},n.prototype.removeOuterEdge=function(e){this.outerEdges=this.outerEdges.filter(function(t){return t.to.id!==e.to.id})},n.prototype.addOuterEdge=function(e){this.outerEdges.push(e),this.outerEdgesSorted=!1},n.prototype.sortOuterEdges=function(){var e=this;this.outerEdgesSorted||(this.outerEdges.sort(function(t,i){var r=t.to,o=i.to;if(r.coordinates[0]-e.coordinates[0]>=0&&o.coordinates[0]-e.coordinates[0]<0)return 1;if(r.coordinates[0]-e.coordinates[0]<0&&o.coordinates[0]-e.coordinates[0]>=0)return-1;if(r.coordinates[0]-e.coordinates[0]==0&&o.coordinates[0]-e.coordinates[0]==0)return r.coordinates[1]-e.coordinates[1]>=0||o.coordinates[1]-e.coordinates[1]>=0?r.coordinates[1]-o.coordinates[1]:o.coordinates[1]-r.coordinates[1];var u=U0(e.coordinates,r.coordinates,o.coordinates);return u<0?1:u>0?-1:Math.pow(r.coordinates[0]-e.coordinates[0],2)+Math.pow(r.coordinates[1]-e.coordinates[1],2)-(Math.pow(o.coordinates[0]-e.coordinates[0],2)+Math.pow(o.coordinates[1]-e.coordinates[1],2))}),this.outerEdgesSorted=!0)},n.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},n.prototype.getOuterEdge=function(e){return this.sortOuterEdges(),this.outerEdges[e]},n.prototype.addInnerEdge=function(e){this.innerEdges.push(e)},n}(),z9=function(){function n(e,t){this.from=e,this.to=t,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return n.prototype.getSymetric=function(){return this.symetric||(this.symetric=new n(this.to,this.from),this.symetric.symetric=this),this.symetric},n.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},n.prototype.isEqual=function(e){return this.from.id===e.from.id&&this.to.id===e.to.id},n.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},n.prototype.toLineString=function(){return function _0(n,e,t){if(void 0===t&&(t={}),n.length<2)throw new Error("coordinates must be an array of two or more positions");return il({type:"LineString",coordinates:n},e,t)}([this.from.coordinates,this.to.coordinates])},n.prototype.compareTo=function(e){return U0(e.from.coordinates,e.to.coordinates,this.to.coordinates)},n}(),j9=function(){function n(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return n.prototype.push=function(e){this.edges.push(e),this.polygon=this.envelope=void 0},n.prototype.get=function(e){return this.edges[e]},Object.defineProperty(n.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),n.prototype.forEach=function(e){this.edges.forEach(e)},n.prototype.map=function(e){return this.edges.map(e)},n.prototype.some=function(e){return this.edges.some(e)},n.prototype.isValid=function(){return!0},n.prototype.isHole=function(){var e=this,t=this.edges.reduce(function(u,c,f){return c.from.coordinates[1]>e.edges[u].from.coordinates[1]&&(u=f),u},0),i=(0===t?this.length:t)-1,r=(t+1)%this.length,o=U0(this.edges[i].from.coordinates,this.edges[t].from.coordinates,this.edges[r].from.coordinates);return 0===o?this.edges[i].from.coordinates[0]>this.edges[r].from.coordinates[0]:o>0},n.prototype.toMultiPoint=function(){return function aI(n,e,t){return void 0===t&&(t={}),il({type:"MultiPoint",coordinates:n},e,t)}(this.edges.map(function(e){return e.from.coordinates}))},n.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var e=this.edges.map(function(t){return t.from.coordinates});return e.push(this.edges[0].from.coordinates),this.polygon=_g([e])},n.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=EI(this.toPolygon())},n.findEdgeRingContaining=function(e,t){var r,o,i=e.getEnvelope();return t.forEach(function(u){var c=u.getEnvelope();if(o&&(r=o.getEnvelope()),!function N9(n,e){var t=n.geometry.coordinates[0].map(function(u){return u[0]}),i=n.geometry.coordinates[0].map(function(u){return u[1]}),r=e.geometry.coordinates[0].map(function(u){return u[0]}),o=e.geometry.coordinates[0].map(function(u){return u[1]});return Math.max.apply(null,t)===Math.max.apply(null,r)&&Math.max.apply(null,i)===Math.max.apply(null,o)&&Math.min.apply(null,t)===Math.min.apply(null,r)&&Math.min.apply(null,i)===Math.min.apply(null,o)}(c,i)&&JI(c,i)){for(var f=e.map(function(K){return K.from.coordinates}),d=void 0,m=function(K){u.some(function(ee){return function F9(n,e){return n[0]===e[0]&&n[1]===e[1]}(K,ee.from.coordinates)})||(d=K)},y=0,b=f;y<b.length;y++)m(b[y]);d&&u.inside(Cl(d))&&(!o||JI(r,c))&&(o=u)}}),o},n.prototype.inside=function(e){return pI(e,this.toPolygon())},n}();function lT(n){for(var e=n,t=[];e.parent;)t.unshift(e),e=e.parent;return t}!function(){function n(){this.edges=[],this.nodes={}}n.fromGeoJson=function(e){!function U9(n){if(!n)throw new Error("No geojson passed");if("FeatureCollection"!==n.type&&"GeometryCollection"!==n.type&&"MultiLineString"!==n.type&&"LineString"!==n.type&&"Feature"!==n.type)throw new Error("Invalid input type '"+n.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var t=new n;return function bg(n,e){cI(n,function(t,i,r,o,u){var f,c=null===t?null:t.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==e(il(t,r,{bbox:o,id:u}),i,0)&&void 0}switch(c){case"MultiPoint":f="Point";break;case"MultiLineString":f="LineString";break;case"MultiPolygon":f="Polygon"}for(var d=0;d<t.coordinates.length;d++)if(!1===e(il({type:f,coordinates:t.coordinates[d]},r),i,d))return!1})}(e,function(i){(function _6(n,e,t){if(!n)throw new Error("No feature passed");if(!t)throw new Error(".featureOf() requires a name");if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+t+", Feature with geometry required");if(!n.geometry||n.geometry.type!==e)throw new Error("Invalid input to "+t+": must be a "+e+", given "+n.geometry.type)})(i,"LineString","Graph::fromGeoJson"),function l6(n,e,t,i){var r=t;Tf(n,function(o,u,c,f,d){r=0===u&&void 0===t?o:e(r,o,u,c,f,d)},i)}(i,function(r,o){if(r){var u=t.getNode(r),c=t.getNode(o);t.addEdge(u,c)}return o})}),t},n.prototype.getNode=function(e){var t=eT.buildId(e),i=this.nodes[t];return i||(i=this.nodes[t]=new eT(e)),i},n.prototype.addEdge=function(e,t){var i=new z9(e,t),r=i.getSymetric();this.edges.push(i),this.edges.push(r)},n.prototype.deleteDangles=function(){var e=this;Object.keys(this.nodes).map(function(t){return e.nodes[t]}).forEach(function(t){return e._removeIfDangle(t)})},n.prototype._removeIfDangle=function(e){var t=this;if(e.innerEdges.length<=1){var i=e.getOuterEdges().map(function(r){return r.to});this.removeNode(e),i.forEach(function(r){return t._removeIfDangle(r)})}},n.prototype.deleteCutEdges=function(){var e=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(t){t.label===t.symetric.label&&(e.removeEdge(t.symetric),e.removeEdge(t))})},n.prototype._computeNextCWEdges=function(e){var t=this;typeof e>"u"?Object.keys(this.nodes).forEach(function(i){return t._computeNextCWEdges(t.nodes[i])}):e.getOuterEdges().forEach(function(i,r){e.getOuterEdge((0===r?e.getOuterEdges().length:r)-1).symetric.next=i})},n.prototype._computeNextCCWEdges=function(e,t){for(var r,o,i=e.getOuterEdges(),u=i.length-1;u>=0;--u){var c=i[u],f=c.symetric,d=void 0,m=void 0;c.label===t&&(d=c),f.label===t&&(m=f),d&&m&&(m&&(o=m),d&&(o&&(o.next=d,o=void 0),r||(r=d)))}o&&(o.next=r)},n.prototype._findLabeledEdgeRings=function(){var e=[],t=0;return this.edges.forEach(function(i){if(!(i.label>=0)){e.push(i);var r=i;do{r.label=t,r=r.next}while(!i.isEqual(r));t++}}),e},n.prototype.getEdgeRings=function(){var e=this;this._computeNextCWEdges(),this.edges.forEach(function(i){i.label=void 0}),this._findLabeledEdgeRings().forEach(function(i){e._findIntersectionNodes(i).forEach(function(r){e._computeNextCCWEdges(r,i.label)})});var t=[];return this.edges.forEach(function(i){i.ring||t.push(e._findEdgeRing(i))}),t},n.prototype._findIntersectionNodes=function(e){var t=[],i=e,r=function(){var o=0;i.from.getOuterEdges().forEach(function(u){u.label===e.label&&++o}),o>1&&t.push(i.from),i=i.next};do{r()}while(!e.isEqual(i));return t},n.prototype._findEdgeRing=function(e){var t=e,i=new j9;do{i.push(t),t.ring=i,t=t.next}while(!e.isEqual(t));return i},n.prototype.removeNode=function(e){var t=this;e.getOuterEdges().forEach(function(i){return t.removeEdge(i)}),e.innerEdges.forEach(function(i){return t.removeEdge(i)}),delete this.nodes[e.id]},n.prototype.removeEdge=function(e){this.edges=this.edges.filter(function(t){return!t.isEqual(e)}),e.deleteEdge()}}(),j(5013),j(7470),j(5331);var Mg={search:function(n,e,t,i){n.cleanDirty();var r=(i=i||{}).heuristic||Mg.heuristics.manhattan,o=i.closest||!1,u=function oq(){return new cT(function(n){return n.f})}(),c=e;for(e.h=r(e,t),u.push(e);u.size()>0;){var f=u.pop();if(f===t)return lT(f);f.closed=!0;for(var d=n.neighbors(f),m=0,y=d.length;m<y;++m){var b=d[m];if(!b.closed&&!b.isWall()){var D=f.g+b.getCost(f),K=b.visited;(!K||D<b.g)&&(b.visited=!0,b.parent=f,b.h=b.h||r(b,t),b.g=D,b.f=b.g+b.h,n.markDirty(b),o&&(b.h<c.h||b.h===c.h&&b.g<c.g)&&(c=b),K?u.rescoreElement(b):u.push(b))}}}return o?lT(c):[]},heuristics:{manhattan:function(n,e){return Math.abs(e.x-n.x)+Math.abs(e.y-n.y)},diagonal:function(n,e){var i=Math.sqrt(2),r=Math.abs(e.x-n.x),o=Math.abs(e.y-n.y);return 1*(r+o)+(i-2)*Math.min(r,o)}},cleanNode:function(n){n.f=0,n.g=0,n.h=0,n.visited=!1,n.closed=!1,n.parent=null}};function ah(n,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var t=0;t<n.length;t++){this.grid[t]=[];for(var i=0,r=n[t];i<r.length;i++){var o=new Pg(t,i,r[i]);this.grid[t][i]=o,this.nodes.push(o)}}this.init()}function Pg(n,e,t){this.x=n,this.y=e,this.weight=t}function cT(n){this.content=[],this.scoreFunction=n}function q0(){this._=null}function Ig(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function Rf(n,e){var t=e,i=e.R,r=t.U;r?r.L===t?r.L=i:r.R=i:n._=i,i.U=r,t.U=i,t.R=i.L,t.R&&(t.R.U=t),i.L=t}function Nf(n,e){var t=e,i=e.L,r=t.U;r?r.L===t?r.L=i:r.R=i:n._=i,i.U=r,t.U=i,t.L=i.R,t.L&&(t.L.U=t),i.R=t}function hT(n){for(;n.L;)n=n.L;return n}ah.prototype.init=function(){this.dirtyNodes=[];for(var n=0;n<this.nodes.length;n++)Mg.cleanNode(this.nodes[n])},ah.prototype.cleanDirty=function(){for(var n=0;n<this.dirtyNodes.length;n++)Mg.cleanNode(this.dirtyNodes[n]);this.dirtyNodes=[]},ah.prototype.markDirty=function(n){this.dirtyNodes.push(n)},ah.prototype.neighbors=function(n){var e=[],t=n.x,i=n.y,r=this.grid;return r[t-1]&&r[t-1][i]&&e.push(r[t-1][i]),r[t+1]&&r[t+1][i]&&e.push(r[t+1][i]),r[t]&&r[t][i-1]&&e.push(r[t][i-1]),r[t]&&r[t][i+1]&&e.push(r[t][i+1]),this.diagonal&&(r[t-1]&&r[t-1][i-1]&&e.push(r[t-1][i-1]),r[t+1]&&r[t+1][i-1]&&e.push(r[t+1][i-1]),r[t-1]&&r[t-1][i+1]&&e.push(r[t-1][i+1]),r[t+1]&&r[t+1][i+1]&&e.push(r[t+1][i+1])),e},ah.prototype.toString=function(){for(var t,i,r,o,n=[],e=this.grid,u=0,c=e.length;u<c;u++){for(t=[],r=0,o=(i=e[u]).length;r<o;r++)t.push(i[r].weight);n.push(t.join(" "))}return n.join("\n")},Pg.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Pg.prototype.getCost=function(n){return n&&n.x!==this.x&&n.y!==this.y?1.41421*this.weight:this.weight},Pg.prototype.isWall=function(){return 0===this.weight},cT.prototype={push:function(n){this.content.push(n),this.sinkDown(this.content.length-1)},pop:function(){var n=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),n},remove:function(n){var e=this.content.indexOf(n),t=this.content.pop();e!==this.content.length-1&&(this.content[e]=t,this.scoreFunction(t)<this.scoreFunction(n)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(n){this.sinkDown(this.content.indexOf(n))},sinkDown:function(n){for(var e=this.content[n];n>0;){var t=(n+1>>1)-1,i=this.content[t];if(!(this.scoreFunction(e)<this.scoreFunction(i)))break;this.content[t]=e,this.content[n]=i,n=t}},bubbleUp:function(n){for(var e=this.content.length,t=this.content[n],i=this.scoreFunction(t);;){var c,r=n+1<<1,o=r-1,u=null;if(o<e&&(c=this.scoreFunction(this.content[o]))<i&&(u=o),r<e&&this.scoreFunction(this.content[r])<(null===u?i:c)&&(u=r),null===u)break;this.content[n]=this.content[u],this.content[u]=t,n=u}}},q0.prototype={constructor:q0,insert:function(n,e){var t,i,r;if(n){if(e.P=n,e.N=n.N,n.N&&(n.N.P=e),n.N=e,n.R){for(n=n.R;n.L;)n=n.L;n.L=e}else n.R=e;t=n}else this._?(n=hT(this._),e.P=null,e.N=n,n.P=n.L=e,t=n):(e.P=e.N=null,this._=e,t=null);for(e.L=e.R=null,e.U=t,e.C=!0,n=e;t&&t.C;)t===(i=t.U).L?(r=i.R)&&r.C?(t.C=r.C=!1,i.C=!0,n=i):(n===t.R&&(Rf(this,t),t=(n=t).U),t.C=!1,i.C=!0,Nf(this,i)):(r=i.L)&&r.C?(t.C=r.C=!1,i.C=!0,n=i):(n===t.L&&(Nf(this,t),t=(n=t).U),t.C=!1,i.C=!0,Rf(this,i)),t=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,o,u,e=n.U,i=n.L,r=n.R;if(o=i?r?hT(r):i:r,e?e.L===n?e.L=o:e.R=o:this._=o,i&&r?(u=o.C,o.C=n.C,o.L=i,i.U=o,o!==r?(e=o.U,o.U=n.U,e.L=n=o.R,o.R=r,r.U=o):(o.U=e,e=o,n=o.R)):(u=n.C,n=o),n&&(n.U=e),!u){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===e.L){if((t=e.R).C&&(t.C=!1,e.C=!0,Rf(this,e),t=e.R),t.L&&t.L.C||t.R&&t.R.C){(!t.R||!t.R.C)&&(t.L.C=!1,t.C=!0,Nf(this,t),t=e.R),t.C=e.C,e.C=t.R.C=!1,Rf(this,e),n=this._;break}}else if((t=e.L).C&&(t.C=!1,e.C=!0,Nf(this,e),t=e.L),t.L&&t.L.C||t.R&&t.R.C){(!t.L||!t.L.C)&&(t.R.C=!1,t.C=!0,Rf(this,t),t=e.L),t.C=e.C,e.C=t.L.C=!1,Nf(this,e),n=this._;break}t.C=!0,n=e,e=e.U}while(!n.C);n&&(n.C=!1)}}};const fT=q0;function Ff(n,e,t,i){var r=[null,null],o=Ms.push(r)-1;return r.left=n,r.right=e,t&&Tg(r,n,e,t),i&&Tg(r,e,n,i),xa[n.index].halfedges.push(o),xa[e.index].halfedges.push(o),r}function Bf(n,e,t){var i=[e,t];return i.left=n,i}function Tg(n,e,t,i){n[0]||n[1]?n.left===t?n[1]=i:n[0]=i:(n[0]=i,n.left=e,n.right=t)}function aq(n,e,t,i,r){var ee,o=n[0],u=n[1],c=o[0],f=o[1],y=0,b=1,D=u[0]-c,K=u[1]-f;if(ee=e-c,D||!(ee>0)){if(ee/=D,D<0){if(ee<y)return;ee<b&&(b=ee)}else if(D>0){if(ee>b)return;ee>y&&(y=ee)}if(ee=i-c,D||!(ee<0)){if(ee/=D,D<0){if(ee>b)return;ee>y&&(y=ee)}else if(D>0){if(ee<y)return;ee<b&&(b=ee)}if(ee=t-f,K||!(ee>0)){if(ee/=K,K<0){if(ee<y)return;ee<b&&(b=ee)}else if(K>0){if(ee>b)return;ee>y&&(y=ee)}if(ee=r-f,K||!(ee<0)){if(ee/=K,K<0){if(ee>b)return;ee>y&&(y=ee)}else if(K>0){if(ee<y)return;ee<b&&(b=ee)}return!(y>0)&&!(b<1)||(y>0&&(n[0]=[c+y*D,f+y*K]),b<1&&(n[1]=[c+b*D,f+b*K])),!0}}}}}function uq(n,e,t,i,r){var o=n[1];if(o)return!0;var ee,xe,u=n[0],c=n.left,f=n.right,d=c[0],m=c[1],y=f[0],b=f[1],D=(d+y)/2;if(b===m){if(D<e||D>=i)return;if(d>y){if(u){if(u[1]>=r)return}else u=[D,t];o=[D,r]}else{if(u){if(u[1]<t)return}else u=[D,r];o=[D,t]}}else if(xe=(m+b)/2-(ee=(d-y)/(b-m))*D,ee<-1||ee>1)if(d>y){if(u){if(u[1]>=r)return}else u=[(t-xe)/ee,t];o=[(r-xe)/ee,r]}else{if(u){if(u[1]<t)return}else u=[(r-xe)/ee,r];o=[(t-xe)/ee,t]}else if(m<b){if(u){if(u[0]>=i)return}else u=[e,ee*e+xe];o=[i,ee*i+xe]}else{if(u){if(u[0]<e)return}else u=[i,ee*i+xe];o=[e,ee*e+xe]}return n[0]=u,n[1]=o,!0}function hq(n,e){var t=n.site,i=e.left,r=e.right;return t===r&&(r=i,i=t),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(t===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function dT(n,e){return e[+(e.left!==n.site)]}function fq(n,e){return e[+(e.left===n.site)]}var $0,pT=[];function gq(){Ig(this),this.x=this.y=this.arc=this.site=this.cy=null}function uh(n){var e=n.P,t=n.N;if(e&&t){var i=e.site,r=n.site,o=t.site;if(i!==o){var u=r[0],c=r[1],f=i[0]-u,d=i[1]-c,m=o[0]-u,y=o[1]-c,b=2*(f*y-d*m);if(!(b>=-bq)){var D=f*f+d*d,K=m*m+y*y,ee=(y*D-d*K)/b,xe=(f*K-m*D)/b,_e=pT.pop()||new gq;_e.arc=n,_e.site=r,_e.x=ee+u,_e.y=(_e.cy=xe+c)+Math.sqrt(ee*ee+xe*xe),n.circle=_e;for(var de=null,me=Vf._;me;)if(_e.y<me.y||_e.y===me.y&&_e.x<=me.x){if(!me.L){de=me.P;break}me=me.L}else{if(!me.R){de=me;break}me=me.R}Vf.insert(de,_e),de||($0=_e)}}}}function lh(n){var e=n.circle;e&&(e.P||($0=e.N),Vf.remove(e),pT.push(e),Ig(e),n.circle=null)}var gT=[];function mq(){Ig(this),this.edge=this.site=this.circle=null}function mT(n){var e=gT.pop()||new mq;return e.site=n,e}function W0(n){lh(n),ch.remove(n),gT.push(n),Ig(n)}function _q(n){var e=n.circle,t=e.x,i=e.cy,r=[t,i],o=n.P,u=n.N,c=[n];W0(n);for(var f=o;f.circle&&Math.abs(t-f.circle.x)<Ur&&Math.abs(i-f.circle.cy)<Ur;)o=f.P,c.unshift(f),W0(f),f=o;c.unshift(f),lh(f);for(var d=u;d.circle&&Math.abs(t-d.circle.x)<Ur&&Math.abs(i-d.circle.cy)<Ur;)u=d.N,c.push(d),W0(d),d=u;c.push(d),lh(d);var y,m=c.length;for(y=1;y<m;++y)Tg((d=c[y]).edge,(f=c[y-1]).site,d.site,r);(d=c[m-1]).edge=Ff((f=c[0]).site,d.site,null,r),uh(f),uh(d)}function yq(n){for(var i,r,o,u,e=n[0],t=n[1],c=ch._;c;)if((o=_T(c,t)-e)>Ur)c=c.L;else{if(!((u=e-vq(c,t))>Ur)){o>-Ur?(i=c.P,r=c):u>-Ur?(i=c,r=c.N):i=r=c;break}if(!c.R){i=c;break}c=c.R}!function cq(n){xa[n.index]={site:n,halfedges:[]}}(n);var f=mT(n);if(ch.insert(i,f),i||r){if(i===r)return lh(i),r=mT(i.site),ch.insert(f,r),f.edge=r.edge=Ff(i.site,f.site),uh(i),void uh(r);if(!r)return void(f.edge=Ff(i.site,f.site));lh(i),lh(r);var d=i.site,m=d[0],y=d[1],b=n[0]-m,D=n[1]-y,K=r.site,ee=K[0]-m,xe=K[1]-y,_e=2*(b*xe-D*ee),de=b*b+D*D,me=ee*ee+xe*xe,Ne=[(xe*de-D*me)/_e+m,(b*me-ee*de)/_e+y];Tg(r.edge,d,K,Ne),f.edge=Ff(d,n,null,Ne),r.edge=Ff(n,K,null,Ne),uh(i),uh(r)}}function _T(n,e){var t=n.site,i=t[0],r=t[1],o=r-e;if(!o)return i;var u=n.P;if(!u)return-1/0;var c=(t=u.site)[0],f=t[1],d=f-e;if(!d)return c;var m=c-i,y=1/o-1/d,b=m/d;return y?(-b+Math.sqrt(b*b-2*y*(m*m/(-2*d)-f+d/2+r-o/2)))/y+i:(i+c)/2}function vq(n,e){var t=n.N;if(t)return _T(t,e);var i=n.site;return i[1]===e?i[0]:1/0}var ch,xa,Vf,Ms,Ur=1e-6,bq=1e-12;function wq(n,e,t){return(n[0]-t[0])*(e[1]-n[1])-(n[0]-e[0])*(t[1]-n[1])}function Cq(n,e){return e[1]-n[1]||e[0]-n[0]}function yT(n,e){var i,r,o,t=n.sort(Cq).pop();for(Ms=[],xa=new Array(n.length),ch=new fT,Vf=new fT;;)if(o=$0,t&&(!o||t[1]<o.y||t[1]===o.y&&t[0]<o.x))(t[0]!==i||t[1]!==r)&&(yq(t),i=t[0],r=t[1]),t=n.pop();else{if(!o)break;_q(o.arc)}if(function dq(){for(var t,i,r,o,n=0,e=xa.length;n<e;++n)if((t=xa[n])&&(o=(i=t.halfedges).length)){var u=new Array(o),c=new Array(o);for(r=0;r<o;++r)u[r]=r,c[r]=hq(t,Ms[i[r]]);for(u.sort(function(f,d){return c[d]-c[f]}),r=0;r<o;++r)c[r]=i[u[r]];for(r=0;r<o;++r)i[r]=c[r]}}(),e){var u=+e[0][0],c=+e[0][1],f=+e[1][0],d=+e[1][1];(function lq(n,e,t,i){for(var o,r=Ms.length;r--;)uq(o=Ms[r],n,e,t,i)&&aq(o,n,e,t,i)&&(Math.abs(o[0][0]-o[1][0])>Ur||Math.abs(o[0][1]-o[1][1])>Ur)||delete Ms[r]})(u,c,f,d),function pq(n,e,t,i){var o,u,c,f,d,m,y,b,D,K,ee,xe,r=xa.length,_e=!0;for(o=0;o<r;++o)if(u=xa[o]){for(c=u.site,f=(d=u.halfedges).length;f--;)Ms[d[f]]||d.splice(f,1);for(f=0,m=d.length;f<m;)ee=(K=fq(u,Ms[d[f]]))[0],xe=K[1],b=(y=dT(u,Ms[d[++f%m]]))[0],D=y[1],(Math.abs(ee-b)>Ur||Math.abs(xe-D)>Ur)&&(d.splice(f,0,Ms.push(Bf(c,K,Math.abs(ee-n)<Ur&&i-xe>Ur?[n,Math.abs(b-n)<Ur?D:i]:Math.abs(xe-i)<Ur&&t-ee>Ur?[Math.abs(D-i)<Ur?b:t,i]:Math.abs(ee-t)<Ur&&xe-e>Ur?[t,Math.abs(b-t)<Ur?D:e]:Math.abs(xe-e)<Ur&&ee-n>Ur?[Math.abs(D-e)<Ur?b:n,e]:null))-1),++m);m&&(_e=!1)}if(_e){var de,me,Ne,Be=1/0;for(o=0,_e=null;o<r;++o)(u=xa[o])&&(Ne=(de=(c=u.site)[0]-n)*de+(me=c[1]-e)*me)<Be&&(Be=Ne,_e=u);if(_e){var We=[n,e],Ye=[n,i],et=[t,i],Fe=[t,e];_e.halfedges.push(Ms.push(Bf(c=_e.site,We,Ye))-1,Ms.push(Bf(c,Ye,et))-1,Ms.push(Bf(c,et,Fe))-1,Ms.push(Bf(c,Fe,We))-1)}}for(o=0;o<r;++o)(u=xa[o])&&(u.halfedges.length||delete xa[o])}(u,c,f,d)}this.edges=Ms,this.cells=xa,ch=Vf=Ms=xa=null}function El(){return new Ag}function Ag(){this.reset()}yT.prototype={constructor:yT,polygons:function(){var n=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(i){return dT(e,n[i])});return t.data=e.site.data,t})},triangles:function(){var n=[],e=this.edges;return this.cells.forEach(function(t,i){if(c=(o=t.halfedges).length)for(var o,c,f,r=t.site,u=-1,d=e[o[c-1]],m=d.left===r?d.right:d.left;++u<c;)f=m,m=(d=e[o[u]]).left===r?d.right:d.left,f&&m&&i<f.index&&i<m.index&&wq(r,f,m)<0&&n.push([r.data,f.data,m.data])}),n},links:function(){return this.edges.filter(function(n){return n.right}).map(function(n){return{source:n.left.data,target:n.right.data}})},find:function(n,e,t){for(var r,c,i=this,o=i._found||0,u=i.cells.length;!(c=i.cells[o]);)if(++o>=u)return null;var f=n-c.site[0],d=e-c.site[1],m=f*f+d*d;do{c=i.cells[r=o],o=null,c.halfedges.forEach(function(y){var b=i.edges[y],D=b.left;if(D!==c.site&&D||(D=b.right)){var K=n-D[0],ee=e-D[1],xe=K*K+ee*ee;xe<m&&(m=xe,o=D.index)}})}while(null!==o);return i._found=r,null==t||m<=t*t?c.site:null}},j(9855),j(770),Ag.prototype={constructor:Ag,reset:function(){this.s=this.t=0},add:function(n){IT(Lg,n,this.t),IT(this,Lg.s,this.s),this.s?this.t+=Lg.t:this.s=Lg.t},valueOf:function(){return this.s}};var Lg=new Ag;function IT(n,e,t){var i=n.s=e+t,r=i-e;n.t=e-(i-r)+(t-r)}var Xr=Math.PI,ua=Xr/2,hh=2*Xr,zr=Xr/180,zf=(Math,Math.atan),fh=Math.atan2,zi=Math.cos,Ci=(Math,Math,Math,Math,Math,Math.sin),rl=(Math,Math.sqrt);Math;function dh(n){return n>1?ua:n<-1?-ua:Math.asin(n)}function u1(n,e){return[n>Xr?n-hh:n<-Xr?n+hh:n,e]}function nA(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}El(),El(),El(),u1.invert=u1,function e$(n){1===n.length&&(n=function t$(n){return function(e,t){return nA(n(e),t)}}(n))}(nA),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);El();function M1(){}function PA(n){return function(e,t){var i=zi(e),r=zi(t),o=n(i*r);return[o*r*Ci(e),o*Ci(t)]}}function Xf(n){return function(e,t){var i=rl(e*e+t*t),r=n(i),o=Ci(r),u=zi(r);return[fh(e*o,i*u),dh(i&&t*o/i)]}}function I1(n,e){return[n,e]}El(),El(),El(),El(),function SA(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}(4.5),M1.prototype={constructor:M1,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},zi(30*zr),function DA(n){return function(e){var t=new M1;for(var i in n)t[i]=n[i];return t.stream=e,t}}({point:function(n,e){this.stream.point(n*zr,e*zr)}}),PA(function(n){return rl(2/(1+n))}).invert=Xf(function(n){return 2*dh(n/2)}),PA(function(n){return(n=function Nq(n){return n>1?0:n<-1?Xr:Math.acos(n)}(n))&&n/Ci(n)}).invert=Xf(function(n){return n}),I1.invert=I1,Xf(zf),Xf(dh),Xf(function(n){return 2*zf(n)});var Z$=j(5077);class Ei{constructor(){this._patients=[],this._hasBeenPartitioned=!1,this._color="#0d0d0d",this._shouldDisplayPatients=!1,this._shouldDisplayArea=!0,this._isHighlighted=!1,this._milageEstimate=-1,this._diameter=-1,this._shape=[]}IsPointWithinCluster(e){let t=Z$(this._shape,e);return-1==t||0==t}Destroy(){if(void 0!==this._leafletMarkerCluster)try{Ei.LeafletMarkerClustersGroup.removeLayer(this._leafletMarkerCluster)}catch{}try{Ei.MappedPolygons.removeLayer(this._polygon)}catch{}try{Ei.MappedPolygons.removeLayer(this._routePolyline)}catch{}}get diameter(){return this._diameter}set diameter(e){this._diameter=e}get routePolyline(){return this._routePolyline}set routePolyline(e){try{Ei.MappedPolygons.removeLayer(this._routePolyline)}catch{}this._routePolyline=e,this._routePolyline.addTo(Ei.MappedPolygons)}get milageEstimate(){return this._milageEstimate}set milageEstimate(e){this._milageEstimate=e}get isHighlighted(){return this._isHighlighted}set isHighlighted(e){this.isHighlighted!=e&&(this._isHighlighted=e,1==this._isHighlighted?this._polygon&&this._polygon.setStyle({color:"#f7be00"}):this._polygon&&this._polygon.setStyle({color:this._color}))}get mapComponent(){return this._mapComponent}set mapComponent(e){this._mapComponent=e}get patients(){return this._patients}set patients(e){this._patients=e}get shouldDisplayPatients(){return this._shouldDisplayPatients}set shouldDisplayPatients(e){this._shouldDisplayPatients!=e&&(this._shouldDisplayPatients=e,this.mapComponent.OnZoomChanged(this))}CalculateDiameter(){let e=0;for(let t=0;t<this._patients.length;t++)for(let i=t+1;i<this._patients.length;i++){let r=T6(Cl(this._patients[t].location),Cl(this._patients[i].location),{units:"miles"});r>e&&(e=r)}void 0!==this._polygon&&this._polygon.setTooltipContent(`${this._patients.length}`),this._diameter=Math.round(100*e)/100}get shouldDisplayArea(){return this._shouldDisplayArea}set shouldDisplayArea(e){if(e!=this._shouldDisplayArea)if(this._shouldDisplayArea=e,this._shouldDisplayArea){if(void 0!==this._polygon){try{Ei.MappedPolygons.removeLayer(this._polygon)}catch{}this._polygon.addTo(Ei.MappedPolygons)}if(void 0!==this._routePolyline){try{Ei.MappedPolygons.removeLayer(this._routePolyline)}catch{}this._routePolyline.addTo(Ei.MappedPolygons)}}else{try{Ei.MappedPolygons.removeLayer(this._polygon)}catch{}try{Ei.MappedPolygons.removeLayer(this._routePolyline)}catch{}}}set hasBeenPartitioned(e){this._hasBeenPartitioned=e}get hasBeenPartitioned(){return this._hasBeenPartitioned}set leafletMarkerCluster(e){try{Ei.LeafletMarkerClustersGroup.removeLayer(this._leafletMarkerCluster)}catch{}this._leafletMarkerCluster=e,this._leafletMarkerCluster.addTo(Ei.LeafletMarkerClustersGroup)}get leafletMarkerCluster(){return this._leafletMarkerCluster}set polygon(e){try{Ei.MappedPolygons.removeLayer(this._polygon)}catch{}this._polygon=e,this._polygon.bindTooltip(`${this._patients.length}`,{permanent:!0,direction:"center"}),this._polygon.addTo(Ei.MappedPolygons)}get polygon(){return this._polygon}set shape(e){this._shape=e}get shape(){return this._shape}set color(e){this._color=e,this._polygon&&!this._isHighlighted&&this._polygon.setStyle({color:this._color})}get color(){return this._color}}Ei.LeafletMarkerClustersGroup=new tn.FeatureGroup,Ei.MappedPolygons=new tn.FeatureGroup,Ei.MappedPatients=new tn.FeatureGroup,j(2295),j(9307);var Y$=j(5077),X$=j(4223);let K$=(()=>{class n{constructor(){this.markers=new tn.FeatureGroup,this.Clusters=[],this.Patients=[],this.previousClusters=[],this.previousUnclusteredPatients=[],this.CanUndo=!1,this.UnclusteredPatientCount=1,this.PatientsAreVisible=!1,this.miniMarkers=new tn.FeatureGroup,this.colors=["#e6194B"],this.polygonColorGradient=new X$,this.startingPatientCount=0,this.OnClusterClicked=new lr,this.OnPatientsClicked=new lr,this.OnBoxSelect=new lr,this.OnClusterMouseOver=new lr,this.OnClusterMouseLeave=new lr,this.OnDeselect=new lr}ngAfterViewInit(){this.polygonColorGradient.setSpectrum("#ff0000","#640000"),this.initMap()}initMap(){this.CreateBoxSelectHandler(),this.map=tn.map("map",{center:[39.8282,-98.5795],zoom:4,layers:[this.markers,this.miniMarkers,Ei.LeafletMarkerClustersGroup,Ei.MappedPolygons,Ei.MappedPatients]}),tn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,minZoom:4,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.map),this.map.on("click",i=>{let r=!1;for(let o=0;o<this.Clusters.length;o++)if(this.Clusters[o].IsPointWithinCluster([i.latlng.lat,i.latlng.lng])){r=!0;break}r||this.OnDeselect.emit({})}),this.map.on("dblclick",i=>{this.miniMarkers.clearLayers()}),this.map.on("zoomend",()=>{this.OnZoomChanged()}),this.map.on("boxselectend",i=>{this.OnBoxSelect.emit({bounds:i.boxSelectBounds})}),Ei.Map=this.map}AreMappedPolygonsVisible(){return this.map.hasLayer(Ei.MappedPolygons)}StorePreviousClusters(){this.previousClusters=[];for(let t=0;t<this.Clusters.length;t++){let r=this.CloneCluster(this.Clusters[t]);this.previousClusters.push(r)}this.previousUnclusteredPatients=[];for(let t=0;t<this.Patients.length;t++){let i=!0;for(let r=0;r<this.Clusters.length;r++)if(this.Clusters[r].patients.includes(this.Patients[t])){i=!1;break}i&&this.previousUnclusteredPatients.push(this.Patients[t])}for(let t=this.Clusters.length-1;t>=0;t--)if(this.Clusters[t].patients.length<=0){let i=this.Clusters[t];this.Clusters.splice(t,1),i.Destroy();continue}}RestoreClusters(){if(0!=this.previousClusters.length){this.CanUndo=!1;for(let t=this.Clusters.length-1;t>=0;t--){let i=this.Clusters[t];this.Clusters.splice(t,1),i.Destroy()}this.Clusters=[];for(let t=0;t<this.previousClusters.length;t++){let r=this.CloneCluster(this.previousClusters[t]),o=tn.polygon(r.shape,{color:`${r.color}`,weight:2});o.on("click",()=>{this.OnClusterClicked.emit({cluster:r})}),r.polygon=o,this.Clusters.push(r)}for(let t=0;t<this.previousUnclusteredPatients.length;t++){let i=this.previousUnclusteredPatients[t].marker;this.map.hasLayer(i)||i.addTo(this.map),i.setOpacity(1)}this.previousUnclusteredPatients=[],this.previousClusters=[],this.OnZoomChanged(),this.GetUnclusteredPatientCount()}}GetUnclusteredPatientCount(){let t=0;for(let i=this.Clusters.length-1;i>=0;i--)if(this.Clusters[i].patients.length<=0){let r=this.Clusters[i];this.Clusters.splice(i,1),r.Destroy()}else t+=this.Clusters[i].patients.length;return this.UnclusteredPatientCount=this.startingPatientCount-t,this.UnclusteredPatientCount}CloneCluster(t){let i=new Ei;for(let r=0;r<t.patients.length;r++)i.patients.push(t.patients[r]);return i.shape=JSON.parse(JSON.stringify(t.shape)),i.color=t.color,i.mapComponent=t.mapComponent,i.milageEstimate=t.milageEstimate,i.isHighlighted=!1,i.shouldDisplayArea=!0,i.shouldDisplayPatients=!1,i.diameter=t.diameter,i}HideAllDisplayedClusteredPatients(){for(let t=0;t<this.Clusters.length;t++)this.Clusters[t].shouldDisplayPatients=!1}DeleteCluster(t){let i=this.Clusters.indexOf(t);if(i<0)return;this.StorePreviousClusters(),this.Clusters.splice(i,1);let r=t.patients;for(let o=0;o<r.length;o++)this.map.hasLayer(r[o].marker)||r[o].marker.addTo(this.map),r[o].marker.setOpacity(1);t.Destroy(),this.GetUnclusteredPatientCount(),this.CanUndo=!0}CreateBoxSelectHandler(){let t=tn.Handler.extend({initialize:function(i){this._map=i,this._container=i.getContainer(),this._pane=i.getPanes().overlayPane,this.enabled=!1},addHooks:function(){tn.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){tn.DomEvent.off(this._container,"mousedown",this._onMouseDown)},_onMouseDown:function(i){return!(!i.shiftKey||1!==i.which&&1!==i.button||(this.enabled=!0,tn.DomUtil.disableTextSelection(),this._startLayerPoint=this._map.mouseEventToLayerPoint(i),this._box=tn.DomUtil.create("div","leaflet-zoom-box",this._pane),tn.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",tn.DomEvent.on(document,"mousemove",this._onMouseMove,this).on(document,"mouseup",this._onMouseUp,this).on(document,"keydown",this._onKeyDown,this).preventDefault(i),this._map.fire("boxzoomstart"),0))},_onMouseMove:function(i){var r=this._startLayerPoint,o=this._box,u=this._map.mouseEventToLayerPoint(i),c=u.subtract(r),f=new tn.Point(Math.min(u.x,r.x),Math.min(u.y,r.y));tn.DomUtil.setPosition(o,f),o.style.width=Math.max(0,Math.abs(c.x)-4)+"px",o.style.height=Math.max(0,Math.abs(c.y)-4)+"px"},_finish:function(){try{this._pane.removeChild(this._box)}catch{}this._container.style.cursor="",tn.DomUtil.enableTextSelection(),tn.DomEvent.off(document,"mousemove",this._onMouseMove).off(document,"mouseup",this._onMouseUp).off(document,"keydown",this._onKeyDown)},_onMouseUp:function(i){this._finish();var r=this._map,o=r.mouseEventToLayerPoint(i);if(!this._startLayerPoint.equals(o)){var u=new tn.LatLngBounds(r.layerPointToLatLng(this._startLayerPoint),r.layerPointToLatLng(o));1==this.enabled&&(r.fire("boxselectend",{boxSelectBounds:u}),this.enabled=!1),r.fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(i){27===i.keyCode&&this._finish()}});tn.Map.mergeOptions({boxSelect:!0}),tn.Map.addInitHook("addHandler","boxSelect",t),tn.Map.mergeOptions({boxZoom:!1})}distance(t,i){let r=t[0],u=i[0],d=(u-r)*Math.PI/180,m=(i[1]-t[1])*Math.PI/180,y=Math.sin(d/2)*Math.sin(d/2)+Math.cos(r*Math.PI/180)*Math.cos(u*Math.PI/180)*Math.sin(m/2)*Math.sin(m/2),D=2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y))*6371;return D*=.621371,D}PanTo(t){this.map.panTo(t)}CreateClustersFromPatientGroups(t,i,r){var o=this;return Qu(function*(){if(0!=o.Patients.length)for(let c=0;c<o.Patients.length;c++){let f=o.Patients[c].marker;try{f.removeFrom(o.map)}catch{}}o.Patients=i,o.Clusters=[],o.ClearMarkers(),o.map.fitBounds(o.GetBoundsOfPatients(i).pad(.05)),yield(1e3,new Promise(f=>setTimeout(f,1e3)));for(let c=0;c<i.length;c++){let f=i[c],d=new nP(f.location,f,{icon:el.DefaultIcon});f.marker=d,d.on("click",m=>{if(!d)return;let y=[];y.push(f);for(let D=0;D<o.Patients.length;D++){let K=o.Patients[D];K!=f&&K.longitude==f.longitude&&K.latitude==f.latitude&&y.push(K)}let b=null;for(let D=0;D<y.length;D++){let K=y[D],ee=!1;for(let xe=0;xe<o.Clusters.length;xe++){let _e=o.Clusters[xe];if(_e.patients.includes(K))if(null==b)b=_e;else if(b!=_e){b=null,ee=!0;break}}if(ee)break}null==b||b.shouldDisplayPatients?o.OnPatientsClicked.emit({patients:y,cluster:b}):o.OnClusterClicked.emit({cluster:b})})}for(let c=0;c<t.length;c++){if(0==t[c].length)continue;let f=t[c],d=new Ei;d.mapComponent=o;for(let K=0;K<f.length;K++)d.patients.push(f[K]);d.color="#"+o.polygonColorGradient.colourAt(d.patients.length);let m=o.GetPointsForPolygon(d),y=o.CalculatePolygonHull(m),b=o.GetScaledHull(y);d.shape=b,d.CalculateDiameter();let D=tn.polygon(d.shape,{color:`${d.color}`,weight:2});D.on("click",()=>{o.OnClusterClicked.emit({cluster:d})}),d.polygon=D,d.milageEstimate=-1,o.Clusters.push(d)}for(let c=0;c<r.length;c++)o.map.hasLayer(r[c].marker)||r[c].marker.addTo(o.map),r[c].marker.setOpacity(1);o.startingPatientCount=o.Patients.length,o.CreatePatientsMapMask(),o.UpdateClusterColors(),o.CanUndo=!1,o.OnZoomChanged(),o.GetUnclusteredPatientCount()})()}AutoAssignUnclusteredPatients(){if(0==this.GetUnclusteredPatientCount())return;this.StorePreviousClusters();let t=[];for(let r=0;r<this.Patients.length;r++){let o=!1;for(let u=0;u<this.Clusters.length;u++)if(this.Clusters[u].patients.includes(this.Patients[r])){o=!0;break}o||t.push(this.Patients[r])}function i(r,o){return Math.pow(o.lat-r.lat,2)+Math.pow(o.lng-r.lng,2)}for(let r=0;r<t.length;r++){let o=t[r],u=tn.latLng(o.location),c=this.Clusters[0],f=0;this.map.hasLayer(this.Clusters[0].polygon)?f=i(u,this.Clusters[0].polygon.getCenter()):(this.Clusters[0].polygon.addTo(this.map),f=i(u,this.Clusters[0].polygon.getCenter()),this.Clusters[0].polygon.removeFrom(this.map));for(let D=1;D<this.Clusters.length;D++){let K=this.Clusters[D],ee=0;this.map.hasLayer(K.polygon)?ee=i(u,K.polygon.getCenter()):(K.polygon.addTo(this.map),ee=i(u,K.polygon.getCenter()),K.polygon.removeFrom(this.map)),ee<f&&(f=ee,c=K)}c.patients.push(o),c.color="#"+this.polygonColorGradient.colourAt(c.patients.length);let d=this.GetPointsForPolygon(c),m=this.CalculatePolygonHull(d),y=this.GetScaledHull(m);c.shape=y,c.CalculateDiameter();let b=tn.polygon(c.shape,{color:`${c.color}`,weight:2});b.on("click",()=>{this.OnClusterClicked.emit({cluster:c})}),c.polygon=b,c.milageEstimate=-1}this.OnZoomChanged(),this.CanUndo=!0,this.GetUnclusteredPatientCount(),this.UpdateClusterColors()}CreateGridClustersFromPatientGroups(t,i,r=!0){r&&this.StorePreviousClusters();for(let o=0;o<t.length;o++){let u=t[o];for(let c=0;c<u.length;c++){let f=i.patients.indexOf(u[c]);f>=0&&i.patients.splice(f,1)}}if(this.ReconfigureClusterShape(i),0==i.patients.length){let o=this.Clusters.indexOf(i);this.Clusters.splice(o,1),i.Destroy()}else console.warn("old cluster somehow still has patients");for(let o=0;o<t.length;o++){if(0==t[o].length)continue;let u=t[o],c=new Ei;c.mapComponent=this;for(let b=0;b<u.length;b++)c.patients.push(u[b]);c.color="#"+this.polygonColorGradient.colourAt(c.patients.length);let f=this.GetPointsForPolygon(c),d=this.CalculatePolygonHull(f),m=this.GetScaledHull(d);c.shape=m,c.CalculateDiameter();let y=tn.polygon(c.shape,{color:`${c.color}`,weight:2});y.on("click",()=>{this.OnClusterClicked.emit({cluster:c})}),c.polygon=y,c.milageEstimate=-1,this.Clusters.push(c)}this.OnZoomChanged(),r&&(this.CanUndo=!0),this.GetUnclusteredPatientCount()}CreateClusterFromSelectedPatients(t,i=!0){i&&this.StorePreviousClusters();let r=[];for(let m=0;m<t.length;m++)for(let y=0;y<this.Clusters.length;y++){let b=this.Clusters[y],D=b.patients.indexOf(t[m]);D>=0&&(b.patients.splice(D,1),r.push(b))}for(let m=0;m<r.length;m++)this.ReconfigureClusterShape(r[m]);for(let m=this.Clusters.length-1;m>=0;m--){let y=this.Clusters[m];if(0==y.patients.length){let b=this.Clusters.indexOf(y);this.Clusters.splice(b,1),y.Destroy()}}let o=new Ei;o.mapComponent=this;for(let m=0;m<t.length;m++)o.patients.push(t[m]);o.color="#"+this.polygonColorGradient.colourAt(o.patients.length);let u=this.GetPointsForPolygon(o),c=this.CalculatePolygonHull(u),f=this.GetScaledHull(c);o.shape=f,o.CalculateDiameter();let d=tn.polygon(o.shape,{color:`${o.color}`,weight:2});d.on("click",()=>{this.OnClusterClicked.emit({cluster:o})}),o.polygon=d,o.milageEstimate=-1,this.Clusters.push(o),this.OnZoomChanged(),i&&(this.CanUndo=!0),this.GetUnclusteredPatientCount()}HandleKmeansResults(t,i,r){this.StorePreviousClusters();for(let u=0;u<i;u++){let c=new Ei;c.mapComponent=this;for(let b=0;b<t.patients.length;b++)r[b]==u&&c.patients.push(t.patients[b]);if(0==c.patients.length)continue;c.color="#"+this.polygonColorGradient.colourAt(c.patients.length);let f=this.GetPointsForPolygon(c),d=this.CalculatePolygonHull(f),m=this.GetScaledHull(d);c.shape=m,c.CalculateDiameter();let y=tn.polygon(c.shape,{color:`${c.color}`,weight:2});y.on("click",()=>{this.OnClusterClicked.emit({cluster:c})}),c.polygon=y,c.milageEstimate=-1,this.Clusters.push(c)}let o=this.Clusters.indexOf(t);this.Clusters.splice(o,1),t.hasBeenPartitioned=!0,t.Destroy(),this.OnZoomChanged(),this.CanUndo=!0,this.GetUnclusteredPatientCount()}GetPointsForPolygon(t){let i=[];for(let r=0;r<t.patients.length;r++)i.push(t.patients[r].location);return i}GetScaledHull(t,i=1.05){let r=tn.polygon(t,{weight:2});r.addTo(this.map);let o=[r.getCenter().lat,r.getCenter().lng];r.removeFrom(this.map);let u=JSON.parse(JSON.stringify(t));for(let f=0;f<u.length;f++)u[f]=this.GetScaledPoint(u[f],o,i);return r=tn.polygon(u,{weight:1}),Math.abs(r.getBounds().getNorth()-r.getBounds().getSouth()),Math.abs(r.getBounds().getEast()-r.getBounds().getWest()),u}SwitchPatientsAssignedCluster(t,i,r){if(i==r)return;this.StorePreviousClusters();let o=this.GetPointsForPolygon(r);for(let d=0;d<t.length;d++)o.push(t[d].location);let u=this.CalculatePolygonHull(o),c=this.GetScaledHull(u);r.shape=c;let f=tn.polygon(r.shape,{color:`${r.color}`,weight:2});if(f.on("click",()=>{this.OnClusterClicked.emit({cluster:r})}),r.polygon=f,null!=i){for(let d=0;d<t.length;d++){let m=i.patients.indexOf(t[d]);i.patients.splice(m,1)}if(0==i.patients.length){let d=this.Clusters.indexOf(i);this.Clusters.splice(d,1),i.Destroy(),i=null}}for(let d=0;d<t.length;d++)r.patients.push(t[d]);if(r.patients=Array.from(new Set(r.patients)),r.milageEstimate=-1,r.CalculateDiameter(),null!=i){let d=this.GetPointsForPolygon(i),m=this.CalculatePolygonHull(d),y=this.GetScaledHull(m);i.shape=y,i.CalculateDiameter();let b=tn.polygon(i.shape,{color:`${i.color}`,weight:2});b.on("click",()=>{this.OnClusterClicked.emit({cluster:i})}),i.polygon=b,i.milageEstimate=-1}this.OnZoomChanged(),this.CanUndo=!0,this.GetUnclusteredPatientCount()}GridCutCluster(t,i,r){if(i<=0||r<=0)return;let o=t.polygon.getBounds(),f=Math.abs(o.getEast()-o.getWest())/r,d=Math.abs(o.getNorth()-o.getSouth())/i,m=[];for(let D=0;D<i;D++)for(let K=0;K<r;K++){let ee=tn.latLng(o.getNorth()-D*d,o.getWest()+K*f),xe=tn.latLng(o.getNorth()-(D+1)*d,o.getWest()+(K+1)*f);m.push(tn.latLngBounds(ee,xe))}let y=t.patients,b=[];for(let D=0;D<m.length;D++)b.push([]);for(let D=0;D<y.length;D++){let K=!1;for(let ee=0;ee<m.length;ee++)m[ee].contains(y[D].location)&&(K=!0,b[ee].push(y[D]));K||console.log("LOST POINT")}this.CreateGridClustersFromPatientGroups(b,t)}OnZoomChanged(t){this.PatientsAreVisible=!1;for(let i=0;i<this.Clusters.length;i++)if(this.Clusters[i].shouldDisplayPatients){this.PatientsAreVisible=!0;break}if(t)for(let i=0;i<t.patients.length;i++)if(t.shouldDisplayPatients){let r=t.patients[i].marker;r.setOpacity(1),this.map.hasLayer(r)||r.addTo(this.map)}else{let r=t.patients[i].marker;r.setOpacity(0),this.map.hasLayer(r)&&r.removeFrom(this.map)}else for(let i=0;i<this.Clusters.length;i++){let r=this.Clusters[i];for(let o=0;o<r.patients.length;o++)r.patients[o].marker.setOpacity(r.shouldDisplayPatients?1:0)}}HandleBoxSelectEvent(t){}CreateMarkerClusters(t,i){var r=this;return Qu(function*(){if(0!=r.Patients.length)for(let _e=0;_e<r.Patients.length;_e++){let de=r.Patients[_e].marker;try{de.removeFrom(r.map)}catch{}}r.Patients=t,r.Clusters=[],r.ClearMarkers(),r.map.fitBounds(r.GetBoundsOfPatients(t).pad(.05)),yield(1e3,new Promise(de=>setTimeout(de,1e3)));var u=r.map.getCenter(),c=r.map.latLngToContainerPoint(u),f=[c.x+1,c.y],d=[c.x,c.y+1],m=r.map.containerPointToLatLng(c),y=r.map.containerPointToLatLng(f),b=r.map.containerPointToLatLng(d),D=m.distanceTo(y),K=m.distanceTo(b);let ee=Math.min(D,K);r.largeClusterGroup=tn.markerClusterGroup({removeOutsideVisibleBounds:!0,zoomToBoundsOnClick:!1,showCoverageOnHover:!0,spiderfyOnMaxZoom:!1,maxClusterRadius:1609.34*i/ee,iconCreateFunction:_e=>{var de=_e.getChildCount(),me=!1;if(r.Clusters.length>0)for(let Be=0;Be<r.Clusters.length;Be++)if(r.Clusters[Be].leafletMarkerCluster==_e){de=r.Clusters[Be].patients.length,me=!0;break}if(0==me)return new tn.DivIcon({html:'<div><span><span aria-label="markers"></span></span></div>',className:"invisible-marker"});var Ne=" marker-cluster-";return new tn.DivIcon({html:"<div><span>"+de+' <span aria-label="markers"></span></span></div>',className:"marker-cluster"+(Ne+=de<10?"small":de<100?"medium":"large"),iconSize:new tn.Point(30,30)})}});for(let _e=0;_e<t.length;_e++){let de=t[_e],me=new nP(de.location,de,{icon:el.DefaultIcon});de.marker=me,me.on("click",Ne=>{if(!me)return;let Be=[];Be.push(de);for(let Ye=0;Ye<r.Patients.length;Ye++){let et=r.Patients[Ye];et!=de&&et.longitude==de.longitude&&et.latitude==de.latitude&&Be.push(et)}let We=null;for(let Ye=0;Ye<Be.length;Ye++){let et=Be[Ye],Fe=!1;for(let Ht=0;Ht<r.Clusters.length;Ht++){let Pt=r.Clusters[Ht];if(Pt.patients.includes(et))if(null==We)We=Pt;else if(We!=Pt){We=null,Fe=!0;break}}if(Fe)break}null==We||We.shouldDisplayPatients?r.OnPatientsClicked.emit({patients:Be,cluster:We}):r.OnClusterClicked.emit({cluster:We})}),r.largeClusterGroup.addLayer(me)}r.startingPatientCount=t.length,console.log(`Starting Patient Count: ${r.startingPatientCount}`),r.largeClusterGroup.addTo(Ei.LeafletMarkerClustersGroup),r.CreatePatientsMapMask(),r.CanUndo=!1,r.FindClusters(t)})()}CreatePatientsMapMask(){let t=[];for(let o=0;o<this.Patients.length;o++)t.push(this.Patients[o].location);var i=tn.TileLayer.maskCanvas({radius:100});i.setData(t),this.mapControls=tn.control.layers(void 0,{Clusters:Ei.MappedPolygons,Patients:i}),this.mapControls.addTo(this.map)}GetClusterFromPatientMarker(t){let i=null;for(let r=0;r<this.Clusters.length;r++)if(this.Clusters[r].patients.findIndex(u=>u.marker==t)>=0){i=this.Clusters[r];break}return i}FindClusters(t){var i=this;return Qu(function*(){if(0==Ei.LeafletMarkerClustersGroup.getLayers().length)return;let r=[];i.map.eachLayer(f=>{if(f instanceof tn.MarkerCluster){let d=new Ei,m=f;m.on("click",()=>{i.OnClusterClicked.emit({cluster:d})}),d.mapComponent=i,d.leafletMarkerCluster=m,i.Clusters.push(d),r.push(m)}}),console.log(`Found ${r.length} main clusters`);for(let f=i.Clusters.length-1;f>=0;f--){let d=[],m=i.Clusters[f].leafletMarkerCluster.getAllChildMarkers();for(let xe=0;xe<m.length;xe++)d.push([m[xe].getLatLng().lat,m[xe].getLatLng().lng]);if(0==d.length){i.Clusters[f].Destroy(),i.Clusters.splice(f,1);continue}if(d.length<15&&0==Array.from(new Set(d)).length){i.Clusters[f].Destroy(),i.Clusters.splice(f,1);continue}let y=i.CalculatePolygonHull(d),b=tn.polygon(y,{weight:2});b.addTo(i.map);let D=[b.getCenter().lat,b.getCenter().lng];b.removeFrom(i.map);let K=JSON.parse(JSON.stringify(y)),ee=1.05;for(let xe=0;xe<K.length;xe++)K[xe]=i.GetScaledPoint(K[xe],D,ee);i.Clusters[f].shape=K}Ei.LeafletMarkerClustersGroup.clearLayers();for(let f=0;f<t.length;f++){let d=!1;for(let m=0;m<i.Clusters.length;m++)if(i.Clusters[m].IsPointWithinCluster(t[f].location)){i.Clusters[m].patients.push(t[f]),d=!0;break}if(!d){let m=t[f].marker;i.map.hasLayer(m)||m.addTo(i.map)}}let u=0,c=1e7;for(let f=0;f<i.Clusters.length;f++)i.Clusters[f].patients.length>u?u=i.Clusters[f].patients.length:i.Clusters[f].patients.length<c&&(c=i.Clusters[f].patients.length);i.polygonColorGradient.setNumberRange(c,u);for(let f=0;f<i.Clusters.length;f++){let d="#"+i.polygonColorGradient.colourAt(i.Clusters[f].patients.length);i.Clusters[f].color=d;let m=tn.polygon(i.Clusters[f].shape,{color:`${i.Clusters[f].color}`,weight:2}),y=i.Clusters[f];m.on("click",()=>{i.OnClusterClicked.emit({cluster:y})}),i.Clusters[f].polygon=m,i.Clusters[f].CalculateDiameter()}for(let f=i.Clusters.length-1;f>=0;f--)0!=i.Clusters[f].patients.length?i.ReconfigureClusterShape(i.Clusters[f]):(i.Clusters[f].Destroy(),i.Clusters.splice(f,1));i.GetUnclusteredPatientCount()})()}UpdateClusterColors(){let t=0,i=1e7;for(let r=0;r<this.Clusters.length;r++)this.Clusters[r].patients.length>t?t=this.Clusters[r].patients.length:this.Clusters[r].patients.length<i&&(i=this.Clusters[r].patients.length);this.polygonColorGradient.setNumberRange(i,t);for(let r=0;r<this.Clusters.length;r++){let o="#"+this.polygonColorGradient.colourAt(this.Clusters[r].patients.length);this.Clusters[r].color=o}}CalculatePolygonHull(t){var i="",r=t.sort().filter(c=>c.join("")!==i&&(i=c.join(""),!0));if(0==(t=r).length)return console.error("0 points for unique polygon!"),[];if(t.length<4){if(0==t.length)return console.error("0 points for unique polygon!"),[];let c=[];for(let f=0;f<t.length;f++)c.push(Cl(t[f]));c.push(Cl(t[0]));var o=EI(function yg(n,e){void 0===e&&(e={});var t={type:"FeatureCollection"};return e.id&&(t.id=e.id),e.bbox&&(t.bbox=e.bbox),t.features=n,t}(c));if(function lG(n){return function f6(n,e,t){var i=t;return cI(n,function(r,o,u,c,f){i=0===o&&void 0===t?r:e(i,r,o,u,c,f)}),i}(n,function(e,t){return e+function cG(n){var t,e=0;switch(n.type){case"Polygon":return II(n.coordinates);case"MultiPolygon":for(t=0;t<n.coordinates.length;t++)e+=II(n.coordinates[t]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)},0)}(o)<5){let f=[],d=t[0],m=d[0],y=d[1];return f.push([m+.004,y+.004]),f.push([m+.004,y-.004]),f.push([m-.004,y-.004]),f.push([m-.004,y+.004]),this.convexHull(f)}return this.convexHull(o.geometry.coordinates[0])}return this.convexHull(t)}PartitionCluster(t){var i=this;return Qu(function*(){if(t.hasBeenPartitioned)return void console.warn("cluster has already been partitioned");i.StorePreviousClusters(),t.hasBeenPartitioned=!0,i.map.fitBounds(t.leafletMarkerCluster.getBounds()),yield(2e3,new Promise(D=>setTimeout(D,2e3)));let o=i.GetMarkerClustersWithinAreaOnMap(t.shape),c=i.Clusters.length;for(let b=0;b<o.length;b++){let D=new Ei;D.leafletMarkerCluster=o[b],D.leafletMarkerCluster.on("click",()=>{i.OnClusterClicked.emit({cluster:D})}),D.mapComponent=i,i.Clusters.push(D)}for(let b=c;b<i.Clusters.length;b++){let D=[],K=i.Clusters[b].leafletMarkerCluster.getAllChildMarkers();for(let me=0;me<K.length;me++)D.push([K[me].getLatLng().lat,K[me].getLatLng().lng]);let ee=i.CalculatePolygonHull(D),xe=tn.polygon(ee);xe.addTo(i.map),xe.getCenter(),xe.getCenter(),xe.removeFrom(i.map);let de=i.GetScaledHull(ee,1.05);i.Clusters[b].shape=de}let f=[];for(let b=t.patients.length-1;b>=0;b--){let D=t.patients[b].location,K=!1;for(let ee=c;ee<i.Clusters.length;ee++)if(i.Clusters[ee].IsPointWithinCluster(D)){i.Clusters[ee].patients.push(t.patients[b]),K=!0;break}K||f.push(t.patients[b]),t.patients.splice(b,1)}for(let b=f.length-1;b>=0;b--)for(let D=0;D<i.Clusters.length;D++)if(i.Clusters[D].IsPointWithinCluster(f[b].location)){i.Clusters[D].patients.push(f[b]),f.splice(b,1);break}if(0==t.patients.length){let b=i.Clusters.indexOf(t);i.Clusters.splice(b,1),t.Destroy()}else i.ReconfigureClusterShape(t);let d=0;for(let b=i.Clusters.length-1;b>=0;b--)if(i.Clusters[b].patients.length<=0){let D=i.Clusters[b];i.Clusters.splice(b,1),D.Destroy()}else d+=i.Clusters[b].patients.length;let m=0,y=1e7;for(let b=0;b<i.Clusters.length;b++)i.Clusters[b].patients.length>m?m=i.Clusters[b].patients.length:i.Clusters[b].patients.length<y&&(y=i.Clusters[b].patients.length);i.polygonColorGradient.setNumberRange(y,m);for(let b=0;b<i.Clusters.length;b++){let D="#"+i.polygonColorGradient.colourAt(i.Clusters[b].patients.length);i.Clusters[b].color=D;let K=tn.polygon(i.Clusters[b].shape,{color:`${i.Clusters[b].color}`,weight:2}),ee=i.Clusters[b];K.on("click",()=>{i.OnClusterClicked.emit({cluster:ee})}),i.Clusters[b].polygon=K,i.Clusters[b].CalculateDiameter()}i.OnDeselect.emit({}),i.CanUndo=!0})()}ReconfigureClusterShape(t){let i=this.GetPointsForPolygon(t);if(0==i.length)return;let r=this.CalculatePolygonHull(i),o=tn.polygon(r);o.addTo(this.map),o.getCenter(),o.getCenter(),o.removeFrom(this.map);let c=this.GetScaledHull(r,1.05),f=tn.polygon(c,{color:`${t.color}`,weight:2});f.on("click",()=>{this.OnClusterClicked.emit({cluster:t})}),t.polygon=f,t.shape=c,t.CalculateDiameter(),this.OnZoomChanged()}GetBoundsOfPatients(t){let i=[];for(let u=0;u<t.length;u++)i.push(t[u].location);let r=this.convexHull(i);return tn.polygon(r).getBounds()}GetScaledPoint(t,i,r){let o=[t[0]-i[0],t[1]-i[1]],u=[o[0]*r,o[1]*r];return[u[0]+i[0],u[1]+i[1]]}GetMarkerClustersWithinAreaOnMap(t){let i=[];return this.map.eachLayer(r=>{if(r instanceof tn.MarkerCluster||r instanceof tn.Marker){let o=Y$(t,[r.getLatLng().lat,r.getLatLng().lng]);(-1==o||0==o)&&r instanceof tn.MarkerCluster&&i.push(r)}}),i}DrawClusterRoundTripRoute(t,i){var r=tn.polyline(i,{color:"blue"});t.routePolyline=r}ClearMarkers(){this.markers.clearLayers(),this.miniMarkers.clearLayers(),Ei.LeafletMarkerClustersGroup.clearLayers(),Ei.MappedPolygons.clearLayers(),Ei.MappedPatients.clearLayers(),void 0!==this.mapControls&&this.map.removeControl(this.mapControls)}UpdateMapCenter(t){let i=0,r=0;for(let o=0;o<t.length;o++)i+=t[o][0],r+=t[o][1];i/=t.length,r/=t.length,this.map.panTo(new tn.LatLng(i,r))}getAveragePoint(t){let i=0,r=0;for(let o=0;o<t.length;o++)i+=t[o][0],r+=t[o][1];return i/=t.length,r/=t.length,[i,r]}cross(t,i,r){return(t[0]-r[0])*(i[1]-r[1])-(t[1]-r[1])*(i[0]-r[0])}convexHull(t){t.sort(function(u,c){return u[0]==c[0]?u[1]-c[1]:u[0]-c[0]});for(var i=[],r=0;r<t.length;r++){for(;i.length>=2&&this.cross(i[i.length-2],i[i.length-1],t[r])<=0;)i.pop();i.push(t[r])}var o=[];for(r=t.length-1;r>=0;r--){for(;o.length>=2&&this.cross(o[o.length-2],o[o.length-1],t[r])<=0;)o.pop();o.push(t[r])}return o.pop(),i.pop(),i.concat(o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Pr({type:n,selectors:[["app-map"]],outputs:{OnClusterClicked:"OnClusterClicked",OnPatientsClicked:"OnPatientsClicked",OnBoxSelect:"OnBoxSelect",OnClusterMouseOver:"OnClusterMouseOver",OnClusterMouseLeave:"OnClusterMouseLeave",OnDeselect:"OnDeselect"},decls:1,vars:0,consts:[["id","map"]],template:function(t,i){1&t&&es(0,"div",0)},styles:["#map[_ngcontent-%COMP%]{height:100%;width:100%;position:relative;z-index:0}.invisible-marker[_ngcontent-%COMP%]{opacity:0;pointer-events:none;width:1px;height:1px}  .leaflet-tooltip{background-color:#0000!important;border:none;box-shadow:none}"]}),n})();const Q$=["tooltip"],zA="tooltip-panel",HA=rf({passive:!0}),jA=new St("mat-tooltip-scroll-strategy"),n7={provide:jA,deps:[yl],useFactory:function t7(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},i7=new St("mat-tooltip-default-options",{providedIn:"root",factory:function r7(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let o7=(()=>{class n{constructor(t,i,r,o,u,c,f,d,m,y,b,D){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=u,this._platform=c,this._ariaDescriber=f,this._focusMonitor=d,this._dir=y,this._defaultOptions=b,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new pe,this._scrollStrategy=m,this._document=D,b&&(b.position&&(this.position=b.position),b.touchGestures&&(this.touchGestures=b.touchGestures)),y.change.pipe(sa(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=wa(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=fp(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=fp(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(sa(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,HA)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay();this._detach(),this._portal=this._portal||new Hp(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(sa(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return i.positionChanges.pipe(sa(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${zA}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(sa(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(sa(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(sa(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Gy(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:o,y:u}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:u}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:u}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Yu(1),sa(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:o}=t;let u;if(u="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",u!==this._currentPosition){const c=this._overlayRef;if(c){const f=`${this._cssClassPrefix}-${zA}-`;c.removePanelClass(f+this._currentPosition),c.addPanelClass(f+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,HA)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){bd()},n.\u0275dir=Nt({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),UA=(()=>{class n extends o7{constructor(t,i,r,o,u,c,f,d,m,y,b,D){super(t,i,r,o,u,c,f,d,m,y,b,D),this._tooltipComponent=a7}}return n.\u0275fac=function(t){return new(t||n)(Je(yl),Je(br),Je(LM),Je(za),Je(bi),Je(Ds),Je(Tz),Je(eh),Je(jA),Je(af,8),Je(i7,8),Je(Bn))},n.\u0275dir=Nt({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[On]}),n})(),s7=(()=>{class n{constructor(t,i){this._changeDetectorRef=t,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new pe,this._animationsDisabled="NoopAnimations"===i}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(t?o:r),i.classList.add(t?r:o),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const u=getComputedStyle(i);("0s"===u.getPropertyValue("animation-duration")||"none"===u.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(Je($l),Je(Iu,8))},n.\u0275dir=Nt({type:n}),n})(),a7=(()=>{class n extends s7{constructor(t,i,r){super(t,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(t){return new(t||n)(Je($l),Je(WS),Je(Iu,8))},n.\u0275cmp=Pr({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,i){if(1&t&&iu(Q$,7),2&t){let r;Do(r=Mo())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,i){1&t&&kn("mouseleave",function(o){return i._handleMouseLeave(o)}),2&t&&P_("zoom",i.isVisible()?1:null)},features:[On],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(t,i){if(1&t&&(Ft(0,"div",0,1),kn("animationend",function(o){return i._handleAnimationEnd(o)}),function RE(n,e){const t=en();let i;const r=n+Pn;t.firstCreatePass?(i=function u2(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=dt(i.type)),u=ki(Je);try{const c=id(!1),f=o();return id(c),function ZR(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,at(),r,f),f}finally{ki(u)}}(2,"async"),Hn(3),zt()),2&t){let r;Ss("mat-tooltip-handset",null==(r=NE(2,4,i._isHandset))?null:r.matches),Xt("ngClass",i.tooltipClass),Gt(3),Gl(i.message)}},dependencies:[Qx,sS],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),u7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({providers:[n7],imports:[sD,Py,Rv,Vs,Vs,Tv]}),n})();j(9529);let l7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({}),n})();const c7=["input"],h7=["label"],f7=function(n){return{enterDuration:n}},d7=["*"],p7=new St("mat-checkbox-default-options",{providedIn:"root",factory:GA});function GA(){return{color:"accent",clickAction:"check-indeterminate"}}let g7=0;const qA=GA(),m7={provide:au,useExisting:Si(()=>$A),multi:!0};class _7{}const y7=Jz(vp(cD(lD(class{constructor(n){this._elementRef=n}}))));let v7=(()=>{class n extends y7{constructor(t,i,r,o,u,c,f){super(i),this._changeDetectorRef=r,this._ngZone=o,this._animationMode=c,this._options=f,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new lr,this.indeterminateChange=new lr,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||qA,this.color=this.defaultColor=this._options.color||qA.color,this.tabIndex=parseInt(u)||0,this.id=this._uniqueId=`${t}${++g7}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=wa(t)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const i=wa(t);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const i=wa(t);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const i=t!=this._indeterminate;this._indeterminate=wa(t),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}}return n.\u0275fac=function(t){bd()},n.\u0275dir=Nt({type:n,viewQuery:function(t,i){if(1&t&&(iu(c7,5),iu(h7,5),iu(bp,5)),2&t){let r;Do(r=Mo())&&(i._inputElement=r.first),Do(r=Mo())&&(i._labelElement=r.first),Do(r=Mo())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[On]}),n})(),$A=(()=>{class n extends v7{constructor(t,i,r,o,u,c,f){super("mat-checkbox-",t,i,o,u,c,f),this._focusMonitor=r,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(t){const i=new _7;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(t){t.stopPropagation(),super._handleInputClick()}focus(t,i){t?this._focusMonitor.focusVia(this._inputElement,t,i):this._inputElement.nativeElement.focus(i)}}return n.\u0275fac=function(t){return new(t||n)(Je(br),Je($l),Je(eh),Je(bi),_c("tabindex"),Je(Iu,8),Je(p7,8))},n.\u0275cmp=Pr({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(t,i){2&t&&(Uc("id",i.id),So("tabindex",null)("aria-label",null)("aria-labelledby",null),Ss("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[ur([m7]),On],ngContentSelectors:d7,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,i){if(1&t&&(Vh(),Ft(0,"label",0,1)(2,"span",2)(3,"input",3,4),kn("change",function(o){return i._onInteractionEvent(o)})("click",function(o){return i._onInputClick(o)}),zt(),Ft(5,"span",5),es(6,"span",6),zt(),es(7,"span",7),Ft(8,"span",8),function V1(){le.lFrame.currentNamespace=Os}(),Ft(9,"svg",9),es(10,"path",10),zt(),function z1(){!function nL(){le.lFrame.currentNamespace=null}()}(),es(11,"span",11),zt()(),Ft(12,"span",12,13),kn("cdkObserveContent",function(){return i._onLabelTextChange()}),Ft(14,"span",14),Hn(15,"\xa0"),zt(),Va(16),zt()()),2&t){const r=Td(1),o=Td(13);So("for",i.inputId),Gt(2),Ss("mat-checkbox-inner-container-no-side-margin",!o.textContent||!o.textContent.trim()),Gt(1),Xt("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),So("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),Gt(2),Xt("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",function IE(n,e,t,i){return TE(at(),ks(),n,e,t,i)}(19,f7,"NoopAnimations"===i._animationMode?0:150))}},dependencies:[bp,jS],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),WA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({}),n})(),C7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n}),n.\u0275inj=An({imports:[gD,Vs,Zy,WA,Vs,WA]}),n})(),E7=(()=>{class n{OnMouseEnter(t){try{this.patient.marker.getElement()?.classList.add("patient-icon-hovered")}catch{}}OnMouseLeave(t){try{this.patient.marker.getElement()?.classList.remove("patient-icon-hovered")}catch{}}ReassignClusterRequest(t){this.appComponent.OnPatientReassignRequest(t,this.patient)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Pr({type:n,selectors:[["app-patient-panel"]],inputs:{patient:"patient",appComponent:"appComponent",cluster:"cluster"},decls:9,vars:8,consts:[[1,"container",3,"mouseenter","mouseleave"],[1,"name"],[1,"cluster"],[1,"address"],["mat-flat-button","","color","accent",3,"disabled","click"]],template:function(t,i){1&t&&(Ft(0,"div",0),kn("mouseenter",function(){return i.OnMouseEnter(i)})("mouseleave",function(){return i.OnMouseLeave(i)}),Ft(1,"p",1),Hn(2),zt(),Ft(3,"p",2),Hn(4),zt(),Ft(5,"p",3),Hn(6),zt(),Ft(7,"button",4),kn("click",function(o){return i.ReassignClusterRequest(o)}),Hn(8),zt()()),2&t&&(Gt(2),nu("Patient ",i.patient.patUID,""),Gt(2),Gl(null==i.cluster?"unclustered":"Within Cluster "+i.cluster.patients.length),Gt(2),T_("",i.patient.memberAddress,", ",i.patient.city,", ",i.patient.state,", ",i.patient.zip,""),Gt(1),Xt("disabled",i.appComponent.IsChoosingNewClusterForPatient&&i.appComponent.SelectedPatient!=i.patient),Gt(1),nu(" ",i.appComponent.IsChoosingNewClusterForPatient&&i.appComponent.SelectedPatient==i.patient?"Cancel":"Change Cluster"," "))},dependencies:[wp],styles:['*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box;margin:0;padding:0}@font-face{font-family:DidactGothicRegular;src:url(/LocationClusterer/assets/DidactGothic-Regular.ttf) format("truetype")}html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow-x:hidden}.container[_ngcontent-%COMP%]{width:100%;height:130px;padding:0 5px;margin:5px 0;display:flex;flex-direction:column;background-color:#f0f0f0;border-radius:3px}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:5px}.name[_ngcontent-%COMP%]{font-size:1.25rem}.cluster[_ngcontent-%COMP%]{font-size:1rem;color:#282828}.address[_ngcontent-%COMP%]{font-size:.75rem;text-overflow:ellipsis;color:#282828}']}),n})();function x7(n,e){if(1&n){const t=Ba();Ft(0,"div",6)(1,"button",7),kn("click",function(r){return Ai(t),vr(Li().GetClusterMilage(r))}),Hn(2," Get Milage "),zt()()}if(2&n){const t=Li();Xt("matTooltipDisabled",-1==t.cluster.milageEstimate&&t.cluster.patients.length<12),Gt(1),Xt("matTooltipDisabled",!1)("disabled",-1!=t.cluster.milageEstimate||t.cluster.patients.length>=12)}}function S7(n,e){if(1&n&&(Ft(0,"p"),Hn(1),zt()),2&n){const t=Li();Gt(1),nu("Milage: ",t.cluster.milageEstimate," miles")}}function D7(n,e){if(1&n&&(Ft(0,"p"),Hn(1),zt()),2&n){const t=Li();Gt(1),nu("Diameter: ",t.cluster.diameter," miles")}}function M7(n,e){if(1&n){const t=Ba();hl(0),Ft(1,"div",8)(2,"button",9),kn("click",function(r){return Ai(t),vr(Li().RunKmeans(r))}),Hn(3,"Auto Partition"),zt(),Ft(4,"input",10),kn("ngModelChange",function(r){return Ai(t),vr(Li().k=r)}),zt()(),Ft(5,"div",11)(6,"button",9),kn("click",function(r){return Ai(t),vr(Li().RunGridCluster(r))}),Hn(7,"Grid Partition"),zt(),Ft(8,"input",12),kn("ngModelChange",function(r){return Ai(t),vr(Li().rows=r)}),zt(),Ft(9,"input",13),kn("ngModelChange",function(r){return Ai(t),vr(Li().columns=r)}),zt()(),fl()}if(2&n){const t=Li();Gt(2),Xt("disabled",t.cluster.hasBeenPartitioned||t.appComponent.ShowSpinner),Gt(2),Xt("ngModel",t.k),Gt(2),Xt("disabled",t.cluster.hasBeenPartitioned||!t.AreGridSettingsValid()||t.appComponent.ShowSpinner),Gt(2),Xt("ngModel",t.rows),Gt(1),Xt("ngModel",t.columns)}}let P7=(()=>{class n{constructor(){this.k=2,this.rows=2,this.columns=2}RunKmeans(t){this.k>this.cluster.patients.length||this.appComponent.RunKmeans(t,this.k)}AutoPartition(t){this.appComponent.AutoPartitionCluster(t)}GetClusterMilage(t){this.appComponent.GetClusterEstimatedMilage(t)}DeleteCluster(t){this.appComponent.DeleteCluster(t)}RunGridCluster(t){this.appComponent.RunGridCluster(t,this.rows,this.columns)}AreGridSettingsValid(){return!(this.rows<1||this.rows>8||this.columns<1||this.columns>8||null==this.rows||null==this.columns||1==this.rows&&1==this.columns)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Pr({type:n,selectors:[["app-cluster-panel"]],inputs:{cluster:"cluster",appComponent:"appComponent"},decls:13,vars:8,consts:[[1,"container"],[1,"name"],[3,"checked","change"],["matTooltip","Can only calculate milage for clusters of size < 12","matTooltipClass","primary-tooltip","matTooltipPosition","right",3,"matTooltipDisabled",4,"ngIf"],[4,"ngIf"],["color","warn","mat-flat-button","",1,"delete-button",3,"disabled","click"],["matTooltip","Can only calculate milage for clusters of size < 12","matTooltipClass","primary-tooltip","matTooltipPosition","right",3,"matTooltipDisabled"],["mat-flat-button","","matTooltipPosition","right","matTooltip","Milage","matTooltipClass","primary-tooltip","color","accent",1,"milage-button",3,"matTooltipDisabled","disabled","click"],[1,"kmeans-settings"],["mat-flat-button","","color","accent",3,"disabled","click"],["type","number","min","2","max","12","matTooltipPosition","right","matTooltip","The number of partitions","matTooltipClass","primary-tooltip",3,"ngModel","ngModelChange"],[1,"grid-partition-settings"],["type","number","min","1","max","8","matTooltipPosition","right","matTooltip","The number of rows (from 1 to 8)","matTooltipClass","primary-tooltip",3,"ngModel","ngModelChange"],["type","number","min","1","max","8","matTooltipPosition","right","matTooltip","The number of columns (from 1 to 8)","matTooltipClass","primary-tooltip",3,"ngModel","ngModelChange"]],template:function(t,i){1&t&&(Ft(0,"div",0)(1,"p",1),Hn(2),zt(),Ft(3,"mat-checkbox",2),kn("change",function(o){return i.cluster.shouldDisplayArea=o.checked}),Hn(4," Display Area "),zt(),Ft(5,"mat-checkbox",2),kn("change",function(o){return i.cluster.shouldDisplayPatients=o.checked}),Hn(6," Display Patients "),zt(),Vi(7,x7,3,3,"div",3),Vi(8,S7,2,1,"p",4),Vi(9,D7,2,1,"p",4),Vi(10,M7,10,5,"ng-container",4),Ft(11,"button",5),kn("click",function(o){return i.DeleteCluster(o)}),Hn(12," Delete Cluster "),zt()()),2&t&&(Gt(2),nu("Cluster ",i.cluster.patients.length,""),Gt(1),Xt("checked",i.cluster.shouldDisplayArea),Gt(2),Xt("checked",i.cluster.shouldDisplayPatients),Gt(2),Xt("ngIf",i.cluster.milageEstimate<0),Gt(1),Xt("ngIf",i.cluster.milageEstimate>=0&&i.cluster.patients.length>1),Gt(1),Xt("ngIf",i.cluster.diameter>=0),Gt(1),Xt("ngIf",!i.cluster.hasBeenPartitioned),Gt(1),Xt("disabled",i.appComponent.ShowSpinner))},dependencies:[ip,wp,th,Bp,Mp,Dv,Sv,Fp,UA,$A],styles:['*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box;margin:0;padding:0}@font-face{font-family:DidactGothicRegular;src:url(/LocationClusterer/assets/DidactGothic-Regular.ttf) format("truetype")}html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow-x:hidden}.container[_ngcontent-%COMP%]{width:100%;height:300px;padding:0 5px;margin:5px 0;display:flex;flex-direction:column;background-color:#f0f0f0;border-radius:3px}.name[_ngcontent-%COMP%]{font-size:1.25rem}.auto-partition-button[_ngcontent-%COMP%]{margin:5px}.milage-button[_ngcontent-%COMP%]{width:100%}.kmeans-settings[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:start;padding:5px}.kmeans-settings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 10px}.kmeans-settings[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{align-self:center;width:40px;height:95%;text-align:center;margin:0 10px}.grid-partition-settings[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:start;padding:5px}.grid-partition-settings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 10px}.grid-partition-settings[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{align-self:center;width:40px;height:95%;text-align:center;margin:0 10px}.delete-button[_ngcontent-%COMP%]{margin:auto 5px 5px}']}),n})(),I7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mn({type:n,bootstrap:[mP]}),n.\u0275inj=An({imports:[LS,UU,d5,ov,tj,r6,Z8,Y8,u7,YH,Mj,l7,C7]}),n})();(function Nr(n,e,t){const i=n.\u0275cmp;i.directiveDefs=co(e,!1),i.pipeDefs=co(t,!0)})(mP,[tS,ip,wp,V5,PD,Ep,tP,i6,gM,th,Bp,Mp,nM,vf,Cv,UA,o6,K$,E7,P7],[]),GV().bootstrapModule(I7).catch(n=>console.error(n))},1503:(Qe,fe,j)=>{"use strict";var M=j(3269);function v(w){var E=[1/0,1/0,-1/0,-1/0];return M.coordEach(w,function(S){E[0]>S[0]&&(E[0]=S[0]),E[1]>S[1]&&(E[1]=S[1]),E[2]<S[0]&&(E[2]=S[0]),E[3]<S[1]&&(E[3]=S[1])}),E}v.default=v,fe.Z=v},8095:Qe=>{"use strict";Qe.exports={eudist:function(j,P,M){for(var v=j.length,w=0,E=0;E<v;E++){var S=(j[E]||0)-(P[E]||0);w+=S*S}return M?Math.sqrt(w):w},mandist:function(j,P,M){for(var v=j.length,w=0,E=0;E<v;E++)w+=Math.abs((j[E]||0)-(P[E]||0));return M?Math.sqrt(w):w},dist:function(j,P,M){var v=Math.abs(j-P);return M?v:v*v}}},945:(Qe,fe,j)=>{"use strict";var P=j(8095),M=P.eudist,v=P.dist;Qe.exports={kmrand:function(E,S){for(var R={},C=[],H=S<<2,Y=E.length,$=E[0].length>0;C.length<S&&H-- >0;){var te=E[Math.floor(Math.random()*Y)],q=$?te.join("_"):""+te;R[q]||(R[q]=!0,C.push(te))}if(C.length<S)throw new Error("Error initializating clusters");return C},kmpp:function(E,S){var R=E[0].length?M:v,C=[],H=E.length,Y=E[0].length>0,te=E[Math.floor(Math.random()*H)];for(Y&&te.join("_"),C.push(te);C.length<S;){for(var ne=[],N=C.length,k=0,O=[],B=0;B<H;B++){for(var I=1/0,U=0;U<N;U++){var F=R(E[B],C[U]);F<=I&&(I=F)}ne[B]=I}for(var X=0;X<H;X++)k+=ne[X];for(var oe=0;oe<H;oe++)O[oe]={i:oe,v:E[oe],pr:ne[oe]/k,cs:0};O.sort(function(ue,J){return ue.pr-J.pr}),O[0].cs=O[0].pr;for(var z=1;z<H;z++)O[z].cs=O[z-1].cs+O[z].pr;for(var ie=Math.random(),Q=0;Q<H-1&&O[Q++].cs<ie;);C.push(O[Q-1].v)}return C}}},5331:(Qe,fe,j)=>{"use strict";var P=j(8095),M=j(945),v=P.eudist,S=M.kmrand,R=M.kmpp;function H($,te,q){q=q||[];for(var ne=0;ne<$;ne++)q[ne]=te;return q}Qe.exports=function Y($,te,q,ne){var N=[],k=[],O=[],B=[],I=!1,U=ne||1e4,F=$.length,X=$[0].length,oe=X>0,z=[];if(q)N="kmrand"==q?S($,te):"kmpp"==q?R($,te):q;else for(var ie={};N.length<te;){var Q=Math.floor(Math.random()*F);ie[Q]||(ie[Q]=!0,N.push($[Q]))}do{H(te,0,z);for(var ue=0;ue<F;ue++){for(var J=1/0,Me=0,Te=0;Te<te;Te++)(B=oe?v($[ue],N[Te]):Math.abs($[ue]-N[Te]))<=J&&(J=B,Me=Te);O[ue]=Me,z[Me]++}for(var ge=[],ve=(k=[],0);ve<te;ve++)ge[ve]=oe?H(X,0,ge[ve]):0,k[ve]=N[ve];if(oe){for(var he=0;he<te;he++)N[he]=[];for(var ce=0;ce<F;ce++)for(var ke=ge[O[ce]],pe=$[ce],Le=0;Le<X;Le++)ke[Le]+=pe[Le];I=!0;for(var Ie=0;Ie<te;Ie++){for(var $e=N[Ie],Ke=ge[Ie],W=k[Ie],ae=z[Ie],ye=0;ye<X;ye++)$e[ye]=Ke[ye]/ae||0;if(I)for(var Ae=0;Ae<X;Ae++)if(W[Ae]!=$e[Ae]){I=!1;break}}}else{for(var ze=0;ze<F;ze++)ge[O[ze]]+=$[ze];for(var ct=0;ct<te;ct++)N[ct]=ge[ct]/z[ct]||0;I=!0;for(var ht=0;ht<te;ht++)if(k[ht]!=N[ht]){I=!1;break}}I=I||--U<=0}while(!I);return{it:1e4-U,k:te,idxs:O,centroids:N}}},8275:(Qe,fe)=>{"use strict";function j(Q,ue,J){void 0===J&&(J={});var Me={type:"Feature"};return(0===J.id||J.id)&&(Me.id=J.id),J.bbox&&(Me.bbox=J.bbox),Me.properties=ue||{},Me.geometry=Q,Me}function M(Q,ue,J){if(void 0===J&&(J={}),!Q)throw new Error("coordinates is required");if(!Array.isArray(Q))throw new Error("coordinates must be an Array");if(Q.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!X(Q[0])||!X(Q[1]))throw new Error("coordinates must contain numbers");return j({type:"Point",coordinates:Q},ue,J)}function w(Q,ue,J){void 0===J&&(J={});for(var Me=0,Te=Q;Me<Te.length;Me++){var ge=Te[Me];if(ge.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Ee=0;Ee<ge[ge.length-1].length;Ee++)if(ge[ge.length-1][Ee]!==ge[0][Ee])throw new Error("First and last Position are not equivalent.")}return j({type:"Polygon",coordinates:Q},ue,J)}function S(Q,ue,J){if(void 0===J&&(J={}),Q.length<2)throw new Error("coordinates must be an array of two or more positions");return j({type:"LineString",coordinates:Q},ue,J)}function C(Q,ue){void 0===ue&&(ue={});var J={type:"FeatureCollection"};return ue.id&&(J.id=ue.id),ue.bbox&&(J.bbox=ue.bbox),J.features=Q,J}function H(Q,ue,J){return void 0===J&&(J={}),j({type:"MultiLineString",coordinates:Q},ue,J)}function Y(Q,ue,J){return void 0===J&&(J={}),j({type:"MultiPoint",coordinates:Q},ue,J)}function $(Q,ue,J){return void 0===J&&(J={}),j({type:"MultiPolygon",coordinates:Q},ue,J)}function ne(Q,ue){void 0===ue&&(ue="kilometers");var J=fe.factors[ue];if(!J)throw new Error(ue+" units is invalid");return Q*J}function N(Q,ue){void 0===ue&&(ue="kilometers");var J=fe.factors[ue];if(!J)throw new Error(ue+" units is invalid");return Q/J}function B(Q){return Q%(2*Math.PI)*180/Math.PI}function X(Q){return!isNaN(Q)&&null!==Q&&!Array.isArray(Q)}Object.defineProperty(fe,"__esModule",{value:!0}),fe.earthRadius=6371008.8,fe.factors={centimeters:100*fe.earthRadius,centimetres:100*fe.earthRadius,degrees:fe.earthRadius/111325,feet:3.28084*fe.earthRadius,inches:39.37*fe.earthRadius,kilometers:fe.earthRadius/1e3,kilometres:fe.earthRadius/1e3,meters:fe.earthRadius,metres:fe.earthRadius,miles:fe.earthRadius/1609.344,millimeters:1e3*fe.earthRadius,millimetres:1e3*fe.earthRadius,nauticalmiles:fe.earthRadius/1852,radians:1,yards:1.0936*fe.earthRadius},fe.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/fe.earthRadius,yards:1.0936133},fe.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},fe.feature=j,fe.geometry=function P(Q,ue,J){switch(void 0===J&&(J={}),Q){case"Point":return M(ue).geometry;case"LineString":return S(ue).geometry;case"Polygon":return w(ue).geometry;case"MultiPoint":return Y(ue).geometry;case"MultiLineString":return H(ue).geometry;case"MultiPolygon":return $(ue).geometry;default:throw new Error(Q+" is invalid")}},fe.point=M,fe.points=function v(Q,ue,J){return void 0===J&&(J={}),C(Q.map(function(Me){return M(Me,ue)}),J)},fe.polygon=w,fe.polygons=function E(Q,ue,J){return void 0===J&&(J={}),C(Q.map(function(Me){return w(Me,ue)}),J)},fe.lineString=S,fe.lineStrings=function R(Q,ue,J){return void 0===J&&(J={}),C(Q.map(function(Me){return S(Me,ue)}),J)},fe.featureCollection=C,fe.multiLineString=H,fe.multiPoint=Y,fe.multiPolygon=$,fe.geometryCollection=function te(Q,ue,J){return void 0===J&&(J={}),j({type:"GeometryCollection",geometries:Q},ue,J)},fe.round=function q(Q,ue){if(void 0===ue&&(ue=0),ue&&!(ue>=0))throw new Error("precision must be a positive number");var J=Math.pow(10,ue||0);return Math.round(Q*J)/J},fe.radiansToLength=ne,fe.lengthToRadians=N,fe.lengthToDegrees=function k(Q,ue){return B(N(Q,ue))},fe.bearingToAzimuth=function O(Q){var ue=Q%360;return ue<0&&(ue+=360),ue},fe.radiansToDegrees=B,fe.degreesToRadians=function I(Q){return Q%360*Math.PI/180},fe.convertLength=function U(Q,ue,J){if(void 0===ue&&(ue="kilometers"),void 0===J&&(J="kilometers"),!(Q>=0))throw new Error("length must be a positive number");return ne(N(Q,ue),J)},fe.convertArea=function F(Q,ue,J){if(void 0===ue&&(ue="meters"),void 0===J&&(J="kilometers"),!(Q>=0))throw new Error("area must be a positive number");var Me=fe.areaFactors[ue];if(!Me)throw new Error("invalid original units");var Te=fe.areaFactors[J];if(!Te)throw new Error("invalid final units");return Q/Me*Te},fe.isNumber=X,fe.isObject=function oe(Q){return!!Q&&Q.constructor===Object},fe.validateBBox=function z(Q){if(!Q)throw new Error("bbox is required");if(!Array.isArray(Q))throw new Error("bbox must be an Array");if(4!==Q.length&&6!==Q.length)throw new Error("bbox must be an Array of 4 or 6 numbers");Q.forEach(function(ue){if(!X(ue))throw new Error("bbox must only contain numbers")})},fe.validateId=function ie(Q){if(!Q)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof Q))throw new Error("id must be a number or a string")}},3269:(Qe,fe,j)=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});var P=j(8275);function M(I,U,F){if(null!==I)for(var X,oe,z,ie,Q,ue,J,ge,Me=0,Te=0,Ee=I.type,ve="FeatureCollection"===Ee,he="Feature"===Ee,ce=ve?I.features.length:1,se=0;se<ce;se++){Q=(ge=!!(J=ve?I.features[se].geometry:he?I.geometry:I)&&"GeometryCollection"===J.type)?J.geometries.length:1;for(var ke=0;ke<Q;ke++){var pe=0,Le=0;if(null!==(ie=ge?J.geometries[ke]:J)){ue=ie.coordinates;var Ie=ie.type;switch(Me=!F||"Polygon"!==Ie&&"MultiPolygon"!==Ie?0:1,Ie){case null:break;case"Point":if(!1===U(ue,Te,se,pe,Le))return!1;Te++,pe++;break;case"LineString":case"MultiPoint":for(X=0;X<ue.length;X++){if(!1===U(ue[X],Te,se,pe,Le))return!1;Te++,"MultiPoint"===Ie&&pe++}"LineString"===Ie&&pe++;break;case"Polygon":case"MultiLineString":for(X=0;X<ue.length;X++){for(oe=0;oe<ue[X].length-Me;oe++){if(!1===U(ue[X][oe],Te,se,pe,Le))return!1;Te++}"MultiLineString"===Ie&&pe++,"Polygon"===Ie&&Le++}"Polygon"===Ie&&pe++;break;case"MultiPolygon":for(X=0;X<ue.length;X++){for(Le=0,oe=0;oe<ue[X].length;oe++){for(z=0;z<ue[X][oe].length-Me;z++){if(!1===U(ue[X][oe][z],Te,se,pe,Le))return!1;Te++}Le++}pe++}break;case"GeometryCollection":for(X=0;X<ie.geometries.length;X++)if(!1===M(ie.geometries[X],U,F))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function w(I,U){var F;switch(I.type){case"FeatureCollection":for(F=0;F<I.features.length&&!1!==U(I.features[F].properties,F);F++);break;case"Feature":U(I.properties,0)}}function S(I,U){if("Feature"===I.type)U(I,0);else if("FeatureCollection"===I.type)for(var F=0;F<I.features.length&&!1!==U(I.features[F],F);F++);}function H(I,U){var F,X,oe,z,ie,Q,ue,J,Me,Te,ge=0,Ee="FeatureCollection"===I.type,ve="Feature"===I.type,he=Ee?I.features.length:1;for(F=0;F<he;F++){for(J=Ee?I.features[F].properties:ve?I.properties:{},Me=Ee?I.features[F].bbox:ve?I.bbox:void 0,Te=Ee?I.features[F].id:ve?I.id:void 0,ie=(ue=!!(Q=Ee?I.features[F].geometry:ve?I.geometry:I)&&"GeometryCollection"===Q.type)?Q.geometries.length:1,oe=0;oe<ie;oe++)if(null!==(z=ue?Q.geometries[oe]:Q))switch(z.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===U(z,ge,J,Me,Te))return!1;break;case"GeometryCollection":for(X=0;X<z.geometries.length;X++)if(!1===U(z.geometries[X],ge,J,Me,Te))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===U(null,ge,J,Me,Te))return!1;ge++}}function $(I,U){H(I,function(F,X,oe,z,ie){var ue,Q=null===F?null:F.type;switch(Q){case null:case"Point":case"LineString":case"Polygon":return!1!==U(P.feature(F,oe,{bbox:z,id:ie}),X,0)&&void 0}switch(Q){case"MultiPoint":ue="Point";break;case"MultiLineString":ue="LineString";break;case"MultiPolygon":ue="Polygon"}for(var J=0;J<F.coordinates.length;J++)if(!1===U(P.feature({type:ue,coordinates:F.coordinates[J]},oe),X,J))return!1})}function q(I,U){$(I,function(F,X,oe){var z=0;if(F.geometry){var ie=F.geometry.type;if("Point"!==ie&&"MultiPoint"!==ie){var Q,ue=0,J=0,Me=0;if(!1===M(F,function(Te,ge,Ee,ve,he){if(void 0===Q||X>ue||ve>J||he>Me)return Q=Te,ue=X,J=ve,Me=he,void(z=0);var ce=P.lineString([Q,Te],F.properties);if(!1===U(ce,X,oe,he,z))return!1;z++,Q=Te}))return!1}}})}function N(I,U){if(!I)throw new Error("geojson is required");$(I,function(F,X,oe){if(null!==F.geometry){var ie=F.geometry.coordinates;switch(F.geometry.type){case"LineString":if(!1===U(F,X,oe,0,0))return!1;break;case"Polygon":for(var Q=0;Q<ie.length;Q++)if(!1===U(P.lineString(ie[Q],F.properties),X,oe,Q))return!1}}})}fe.coordAll=function C(I){var U=[];return M(I,function(F){U.push(F)}),U},fe.coordEach=M,fe.coordReduce=function v(I,U,F,X){var oe=F;return M(I,function(z,ie,Q,ue,J){oe=0===ie&&void 0===F?z:U(oe,z,ie,Q,ue,J)},X),oe},fe.featureEach=S,fe.featureReduce=function R(I,U,F){var X=F;return S(I,function(oe,z){X=0===z&&void 0===F?oe:U(X,oe,z)}),X},fe.findPoint=function B(I,U){if(!P.isObject(U=U||{}))throw new Error("options is invalid");var Q,F=U.featureIndex||0,X=U.multiFeatureIndex||0,oe=U.geometryIndex||0,z=U.coordIndex||0,ie=U.properties;switch(I.type){case"FeatureCollection":F<0&&(F=I.features.length+F),ie=ie||I.features[F].properties,Q=I.features[F].geometry;break;case"Feature":ie=ie||I.properties,Q=I.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Q=I;break;default:throw new Error("geojson is invalid")}if(null===Q)return null;var ue=Q.coordinates;switch(Q.type){case"Point":return P.point(ue,ie,U);case"MultiPoint":return X<0&&(X=ue.length+X),P.point(ue[X],ie,U);case"LineString":return z<0&&(z=ue.length+z),P.point(ue[z],ie,U);case"Polygon":return oe<0&&(oe=ue.length+oe),z<0&&(z=ue[oe].length+z),P.point(ue[oe][z],ie,U);case"MultiLineString":return X<0&&(X=ue.length+X),z<0&&(z=ue[X].length+z),P.point(ue[X][z],ie,U);case"MultiPolygon":return X<0&&(X=ue.length+X),oe<0&&(oe=ue[X].length+oe),z<0&&(z=ue[X][oe].length-z),P.point(ue[X][oe][z],ie,U)}throw new Error("geojson is invalid")},fe.findSegment=function O(I,U){if(!P.isObject(U=U||{}))throw new Error("options is invalid");var Q,F=U.featureIndex||0,X=U.multiFeatureIndex||0,oe=U.geometryIndex||0,z=U.segmentIndex||0,ie=U.properties;switch(I.type){case"FeatureCollection":F<0&&(F=I.features.length+F),ie=ie||I.features[F].properties,Q=I.features[F].geometry;break;case"Feature":ie=ie||I.properties,Q=I.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Q=I;break;default:throw new Error("geojson is invalid")}if(null===Q)return null;var ue=Q.coordinates;switch(Q.type){case"Point":case"MultiPoint":return null;case"LineString":return z<0&&(z=ue.length+z-1),P.lineString([ue[z],ue[z+1]],ie,U);case"Polygon":return oe<0&&(oe=ue.length+oe),z<0&&(z=ue[oe].length+z-1),P.lineString([ue[oe][z],ue[oe][z+1]],ie,U);case"MultiLineString":return X<0&&(X=ue.length+X),z<0&&(z=ue[X].length+z-1),P.lineString([ue[X][z],ue[X][z+1]],ie,U);case"MultiPolygon":return X<0&&(X=ue.length+X),oe<0&&(oe=ue[X].length+oe),z<0&&(z=ue[X][oe].length-z-1),P.lineString([ue[X][oe][z],ue[X][oe][z+1]],ie,U)}throw new Error("geojson is invalid")},fe.flattenEach=$,fe.flattenReduce=function te(I,U,F){var X=F;return $(I,function(oe,z,ie){X=0===z&&0===ie&&void 0===F?oe:U(X,oe,z,ie)}),X},fe.geomEach=H,fe.geomReduce=function Y(I,U,F){var X=F;return H(I,function(oe,z,ie,Q,ue){X=0===z&&void 0===F?oe:U(X,oe,z,ie,Q,ue)}),X},fe.lineEach=N,fe.lineReduce=function k(I,U,F){var X=F;return N(I,function(oe,z,ie,Q){X=0===z&&void 0===F?oe:U(X,oe,z,ie,Q)}),X},fe.propEach=w,fe.propReduce=function E(I,U,F){var X=F;return w(I,function(oe,z){X=0===z&&void 0===F?oe:U(X,oe,z)}),X},fe.segmentEach=q,fe.segmentReduce=function ne(I,U,F){var X=F,oe=!1;return q(I,function(z,ie,Q,ue,J){X=!1===oe&&void 0===F?z:U(X,z,ie,Q,ue,J),oe=!0}),X}},5834:(Qe,fe,j)=>{"use strict";var P=j(5203),M=j(5685),v=M(P("String.prototype.indexOf"));Qe.exports=function(E,S){var R=P(E,!!S);return"function"==typeof R&&v(E,".prototype.")>-1?M(R):R}},5685:(Qe,fe,j)=>{"use strict";var P=j(4444),M=j(5203),v=M("%Function.prototype.apply%"),w=M("%Function.prototype.call%"),E=M("%Reflect.apply%",!0)||P.call(w,v),S=M("%Object.getOwnPropertyDescriptor%",!0),R=M("%Object.defineProperty%",!0),C=M("%Math.max%");if(R)try{R({},"a",{value:1})}catch{R=null}Qe.exports=function($){var te=E(P,w,arguments);return S&&R&&S(te,"length").configurable&&R(te,"length",{value:1+C(0,$.length-(arguments.length-1))}),te};var H=function(){return E(P,v,arguments)};R?R(Qe.exports,"apply",{value:H}):Qe.exports.apply=H},1335:(Qe,fe,j)=>{"use strict";var P=j(3156),M=j(7253),v=j(3870),w=j(7563).orient2d;function E(F,X,oe){X=Math.max(0,void 0===X?2:X),oe=oe||0;var z=function ne(F){for(var X=F[0],oe=F[0],z=F[0],ie=F[0],Q=0;Q<F.length;Q++){var ue=F[Q];ue[0]<X[0]&&(X=ue),ue[0]>z[0]&&(z=ue),ue[1]<oe[1]&&(oe=ue),ue[1]>ie[1]&&(ie=ue)}var J=[X,oe,z,ie],Me=J.slice();for(Q=0;Q<F.length;Q++)v(F[Q],J)||Me.push(F[Q]);return function U(F){F.sort(I);for(var X=[],oe=0;oe<F.length;oe++){for(;X.length>=2&&$(X[X.length-2],X[X.length-1],F[oe])<=0;)X.pop();X.push(F[oe])}for(var z=[],ie=F.length-1;ie>=0;ie--){for(;z.length>=2&&$(z[z.length-2],z[z.length-1],F[ie])<=0;)z.pop();z.push(F[ie])}return z.pop(),X.pop(),X.concat(z)}(Me)}(F),ie=new P(16);ie.toBBox=function(Le){return{minX:Le[0],minY:Le[1],maxX:Le[0],maxY:Le[1]}},ie.compareMinX=function(Le,Ie){return Le[0]-Ie[0]},ie.compareMinY=function(Le,Ie){return Le[1]-Ie[1]},ie.load(F);for(var J,Q=[],ue=0;ue<z.length;ue++){var Me=z[ue];ie.remove(Me),J=N(Me,J),Q.push(J)}var Te=new P(16);for(ue=0;ue<Q.length;ue++)Te.insert(q(Q[ue]));for(var ge=X*X,Ee=oe*oe;Q.length;){var ve=Q.shift(),he=ve.p,ce=ve.next.p,se=k(he,ce);if(!(se<Ee)){var ke=se/ge;(Me=S(ie,ve.prev.p,he,ce,ve.next.next.p,ke,Te))&&Math.min(k(Me,he),k(Me,ce))<=ke&&(Q.push(ve),Q.push(N(Me,ve)),ie.remove(Me),Te.remove(ve),Te.insert(q(ve)),Te.insert(q(ve.next)))}}ve=J;var pe=[];do{pe.push(ve.p),ve=ve.next}while(ve!==J);return pe.push(ve.p),pe}function S(F,X,oe,z,ie,Q,ue){for(var J=new M([],R),Me=F.data;Me;){for(var Te=0;Te<Me.children.length;Te++){var ge=Me.children[Te],Ee=Me.leaf?O(ge,oe,z):C(oe,z,ge);Ee>Q||J.push({node:ge,dist:Ee})}for(;J.length&&!J.peek().node.children;){var ve=J.pop(),he=ve.node,ce=O(he,X,oe),se=O(he,z,ie);if(ve.dist<ce&&ve.dist<se&&Y(oe,he,ue)&&Y(z,he,ue))return he}(Me=J.pop())&&(Me=Me.node)}return null}function R(F,X){return F.dist-X.dist}function C(F,X,oe){if(H(F,oe)||H(X,oe))return 0;var z=B(F[0],F[1],X[0],X[1],oe.minX,oe.minY,oe.maxX,oe.minY);if(0===z)return 0;var ie=B(F[0],F[1],X[0],X[1],oe.minX,oe.minY,oe.minX,oe.maxY);if(0===ie)return 0;var Q=B(F[0],F[1],X[0],X[1],oe.maxX,oe.minY,oe.maxX,oe.maxY);if(0===Q)return 0;var ue=B(F[0],F[1],X[0],X[1],oe.minX,oe.maxY,oe.maxX,oe.maxY);return 0===ue?0:Math.min(z,ie,Q,ue)}function H(F,X){return F[0]>=X.minX&&F[0]<=X.maxX&&F[1]>=X.minY&&F[1]<=X.maxY}function Y(F,X,oe){for(var z=Math.min(F[0],X[0]),ie=Math.min(F[1],X[1]),Q=Math.max(F[0],X[0]),ue=Math.max(F[1],X[1]),J=oe.search({minX:z,minY:ie,maxX:Q,maxY:ue}),Me=0;Me<J.length;Me++)if(te(J[Me].p,J[Me].next.p,F,X))return!1;return!0}function $(F,X,oe){return w(F[0],F[1],X[0],X[1],oe[0],oe[1])}function te(F,X,oe,z){return F!==z&&X!==oe&&$(F,X,oe)>0!=$(F,X,z)>0&&$(oe,z,F)>0!=$(oe,z,X)>0}function q(F){var X=F.p,oe=F.next.p;return F.minX=Math.min(X[0],oe[0]),F.minY=Math.min(X[1],oe[1]),F.maxX=Math.max(X[0],oe[0]),F.maxY=Math.max(X[1],oe[1]),F}function N(F,X){var oe={p:F,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return X?(oe.next=X.next,oe.prev=X,X.next.prev=oe,X.next=oe):(oe.prev=oe,oe.next=oe),oe}function k(F,X){var oe=F[0]-X[0],z=F[1]-X[1];return oe*oe+z*z}function O(F,X,oe){var z=X[0],ie=X[1],Q=oe[0]-z,ue=oe[1]-ie;if(0!==Q||0!==ue){var J=((F[0]-z)*Q+(F[1]-ie)*ue)/(Q*Q+ue*ue);J>1?(z=oe[0],ie=oe[1]):J>0&&(z+=Q*J,ie+=ue*J)}return(Q=F[0]-z)*Q+(ue=F[1]-ie)*ue}function B(F,X,oe,z,ie,Q,ue,J){var $e,Ke,W,ae,Me=oe-F,Te=z-X,ge=ue-ie,Ee=J-Q,ve=F-ie,he=X-Q,ce=Me*Me+Te*Te,se=Me*ge+Te*Ee,ke=ge*ge+Ee*Ee,pe=Me*ve+Te*he,Le=ge*ve+Ee*he,Ie=ce*ke-se*se,ye=Ie,Ae=Ie;0===Ie?(Ke=0,ye=1,ae=Le,Ae=ke):(ae=ce*Le-se*pe,(Ke=se*Le-ke*pe)<0?(Ke=0,ae=Le,Ae=ke):Ke>ye&&(Ke=ye,ae=Le+se,Ae=ke)),ae<0?(ae=0,-pe<0?Ke=0:-pe>ce?Ke=ye:(Ke=-pe,ye=ce)):ae>Ae&&(ae=Ae,-pe+se<0?Ke=0:-pe+se>ce?Ke=ye:(Ke=-pe+se,ye=ce));var vt=(1-(W=0===ae?0:ae/Ae))*ie+W*ue-((1-($e=0===Ke?0:Ke/ye))*F+$e*oe),qe=(1-W)*Q+W*J-((1-$e)*X+$e*z);return vt*vt+qe*qe}function I(F,X){return F[0]===X[0]?F[1]-X[1]:F[0]-X[0]}M.default&&(M=M.default),Qe.exports=E,Qe.exports.default=E},3156:function(Qe){Qe.exports=function(){"use strict";function fe(N,k,O,B,I){!function U(F,X,oe,z,ie){for(;z>oe;){if(z-oe>600){var Q=z-oe+1,ue=X-oe+1,J=Math.log(Q),Me=.5*Math.exp(2*J/3),Te=.5*Math.sqrt(J*Me*(Q-Me)/Q)*(ue-Q/2<0?-1:1);U(F,X,Math.max(oe,Math.floor(X-ue*Me/Q+Te)),Math.min(z,Math.floor(X+(Q-ue)*Me/Q+Te)),ie)}var ve=F[X],he=oe,ce=z;for(j(F,oe,X),ie(F[z],ve)>0&&j(F,oe,z);he<ce;){for(j(F,he,ce),he++,ce--;ie(F[he],ve)<0;)he++;for(;ie(F[ce],ve)>0;)ce--}0===ie(F[oe],ve)?j(F,oe,ce):j(F,++ce,z),ce<=X&&(oe=ce+1),X<=ce&&(z=ce-1)}}(N,k,O||0,B||N.length-1,I||P)}function j(N,k,O){var B=N[k];N[k]=N[O],N[O]=B}function P(N,k){return N<k?-1:N>k?1:0}var M=function(N){void 0===N&&(N=9),this._maxEntries=Math.max(4,N),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function v(N,k,O){if(!O)return k.indexOf(N);for(var B=0;B<k.length;B++)if(O(N,k[B]))return B;return-1}function w(N,k){E(N,0,N.children.length,k,N)}function E(N,k,O,B,I){I||(I=q(null)),I.minX=1/0,I.minY=1/0,I.maxX=-1/0,I.maxY=-1/0;for(var U=k;U<O;U++){var F=N.children[U];S(I,N.leaf?B(F):F)}return I}function S(N,k){return N.minX=Math.min(N.minX,k.minX),N.minY=Math.min(N.minY,k.minY),N.maxX=Math.max(N.maxX,k.maxX),N.maxY=Math.max(N.maxY,k.maxY),N}function R(N,k){return N.minX-k.minX}function C(N,k){return N.minY-k.minY}function H(N){return(N.maxX-N.minX)*(N.maxY-N.minY)}function Y(N){return N.maxX-N.minX+(N.maxY-N.minY)}function $(N,k){return N.minX<=k.minX&&N.minY<=k.minY&&k.maxX<=N.maxX&&k.maxY<=N.maxY}function te(N,k){return k.minX<=N.maxX&&k.minY<=N.maxY&&k.maxX>=N.minX&&k.maxY>=N.minY}function q(N){return{children:N,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ne(N,k,O,B,I){for(var U=[k,O];U.length;)if(!((O=U.pop())-(k=U.pop())<=B)){var F=k+Math.ceil((O-k)/B/2)*B;fe(N,F,k,O,I),U.push(k,F,F,O)}}return M.prototype.all=function(){return this._all(this.data,[])},M.prototype.search=function(N){var k=this.data,O=[];if(!te(N,k))return O;for(var B=this.toBBox,I=[];k;){for(var U=0;U<k.children.length;U++){var F=k.children[U],X=k.leaf?B(F):F;te(N,X)&&(k.leaf?O.push(F):$(N,X)?this._all(F,O):I.push(F))}k=I.pop()}return O},M.prototype.collides=function(N){var k=this.data;if(!te(N,k))return!1;for(var O=[];k;){for(var B=0;B<k.children.length;B++){var I=k.children[B],U=k.leaf?this.toBBox(I):I;if(te(N,U)){if(k.leaf||$(N,U))return!0;O.push(I)}}k=O.pop()}return!1},M.prototype.load=function(N){if(!N||!N.length)return this;if(N.length<this._minEntries){for(var k=0;k<N.length;k++)this.insert(N[k]);return this}var O=this._build(N.slice(),0,N.length-1,0);if(this.data.children.length)if(this.data.height===O.height)this._splitRoot(this.data,O);else{if(this.data.height<O.height){var B=this.data;this.data=O,O=B}this._insert(O,this.data.height-O.height-1,!0)}else this.data=O;return this},M.prototype.insert=function(N){return N&&this._insert(N,this.data.height-1),this},M.prototype.clear=function(){return this.data=q([]),this},M.prototype.remove=function(N,k){if(!N)return this;for(var O,B,I,U=this.data,F=this.toBBox(N),X=[],oe=[];U||X.length;){if(U||(U=X.pop(),B=X[X.length-1],O=oe.pop(),I=!0),U.leaf){var z=v(N,U.children,k);if(-1!==z)return U.children.splice(z,1),X.push(U),this._condense(X),this}I||U.leaf||!$(U,F)?B?(O++,U=B.children[O],I=!1):U=null:(X.push(U),oe.push(O),O=0,B=U,U=U.children[0])}return this},M.prototype.toBBox=function(N){return N},M.prototype.compareMinX=function(N,k){return N.minX-k.minX},M.prototype.compareMinY=function(N,k){return N.minY-k.minY},M.prototype.toJSON=function(){return this.data},M.prototype.fromJSON=function(N){return this.data=N,this},M.prototype._all=function(N,k){for(var O=[];N;)N.leaf?k.push.apply(k,N.children):O.push.apply(O,N.children),N=O.pop();return k},M.prototype._build=function(N,k,O,B){var I,U=O-k+1,F=this._maxEntries;if(U<=F)return w(I=q(N.slice(k,O+1)),this.toBBox),I;B||(B=Math.ceil(Math.log(U)/Math.log(F)),F=Math.ceil(U/Math.pow(F,B-1))),(I=q([])).leaf=!1,I.height=B;var X=Math.ceil(U/F),oe=X*Math.ceil(Math.sqrt(F));ne(N,k,O,oe,this.compareMinX);for(var z=k;z<=O;z+=oe){var ie=Math.min(z+oe-1,O);ne(N,z,ie,X,this.compareMinY);for(var Q=z;Q<=ie;Q+=X){var ue=Math.min(Q+X-1,ie);I.children.push(this._build(N,Q,ue,B-1))}}return w(I,this.toBBox),I},M.prototype._chooseSubtree=function(N,k,O,B){for(;B.push(k),!k.leaf&&B.length-1!==O;){for(var I=1/0,U=1/0,F=void 0,X=0;X<k.children.length;X++){var oe=k.children[X],z=H(oe),ie=(Q=N,ue=oe,(Math.max(ue.maxX,Q.maxX)-Math.min(ue.minX,Q.minX))*(Math.max(ue.maxY,Q.maxY)-Math.min(ue.minY,Q.minY))-z);ie<U?(U=ie,I=z<I?z:I,F=oe):ie===U&&z<I&&(I=z,F=oe)}k=F||k.children[0]}var Q,ue;return k},M.prototype._insert=function(N,k,O){var B=O?N:this.toBBox(N),I=[],U=this._chooseSubtree(B,this.data,k,I);for(U.children.push(N),S(U,B);k>=0&&I[k].children.length>this._maxEntries;)this._split(I,k),k--;this._adjustParentBBoxes(B,I,k)},M.prototype._split=function(N,k){var O=N[k],B=O.children.length,I=this._minEntries;this._chooseSplitAxis(O,I,B);var U=this._chooseSplitIndex(O,I,B),F=q(O.children.splice(U,O.children.length-U));F.height=O.height,F.leaf=O.leaf,w(O,this.toBBox),w(F,this.toBBox),k?N[k-1].children.push(F):this._splitRoot(O,F)},M.prototype._splitRoot=function(N,k){this.data=q([N,k]),this.data.height=N.height+1,this.data.leaf=!1,w(this.data,this.toBBox)},M.prototype._chooseSplitIndex=function(N,k,O){for(var B,I,U,F,X,oe,z,ie=1/0,Q=1/0,ue=k;ue<=O-k;ue++){var J=E(N,0,ue,this.toBBox),Me=E(N,ue,O,this.toBBox),Te=(I=J,U=Me,void 0,void 0,void 0,void 0,F=Math.max(I.minX,U.minX),X=Math.max(I.minY,U.minY),oe=Math.min(I.maxX,U.maxX),z=Math.min(I.maxY,U.maxY),Math.max(0,oe-F)*Math.max(0,z-X)),ge=H(J)+H(Me);Te<ie?(ie=Te,B=ue,Q=ge<Q?ge:Q):Te===ie&&ge<Q&&(Q=ge,B=ue)}return B||O-k},M.prototype._chooseSplitAxis=function(N,k,O){var B=N.leaf?this.compareMinX:R,I=N.leaf?this.compareMinY:C;this._allDistMargin(N,k,O,B)<this._allDistMargin(N,k,O,I)&&N.children.sort(B)},M.prototype._allDistMargin=function(N,k,O,B){N.children.sort(B);for(var I=this.toBBox,U=E(N,0,k,I),F=E(N,O-k,O,I),X=Y(U)+Y(F),oe=k;oe<O-k;oe++){var z=N.children[oe];S(U,N.leaf?I(z):z),X+=Y(U)}for(var ie=O-k-1;ie>=k;ie--){var Q=N.children[ie];S(F,N.leaf?I(Q):Q),X+=Y(F)}return X},M.prototype._adjustParentBBoxes=function(N,k,O){for(var B=O;B>=0;B--)S(k[B],N)},M.prototype._condense=function(N){for(var k=N.length-1,O=void 0;k>=0;k--)0===N[k].children.length?k>0?(O=N[k-1].children).splice(O.indexOf(N[k]),1):this.clear():w(N[k],this.toBBox)},M}()},8660:Qe=>{Qe.exports=function(fe){var j={};function P(M){if(j[M])return j[M].exports;var v=j[M]={i:M,l:!1,exports:{}};return fe[M].call(v.exports,v,v.exports,P),v.l=!0,v.exports}return P.m=fe,P.c=j,P.d=function(M,v,w){P.o(M,v)||Object.defineProperty(M,v,{enumerable:!0,get:w})},P.r=function(M){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})},P.t=function(M,v){if(1&v&&(M=P(M)),8&v||4&v&&"object"==typeof M&&M&&M.__esModule)return M;var w=Object.create(null);if(P.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:M}),2&v&&"string"!=typeof M)for(var E in M)P.d(w,E,function(S){return M[S]}.bind(null,E));return w},P.n=function(M){var v=M&&M.__esModule?function(){return M.default}:function(){return M};return P.d(v,"a",v),v},P.o=function(M,v){return Object.prototype.hasOwnProperty.call(M,v)},P.p="",P(P.s=32)}([function(fe,j){var P;P=function(){return this}();try{P=P||Function("return this")()||(0,eval)("this")}catch{"object"==typeof window&&(P=window)}fe.exports=P},function(fe,j,P){"use strict";var M=P(6),v=Object.keys||function(q){var ne=[];for(var N in q)ne.push(N);return ne};fe.exports=Y;var w=P(5);w.inherits=P(2);var E=P(23),S=P(14);w.inherits(Y,E);for(var R=v(S.prototype),C=0;C<R.length;C++){var H=R[C];Y.prototype[H]||(Y.prototype[H]=S.prototype[H])}function Y(q){if(!(this instanceof Y))return new Y(q);E.call(this,q),S.call(this,q),q&&!1===q.readable&&(this.readable=!1),q&&!1===q.writable&&(this.writable=!1),this.allowHalfOpen=!0,q&&!1===q.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",$)}function $(){this.allowHalfOpen||this._writableState.ended||M.nextTick(te,this)}function te(q){q.end()}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(q){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=q,this._writableState.destroyed=q)}}),Y.prototype._destroy=function(q,ne){this.push(null),this.end(),M.nextTick(ne,q)}},function(fe,j){fe.exports="function"==typeof Object.create?function(P,M){P.super_=M,P.prototype=Object.create(M.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}})}:function(P,M){P.super_=M;var v=function(){};v.prototype=M.prototype,P.prototype=new v,P.prototype.constructor=P}},function(fe,j,P){"use strict";(function(M){var v=P(38),w=P(39),E=P(40);function S(){return C.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function R(W,ae){if(S()<ae)throw new RangeError("Invalid typed array length");return C.TYPED_ARRAY_SUPPORT?(W=new Uint8Array(ae)).__proto__=C.prototype:(null===W&&(W=new C(ae)),W.length=ae),W}function C(W,ae,ye){if(!(C.TYPED_ARRAY_SUPPORT||this instanceof C))return new C(W,ae,ye);if("number"==typeof W){if("string"==typeof ae)throw new Error("If encoding is specified then the first argument must be a string");return $(this,W)}return H(this,W,ae,ye)}function H(W,ae,ye,Ae){if("number"==typeof ae)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&ae instanceof ArrayBuffer?function(ze,Ze,ct,ht){if(ct<0||Ze.byteLength<ct)throw new RangeError("'offset' is out of bounds");if(Ze.byteLength<ct+(ht||0))throw new RangeError("'length' is out of bounds");return Ze=void 0===ct&&void 0===ht?new Uint8Array(Ze):void 0===ht?new Uint8Array(Ze,ct):new Uint8Array(Ze,ct,ht),C.TYPED_ARRAY_SUPPORT?(ze=Ze).__proto__=C.prototype:ze=te(ze,Ze),ze}(W,ae,ye,Ae):"string"==typeof ae?function(ze,Ze,ct){if("string"==typeof ct&&""!==ct||(ct="utf8"),!C.isEncoding(ct))throw new TypeError('"encoding" must be a valid string encoding');var ht=0|ne(Ze,ct),vt=(ze=R(ze,ht)).write(Ze,ct);return vt!==ht&&(ze=ze.slice(0,vt)),ze}(W,ae,ye):function(ze,Ze){if(C.isBuffer(Ze)){var ct=0|q(Ze.length);return 0===(ze=R(ze,ct)).length||Ze.copy(ze,0,0,ct),ze}if(Ze){if(typeof ArrayBuffer<"u"&&Ze.buffer instanceof ArrayBuffer||"length"in Ze)return"number"!=typeof Ze.length||(ht=Ze.length)!=ht?R(ze,0):te(ze,Ze);if("Buffer"===Ze.type&&E(Ze.data))return te(ze,Ze.data)}var ht;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(W,ae)}function Y(W){if("number"!=typeof W)throw new TypeError('"size" argument must be a number');if(W<0)throw new RangeError('"size" argument must not be negative')}function $(W,ae){if(Y(ae),W=R(W,ae<0?0:0|q(ae)),!C.TYPED_ARRAY_SUPPORT)for(var ye=0;ye<ae;++ye)W[ye]=0;return W}function te(W,ae){var ye=ae.length<0?0:0|q(ae.length);W=R(W,ye);for(var Ae=0;Ae<ye;Ae+=1)W[Ae]=255&ae[Ae];return W}function q(W){if(W>=S())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S().toString(16)+" bytes");return 0|W}function ne(W,ae){if(C.isBuffer(W))return W.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(W)||W instanceof ArrayBuffer))return W.byteLength;"string"!=typeof W&&(W=""+W);var ye=W.length;if(0===ye)return 0;for(var Ae=!1;;)switch(ae){case"ascii":case"latin1":case"binary":return ye;case"utf8":case"utf-8":case void 0:return Ie(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ye;case"hex":return ye>>>1;case"base64":return $e(W).length;default:if(Ae)return Ie(W).length;ae=(""+ae).toLowerCase(),Ae=!0}}function N(W,ae,ye){var Ae=W[ae];W[ae]=W[ye],W[ye]=Ae}function k(W,ae,ye,Ae,ze){if(0===W.length)return-1;if("string"==typeof ye?(Ae=ye,ye=0):ye>2147483647?ye=2147483647:ye<-2147483648&&(ye=-2147483648),ye=+ye,isNaN(ye)&&(ye=ze?0:W.length-1),ye<0&&(ye=W.length+ye),ye>=W.length){if(ze)return-1;ye=W.length-1}else if(ye<0){if(!ze)return-1;ye=0}if("string"==typeof ae&&(ae=C.from(ae,Ae)),C.isBuffer(ae))return 0===ae.length?-1:O(W,ae,ye,Ae,ze);if("number"==typeof ae)return ae&=255,C.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?ze?Uint8Array.prototype.indexOf.call(W,ae,ye):Uint8Array.prototype.lastIndexOf.call(W,ae,ye):O(W,[ae],ye,Ae,ze);throw new TypeError("val must be string, number or Buffer")}function O(W,ae,ye,Ae,ze){var Ze,ct=1,ht=W.length,vt=ae.length;if(void 0!==Ae&&("ucs2"===(Ae=String(Ae).toLowerCase())||"ucs-2"===Ae||"utf16le"===Ae||"utf-16le"===Ae)){if(W.length<2||ae.length<2)return-1;ct=2,ht/=2,vt/=2,ye/=2}function qe(Re,Ve){return 1===ct?Re[Ve]:Re.readUInt16BE(Ve*ct)}if(ze){var Ce=-1;for(Ze=ye;Ze<ht;Ze++)if(qe(W,Ze)===qe(ae,-1===Ce?0:Ze-Ce)){if(-1===Ce&&(Ce=Ze),Ze-Ce+1===vt)return Ce*ct}else-1!==Ce&&(Ze-=Ze-Ce),Ce=-1}else for(ye+vt>ht&&(ye=ht-vt),Ze=ye;Ze>=0;Ze--){for(var we=!0,be=0;be<vt;be++)if(qe(W,Ze+be)!==qe(ae,be)){we=!1;break}if(we)return Ze}return-1}function B(W,ae,ye,Ae){ye=Number(ye)||0;var ze=W.length-ye;Ae?(Ae=Number(Ae))>ze&&(Ae=ze):Ae=ze;var Ze=ae.length;if(Ze%2!=0)throw new TypeError("Invalid hex string");Ae>Ze/2&&(Ae=Ze/2);for(var ct=0;ct<Ae;++ct){var ht=parseInt(ae.substr(2*ct,2),16);if(isNaN(ht))return ct;W[ye+ct]=ht}return ct}function I(W,ae,ye,Ae){return Ke(Ie(ae,W.length-ye),W,ye,Ae)}function U(W,ae,ye,Ae){return Ke(function(ze){for(var Ze=[],ct=0;ct<ze.length;++ct)Ze.push(255&ze.charCodeAt(ct));return Ze}(ae),W,ye,Ae)}function F(W,ae,ye,Ae){return U(W,ae,ye,Ae)}function X(W,ae,ye,Ae){return Ke($e(ae),W,ye,Ae)}function oe(W,ae,ye,Ae){return Ke(function(ze,Ze){for(var ct,ht,qe=[],Ce=0;Ce<ze.length&&!((Ze-=2)<0);++Ce)ht=(ct=ze.charCodeAt(Ce))>>8,qe.push(ct%256),qe.push(ht);return qe}(ae,W.length-ye),W,ye,Ae)}function z(W,ae,ye){return v.fromByteArray(0===ae&&ye===W.length?W:W.slice(ae,ye))}function ie(W,ae,ye){ye=Math.min(W.length,ye);for(var Ae=[],ze=ae;ze<ye;){var Ze,ct,ht,vt,qe=W[ze],Ce=null,we=qe>239?4:qe>223?3:qe>191?2:1;if(ze+we<=ye)switch(we){case 1:qe<128&&(Ce=qe);break;case 2:128==(192&(Ze=W[ze+1]))&&(vt=(31&qe)<<6|63&Ze)>127&&(Ce=vt);break;case 3:ct=W[ze+2],128==(192&(Ze=W[ze+1]))&&128==(192&ct)&&(vt=(15&qe)<<12|(63&Ze)<<6|63&ct)>2047&&(vt<55296||vt>57343)&&(Ce=vt);break;case 4:ct=W[ze+2],ht=W[ze+3],128==(192&(Ze=W[ze+1]))&&128==(192&ct)&&128==(192&ht)&&(vt=(15&qe)<<18|(63&Ze)<<12|(63&ct)<<6|63&ht)>65535&&vt<1114112&&(Ce=vt)}null===Ce?(Ce=65533,we=1):Ce>65535&&(Ae.push((Ce-=65536)>>>10&1023|55296),Ce=56320|1023&Ce),Ae.push(Ce),ze+=we}return function(be){var Re=be.length;if(Re<=Q)return String.fromCharCode.apply(String,be);for(var Ve="",Oe=0;Oe<Re;)Ve+=String.fromCharCode.apply(String,be.slice(Oe,Oe+=Q));return Ve}(Ae)}j.Buffer=C,j.SlowBuffer=function(W){return+W!=W&&(W=0),C.alloc(+W)},j.INSPECT_MAX_BYTES=50,C.TYPED_ARRAY_SUPPORT=void 0!==M.TYPED_ARRAY_SUPPORT?M.TYPED_ARRAY_SUPPORT:function(){try{var W=new Uint8Array(1);return W.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===W.foo()&&"function"==typeof W.subarray&&0===W.subarray(1,1).byteLength}catch{return!1}}(),j.kMaxLength=S(),C.poolSize=8192,C._augment=function(W){return W.__proto__=C.prototype,W},C.from=function(W,ae,ye){return H(null,W,ae,ye)},C.TYPED_ARRAY_SUPPORT&&(C.prototype.__proto__=Uint8Array.prototype,C.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&C[Symbol.species]===C&&Object.defineProperty(C,Symbol.species,{value:null,configurable:!0})),C.alloc=function(W,ae,ye){return Ze=ae,ct=ye,Y(ze=W),ze<=0?R(null,ze):void 0!==Ze?"string"==typeof ct?R(null,ze).fill(Ze,ct):R(null,ze).fill(Ze):R(null,ze);var ze,Ze,ct},C.allocUnsafe=function(W){return $(null,W)},C.allocUnsafeSlow=function(W){return $(null,W)},C.isBuffer=function(W){return!(null==W||!W._isBuffer)},C.compare=function(W,ae){if(!C.isBuffer(W)||!C.isBuffer(ae))throw new TypeError("Arguments must be Buffers");if(W===ae)return 0;for(var ye=W.length,Ae=ae.length,ze=0,Ze=Math.min(ye,Ae);ze<Ze;++ze)if(W[ze]!==ae[ze]){ye=W[ze],Ae=ae[ze];break}return ye<Ae?-1:Ae<ye?1:0},C.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},C.concat=function(W,ae){if(!E(W))throw new TypeError('"list" argument must be an Array of Buffers');if(0===W.length)return C.alloc(0);var ye;if(void 0===ae)for(ae=0,ye=0;ye<W.length;++ye)ae+=W[ye].length;var Ae=C.allocUnsafe(ae),ze=0;for(ye=0;ye<W.length;++ye){var Ze=W[ye];if(!C.isBuffer(Ze))throw new TypeError('"list" argument must be an Array of Buffers');Ze.copy(Ae,ze),ze+=Ze.length}return Ae},C.byteLength=ne,C.prototype._isBuffer=!0,C.prototype.swap16=function(){var W=this.length;if(W%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ae=0;ae<W;ae+=2)N(this,ae,ae+1);return this},C.prototype.swap32=function(){var W=this.length;if(W%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ae=0;ae<W;ae+=4)N(this,ae,ae+3),N(this,ae+1,ae+2);return this},C.prototype.swap64=function(){var W=this.length;if(W%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ae=0;ae<W;ae+=8)N(this,ae,ae+7),N(this,ae+1,ae+6),N(this,ae+2,ae+5),N(this,ae+3,ae+4);return this},C.prototype.toString=function(){var W=0|this.length;return 0===W?"":0===arguments.length?ie(this,0,W):function(ae,ye,Ae){var ze=!1;if((void 0===ye||ye<0)&&(ye=0),ye>this.length||((void 0===Ae||Ae>this.length)&&(Ae=this.length),Ae<=0)||(Ae>>>=0)<=(ye>>>=0))return"";for(ae||(ae="utf8");;)switch(ae){case"hex":return Me(this,ye,Ae);case"utf8":case"utf-8":return ie(this,ye,Ae);case"ascii":return ue(this,ye,Ae);case"latin1":case"binary":return J(this,ye,Ae);case"base64":return z(this,ye,Ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,ye,Ae);default:if(ze)throw new TypeError("Unknown encoding: "+ae);ae=(ae+"").toLowerCase(),ze=!0}}.apply(this,arguments)},C.prototype.equals=function(W){if(!C.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W||0===C.compare(this,W)},C.prototype.inspect=function(){var W="",ae=j.INSPECT_MAX_BYTES;return this.length>0&&(W=this.toString("hex",0,ae).match(/.{2}/g).join(" "),this.length>ae&&(W+=" ... ")),"<Buffer "+W+">"},C.prototype.compare=function(W,ae,ye,Ae,ze){if(!C.isBuffer(W))throw new TypeError("Argument must be a Buffer");if(void 0===ae&&(ae=0),void 0===ye&&(ye=W?W.length:0),void 0===Ae&&(Ae=0),void 0===ze&&(ze=this.length),ae<0||ye>W.length||Ae<0||ze>this.length)throw new RangeError("out of range index");if(Ae>=ze&&ae>=ye)return 0;if(Ae>=ze)return-1;if(ae>=ye)return 1;if(this===W)return 0;for(var Ze=(ze>>>=0)-(Ae>>>=0),ct=(ye>>>=0)-(ae>>>=0),ht=Math.min(Ze,ct),vt=this.slice(Ae,ze),qe=W.slice(ae,ye),Ce=0;Ce<ht;++Ce)if(vt[Ce]!==qe[Ce]){Ze=vt[Ce],ct=qe[Ce];break}return Ze<ct?-1:ct<Ze?1:0},C.prototype.includes=function(W,ae,ye){return-1!==this.indexOf(W,ae,ye)},C.prototype.indexOf=function(W,ae,ye){return k(this,W,ae,ye,!0)},C.prototype.lastIndexOf=function(W,ae,ye){return k(this,W,ae,ye,!1)},C.prototype.write=function(W,ae,ye,Ae){if(void 0===ae)Ae="utf8",ye=this.length,ae=0;else if(void 0===ye&&"string"==typeof ae)Ae=ae,ye=this.length,ae=0;else{if(!isFinite(ae))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ae|=0,isFinite(ye)?(ye|=0,void 0===Ae&&(Ae="utf8")):(Ae=ye,ye=void 0)}var ze=this.length-ae;if((void 0===ye||ye>ze)&&(ye=ze),W.length>0&&(ye<0||ae<0)||ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ae||(Ae="utf8");for(var Ze=!1;;)switch(Ae){case"hex":return B(this,W,ae,ye);case"utf8":case"utf-8":return I(this,W,ae,ye);case"ascii":return U(this,W,ae,ye);case"latin1":case"binary":return F(this,W,ae,ye);case"base64":return X(this,W,ae,ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,W,ae,ye);default:if(Ze)throw new TypeError("Unknown encoding: "+Ae);Ae=(""+Ae).toLowerCase(),Ze=!0}},C.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;function ue(W,ae,ye){var Ae="";ye=Math.min(W.length,ye);for(var ze=ae;ze<ye;++ze)Ae+=String.fromCharCode(127&W[ze]);return Ae}function J(W,ae,ye){var Ae="";ye=Math.min(W.length,ye);for(var ze=ae;ze<ye;++ze)Ae+=String.fromCharCode(W[ze]);return Ae}function Me(W,ae,ye){var Ae=W.length;(!ae||ae<0)&&(ae=0),(!ye||ye<0||ye>Ae)&&(ye=Ae);for(var ze="",Ze=ae;Ze<ye;++Ze)ze+=Le(W[Ze]);return ze}function Te(W,ae,ye){for(var Ae=W.slice(ae,ye),ze="",Ze=0;Ze<Ae.length;Ze+=2)ze+=String.fromCharCode(Ae[Ze]+256*Ae[Ze+1]);return ze}function ge(W,ae,ye){if(W%1!=0||W<0)throw new RangeError("offset is not uint");if(W+ae>ye)throw new RangeError("Trying to access beyond buffer length")}function Ee(W,ae,ye,Ae,ze,Ze){if(!C.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(ae>ze||ae<Ze)throw new RangeError('"value" argument is out of bounds');if(ye+Ae>W.length)throw new RangeError("Index out of range")}function ve(W,ae,ye,Ae){ae<0&&(ae=65535+ae+1);for(var ze=0,Ze=Math.min(W.length-ye,2);ze<Ze;++ze)W[ye+ze]=(ae&255<<8*(Ae?ze:1-ze))>>>8*(Ae?ze:1-ze)}function he(W,ae,ye,Ae){ae<0&&(ae=4294967295+ae+1);for(var ze=0,Ze=Math.min(W.length-ye,4);ze<Ze;++ze)W[ye+ze]=ae>>>8*(Ae?ze:3-ze)&255}function ce(W,ae,ye,Ae,ze,Ze){if(ye+Ae>W.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("Index out of range")}function se(W,ae,ye,Ae,ze){return ze||ce(W,0,ye,4),w.write(W,ae,ye,Ae,23,4),ye+4}function ke(W,ae,ye,Ae,ze){return ze||ce(W,0,ye,8),w.write(W,ae,ye,Ae,52,8),ye+8}C.prototype.slice=function(W,ae){var ye,Ae=this.length;if((W=~~W)<0?(W+=Ae)<0&&(W=0):W>Ae&&(W=Ae),(ae=void 0===ae?Ae:~~ae)<0?(ae+=Ae)<0&&(ae=0):ae>Ae&&(ae=Ae),ae<W&&(ae=W),C.TYPED_ARRAY_SUPPORT)(ye=this.subarray(W,ae)).__proto__=C.prototype;else{var ze=ae-W;ye=new C(ze,void 0);for(var Ze=0;Ze<ze;++Ze)ye[Ze]=this[Ze+W]}return ye},C.prototype.readUIntLE=function(W,ae,ye){W|=0,ae|=0,ye||ge(W,ae,this.length);for(var Ae=this[W],ze=1,Ze=0;++Ze<ae&&(ze*=256);)Ae+=this[W+Ze]*ze;return Ae},C.prototype.readUIntBE=function(W,ae,ye){W|=0,ae|=0,ye||ge(W,ae,this.length);for(var Ae=this[W+--ae],ze=1;ae>0&&(ze*=256);)Ae+=this[W+--ae]*ze;return Ae},C.prototype.readUInt8=function(W,ae){return ae||ge(W,1,this.length),this[W]},C.prototype.readUInt16LE=function(W,ae){return ae||ge(W,2,this.length),this[W]|this[W+1]<<8},C.prototype.readUInt16BE=function(W,ae){return ae||ge(W,2,this.length),this[W]<<8|this[W+1]},C.prototype.readUInt32LE=function(W,ae){return ae||ge(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+16777216*this[W+3]},C.prototype.readUInt32BE=function(W,ae){return ae||ge(W,4,this.length),16777216*this[W]+(this[W+1]<<16|this[W+2]<<8|this[W+3])},C.prototype.readIntLE=function(W,ae,ye){W|=0,ae|=0,ye||ge(W,ae,this.length);for(var Ae=this[W],ze=1,Ze=0;++Ze<ae&&(ze*=256);)Ae+=this[W+Ze]*ze;return Ae>=(ze*=128)&&(Ae-=Math.pow(2,8*ae)),Ae},C.prototype.readIntBE=function(W,ae,ye){W|=0,ae|=0,ye||ge(W,ae,this.length);for(var Ae=ae,ze=1,Ze=this[W+--Ae];Ae>0&&(ze*=256);)Ze+=this[W+--Ae]*ze;return Ze>=(ze*=128)&&(Ze-=Math.pow(2,8*ae)),Ze},C.prototype.readInt8=function(W,ae){return ae||ge(W,1,this.length),128&this[W]?-1*(255-this[W]+1):this[W]},C.prototype.readInt16LE=function(W,ae){ae||ge(W,2,this.length);var ye=this[W]|this[W+1]<<8;return 32768&ye?4294901760|ye:ye},C.prototype.readInt16BE=function(W,ae){ae||ge(W,2,this.length);var ye=this[W+1]|this[W]<<8;return 32768&ye?4294901760|ye:ye},C.prototype.readInt32LE=function(W,ae){return ae||ge(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},C.prototype.readInt32BE=function(W,ae){return ae||ge(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},C.prototype.readFloatLE=function(W,ae){return ae||ge(W,4,this.length),w.read(this,W,!0,23,4)},C.prototype.readFloatBE=function(W,ae){return ae||ge(W,4,this.length),w.read(this,W,!1,23,4)},C.prototype.readDoubleLE=function(W,ae){return ae||ge(W,8,this.length),w.read(this,W,!0,52,8)},C.prototype.readDoubleBE=function(W,ae){return ae||ge(W,8,this.length),w.read(this,W,!1,52,8)},C.prototype.writeUIntLE=function(W,ae,ye,Ae){W=+W,ae|=0,ye|=0,Ae||Ee(this,W,ae,ye,Math.pow(2,8*ye)-1,0);var ze=1,Ze=0;for(this[ae]=255&W;++Ze<ye&&(ze*=256);)this[ae+Ze]=W/ze&255;return ae+ye},C.prototype.writeUIntBE=function(W,ae,ye,Ae){W=+W,ae|=0,ye|=0,Ae||Ee(this,W,ae,ye,Math.pow(2,8*ye)-1,0);var ze=ye-1,Ze=1;for(this[ae+ze]=255&W;--ze>=0&&(Ze*=256);)this[ae+ze]=W/Ze&255;return ae+ye},C.prototype.writeUInt8=function(W,ae,ye){return W=+W,ae|=0,ye||Ee(this,W,ae,1,255,0),C.TYPED_ARRAY_SUPPORT||(W=Math.floor(W)),this[ae]=255&W,ae+1},C.prototype.writeUInt16LE=function(W,ae,ye){return W=+W,ae|=0,ye||Ee(this,W,ae,2,65535,0),C.TYPED_ARRAY_SUPPORT?(this[ae]=255&W,this[ae+1]=W>>>8):ve(this,W,ae,!0),ae+2},C.prototype.writeUInt16BE=function(W,ae,ye){return W=+W,ae|=0,ye||Ee(this,W,ae,2,65535,0),C.TYPED_ARRAY_SUPPORT?(this[ae]=W>>>8,this[ae+1]=255&W):ve(this,W,ae,!1),ae+2},C.prototype.writeUInt32LE=function(W,ae,ye){return W=+W,ae|=0,ye||Ee(this,W,ae,4,4294967295,0),C.TYPED_ARRAY_SUPPORT?(this[ae+3]=W>>>24,this[ae+2]=W>>>16,this[ae+1]=W>>>8,this[ae]=255&W):he(this,W,ae,!0),ae+4},C.prototype.writeUInt32BE=function(W,ae,ye){return W=+W,ae|=0,ye||Ee(this,W,ae,4,4294967295,0),C.TYPED_ARRAY_SUPPORT?(this[ae]=W>>>24,this[ae+1]=W>>>16,this[ae+2]=W>>>8,this[ae+3]=255&W):he(this,W,ae,!1),ae+4},C.prototype.writeIntLE=function(W,ae,ye,Ae){if(W=+W,ae|=0,!Ae){var ze=Math.pow(2,8*ye-1);Ee(this,W,ae,ye,ze-1,-ze)}var Ze=0,ct=1,ht=0;for(this[ae]=255&W;++Ze<ye&&(ct*=256);)W<0&&0===ht&&0!==this[ae+Ze-1]&&(ht=1),this[ae+Ze]=(W/ct>>0)-ht&255;return ae+ye},C.prototype.writeIntBE=function(W,ae,ye,Ae){if(W=+W,ae|=0,!Ae){var ze=Math.pow(2,8*ye-1);Ee(this,W,ae,ye,ze-1,-ze)}var Ze=ye-1,ct=1,ht=0;for(this[ae+Ze]=255&W;--Ze>=0&&(ct*=256);)W<0&&0===ht&&0!==this[ae+Ze+1]&&(ht=1),this[ae+Ze]=(W/ct>>0)-ht&255;return ae+ye},C.prototype.writeInt8=function(W,ae,ye){return W=+W,ae|=0,ye||Ee(this,W,ae,1,127,-128),C.TYPED_ARRAY_SUPPORT||(W=Math.floor(W)),W<0&&(W=255+W+1),this[ae]=255&W,ae+1},C.prototype.writeInt16LE=function(W,ae,ye){return W=+W,ae|=0,ye||Ee(this,W,ae,2,32767,-32768),C.TYPED_ARRAY_SUPPORT?(this[ae]=255&W,this[ae+1]=W>>>8):ve(this,W,ae,!0),ae+2},C.prototype.writeInt16BE=function(W,ae,ye){return W=+W,ae|=0,ye||Ee(this,W,ae,2,32767,-32768),C.TYPED_ARRAY_SUPPORT?(this[ae]=W>>>8,this[ae+1]=255&W):ve(this,W,ae,!1),ae+2},C.prototype.writeInt32LE=function(W,ae,ye){return W=+W,ae|=0,ye||Ee(this,W,ae,4,2147483647,-2147483648),C.TYPED_ARRAY_SUPPORT?(this[ae]=255&W,this[ae+1]=W>>>8,this[ae+2]=W>>>16,this[ae+3]=W>>>24):he(this,W,ae,!0),ae+4},C.prototype.writeInt32BE=function(W,ae,ye){return W=+W,ae|=0,ye||Ee(this,W,ae,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),C.TYPED_ARRAY_SUPPORT?(this[ae]=W>>>24,this[ae+1]=W>>>16,this[ae+2]=W>>>8,this[ae+3]=255&W):he(this,W,ae,!1),ae+4},C.prototype.writeFloatLE=function(W,ae,ye){return se(this,W,ae,!0,ye)},C.prototype.writeFloatBE=function(W,ae,ye){return se(this,W,ae,!1,ye)},C.prototype.writeDoubleLE=function(W,ae,ye){return ke(this,W,ae,!0,ye)},C.prototype.writeDoubleBE=function(W,ae,ye){return ke(this,W,ae,!1,ye)},C.prototype.copy=function(W,ae,ye,Ae){if(ye||(ye=0),Ae||0===Ae||(Ae=this.length),ae>=W.length&&(ae=W.length),ae||(ae=0),Ae>0&&Ae<ye&&(Ae=ye),Ae===ye||0===W.length||0===this.length)return 0;if(ae<0)throw new RangeError("targetStart out of bounds");if(ye<0||ye>=this.length)throw new RangeError("sourceStart out of bounds");if(Ae<0)throw new RangeError("sourceEnd out of bounds");Ae>this.length&&(Ae=this.length),W.length-ae<Ae-ye&&(Ae=W.length-ae+ye);var ze,Ze=Ae-ye;if(this===W&&ye<ae&&ae<Ae)for(ze=Ze-1;ze>=0;--ze)W[ze+ae]=this[ze+ye];else if(Ze<1e3||!C.TYPED_ARRAY_SUPPORT)for(ze=0;ze<Ze;++ze)W[ze+ae]=this[ze+ye];else Uint8Array.prototype.set.call(W,this.subarray(ye,ye+Ze),ae);return Ze},C.prototype.fill=function(W,ae,ye,Ae){if("string"==typeof W){if("string"==typeof ae?(Ae=ae,ae=0,ye=this.length):"string"==typeof ye&&(Ae=ye,ye=this.length),1===W.length){var ze=W.charCodeAt(0);ze<256&&(W=ze)}if(void 0!==Ae&&"string"!=typeof Ae)throw new TypeError("encoding must be a string");if("string"==typeof Ae&&!C.isEncoding(Ae))throw new TypeError("Unknown encoding: "+Ae)}else"number"==typeof W&&(W&=255);if(ae<0||this.length<ae||this.length<ye)throw new RangeError("Out of range index");if(ye<=ae)return this;var Ze;if(ae>>>=0,ye=void 0===ye?this.length:ye>>>0,W||(W=0),"number"==typeof W)for(Ze=ae;Ze<ye;++Ze)this[Ze]=W;else{var ct=C.isBuffer(W)?W:Ie(new C(W,Ae).toString()),ht=ct.length;for(Ze=0;Ze<ye-ae;++Ze)this[Ze+ae]=ct[Ze%ht]}return this};var pe=/[^+\/0-9A-Za-z-_]/g;function Le(W){return W<16?"0"+W.toString(16):W.toString(16)}function Ie(W,ae){var ye;ae=ae||1/0;for(var Ae=W.length,ze=null,Ze=[],ct=0;ct<Ae;++ct){if((ye=W.charCodeAt(ct))>55295&&ye<57344){if(!ze){if(ye>56319){(ae-=3)>-1&&Ze.push(239,191,189);continue}if(ct+1===Ae){(ae-=3)>-1&&Ze.push(239,191,189);continue}ze=ye;continue}if(ye<56320){(ae-=3)>-1&&Ze.push(239,191,189),ze=ye;continue}ye=65536+(ze-55296<<10|ye-56320)}else ze&&(ae-=3)>-1&&Ze.push(239,191,189);if(ze=null,ye<128){if((ae-=1)<0)break;Ze.push(ye)}else if(ye<2048){if((ae-=2)<0)break;Ze.push(ye>>6|192,63&ye|128)}else if(ye<65536){if((ae-=3)<0)break;Ze.push(ye>>12|224,ye>>6&63|128,63&ye|128)}else{if(!(ye<1114112))throw new Error("Invalid code point");if((ae-=4)<0)break;Ze.push(ye>>18|240,ye>>12&63|128,ye>>6&63|128,63&ye|128)}}return Ze}function $e(W){return v.toByteArray(function(ae){if((ae=(ye=ae,ye.trim?ye.trim():ye.replace(/^\s+|\s+$/g,"")).replace(pe,"")).length<2)return"";for(var ye;ae.length%4!=0;)ae+="=";return ae}(W))}function Ke(W,ae,ye,Ae){for(var ze=0;ze<Ae&&!(ze+ye>=ae.length||ze>=W.length);++ze)ae[ze+ye]=W[ze];return ze}}).call(this,P(0))},function(fe,j){var P,M,v=fe.exports={};function w(){throw new Error("setTimeout has not been defined")}function E(){throw new Error("clearTimeout has not been defined")}function S(N){if(P===setTimeout)return setTimeout(N,0);if((P===w||!P)&&setTimeout)return P=setTimeout,setTimeout(N,0);try{return P(N,0)}catch{try{return P.call(null,N,0)}catch{return P.call(this,N,0)}}}!function(){try{P="function"==typeof setTimeout?setTimeout:w}catch{P=w}try{M="function"==typeof clearTimeout?clearTimeout:E}catch{M=E}}();var R,C=[],H=!1,Y=-1;function $(){H&&R&&(H=!1,R.length?C=R.concat(C):Y=-1,C.length&&te())}function te(){if(!H){var N=S($);H=!0;for(var k=C.length;k;){for(R=C,C=[];++Y<k;)R&&R[Y].run();Y=-1,k=C.length}R=null,H=!1,function(O){if(M===clearTimeout)return clearTimeout(O);if((M===E||!M)&&clearTimeout)return M=clearTimeout,clearTimeout(O);try{M(O)}catch{try{return M.call(null,O)}catch{return M.call(this,O)}}}(N)}}function q(N,k){this.fun=N,this.array=k}function ne(){}v.nextTick=function(N){var k=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)k[O-1]=arguments[O];C.push(new q(N,k)),1!==C.length||H||S(te)},q.prototype.run=function(){this.fun.apply(null,this.array)},v.title="browser",v.browser=!0,v.env={},v.argv=[],v.version="",v.versions={},v.on=ne,v.addListener=ne,v.once=ne,v.off=ne,v.removeListener=ne,v.removeAllListeners=ne,v.emit=ne,v.prependListener=ne,v.prependOnceListener=ne,v.listeners=function(N){return[]},v.binding=function(N){throw new Error("process.binding is not supported")},v.cwd=function(){return"/"},v.chdir=function(N){throw new Error("process.chdir is not supported")},v.umask=function(){return 0}},function(fe,j,P){(function(M){function v(w){return Object.prototype.toString.call(w)}j.isArray=function(w){return Array.isArray?Array.isArray(w):"[object Array]"===v(w)},j.isBoolean=function(w){return"boolean"==typeof w},j.isNull=function(w){return null===w},j.isNullOrUndefined=function(w){return null==w},j.isNumber=function(w){return"number"==typeof w},j.isString=function(w){return"string"==typeof w},j.isSymbol=function(w){return"symbol"==typeof w},j.isUndefined=function(w){return void 0===w},j.isRegExp=function(w){return"[object RegExp]"===v(w)},j.isObject=function(w){return"object"==typeof w&&null!==w},j.isDate=function(w){return"[object Date]"===v(w)},j.isError=function(w){return"[object Error]"===v(w)||w instanceof Error},j.isFunction=function(w){return"function"==typeof w},j.isPrimitive=function(w){return null===w||"boolean"==typeof w||"number"==typeof w||"string"==typeof w||"symbol"==typeof w||void 0===w},j.isBuffer=M.isBuffer}).call(this,P(3).Buffer)},function(fe,j,P){"use strict";(function(M){fe.exports=!M.version||0===M.version.indexOf("v0.")||0===M.version.indexOf("v1.")&&0!==M.version.indexOf("v1.8.")?{nextTick:function(v,w,E,S){if("function"!=typeof v)throw new TypeError('"callback" argument must be a function');var R,C,H=arguments.length;switch(H){case 0:case 1:return M.nextTick(v);case 2:return M.nextTick(function(){v.call(null,w)});case 3:return M.nextTick(function(){v.call(null,w,E)});case 4:return M.nextTick(function(){v.call(null,w,E,S)});default:for(R=new Array(H-1),C=0;C<R.length;)R[C++]=arguments[C];return M.nextTick(function(){v.apply(null,R)})}}}:M}).call(this,P(4))},function(fe,j,P){var M=P(3),v=M.Buffer;function w(S,R){for(var C in S)R[C]=S[C]}function E(S,R,C){return v(S,R,C)}v.from&&v.alloc&&v.allocUnsafe&&v.allocUnsafeSlow?fe.exports=M:(w(M,j),j.Buffer=E),w(v,E),E.from=function(S,R,C){if("number"==typeof S)throw new TypeError("Argument must not be a number");return v(S,R,C)},E.alloc=function(S,R,C){if("number"!=typeof S)throw new TypeError("Argument must be a number");var H=v(S);return void 0!==R?"string"==typeof C?H.fill(R,C):H.fill(R):H.fill(0),H},E.allocUnsafe=function(S){if("number"!=typeof S)throw new TypeError("Argument must be a number");return v(S)},E.allocUnsafeSlow=function(S){if("number"!=typeof S)throw new TypeError("Argument must be a number");return M.SlowBuffer(S)}},function(fe,j,P){var M=P(17)(Object,"create");fe.exports=M},function(fe,j,P){var M=P(31);fe.exports=function(v,w){for(var E=v.length;E--;)if(M(v[E][0],w))return E;return-1}},function(fe,j,P){var M=P(96);fe.exports=function(v,w){var E=v.__data__;return M(w)?E["string"==typeof w?"string":"hash"]:E.map}},function(fe,j,P){(function(M){var v=void 0!==M&&M||typeof self<"u"&&self||window,w=Function.prototype.apply;function E(S,R){this._id=S,this._clearFn=R}j.setTimeout=function(){return new E(w.call(setTimeout,v,arguments),clearTimeout)},j.setInterval=function(){return new E(w.call(setInterval,v,arguments),clearInterval)},j.clearTimeout=j.clearInterval=function(S){S&&S.close()},E.prototype.unref=E.prototype.ref=function(){},E.prototype.close=function(){this._clearFn.call(v,this._id)},j.enroll=function(S,R){clearTimeout(S._idleTimeoutId),S._idleTimeout=R},j.unenroll=function(S){clearTimeout(S._idleTimeoutId),S._idleTimeout=-1},j._unrefActive=j.active=function(S){clearTimeout(S._idleTimeoutId);var R=S._idleTimeout;R>=0&&(S._idleTimeoutId=setTimeout(function(){S._onTimeout&&S._onTimeout()},R))},P(35),j.setImmediate=typeof self<"u"&&self.setImmediate||void 0!==M&&M.setImmediate||this&&this.setImmediate,j.clearImmediate=typeof self<"u"&&self.clearImmediate||void 0!==M&&M.clearImmediate||this&&this.clearImmediate}).call(this,P(0))},function(fe,j){function P(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function M(E){return"function"==typeof E}function v(E){return"object"==typeof E&&null!==E}function w(E){return void 0===E}fe.exports=P,P.EventEmitter=P,P.prototype._events=void 0,P.prototype._maxListeners=void 0,P.defaultMaxListeners=10,P.prototype.setMaxListeners=function(E){if("number"!=typeof E||E<0||isNaN(E))throw TypeError("n must be a positive number");return this._maxListeners=E,this},P.prototype.emit=function(E){var S,R,C,H,Y,$;if(this._events||(this._events={}),"error"===E&&(!this._events.error||v(this._events.error)&&!this._events.error.length)){if((S=arguments[1])instanceof Error)throw S;var te=new Error('Uncaught, unspecified "error" event. ('+S+")");throw te.context=S,te}if(w(R=this._events[E]))return!1;if(M(R))switch(arguments.length){case 1:R.call(this);break;case 2:R.call(this,arguments[1]);break;case 3:R.call(this,arguments[1],arguments[2]);break;default:H=Array.prototype.slice.call(arguments,1),R.apply(this,H)}else if(v(R))for(H=Array.prototype.slice.call(arguments,1),C=($=R.slice()).length,Y=0;Y<C;Y++)$[Y].apply(this,H);return!0},P.prototype.on=P.prototype.addListener=function(E,S){var R;if(!M(S))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",E,M(S.listener)?S.listener:S),this._events[E]?v(this._events[E])?this._events[E].push(S):this._events[E]=[this._events[E],S]:this._events[E]=S,v(this._events[E])&&!this._events[E].warned&&(R=w(this._maxListeners)?P.defaultMaxListeners:this._maxListeners)&&R>0&&this._events[E].length>R&&(this._events[E].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[E].length),"function"==typeof console.trace&&console.trace()),this},P.prototype.once=function(E,S){if(!M(S))throw TypeError("listener must be a function");var R=!1;function C(){this.removeListener(E,C),R||(R=!0,S.apply(this,arguments))}return C.listener=S,this.on(E,C),this},P.prototype.removeListener=function(E,S){var R,C,H,Y;if(!M(S))throw TypeError("listener must be a function");if(!this._events||!this._events[E])return this;if(H=(R=this._events[E]).length,C=-1,R===S||M(R.listener)&&R.listener===S)delete this._events[E],this._events.removeListener&&this.emit("removeListener",E,S);else if(v(R)){for(Y=H;Y-- >0;)if(R[Y]===S||R[Y].listener&&R[Y].listener===S){C=Y;break}if(C<0)return this;1===R.length?(R.length=0,delete this._events[E]):R.splice(C,1),this._events.removeListener&&this.emit("removeListener",E,S)}return this},P.prototype.removeAllListeners=function(E){var S,R;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[E]&&delete this._events[E],this;if(0===arguments.length){for(S in this._events)"removeListener"!==S&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events={},this}if(M(R=this._events[E]))this.removeListener(E,R);else if(R)for(;R.length;)this.removeListener(E,R[R.length-1]);return delete this._events[E],this},P.prototype.listeners=function(E){return this._events&&this._events[E]?M(this._events[E])?[this._events[E]]:this._events[E].slice():[]},P.prototype.listenerCount=function(E){if(this._events){var S=this._events[E];if(M(S))return 1;if(S)return S.length}return 0},P.listenerCount=function(E,S){return E.listenerCount(S)}},function(fe,j,P){(j=fe.exports=P(23)).Stream=j,j.Readable=j,j.Writable=P(14),j.Duplex=P(1),j.Transform=P(27),j.PassThrough=P(45)},function(fe,j,P){"use strict";(function(M,v,w){var E=P(6);function S(ie){var Q=this;this.next=null,this.entry=null,this.finish=function(){!function(ue,J,Me){var Te=ue.entry;for(ue.entry=null;Te;){var ge=Te.callback;J.pendingcb--,ge(void 0),Te=Te.next}J.corkedRequestsFree?J.corkedRequestsFree.next=ue:J.corkedRequestsFree=ue}(Q,ie)}}fe.exports=B;var R,C=!M.browser&&["v0.10","v0.9."].indexOf(M.version.slice(0,5))>-1?v:E.nextTick;B.WritableState=O;var H=P(5);H.inherits=P(2);var Y,$={deprecate:P(44)},te=P(24),q=P(7).Buffer,ne=w.Uint8Array||function(){},N=P(25);function k(){}function O(ie,Q){R=R||P(1);var ue=Q instanceof R;this.objectMode=!!(ie=ie||{}).objectMode,ue&&(this.objectMode=this.objectMode||!!ie.writableObjectMode);var J=ie.highWaterMark,Me=ie.writableHighWaterMark;this.highWaterMark=J||0===J?J:ue&&(Me||0===Me)?Me:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ie.decodeStrings),this.defaultEncoding=ie.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ee){!function(ve,he){var Le,ce=ve._writableState,se=ce.sync,ke=ce.writecb;if((Le=ce).writing=!1,Le.writecb=null,Le.length-=Le.writelen,Le.writelen=0,he)!function(Le,Ie,$e,Ke,W){--Ie.pendingcb,$e?(E.nextTick(W,Ke),E.nextTick(z,Le,Ie),Le._writableState.errorEmitted=!0,Le.emit("error",Ke)):(W(Ke),Le._writableState.errorEmitted=!0,Le.emit("error",Ke),z(Le,Ie))}(ve,ce,se,he,ke);else{var pe=X(ce);pe||ce.corked||ce.bufferProcessing||!ce.bufferedRequest||F(ve,ce),se?C(U,ve,ce,pe,ke):U(ve,ce,pe,ke)}}(Q,Ee)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new S(this)}function B(ie){if(R=R||P(1),!(Y.call(B,this)||this instanceof R))return new B(ie);this._writableState=new O(ie,this),this.writable=!0,ie&&("function"==typeof ie.write&&(this._write=ie.write),"function"==typeof ie.writev&&(this._writev=ie.writev),"function"==typeof ie.destroy&&(this._destroy=ie.destroy),"function"==typeof ie.final&&(this._final=ie.final)),te.call(this)}function I(ie,Q,ue,J,Me,Te,ge){Q.writelen=J,Q.writecb=ge,Q.writing=!0,Q.sync=!0,ue?ie._writev(Me,Q.onwrite):ie._write(Me,Te,Q.onwrite),Q.sync=!1}function U(ie,Q,ue,J){var Me,Te;ue||(Me=ie,0===(Te=Q).length&&Te.needDrain&&(Te.needDrain=!1,Me.emit("drain"))),Q.pendingcb--,J(),z(ie,Q)}function F(ie,Q){Q.bufferProcessing=!0;var ue=Q.bufferedRequest;if(ie._writev&&ue&&ue.next){var Me=new Array(Q.bufferedRequestCount),Te=Q.corkedRequestsFree;Te.entry=ue;for(var ge=0,Ee=!0;ue;)Me[ge]=ue,ue.isBuf||(Ee=!1),ue=ue.next,ge+=1;Me.allBuffers=Ee,I(ie,Q,!0,Q.length,Me,"",Te.finish),Q.pendingcb++,Q.lastBufferedRequest=null,Te.next?(Q.corkedRequestsFree=Te.next,Te.next=null):Q.corkedRequestsFree=new S(Q),Q.bufferedRequestCount=0}else{for(;ue;){var ve=ue.chunk;if(I(ie,Q,!1,Q.objectMode?1:ve.length,ve,ue.encoding,ue.callback),ue=ue.next,Q.bufferedRequestCount--,Q.writing)break}null===ue&&(Q.lastBufferedRequest=null)}Q.bufferedRequest=ue,Q.bufferProcessing=!1}function X(ie){return ie.ending&&0===ie.length&&null===ie.bufferedRequest&&!ie.finished&&!ie.writing}function oe(ie,Q){ie._final(function(ue){Q.pendingcb--,ue&&ie.emit("error",ue),Q.prefinished=!0,ie.emit("prefinish"),z(ie,Q)})}function z(ie,Q){var J,Me,ue=X(Q);return ue&&(J=ie,(Me=Q).prefinished||Me.finalCalled||("function"==typeof J._final?(Me.pendingcb++,Me.finalCalled=!0,E.nextTick(oe,J,Me)):(Me.prefinished=!0,J.emit("prefinish"))),0===Q.pendingcb&&(Q.finished=!0,ie.emit("finish"))),ue}H.inherits(B,te),O.prototype.getBuffer=function(){for(var ie=this.bufferedRequest,Q=[];ie;)Q.push(ie),ie=ie.next;return Q},function(){try{Object.defineProperty(O.prototype,"buffer",{get:$.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Y=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(ie){return!!Y.call(this,ie)||this===B&&ie&&ie._writableState instanceof O}})):Y=function(ie){return ie instanceof this},B.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},B.prototype.write=function(ie,Q,ue){var ge,J=this._writableState,Me=!1,Te=!J.objectMode&&(q.isBuffer(ge=ie)||ge instanceof ne);return Te&&!q.isBuffer(ie)&&(ie=function(ge){return q.from(ge)}(ie)),"function"==typeof Q&&(ue=Q,Q=null),Te?Q="buffer":Q||(Q=J.defaultEncoding),"function"!=typeof ue&&(ue=k),J.ended?function(ge,Ee){var ve=new Error("write after end");ge.emit("error",ve),E.nextTick(Ee,ve)}(this,ue):(Te||function(ge,Ee,ve,he){var ce=!0,se=!1;return null===ve?se=new TypeError("May not write null values to stream"):"string"==typeof ve||void 0===ve||Ee.objectMode||(se=new TypeError("Invalid non-string/buffer chunk")),se&&(ge.emit("error",se),E.nextTick(he,se),ce=!1),ce}(this,J,ie,ue))&&(J.pendingcb++,Me=function(ge,Ee,ve,he,ce,se){if(!ve){var ke=(Ke=he,($e=Ee).objectMode||!1===$e.decodeStrings||"string"!=typeof Ke||(Ke=q.from(Ke,ce)),Ke);he!==ke&&(ve=!0,ce="buffer",he=ke)}var $e,Ke,pe=Ee.objectMode?1:he.length;Ee.length+=pe;var Le=Ee.length<Ee.highWaterMark;if(Le||(Ee.needDrain=!0),Ee.writing||Ee.corked){var Ie=Ee.lastBufferedRequest;Ee.lastBufferedRequest={chunk:he,encoding:ce,isBuf:ve,callback:se,next:null},Ie?Ie.next=Ee.lastBufferedRequest:Ee.bufferedRequest=Ee.lastBufferedRequest,Ee.bufferedRequestCount+=1}else I(ge,Ee,!1,pe,he,ce,se);return Le}(this,J,Te,ie,Q,ue)),Me},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var ie=this._writableState;ie.corked&&(ie.corked--,ie.writing||ie.corked||ie.finished||ie.bufferProcessing||!ie.bufferedRequest||F(this,ie))},B.prototype.setDefaultEncoding=function(ie){if("string"==typeof ie&&(ie=ie.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ie+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+ie);return this._writableState.defaultEncoding=ie,this},Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),B.prototype._write=function(ie,Q,ue){ue(new Error("_write() is not implemented"))},B.prototype._writev=null,B.prototype.end=function(ie,Q,ue){var Te,ge,J=this._writableState;"function"==typeof ie?(ue=ie,ie=null,Q=null):"function"==typeof Q&&(ue=Q,Q=null),null!=ie&&this.write(ie,Q),J.corked&&(J.corked=1,this.uncork()),J.ending||J.finished||(this,ge=ue,(Te=J).ending=!0,z(this,Te),ge&&(Te.finished?E.nextTick(ge):this.once("finish",ge)),Te.ended=!0,this.writable=!1)},Object.defineProperty(B.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ie){this._writableState&&(this._writableState.destroyed=ie)}}),B.prototype.destroy=N.destroy,B.prototype._undestroy=N.undestroy,B.prototype._destroy=function(ie,Q){this.end(),Q(ie)}}).call(this,P(4),P(11).setImmediate,P(0))},function(fe,j,P){(function(M,v,w){fe.exports=function E(S,R,C){function H(te,q){if(!R[te]){if(!S[te]){var ne="function"==typeof _dereq_&&_dereq_;if(!q&&ne)return ne(te,!0);if(Y)return Y(te,!0);var N=new Error("Cannot find module '"+te+"'");throw N.code="MODULE_NOT_FOUND",N}var k=R[te]={exports:{}};S[te][0].call(k.exports,function(O){return H(S[te][1][O]||O)},k,k.exports,E,S,R,C)}return R[te].exports}for(var Y="function"==typeof _dereq_&&_dereq_,$=0;$<C.length;$++)H(C[$]);return H}({1:[function(E,S,R){"use strict";S.exports=function(C){var H=C._SomePromiseArray;function Y($){var te=new H($),q=te.promise();return te.setHowMany(1),te.setUnwrap(),te.init(),q}C.any=function($){return Y($)},C.prototype.any=function(){return Y(this)}}},{}],2:[function(E,S,R){"use strict";var C;try{throw new Error}catch(k){C=k}var H=E("./schedule"),Y=E("./queue"),$=E("./util");function te(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new Y(16),this._normalQueue=new Y(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var k=this;this.drainQueues=function(){k._drainQueues()},this._schedule=H}function q(k,O,B){this._lateQueue.push(k,O,B),this._queueTick()}function ne(k,O,B){this._normalQueue.push(k,O,B),this._queueTick()}function N(k){this._normalQueue._pushOne(k),this._queueTick()}te.prototype.setScheduler=function(k){var O=this._schedule;return this._schedule=k,this._customScheduler=!0,O},te.prototype.hasCustomScheduler=function(){return this._customScheduler},te.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},te.prototype.disableTrampolineIfNecessary=function(){$.hasDevTools&&(this._trampolineEnabled=!1)},te.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},te.prototype.fatalError=function(k,O){O?(M.stderr.write("Fatal "+(k instanceof Error?k.stack:k)+"\n"),M.exit(2)):this.throwLater(k)},te.prototype.throwLater=function(k,O){if(1===arguments.length&&(O=k,k=function(){throw O}),typeof setTimeout<"u")setTimeout(function(){k(O)},0);else try{this._schedule(function(){k(O)})}catch{throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},$.hasDevTools?(te.prototype.invokeLater=function(k,O,B){this._trampolineEnabled?q.call(this,k,O,B):this._schedule(function(){setTimeout(function(){k.call(O,B)},100)})},te.prototype.invoke=function(k,O,B){this._trampolineEnabled?ne.call(this,k,O,B):this._schedule(function(){k.call(O,B)})},te.prototype.settlePromises=function(k){this._trampolineEnabled?N.call(this,k):this._schedule(function(){k._settlePromises()})}):(te.prototype.invokeLater=q,te.prototype.invoke=ne,te.prototype.settlePromises=N),te.prototype._drainQueue=function(k){for(;k.length()>0;){var O=k.shift();if("function"==typeof O){var B=k.shift(),I=k.shift();O.call(B,I)}else O._settlePromises()}},te.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},te.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},te.prototype._reset=function(){this._isTickUsed=!1},S.exports=te,S.exports.firstLineError=C},{"./queue":26,"./schedule":29,"./util":36}],3:[function(E,S,R){"use strict";S.exports=function(C,H,Y,$){var te=!1,q=function(O,B){this._reject(B)},ne=function(O,B){B.promiseRejectionQueued=!0,B.bindingPromise._then(q,q,null,this,O)},N=function(O,B){!(50397184&this._bitField)&&this._resolveCallback(B.target)},k=function(O,B){B.promiseRejectionQueued||this._reject(O)};C.prototype.bind=function(O){te||(te=!0,C.prototype._propagateFrom=$.propagateFromFunction(),C.prototype._boundValue=$.boundValueFunction());var B=Y(O),I=new C(H);I._propagateFrom(this,1);var U=this._target();if(I._setBoundTo(B),B instanceof C){var F={promiseRejectionQueued:!1,promise:I,target:U,bindingPromise:B};U._then(H,ne,void 0,I,F),B._then(N,k,void 0,I,F),I._setOnCancel(B)}else I._resolveCallback(U);return I},C.prototype._setBoundTo=function(O){void 0!==O?(this._bitField=2097152|this._bitField,this._boundTo=O):this._bitField=-2097153&this._bitField},C.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},C.bind=function(O,B){return C.resolve(B).bind(O)}}},{}],4:[function(E,S,R){"use strict";var C;typeof Promise<"u"&&(C=Promise);var H=E("./promise")();H.noConflict=function(){try{Promise===H&&(Promise=C)}catch{}return H},S.exports=H},{"./promise":22}],5:[function(E,S,R){"use strict";var C=Object.create;if(C){var H=C(null),Y=C(null);H[" size"]=Y[" size"]=0}S.exports=function($){var te=E("./util"),q=te.canEvaluate;function ne(O){return function(B,I){var U;if(null!=B&&(U=B[I]),"function"!=typeof U){var F="Object "+te.classString(B)+" has no method '"+te.toString(I)+"'";throw new $.TypeError(F)}return U}(O,this.pop()).apply(O,this)}function N(O){return O[this]}function k(O){var B=+this;return B<0&&(B=Math.max(0,B+O.length)),O[B]}$.prototype.call=function(O){var B=[].slice.call(arguments,1);return B.push(O),this._then(ne,void 0,void 0,B,void 0)},$.prototype.get=function(O){var B;if("number"==typeof O)B=k;else if(q){var I=(void 0)(O);B=null!==I?I:N}else B=N;return this._then(B,void 0,void 0,O,void 0)}}},{"./util":36}],6:[function(E,S,R){"use strict";S.exports=function(C,H,Y,$){var te=E("./util"),q=te.tryCatch,ne=te.errorObj,N=C._async;C.prototype.break=C.prototype.cancel=function(){if(!$.cancellation())return this._warn("cancellation is disabled");for(var k=this,O=k;k._isCancellable();){if(!k._cancelBy(O)){O._isFollowing()?O._followee().cancel():O._cancelBranched();break}var B=k._cancellationParent;if(null==B||!B._isCancellable()){k._isFollowing()?k._followee().cancel():k._cancelBranched();break}k._isFollowing()&&k._followee().cancel(),k._setWillBeCancelled(),O=k,k=B}},C.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},C.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},C.prototype._cancelBy=function(k){return k===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},C.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},C.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),N.invoke(this._cancelPromises,this,void 0))},C.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},C.prototype._unsetOnCancel=function(){this._onCancelField=void 0},C.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},C.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},C.prototype._doInvokeOnCancel=function(k,O){if(te.isArray(k))for(var B=0;B<k.length;++B)this._doInvokeOnCancel(k[B],O);else if(void 0!==k)if("function"==typeof k){if(!O){var I=q(k).call(this._boundValue());I===ne&&(this._attachExtraTrace(I.e),N.throwLater(I.e))}}else k._resultCancelled(this)},C.prototype._invokeOnCancel=function(){var k=this._onCancel();this._unsetOnCancel(),N.invoke(this._doInvokeOnCancel,this,k)},C.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},C.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(E,S,R){"use strict";S.exports=function(C){var H=E("./util"),Y=E("./es5").keys,$=H.tryCatch,te=H.errorObj;return function(q,ne,N){return function(k){var O=N._boundValue();e:for(var B=0;B<q.length;++B){var I=q[B];if(I===Error||null!=I&&I.prototype instanceof Error){if(k instanceof I)return $(ne).call(O,k)}else if("function"==typeof I){var U=$(I).call(O,k);if(U===te)return U;if(U)return $(ne).call(O,k)}else if(H.isObject(k)){for(var F=Y(I),X=0;X<F.length;++X){var oe=F[X];if(I[oe]!=k[oe])continue e}return $(ne).call(O,k)}}return C}}}},{"./es5":13,"./util":36}],8:[function(E,S,R){"use strict";S.exports=function(C){var H=!1,Y=[];function $(){this._trace=new $.CapturedTrace(te())}function te(){var q=Y.length-1;if(q>=0)return Y[q]}return C.prototype._promiseCreated=function(){},C.prototype._pushContext=function(){},C.prototype._popContext=function(){return null},C._peekContext=C.prototype._peekContext=function(){},$.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,Y.push(this._trace))},$.prototype._popContext=function(){if(void 0!==this._trace){var q=Y.pop(),ne=q._promiseCreated;return q._promiseCreated=null,ne}return null},$.CapturedTrace=null,$.create=function(){if(H)return new $},$.deactivateLongStackTraces=function(){},$.activateLongStackTraces=function(){var q=C.prototype._pushContext,ne=C.prototype._popContext,N=C._peekContext,k=C.prototype._peekContext,O=C.prototype._promiseCreated;$.deactivateLongStackTraces=function(){C.prototype._pushContext=q,C.prototype._popContext=ne,C._peekContext=N,C.prototype._peekContext=k,C.prototype._promiseCreated=O,H=!1},H=!0,C.prototype._pushContext=$.prototype._pushContext,C.prototype._popContext=$.prototype._popContext,C._peekContext=C.prototype._peekContext=te,C.prototype._promiseCreated=function(){var B=this._peekContext();B&&null==B._promiseCreated&&(B._promiseCreated=this)}},$}},{}],9:[function(E,S,R){"use strict";S.exports=function(C,H){var Y,$,te,q=C._getDomain,ne=C._async,N=E("./errors").Warning,k=E("./util"),O=k.canAttachTrace,B=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,I=/\((?:timers\.js):\d+:\d+\)/,U=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,F=null,X=null,oe=!1,z=0!=k.env("BLUEBIRD_DEBUG"),ie=!(0==k.env("BLUEBIRD_WARNINGS")||!z&&!k.env("BLUEBIRD_WARNINGS")),Q=!(0==k.env("BLUEBIRD_LONG_STACK_TRACES")||!z&&!k.env("BLUEBIRD_LONG_STACK_TRACES")),ue=0!=k.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(ie||!!k.env("BLUEBIRD_W_FORGOTTEN_RETURN"));C.prototype.suppressUnhandledRejections=function(){var Oe=this._target();Oe._bitField=-1048577&Oe._bitField|524288},C.prototype._ensurePossibleRejectionHandled=function(){if(!(524288&this._bitField)){this._setRejectionIsUnhandled();var Oe=this;setTimeout(function(){Oe._notifyUnhandledRejection()},1)}},C.prototype._notifyUnhandledRejectionIsHandled=function(){ct("rejectionHandled",Y,void 0,this)},C.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},C.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},C.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var Oe=this._settledValue();this._setUnhandledRejectionIsNotified(),ct("unhandledRejection",$,Oe,this)}},C.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},C.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},C.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},C.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},C.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},C.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},C.prototype._warn=function(Oe,je,Xe){return ye(Oe,je,Xe||this)},C.onPossiblyUnhandledRejection=function(Oe){var je=q();$="function"==typeof Oe?null===je?Oe:k.domainBind(je,Oe):void 0},C.onUnhandledRejectionHandled=function(Oe){var je=q();Y="function"==typeof Oe?null===je?Oe:k.domainBind(je,Oe):void 0};var J=function(){};C.longStackTraces=function(){if(ne.haveItemsQueued()&&!Ve.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!Ve.longStackTraces&&vt()){var Oe=C.prototype._captureStackTrace,je=C.prototype._attachExtraTrace;Ve.longStackTraces=!0,J=function(){if(ne.haveItemsQueued()&&!Ve.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");C.prototype._captureStackTrace=Oe,C.prototype._attachExtraTrace=je,H.deactivateLongStackTraces(),ne.enableTrampoline(),Ve.longStackTraces=!1},C.prototype._captureStackTrace=W,C.prototype._attachExtraTrace=ae,H.activateLongStackTraces(),ne.disableTrampolineIfNecessary()}},C.hasLongStackTraces=function(){return Ve.longStackTraces&&vt()};var Me=function(){try{if("function"==typeof CustomEvent){var Oe=new CustomEvent("CustomEvent");return k.global.dispatchEvent(Oe),function(je,Xe){var Ge=new CustomEvent(je.toLowerCase(),{detail:Xe,cancelable:!0});return!k.global.dispatchEvent(Ge)}}return"function"==typeof Event?(Oe=new Event("CustomEvent"),k.global.dispatchEvent(Oe),function(je,Xe){var Ge=new Event(je.toLowerCase(),{cancelable:!0});return Ge.detail=Xe,!k.global.dispatchEvent(Ge)}):((Oe=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),k.global.dispatchEvent(Oe),function(je,Xe){var Ge=document.createEvent("CustomEvent");return Ge.initCustomEvent(je.toLowerCase(),!1,!0,Xe),!k.global.dispatchEvent(Ge)})}catch{}return function(){return!1}}(),Te=k.isNode?function(){return M.emit.apply(M,arguments)}:k.global?function(Oe){var je="on"+Oe.toLowerCase(),Xe=k.global[je];return!!Xe&&(Xe.apply(k.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function ge(Oe,je){return{promise:je}}var Ee={promiseCreated:ge,promiseFulfilled:ge,promiseRejected:ge,promiseResolved:ge,promiseCancelled:ge,promiseChained:function(Oe,je,Xe){return{promise:je,child:Xe}},warning:function(Oe,je){return{warning:je}},unhandledRejection:function(Oe,je,Xe){return{reason:je,promise:Xe}},rejectionHandled:ge},ve=function(Oe){var je=!1;try{je=Te.apply(null,arguments)}catch(Ge){ne.throwLater(Ge),je=!0}var Xe=!1;try{Xe=Me(Oe,Ee[Oe].apply(null,arguments))}catch(Ge){ne.throwLater(Ge),Xe=!0}return Xe||je};function he(){return!1}function ce(Oe,je,Xe){var Ge=this;try{Oe(je,Xe,function(mt){if("function"!=typeof mt)throw new TypeError("onCancel must be a function, got: "+k.toString(mt));Ge._attachCancellationCallback(mt)})}catch(mt){return mt}}function se(Oe){if(!this._isCancellable())return this;var je=this._onCancel();void 0!==je?k.isArray(je)?je.push(Oe):this._setOnCancel([je,Oe]):this._setOnCancel(Oe)}function ke(){return this._onCancelField}function pe(Oe){this._onCancelField=Oe}function Le(){this._cancellationParent=void 0,this._onCancelField=void 0}function Ie(Oe,je){if(1&je){this._cancellationParent=Oe;var Xe=Oe._branchesRemainingToCancel;void 0===Xe&&(Xe=0),Oe._branchesRemainingToCancel=Xe+1}2&je&&Oe._isBound()&&this._setBoundTo(Oe._boundTo)}C.config=function(Oe){if("longStackTraces"in(Oe=Object(Oe))&&(Oe.longStackTraces?C.longStackTraces():!Oe.longStackTraces&&C.hasLongStackTraces()&&J()),"warnings"in Oe){var je=Oe.warnings;Ve.warnings=!!je,ue=Ve.warnings,k.isObject(je)&&"wForgottenReturn"in je&&(ue=!!je.wForgottenReturn)}if("cancellation"in Oe&&Oe.cancellation&&!Ve.cancellation){if(ne.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");C.prototype._clearCancellationData=Le,C.prototype._propagateFrom=Ie,C.prototype._onCancel=ke,C.prototype._setOnCancel=pe,C.prototype._attachCancellationCallback=se,C.prototype._execute=ce,$e=Ie,Ve.cancellation=!0}return"monitoring"in Oe&&(Oe.monitoring&&!Ve.monitoring?(Ve.monitoring=!0,C.prototype._fireEvent=ve):!Oe.monitoring&&Ve.monitoring&&(Ve.monitoring=!1,C.prototype._fireEvent=he)),C},C.prototype._fireEvent=he,C.prototype._execute=function(Oe,je,Xe){try{Oe(je,Xe)}catch(Ge){return Ge}},C.prototype._onCancel=function(){},C.prototype._setOnCancel=function(Oe){},C.prototype._attachCancellationCallback=function(Oe){},C.prototype._captureStackTrace=function(){},C.prototype._attachExtraTrace=function(){},C.prototype._clearCancellationData=function(){},C.prototype._propagateFrom=function(Oe,je){};var $e=function(Oe,je){2&je&&Oe._isBound()&&this._setBoundTo(Oe._boundTo)};function Ke(){var Oe=this._boundTo;return void 0!==Oe&&Oe instanceof C?Oe.isFulfilled()?Oe.value():void 0:Oe}function W(){this._trace=new be(this._peekContext())}function ae(Oe,je){if(O(Oe)){var Xe=this._trace;if(void 0!==Xe&&je&&(Xe=Xe._parent),void 0!==Xe)Xe.attachExtraTrace(Oe);else if(!Oe.__stackCleaned__){var Ge=ze(Oe);k.notEnumerableProp(Oe,"stack",Ge.message+"\n"+Ge.stack.join("\n")),k.notEnumerableProp(Oe,"__stackCleaned__",!0)}}}function ye(Oe,je,Xe){if(Ve.warnings){var Ge,mt=new N(Oe);if(je)Xe._attachExtraTrace(mt);else if(Ve.longStackTraces&&(Ge=C._peekContext()))Ge.attachExtraTrace(mt);else{var yt=ze(mt);mt.stack=yt.message+"\n"+yt.stack.join("\n")}ve("warning",mt)||Ze(mt,"",!0)}}function Ae(Oe){for(var je=[],Xe=0;Xe<Oe.length;++Xe){var Ge=Oe[Xe],mt="    (No stack trace)"===Ge||F.test(Ge),yt=mt&&qe(Ge);mt&&!yt&&(oe&&" "!==Ge.charAt(0)&&(Ge="    "+Ge),je.push(Ge))}return je}function ze(Oe){var je=Oe.stack,Xe=Oe.toString();return je="string"==typeof je&&je.length>0?function(Ge){for(var mt=Ge.stack.replace(/\s+$/g,"").split("\n"),yt=0;yt<mt.length;++yt){var it=mt[yt];if("    (No stack trace)"===it||F.test(it))break}return yt>0&&"SyntaxError"!=Ge.name&&(mt=mt.slice(yt)),mt}(Oe):["    (No stack trace)"],{message:Xe,stack:"SyntaxError"==Oe.name?je:Ae(je)}}function Ze(Oe,je,Xe){var Ge;typeof console<"u"&&(Ge=k.isObject(Oe)?je+X(Oe.stack,Oe):je+String(Oe),"function"==typeof te?te(Ge,Xe):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(Ge))}function ct(Oe,je,Xe,Ge){var mt=!1;try{"function"==typeof je&&(mt=!0,"rejectionHandled"===Oe?je(Ge):je(Xe,Ge))}catch(yt){ne.throwLater(yt)}"unhandledRejection"===Oe?ve(Oe,Xe,Ge)||mt||Ze(Xe,"Unhandled rejection "):ve(Oe,Ge)}function ht(Oe){var je,Xe;if("function"==typeof Oe)je="[function "+(Oe.name||"anonymous")+"]";else{if(je=Oe&&"function"==typeof Oe.toString?Oe.toString():k.toString(Oe),/\[object [a-zA-Z0-9$_]+\]/.test(je))try{je=JSON.stringify(Oe)}catch{}0===je.length&&(je="(empty array)")}return"(<"+((Xe=je).length<41?Xe:Xe.substr(0,38)+"...")+">, no stack trace)"}function vt(){return"function"==typeof Re}var qe=function(){return!1},Ce=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function we(Oe){var je=Oe.match(Ce);if(je)return{fileName:je[1],line:parseInt(je[2],10)}}function be(Oe){this._parent=Oe,this._promisesCreated=0;var je=this._length=1+(void 0===Oe?0:Oe._length);Re(this,be),je>32&&this.uncycle()}k.inherits(be,Error),H.CapturedTrace=be,be.prototype.uncycle=function(){var Oe=this._length;if(!(Oe<2)){for(var je=[],Xe={},Ge=0,mt=this;void 0!==mt;++Ge)je.push(mt),mt=mt._parent;for(Ge=(Oe=this._length=Ge)-1;Ge>=0;--Ge){var yt=je[Ge].stack;void 0===Xe[yt]&&(Xe[yt]=Ge)}for(Ge=0;Ge<Oe;++Ge){var it=Xe[je[Ge].stack];if(void 0!==it&&it!==Ge){it>0&&(je[it-1]._parent=void 0,je[it-1]._length=1),je[Ge]._parent=void 0,je[Ge]._length=1;var Et=Ge>0?je[Ge-1]:this;it<Oe-1?(Et._parent=je[it+1],Et._parent.uncycle(),Et._length=Et._parent._length+1):(Et._parent=void 0,Et._length=1);for(var pn=Et._length+1,Ut=Ge-2;Ut>=0;--Ut)je[Ut]._length=pn,pn++;return}}}},be.prototype.attachExtraTrace=function(Oe){if(!Oe.__stackCleaned__){this.uncycle();for(var je=ze(Oe),Xe=je.message,Ge=[je.stack],mt=this;void 0!==mt;)Ge.push(Ae(mt.stack.split("\n"))),mt=mt._parent;(function(yt){for(var it=yt[0],Et=1;Et<yt.length;++Et){for(var pn=yt[Et],Ut=it.length-1,bn=it[Ut],Dn=-1,xi=pn.length-1;xi>=0;--xi)if(pn[xi]===bn){Dn=xi;break}for(xi=Dn;xi>=0&&it[Ut]===pn[xi];--xi)it.pop(),Ut--;it=pn}})(Ge),function(yt){for(var it=0;it<yt.length;++it)(0===yt[it].length||it+1<yt.length&&yt[it][0]===yt[it+1][0])&&(yt.splice(it,1),it--)}(Ge),k.notEnumerableProp(Oe,"stack",function(yt,it){for(var Et=0;Et<it.length-1;++Et)it[Et].push("From previous event:"),it[Et]=it[Et].join("\n");return Et<it.length&&(it[Et]=it[Et].join("\n")),yt+"\n"+it.join("\n")}(Xe,Ge)),k.notEnumerableProp(Oe,"__stackCleaned__",!0)}};var Re=function(){var Oe=/^\s*at\s*/,je=function(yt,it){return"string"==typeof yt?yt:void 0!==it.name&&void 0!==it.message?it.toString():ht(it)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,F=Oe,X=je;var Xe=Error.captureStackTrace;return qe=function(yt){return B.test(yt)},function(yt,it){Error.stackTraceLimit+=6,Xe(yt,it),Error.stackTraceLimit-=6}}var Ge,mt=new Error;if("string"==typeof mt.stack&&mt.stack.split("\n")[0].indexOf("stackDetection@")>=0)return F=/@/,X=je,oe=!0,function(yt){yt.stack=(new Error).stack};try{throw new Error}catch(yt){Ge="stack"in yt}return"stack"in mt||!Ge||"number"!=typeof Error.stackTraceLimit?(X=function(yt,it){return"string"==typeof yt?yt:"object"!=typeof it&&"function"!=typeof it||void 0===it.name||void 0===it.message?ht(it):it.toString()},null):(F=Oe,X=je,function(yt){Error.stackTraceLimit+=6;try{throw new Error}catch(it){yt.stack=it.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&void 0!==console.warn&&(te=function(Oe){console.warn(Oe)},k.isNode&&M.stderr.isTTY?te=function(Oe,je){console.warn((je?"\x1b[33m":"\x1b[31m")+Oe+"\x1b[0m\n")}:k.isNode||"string"!=typeof(new Error).stack||(te=function(Oe,je){console.warn("%c"+Oe,je?"color: darkorange":"color: red")}));var Ve={warnings:ie,longStackTraces:!1,cancellation:!1,monitoring:!1};return Q&&C.longStackTraces(),{longStackTraces:function(){return Ve.longStackTraces},warnings:function(){return Ve.warnings},cancellation:function(){return Ve.cancellation},monitoring:function(){return Ve.monitoring},propagateFromFunction:function(){return $e},boundValueFunction:function(){return Ke},checkForgottenReturns:function(Oe,je,Xe,Ge,mt){if(void 0===Oe&&null!==je&&ue){if(void 0!==mt&&mt._returnedNonUndefined()||!(65535&Ge._bitField))return;Xe&&(Xe+=" ");var yt="",it="";if(je._trace){for(var Et=je._trace.stack.split("\n"),pn=Ae(Et),Ut=pn.length-1;Ut>=0;--Ut){var bn=pn[Ut];if(!I.test(bn)){var Dn=bn.match(U);Dn&&(yt="at "+Dn[1]+":"+Dn[2]+":"+Dn[3]+" ");break}}if(pn.length>0){var xi=pn[0];for(Ut=0;Ut<Et.length;++Ut)if(Et[Ut]===xi){Ut>0&&(it="\n"+Et[Ut-1]);break}}}Ge._warn("a promise was created in a "+Xe+"handler "+yt+"but was not returned from it, see http://goo.gl/rRqMUw"+it,!0,je)}},setBounds:function(Oe,je){if(vt()){for(var Xe,Ge,mt=Oe.stack.split("\n"),yt=je.stack.split("\n"),it=-1,Et=-1,pn=0;pn<mt.length;++pn)if(Ut=we(mt[pn])){Xe=Ut.fileName,it=Ut.line;break}for(pn=0;pn<yt.length;++pn){var Ut;if(Ut=we(yt[pn])){Ge=Ut.fileName,Et=Ut.line;break}}it<0||Et<0||!Xe||!Ge||Xe!==Ge||it>=Et||(qe=function(bn){if(B.test(bn))return!0;var Dn=we(bn);return!!(Dn&&Dn.fileName===Xe&&it<=Dn.line&&Dn.line<=Et)})}},warn:ye,deprecated:function(Oe,je){var Xe=Oe+" is deprecated and will be removed in a future version.";return je&&(Xe+=" Use "+je+" instead."),ye(Xe)},CapturedTrace:be,fireDomEvent:Me,fireGlobalEvent:Te}}},{"./errors":12,"./util":36}],10:[function(E,S,R){"use strict";S.exports=function(C){function H(){return this.value}function Y(){throw this.reason}C.prototype.return=C.prototype.thenReturn=function($){return $ instanceof C&&$.suppressUnhandledRejections(),this._then(H,void 0,void 0,{value:$},void 0)},C.prototype.throw=C.prototype.thenThrow=function($){return this._then(Y,void 0,void 0,{reason:$},void 0)},C.prototype.catchThrow=function($){if(arguments.length<=1)return this._then(void 0,Y,void 0,{reason:$},void 0);var te=arguments[1];return this.caught($,function(){throw te})},C.prototype.catchReturn=function($){if(arguments.length<=1)return $ instanceof C&&$.suppressUnhandledRejections(),this._then(void 0,H,void 0,{value:$},void 0);var te=arguments[1];return te instanceof C&&te.suppressUnhandledRejections(),this.caught($,function(){return te})}}},{}],11:[function(E,S,R){"use strict";S.exports=function(C,H){var Y=C.reduce,$=C.all;function te(){return $(this)}C.prototype.each=function(q){return Y(this,q,H,0)._then(te,void 0,void 0,this,void 0)},C.prototype.mapSeries=function(q){return Y(this,q,H,H)},C.each=function(q,ne){return Y(q,ne,H,0)._then(te,void 0,void 0,q,void 0)},C.mapSeries=function(q,ne){return Y(q,ne,H,H)}}},{}],12:[function(E,S,R){"use strict";var C,H,Y=E("./es5"),$=Y.freeze,te=E("./util"),q=te.inherits,ne=te.notEnumerableProp;function N(ie,Q){function ue(J){if(!(this instanceof ue))return new ue(J);ne(this,"message","string"==typeof J?J:Q),ne(this,"name",ie),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return q(ue,Error),ue}var k=N("Warning","warning"),O=N("CancellationError","cancellation error"),B=N("TimeoutError","timeout error"),I=N("AggregateError","aggregate error");try{C=TypeError,H=RangeError}catch{C=N("TypeError","type error"),H=N("RangeError","range error")}for(var U="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),F=0;F<U.length;++F)"function"==typeof Array.prototype[U[F]]&&(I.prototype[U[F]]=Array.prototype[U[F]]);Y.defineProperty(I.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),I.prototype.isOperational=!0;var X=0;function oe(ie){if(!(this instanceof oe))return new oe(ie);ne(this,"name","OperationalError"),ne(this,"message",ie),this.cause=ie,this.isOperational=!0,ie instanceof Error?(ne(this,"message",ie.message),ne(this,"stack",ie.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}I.prototype.toString=function(){var ie=Array(4*X+1).join(" "),Q="\n"+ie+"AggregateError of:\n";X++,ie=Array(4*X+1).join(" ");for(var ue=0;ue<this.length;++ue){for(var J=this[ue]===this?"[Circular AggregateError]":this[ue]+"",Me=J.split("\n"),Te=0;Te<Me.length;++Te)Me[Te]=ie+Me[Te];Q+=(J=Me.join("\n"))+"\n"}return X--,Q},q(oe,Error);var z=Error.__BluebirdErrorTypes__;z||(z=$({CancellationError:O,TimeoutError:B,OperationalError:oe,RejectionError:oe,AggregateError:I}),Y.defineProperty(Error,"__BluebirdErrorTypes__",{value:z,writable:!1,enumerable:!1,configurable:!1})),S.exports={Error,TypeError:C,RangeError:H,CancellationError:z.CancellationError,OperationalError:z.OperationalError,TimeoutError:z.TimeoutError,AggregateError:z.AggregateError,Warning:k}},{"./es5":13,"./util":36}],13:[function(E,S,R){var C=function(){"use strict";return void 0===this}();if(C)S.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:C,propertyIsWritable:function(q,ne){var N=Object.getOwnPropertyDescriptor(q,ne);return!(N&&!N.writable&&!N.set)}};else{var H={}.hasOwnProperty,Y={}.toString,$={}.constructor.prototype,te=function(q){var ne=[];for(var N in q)H.call(q,N)&&ne.push(N);return ne};S.exports={isArray:function(q){try{return"[object Array]"===Y.call(q)}catch{return!1}},keys:te,names:te,defineProperty:function(q,ne,N){return q[ne]=N.value,q},getDescriptor:function(q,ne){return{value:q[ne]}},freeze:function(q){return q},getPrototypeOf:function(q){try{return Object(q).constructor.prototype}catch{return $}},isES5:C,propertyIsWritable:function(){return!0}}}},{}],14:[function(E,S,R){"use strict";S.exports=function(C,H){var Y=C.map;C.prototype.filter=function($,te){return Y(this,$,te,H)},C.filter=function($,te,q){return Y($,te,q,H)}}},{}],15:[function(E,S,R){"use strict";S.exports=function(C,H,Y){var $=E("./util"),te=C.CancellationError,q=$.errorObj,ne=E("./catch_filter")(Y);function N(F,X,oe){this.promise=F,this.type=X,this.handler=oe,this.called=!1,this.cancelPromise=null}function k(F){this.finallyHandler=F}function O(F,X){return null!=F.cancelPromise&&(arguments.length>1?F.cancelPromise._reject(X):F.cancelPromise._cancel(),F.cancelPromise=null,!0)}function B(){return U.call(this,this.promise._target()._settledValue())}function I(F){if(!O(this,F))return q.e=F,q}function U(F){var X=this.promise,oe=this.handler;if(!this.called){this.called=!0;var z=this.isFinallyHandler()?oe.call(X._boundValue()):oe.call(X._boundValue(),F);if(z===Y)return z;if(void 0!==z){X._setReturnedNonUndefined();var ie=H(z,X);if(ie instanceof C){if(null!=this.cancelPromise){if(ie._isCancelled()){var Q=new te("late cancellation observer");return X._attachExtraTrace(Q),q.e=Q,q}ie.isPending()&&ie._attachCancellationCallback(new k(this))}return ie._then(B,I,void 0,this,void 0)}}}return X.isRejected()?(O(this),q.e=F,q):(O(this),F)}return N.prototype.isFinallyHandler=function(){return 0===this.type},k.prototype._resultCancelled=function(){O(this.finallyHandler)},C.prototype._passThrough=function(F,X,oe,z){return"function"!=typeof F?this.then():this._then(oe,z,void 0,new N(this,X,F),void 0)},C.prototype.lastly=C.prototype.finally=function(F){return this._passThrough(F,0,U,U)},C.prototype.tap=function(F){return this._passThrough(F,1,U)},C.prototype.tapCatch=function(F){var X=arguments.length;if(1===X)return this._passThrough(F,1,void 0,U);var oe,z=new Array(X-1),ie=0;for(oe=0;oe<X-1;++oe){var Q=arguments[oe];if(!$.isObject(Q))return C.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+$.classString(Q)));z[ie++]=Q}return z.length=ie,this._passThrough(ne(z,arguments[oe],this),1,void 0,U)},N}},{"./catch_filter":7,"./util":36}],16:[function(E,S,R){"use strict";S.exports=function(C,H,Y,$,te,q){var ne=E("./errors").TypeError,N=E("./util"),k=N.errorObj,O=N.tryCatch,B=[];function I(U,F,X,oe){if(q.cancellation()){var z=new C(Y),ie=this._finallyPromise=new C(Y);this._promise=z.lastly(function(){return ie}),z._captureStackTrace(),z._setOnCancel(this)}else(this._promise=new C(Y))._captureStackTrace();this._stack=oe,this._generatorFunction=U,this._receiver=F,this._generator=void 0,this._yieldHandlers="function"==typeof X?[X].concat(B):B,this._yieldedPromise=null,this._cancellationPhase=!1}N.inherits(I,te),I.prototype._isResolved=function(){return null===this._promise},I.prototype._cleanup=function(){this._promise=this._generator=null,q.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},I.prototype._promiseCancelled=function(){if(!this._isResolved()){var U;if(void 0!==this._generator.return)this._promise._pushContext(),U=O(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var F=new C.CancellationError("generator .return() sentinel");C.coroutine.returnSentinel=F,this._promise._attachExtraTrace(F),this._promise._pushContext(),U=O(this._generator.throw).call(this._generator,F),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(U)}},I.prototype._promiseFulfilled=function(U){this._yieldedPromise=null,this._promise._pushContext();var F=O(this._generator.next).call(this._generator,U);this._promise._popContext(),this._continue(F)},I.prototype._promiseRejected=function(U){this._yieldedPromise=null,this._promise._attachExtraTrace(U),this._promise._pushContext();var F=O(this._generator.throw).call(this._generator,U);this._promise._popContext(),this._continue(F)},I.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof C){var U=this._yieldedPromise;this._yieldedPromise=null,U.cancel()}},I.prototype.promise=function(){return this._promise},I.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},I.prototype._continue=function(U){var F=this._promise;if(U===k)return this._cleanup(),this._cancellationPhase?F.cancel():F._rejectCallback(U.e,!1);var X=U.value;if(!0===U.done)return this._cleanup(),this._cancellationPhase?F.cancel():F._resolveCallback(X);var oe=$(X,this._promise);if(oe instanceof C||null!==(oe=function(ie,Q,ue){for(var J=0;J<Q.length;++J){ue._pushContext();var Me=O(Q[J])(ie);if(ue._popContext(),Me===k){ue._pushContext();var Te=C.reject(k.e);return ue._popContext(),Te}var ge=$(Me,ue);if(ge instanceof C)return ge}return null}(oe,this._yieldHandlers,this._promise))){var z=(oe=oe._target())._bitField;50397184&z?33554432&z?C._async.invoke(this._promiseFulfilled,this,oe._value()):16777216&z?C._async.invoke(this._promiseRejected,this,oe._reason()):this._promiseCancelled():(this._yieldedPromise=oe,oe._proxy(this,null))}else this._promiseRejected(new ne("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(X))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},C.coroutine=function(U,F){if("function"!=typeof U)throw new ne("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var X=Object(F).yieldHandler,oe=I,z=(new Error).stack;return function(){var ie=U.apply(this,arguments),Q=new oe(void 0,void 0,X,z),ue=Q.promise();return Q._generator=ie,Q._promiseFulfilled(void 0),ue}},C.coroutine.addYieldHandler=function(U){if("function"!=typeof U)throw new ne("expecting a function but got "+N.classString(U));B.push(U)},C.spawn=function(U){if(q.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof U)return H("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var F=new I(U,this),X=F.promise();return F._run(C.spawn),X}}},{"./errors":12,"./util":36}],17:[function(E,S,R){"use strict";S.exports=function(C,H,Y,$,te,q){E("./util"),C.join=function(){var N,k=arguments.length-1;k>0&&"function"==typeof arguments[k]&&(N=arguments[k]);var O=[].slice.call(arguments);N&&O.pop();var B=new H(O).promise();return void 0!==N?B.spread(N):B}}},{"./util":36}],18:[function(E,S,R){"use strict";S.exports=function(C,H,Y,$,te,q){var ne=C._getDomain,N=E("./util"),k=N.tryCatch,O=N.errorObj,B=C._async;function I(F,X,oe,z){this.constructor$(F),this._promise._captureStackTrace();var ie=ne();this._callback=null===ie?X:N.domainBind(ie,X),this._preservedValues=z===te?new Array(this.length()):null,this._limit=oe,this._inFlight=0,this._queue=[],B.invoke(this._asyncInit,this,void 0)}function U(F,X,oe,z){if("function"!=typeof X)return Y("expecting a function but got "+N.classString(X));var ie=0;if(void 0!==oe){if("object"!=typeof oe||null===oe)return C.reject(new TypeError("options argument must be an object but it is "+N.classString(oe)));if("number"!=typeof oe.concurrency)return C.reject(new TypeError("'concurrency' must be a number but it is "+N.classString(oe.concurrency)));ie=oe.concurrency}return new I(F,X,ie="number"==typeof ie&&isFinite(ie)&&ie>=1?ie:0,z).promise()}N.inherits(I,H),I.prototype._asyncInit=function(){this._init$(void 0,-2)},I.prototype._init=function(){},I.prototype._promiseFulfilled=function(F,X){var oe=this._values,z=this.length(),ie=this._preservedValues,Q=this._limit;if(X<0){if(oe[X=-1*X-1]=F,Q>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(Q>=1&&this._inFlight>=Q)return oe[X]=F,this._queue.push(X),!1;null!==ie&&(ie[X]=F);var ue=this._promise,J=this._callback,Me=ue._boundValue();ue._pushContext();var Te=k(J).call(Me,F,X,z),ge=ue._popContext();if(q.checkForgottenReturns(Te,ge,null!==ie?"Promise.filter":"Promise.map",ue),Te===O)return this._reject(Te.e),!0;var Ee=$(Te,this._promise);if(Ee instanceof C){var ve=(Ee=Ee._target())._bitField;if(!(50397184&ve))return Q>=1&&this._inFlight++,oe[X]=Ee,Ee._proxy(this,-1*(X+1)),!1;if(!(33554432&ve))return 16777216&ve?(this._reject(Ee._reason()),!0):(this._cancel(),!0);Te=Ee._value()}oe[X]=Te}return++this._totalResolved>=z&&(null!==ie?this._filter(oe,ie):this._resolve(oe),!0)},I.prototype._drainQueue=function(){for(var F=this._queue,X=this._limit,oe=this._values;F.length>0&&this._inFlight<X;){if(this._isResolved())return;var z=F.pop();this._promiseFulfilled(oe[z],z)}},I.prototype._filter=function(F,X){for(var oe=X.length,z=new Array(oe),ie=0,Q=0;Q<oe;++Q)F[Q]&&(z[ie++]=X[Q]);z.length=ie,this._resolve(z)},I.prototype.preservedValues=function(){return this._preservedValues},C.prototype.map=function(F,X){return U(this,F,X,null)},C.map=function(F,X,oe,z){return U(F,X,oe,z)}}},{"./util":36}],19:[function(E,S,R){"use strict";S.exports=function(C,H,Y,$,te){var q=E("./util"),ne=q.tryCatch;C.method=function(N){if("function"!=typeof N)throw new C.TypeError("expecting a function but got "+q.classString(N));return function(){var k=new C(H);k._captureStackTrace(),k._pushContext();var O=ne(N).apply(this,arguments),B=k._popContext();return te.checkForgottenReturns(O,B,"Promise.method",k),k._resolveFromSyncValue(O),k}},C.attempt=C.try=function(N){if("function"!=typeof N)return $("expecting a function but got "+q.classString(N));var k,O=new C(H);if(O._captureStackTrace(),O._pushContext(),arguments.length>1){te.deprecated("calling Promise.try with more than 1 argument");var B=arguments[1],I=arguments[2];k=q.isArray(B)?ne(N).apply(I,B):ne(N).call(I,B)}else k=ne(N)();var U=O._popContext();return te.checkForgottenReturns(k,U,"Promise.try",O),O._resolveFromSyncValue(k),O},C.prototype._resolveFromSyncValue=function(N){N===q.errorObj?this._rejectCallback(N.e,!1):this._resolveCallback(N,!0)}}},{"./util":36}],20:[function(E,S,R){"use strict";var C=E("./util"),H=C.maybeWrapAsError,Y=E("./errors").OperationalError,$=E("./es5"),te=/^(?:name|message|stack|cause)$/;S.exports=function(ne,N){return function(k,O){if(null!==ne){if(k){var B=function q(ne){var N,I;if((I=ne)instanceof Error&&$.getPrototypeOf(I)===Error.prototype){(N=new Y(ne)).name=ne.name,N.message=ne.message,N.stack=ne.stack;for(var k=$.keys(ne),O=0;O<k.length;++O){var B=k[O];te.test(B)||(N[B]=ne[B])}return N}return C.markAsOriginatingFromRejection(ne),ne}(H(k));ne._attachExtraTrace(B),ne._reject(B)}else if(N){var I=[].slice.call(arguments,1);ne._fulfill(I)}else ne._fulfill(O);ne=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(E,S,R){"use strict";S.exports=function(C){var H=E("./util"),Y=C._async,$=H.tryCatch,te=H.errorObj;function q(k,O){if(!H.isArray(k))return ne.call(this,k,O);var B=$(O).apply(this._boundValue(),[null].concat(k));B===te&&Y.throwLater(B.e)}function ne(k,O){var B=this._boundValue(),I=void 0===k?$(O).call(B,null):$(O).call(B,null,k);I===te&&Y.throwLater(I.e)}function N(k,O){if(!k){var B=new Error(k+"");B.cause=k,k=B}var I=$(O).call(this._boundValue(),k);I===te&&Y.throwLater(I.e)}C.prototype.asCallback=C.prototype.nodeify=function(k,O){if("function"==typeof k){var B=ne;void 0!==O&&Object(O).spread&&(B=q),this._then(B,N,void 0,this,k)}return this}}},{"./util":36}],22:[function(E,S,R){"use strict";S.exports=function(){var C=function(){return new I("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},H=function(){return new he.PromiseInspection(this._target())},Y=function(pe){return he.reject(new I(pe))};function $(){}var te,q={},ne=E("./util");ne.notEnumerableProp(he,"_getDomain",te=ne.isNode?function(){var pe=M.domain;return void 0===pe&&(pe=null),pe}:function(){return null});var N=E("./es5"),k=E("./async"),O=new k;N.defineProperty(he,"_async",{value:O});var B=E("./errors"),I=he.TypeError=B.TypeError;he.RangeError=B.RangeError;var U=he.CancellationError=B.CancellationError;he.TimeoutError=B.TimeoutError,he.OperationalError=B.OperationalError,he.RejectionError=B.OperationalError,he.AggregateError=B.AggregateError;var F=function(){},X={},oe={},z=E("./thenables")(he,F),ie=E("./promise_array")(he,F,z,Y,$),Q=E("./context")(he),ue=Q.create,J=E("./debuggability")(he,Q),Me=E("./finally")(he,z,oe),Te=E("./catch_filter")(oe),ge=E("./nodeback"),Ee=ne.errorObj,ve=ne.tryCatch;function he(pe){pe!==F&&function(Le,Ie){if(null==Le||Le.constructor!==he)throw new I("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof Ie)throw new I("expecting a function but got "+ne.classString(Ie))}(this,pe),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(pe),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function ce(pe){this.promise._resolveCallback(pe)}function se(pe){this.promise._rejectCallback(pe,!1)}function ke(pe){var Le=new he(F);Le._fulfillmentHandler0=pe,Le._rejectionHandler0=pe,Le._promise0=pe,Le._receiver0=pe}return he.prototype.toString=function(){return"[object Promise]"},he.prototype.caught=he.prototype.catch=function(pe){var Le=arguments.length;if(Le>1){var Ie,$e=new Array(Le-1),Ke=0;for(Ie=0;Ie<Le-1;++Ie){var W=arguments[Ie];if(!ne.isObject(W))return Y("Catch statement predicate: expecting an object but got "+ne.classString(W));$e[Ke++]=W}return $e.length=Ke,this.then(void 0,Te($e,pe=arguments[Ie],this))}return this.then(void 0,pe)},he.prototype.reflect=function(){return this._then(H,H,void 0,this,void 0)},he.prototype.then=function(pe,Le){if(J.warnings()&&arguments.length>0&&"function"!=typeof pe&&"function"!=typeof Le){var Ie=".then() only accepts functions but was passed: "+ne.classString(pe);arguments.length>1&&(Ie+=", "+ne.classString(Le)),this._warn(Ie)}return this._then(pe,Le,void 0,void 0,void 0)},he.prototype.done=function(pe,Le){this._then(pe,Le,void 0,void 0,void 0)._setIsFinal()},he.prototype.spread=function(pe){return"function"!=typeof pe?Y("expecting a function but got "+ne.classString(pe)):this.all()._then(pe,void 0,void 0,X,void 0)},he.prototype.toJSON=function(){var pe={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(pe.fulfillmentValue=this.value(),pe.isFulfilled=!0):this.isRejected()&&(pe.rejectionReason=this.reason(),pe.isRejected=!0),pe},he.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new ie(this).promise()},he.prototype.error=function(pe){return this.caught(ne.originatesFromRejection,pe)},he.getNewLibraryCopy=S.exports,he.is=function(pe){return pe instanceof he},he.fromNode=he.fromCallback=function(pe){var Le=new he(F);Le._captureStackTrace();var Ie=arguments.length>1&&!!Object(arguments[1]).multiArgs,$e=ve(pe)(ge(Le,Ie));return $e===Ee&&Le._rejectCallback($e.e,!0),Le._isFateSealed()||Le._setAsyncGuaranteed(),Le},he.all=function(pe){return new ie(pe).promise()},he.cast=function(pe){var Le=z(pe);return Le instanceof he||((Le=new he(F))._captureStackTrace(),Le._setFulfilled(),Le._rejectionHandler0=pe),Le},he.resolve=he.fulfilled=he.cast,he.reject=he.rejected=function(pe){var Le=new he(F);return Le._captureStackTrace(),Le._rejectCallback(pe,!0),Le},he.setScheduler=function(pe){if("function"!=typeof pe)throw new I("expecting a function but got "+ne.classString(pe));return O.setScheduler(pe)},he.prototype._then=function(pe,Le,Ie,$e,Ke){var W=void 0!==Ke,ae=W?Ke:new he(F),ye=this._target(),Ae=ye._bitField;W||(ae._propagateFrom(this,3),ae._captureStackTrace(),void 0===$e&&2097152&this._bitField&&($e=50397184&Ae?this._boundValue():ye===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,ae));var ze=te();if(50397184&Ae){var Ze,ct,ht=ye._settlePromiseCtx;33554432&Ae?(ct=ye._rejectionHandler0,Ze=pe):16777216&Ae?(ct=ye._fulfillmentHandler0,Ze=Le,ye._unsetRejectionIsUnhandled()):(ht=ye._settlePromiseLateCancellationObserver,ct=new U("late cancellation observer"),ye._attachExtraTrace(ct),Ze=Le),O.invoke(ht,ye,{handler:null===ze?Ze:"function"==typeof Ze&&ne.domainBind(ze,Ze),promise:ae,receiver:$e,value:ct})}else ye._addCallbacks(pe,Le,ae,$e,ze);return ae},he.prototype._length=function(){return 65535&this._bitField},he.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},he.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},he.prototype._setLength=function(pe){this._bitField=-65536&this._bitField|65535&pe},he.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},he.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},he.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},he.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},he.prototype._isFinal=function(){return(4194304&this._bitField)>0},he.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},he.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},he.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},he.prototype._setAsyncGuaranteed=function(){O.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},he.prototype._receiverAt=function(pe){var Le=0===pe?this._receiver0:this[4*pe-4+3];if(Le!==q)return void 0===Le&&this._isBound()?this._boundValue():Le},he.prototype._promiseAt=function(pe){return this[4*pe-4+2]},he.prototype._fulfillmentHandlerAt=function(pe){return this[4*pe-4+0]},he.prototype._rejectionHandlerAt=function(pe){return this[4*pe-4+1]},he.prototype._boundValue=function(){},he.prototype._migrateCallback0=function(pe){var Le=pe._fulfillmentHandler0,Ie=pe._rejectionHandler0,$e=pe._promise0,Ke=pe._receiverAt(0);void 0===Ke&&(Ke=q),this._addCallbacks(Le,Ie,$e,Ke,null)},he.prototype._migrateCallbackAt=function(pe,Le){var Ie=pe._fulfillmentHandlerAt(Le),$e=pe._rejectionHandlerAt(Le),Ke=pe._promiseAt(Le),W=pe._receiverAt(Le);void 0===W&&(W=q),this._addCallbacks(Ie,$e,Ke,W,null)},he.prototype._addCallbacks=function(pe,Le,Ie,$e,Ke){var W=this._length();if(W>=65531&&(W=0,this._setLength(0)),0===W)this._promise0=Ie,this._receiver0=$e,"function"==typeof pe&&(this._fulfillmentHandler0=null===Ke?pe:ne.domainBind(Ke,pe)),"function"==typeof Le&&(this._rejectionHandler0=null===Ke?Le:ne.domainBind(Ke,Le));else{var ae=4*W-4;this[ae+2]=Ie,this[ae+3]=$e,"function"==typeof pe&&(this[ae+0]=null===Ke?pe:ne.domainBind(Ke,pe)),"function"==typeof Le&&(this[ae+1]=null===Ke?Le:ne.domainBind(Ke,Le))}return this._setLength(W+1),W},he.prototype._proxy=function(pe,Le){this._addCallbacks(void 0,void 0,Le,pe,null)},he.prototype._resolveCallback=function(pe,Le){if(!(117506048&this._bitField)){if(pe===this)return this._rejectCallback(C(),!1);var Ie=z(pe,this);if(!(Ie instanceof he))return this._fulfill(pe);Le&&this._propagateFrom(Ie,2);var $e=Ie._target();if($e!==this){var Ke=$e._bitField;if(50397184&Ke)if(33554432&Ke)this._fulfill($e._value());else if(16777216&Ke)this._reject($e._reason());else{var ye=new U("late cancellation observer");$e._attachExtraTrace(ye),this._reject(ye)}else{var W=this._length();W>0&&$e._migrateCallback0(this);for(var ae=1;ae<W;++ae)$e._migrateCallbackAt(this,ae);this._setFollowing(),this._setLength(0),this._setFollowee($e)}}else this._reject(C())}},he.prototype._rejectCallback=function(pe,Le,Ie){var $e=ne.ensureErrorObject(pe),Ke=$e===pe;if(!Ke&&!Ie&&J.warnings()){var W="a promise was rejected with a non-error: "+ne.classString(pe);this._warn(W,!0)}this._attachExtraTrace($e,!!Le&&Ke),this._reject(pe)},he.prototype._resolveFromExecutor=function(pe){if(pe!==F){var Le=this;this._captureStackTrace(),this._pushContext();var Ie=!0,$e=this._execute(pe,function(Ke){Le._resolveCallback(Ke)},function(Ke){Le._rejectCallback(Ke,Ie)});Ie=!1,this._popContext(),void 0!==$e&&Le._rejectCallback($e,!0)}},he.prototype._settlePromiseFromHandler=function(pe,Le,Ie,$e){var Ke=$e._bitField;if(!(65536&Ke)){var W;$e._pushContext(),Le===X?Ie&&"number"==typeof Ie.length?W=ve(pe).apply(this._boundValue(),Ie):(W=Ee).e=new I("cannot .spread() a non-array: "+ne.classString(Ie)):W=ve(pe).call(Le,Ie);var ae=$e._popContext();!(65536&(Ke=$e._bitField))&&(W===oe?$e._reject(Ie):W===Ee?$e._rejectCallback(W.e,!1):(J.checkForgottenReturns(W,ae,"",$e,this),$e._resolveCallback(W)))}},he.prototype._target=function(){for(var pe=this;pe._isFollowing();)pe=pe._followee();return pe},he.prototype._followee=function(){return this._rejectionHandler0},he.prototype._setFollowee=function(pe){this._rejectionHandler0=pe},he.prototype._settlePromise=function(pe,Le,Ie,$e){var Ke=pe instanceof he,W=this._bitField,ae=0!=(134217728&W);65536&W?(Ke&&pe._invokeInternalOnCancel(),Ie instanceof Me&&Ie.isFinallyHandler()?(Ie.cancelPromise=pe,ve(Le).call(Ie,$e)===Ee&&pe._reject(Ee.e)):Le===H?pe._fulfill(H.call(Ie)):Ie instanceof $?Ie._promiseCancelled(pe):Ke||pe instanceof ie?pe._cancel():Ie.cancel()):"function"==typeof Le?Ke?(ae&&pe._setAsyncGuaranteed(),this._settlePromiseFromHandler(Le,Ie,$e,pe)):Le.call(Ie,$e,pe):Ie instanceof $?Ie._isResolved()||(33554432&W?Ie._promiseFulfilled($e,pe):Ie._promiseRejected($e,pe)):Ke&&(ae&&pe._setAsyncGuaranteed(),33554432&W?pe._fulfill($e):pe._reject($e))},he.prototype._settlePromiseLateCancellationObserver=function(pe){var Le=pe.handler,Ie=pe.promise,$e=pe.receiver,Ke=pe.value;"function"==typeof Le?Ie instanceof he?this._settlePromiseFromHandler(Le,$e,Ke,Ie):Le.call($e,Ke,Ie):Ie instanceof he&&Ie._reject(Ke)},he.prototype._settlePromiseCtx=function(pe){this._settlePromise(pe.promise,pe.handler,pe.receiver,pe.value)},he.prototype._settlePromise0=function(pe,Le,Ie){var $e=this._promise0,Ke=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise($e,pe,Ke,Le)},he.prototype._clearCallbackDataAtIndex=function(pe){var Le=4*pe-4;this[Le+2]=this[Le+3]=this[Le+0]=this[Le+1]=void 0},he.prototype._fulfill=function(pe){var Le=this._bitField;if(!((117506048&Le)>>>16)){if(pe===this){var Ie=C();return this._attachExtraTrace(Ie),this._reject(Ie)}this._setFulfilled(),this._rejectionHandler0=pe,(65535&Le)>0&&(134217728&Le?this._settlePromises():O.settlePromises(this))}},he.prototype._reject=function(pe){var Le=this._bitField;if(!((117506048&Le)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=pe,this._isFinal())return O.fatalError(pe,ne.isNode);(65535&Le)>0?O.settlePromises(this):this._ensurePossibleRejectionHandled()}},he.prototype._fulfillPromises=function(pe,Le){for(var Ie=1;Ie<pe;Ie++){var $e=this._fulfillmentHandlerAt(Ie),Ke=this._promiseAt(Ie),W=this._receiverAt(Ie);this._clearCallbackDataAtIndex(Ie),this._settlePromise(Ke,$e,W,Le)}},he.prototype._rejectPromises=function(pe,Le){for(var Ie=1;Ie<pe;Ie++){var $e=this._rejectionHandlerAt(Ie),Ke=this._promiseAt(Ie),W=this._receiverAt(Ie);this._clearCallbackDataAtIndex(Ie),this._settlePromise(Ke,$e,W,Le)}},he.prototype._settlePromises=function(){var pe=this._bitField,Le=65535&pe;if(Le>0){if(16842752&pe){var Ie=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,Ie,pe),this._rejectPromises(Le,Ie)}else{var $e=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,$e,pe),this._fulfillPromises(Le,$e)}this._setLength(0)}this._clearCancellationData()},he.prototype._settledValue=function(){var pe=this._bitField;return 33554432&pe?this._rejectionHandler0:16777216&pe?this._fulfillmentHandler0:void 0},he.defer=he.pending=function(){return J.deprecated("Promise.defer","new Promise"),{promise:new he(F),resolve:ce,reject:se}},ne.notEnumerableProp(he,"_makeSelfResolutionError",C),E("./method")(he,F,z,Y,J),E("./bind")(he,F,z,J),E("./cancel")(he,ie,Y,J),E("./direct_resolve")(he),E("./synchronous_inspection")(he),E("./join")(he,ie,z,F,O,te),he.Promise=he,he.version="3.5.1",E("./map.js")(he,ie,Y,z,F,J),E("./call_get.js")(he),E("./using.js")(he,Y,z,ue,F,J),E("./timers.js")(he,F,J),E("./generators.js")(he,Y,F,z,$,J),E("./nodeify.js")(he),E("./promisify.js")(he,F),E("./props.js")(he,ie,z,Y),E("./race.js")(he,F,z,Y),E("./reduce.js")(he,ie,Y,z,F,J),E("./settle.js")(he,ie,J),E("./some.js")(he,ie,Y),E("./filter.js")(he,F),E("./each.js")(he,F),E("./any.js")(he),ne.toFastProperties(he),ne.toFastProperties(he.prototype),ke({a:1}),ke({b:2}),ke({c:3}),ke(1),ke(function(){}),ke(void 0),ke(!1),ke(new he(F)),J.setBounds(k.firstLineError,ne.lastLineError),he}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(E,S,R){"use strict";S.exports=function(C,H,Y,$,te){var q=E("./util");function ne(N){var k=this._promise=new C(H);N instanceof C&&k._propagateFrom(N,3),k._setOnCancel(this),this._values=N,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return q.inherits(ne,te),ne.prototype.length=function(){return this._length},ne.prototype.promise=function(){return this._promise},ne.prototype._init=function N(k,O){var B=Y(this._values,this._promise);if(B instanceof C){var I=(B=B._target())._bitField;if(this._values=B,0==(50397184&I))return this._promise._setAsyncGuaranteed(),B._then(N,this._reject,void 0,this,O);if(!(33554432&I))return 16777216&I?this._reject(B._reason()):this._cancel();B=B._value()}if(null!==(B=q.asArray(B)))0!==B.length?this._iterate(B):-5===O?this._resolveEmptyArray():this._resolve(function(F){switch(O){case-2:return[];case-3:return{};case-6:return new Map}}());else{var U=$("expecting an array or an iterable object but got "+q.classString(B)).reason();this._promise._rejectCallback(U,!1)}},ne.prototype._iterate=function(N){var k=this.getActualLength(N.length);this._length=k,this._values=this.shouldCopyValues()?new Array(k):this._values;for(var O=this._promise,B=!1,I=null,U=0;U<k;++U){var F=Y(N[U],O);I=F instanceof C?(F=F._target())._bitField:null,B?null!==I&&F.suppressUnhandledRejections():null!==I?50397184&I?B=33554432&I?this._promiseFulfilled(F._value(),U):16777216&I?this._promiseRejected(F._reason(),U):this._promiseCancelled(U):(F._proxy(this,U),this._values[U]=F):B=this._promiseFulfilled(F,U)}B||O._setAsyncGuaranteed()},ne.prototype._isResolved=function(){return null===this._values},ne.prototype._resolve=function(N){this._values=null,this._promise._fulfill(N)},ne.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},ne.prototype._reject=function(N){this._values=null,this._promise._rejectCallback(N,!1)},ne.prototype._promiseFulfilled=function(N,k){return this._values[k]=N,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},ne.prototype._promiseCancelled=function(){return this._cancel(),!0},ne.prototype._promiseRejected=function(N){return this._totalResolved++,this._reject(N),!0},ne.prototype._resultCancelled=function(){if(!this._isResolved()){var N=this._values;if(this._cancel(),N instanceof C)N.cancel();else for(var k=0;k<N.length;++k)N[k]instanceof C&&N[k].cancel()}},ne.prototype.shouldCopyValues=function(){return!0},ne.prototype.getActualLength=function(N){return N},ne}},{"./util":36}],24:[function(E,S,R){"use strict";S.exports=function(C,H){var Y={},$=E("./util"),te=E("./nodeback"),q=$.withAppended,ne=$.maybeWrapAsError,N=$.canEvaluate,k=E("./errors").TypeError,O={__isPromisified__:!0},B=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),I=function(ue){return $.isIdentifier(ue)&&"_"!==ue.charAt(0)&&"constructor"!==ue};function U(ue){return!B.test(ue)}function F(ue){try{return!0===ue.__isPromisified__}catch{return!1}}function X(ue,J,Me){var Te=$.getDataPropertyOrDefault(ue,J+Me,O);return!!Te&&F(Te)}var z=function(ue){return ue.replace(/([$])/,"\\$")},ie=N?void 0:function(ue,J,Me,Te,ge,Ee){var ve=function(){return this}(),he=ue;function ce(){var se=J;J===Y&&(se=this);var ke=new C(H);ke._captureStackTrace();var pe="string"==typeof he&&this!==ve?this[he]:ue,Le=te(ke,Ee);try{pe.apply(se,q(arguments,Le))}catch(Ie){ke._rejectCallback(ne(Ie),!0,!0)}return ke._isFateSealed()||ke._setAsyncGuaranteed(),ke}return"string"==typeof he&&(ue=Te),$.notEnumerableProp(ce,"__isPromisified__",!0),ce};function Q(ue,J,Me,Te,ge){for(var Ee=new RegExp(z(J)+"$"),ve=function oe(ue,J,Me,Te){for(var ge=$.inheritedDataKeys(ue),Ee=[],ve=0;ve<ge.length;++ve){var he=ge[ve],ce=ue[he],se=Te===I||I(he,ce,ue);"function"!=typeof ce||F(ce)||X(ue,he,J)||!Te(he,ce,ue,se)||Ee.push(he,ce)}return function(ke,pe,Le){for(var Ie=0;Ie<ke.length;Ie+=2){var $e=ke[Ie];if(Le.test($e))for(var Ke=$e.replace(Le,""),W=0;W<ke.length;W+=2)if(ke[W]===Ke)throw new k("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",pe))}}(Ee,J,Me),Ee}(ue,J,Ee,Me),he=0,ce=ve.length;he<ce;he+=2){var se=ve[he],ke=ve[he+1],pe=se+J;if(Te===ie)ue[pe]=ie(se,Y,se,ke,J,ge);else{var Le=Te(ke,function(){return ie(se,Y,se,ke,J,ge)});$.notEnumerableProp(Le,"__isPromisified__",!0),ue[pe]=Le}}return $.toFastProperties(ue),ue}C.promisify=function(ue,J){if("function"!=typeof ue)throw new k("expecting a function but got "+$.classString(ue));if(F(ue))return ue;var Ee,Me=void 0===(J=Object(J)).context?Y:J.context,ge=ie(Ee=ue,Me,void 0,Ee,null,!!J.multiArgs);return $.copyDescriptors(ue,ge,U),ge},C.promisifyAll=function(ue,J){if("function"!=typeof ue&&"object"!=typeof ue)throw new k("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var Me=!!(J=Object(J)).multiArgs,Te=J.suffix;"string"!=typeof Te&&(Te="Async");var ge=J.filter;"function"!=typeof ge&&(ge=I);var Ee=J.promisifier;if("function"!=typeof Ee&&(Ee=ie),!$.isIdentifier(Te))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var ve=$.inheritedDataKeys(ue),he=0;he<ve.length;++he){var ce=ue[ve[he]];"constructor"!==ve[he]&&$.isClass(ce)&&(Q(ce.prototype,Te,ge,Ee,Me),Q(ce,Te,ge,Ee,Me))}return Q(ue,Te,ge,Ee,Me)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(E,S,R){"use strict";S.exports=function(C,H,Y,$){var te,q=E("./util"),ne=q.isObject,N=E("./es5");"function"==typeof Map&&(te=Map);var k=function(){var I=0,U=0;function F(X,oe){this[I]=X,this[I+U]=oe,I++}return function(X){U=X.size,I=0;var oe=new Array(2*X.size);return X.forEach(F,oe),oe}}();function O(I){var U,F=!1;if(void 0!==te&&I instanceof te)U=k(I),F=!0;else{var X=N.keys(I),oe=X.length;U=new Array(2*oe);for(var z=0;z<oe;++z){var ie=X[z];U[z]=I[ie],U[z+oe]=ie}}this.constructor$(U),this._isMap=F,this._init$(void 0,F?-6:-3)}function B(I){var U,F=Y(I);return ne(F)?(U=F instanceof C?F._then(C.props,void 0,void 0,void 0,void 0):new O(F).promise(),F instanceof C&&U._propagateFrom(F,2),U):$("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}q.inherits(O,H),O.prototype._init=function(){},O.prototype._promiseFulfilled=function(I,U){if(this._values[U]=I,++this._totalResolved>=this._length){var F;if(this._isMap)F=function(ie){for(var Q=new te,ue=ie.length/2|0,J=0;J<ue;++J)Q.set(ie[ue+J],ie[J]);return Q}(this._values);else{F={};for(var X=this.length(),oe=0,z=this.length();oe<z;++oe)F[this._values[oe+X]]=this._values[oe]}return this._resolve(F),!0}return!1},O.prototype.shouldCopyValues=function(){return!1},O.prototype.getActualLength=function(I){return I>>1},C.prototype.props=function(){return B(this)},C.props=function(I){return B(I)}}},{"./es5":13,"./util":36}],26:[function(E,S,R){"use strict";function C(H){this._capacity=H,this._length=0,this._front=0}C.prototype._willBeOverCapacity=function(H){return this._capacity<H},C.prototype._pushOne=function(H){var Y=this.length();this._checkCapacity(Y+1),this[this._front+Y&this._capacity-1]=H,this._length=Y+1},C.prototype.push=function(H,Y,$){var te=this.length()+3;if(this._willBeOverCapacity(te))return this._pushOne(H),this._pushOne(Y),void this._pushOne($);var q=this._front+te-3;this._checkCapacity(te);var ne=this._capacity-1;this[q+0&ne]=H,this[q+1&ne]=Y,this[q+2&ne]=$,this._length=te},C.prototype.shift=function(){var H=this._front,Y=this[H];return this[H]=void 0,this._front=H+1&this._capacity-1,this._length--,Y},C.prototype.length=function(){return this._length},C.prototype._checkCapacity=function(H){this._capacity<H&&this._resizeTo(this._capacity<<1)},C.prototype._resizeTo=function(H){var Y=this._capacity;this._capacity=H,function($,te,q,ne,N){for(var k=0;k<N;++k)q[k+ne]=$[k+0],$[k+0]=void 0}(this,0,this,Y,this._front+this._length&Y-1)},S.exports=C},{}],27:[function(E,S,R){"use strict";S.exports=function(C,H,Y,$){var te=E("./util"),q=function(N){return N.then(function(k){return ne(k,N)})};function ne(N,k){var O=Y(N);if(O instanceof C)return q(O);if(null===(N=te.asArray(N)))return $("expecting an array or an iterable object but got "+te.classString(N));var B=new C(H);void 0!==k&&B._propagateFrom(k,3);for(var I=B._fulfill,U=B._reject,F=0,X=N.length;F<X;++F){var oe=N[F];(void 0!==oe||F in N)&&C.cast(oe)._then(I,U,void 0,B,null)}return B}C.race=function(N){return ne(N,void 0)},C.prototype.race=function(){return ne(this,void 0)}}},{"./util":36}],28:[function(E,S,R){"use strict";S.exports=function(C,H,Y,$,te,q){var ne=C._getDomain,N=E("./util"),k=N.tryCatch;function O(X,oe,z,ie){this.constructor$(X);var Q=ne();this._fn=null===Q?oe:N.domainBind(Q,oe),void 0!==z&&(z=C.resolve(z))._attachCancellationCallback(this),this._initialValue=z,this._currentCancellable=null,this._eachValues=ie===te?Array(this._length):0===ie?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function B(X,oe){this.isFulfilled()?oe._resolve(X):oe._reject(X)}function I(X,oe,z,ie){return"function"!=typeof oe?Y("expecting a function but got "+N.classString(oe)):new O(X,oe,z,ie).promise()}function U(X){this.accum=X,this.array._gotAccum(X);var oe=$(this.value,this.array._promise);return oe instanceof C?(this.array._currentCancellable=oe,oe._then(F,void 0,void 0,this,void 0)):F.call(this,oe)}function F(X){var oe,z=this.array,ie=z._promise,Q=k(z._fn);ie._pushContext(),(oe=void 0!==z._eachValues?Q.call(ie._boundValue(),X,this.index,this.length):Q.call(ie._boundValue(),this.accum,X,this.index,this.length))instanceof C&&(z._currentCancellable=oe);var ue=ie._popContext();return q.checkForgottenReturns(oe,ue,void 0!==z._eachValues?"Promise.each":"Promise.reduce",ie),oe}N.inherits(O,H),O.prototype._gotAccum=function(X){null!=this._eachValues&&X!==te&&this._eachValues.push(X)},O.prototype._eachComplete=function(X){return null!==this._eachValues&&this._eachValues.push(X),this._eachValues},O.prototype._init=function(){},O.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},O.prototype.shouldCopyValues=function(){return!1},O.prototype._resolve=function(X){this._promise._resolveCallback(X),this._values=null},O.prototype._resultCancelled=function(X){if(X===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof C&&this._currentCancellable.cancel(),this._initialValue instanceof C&&this._initialValue.cancel())},O.prototype._iterate=function(X){var oe,z;this._values=X;var ie=X.length;if(void 0!==this._initialValue?(oe=this._initialValue,z=0):(oe=C.resolve(X[0]),z=1),this._currentCancellable=oe,!oe.isRejected())for(;z<ie;++z)oe=oe._then(U,void 0,void 0,{accum:null,value:X[z],index:z,length:ie,array:this},void 0);void 0!==this._eachValues&&(oe=oe._then(this._eachComplete,void 0,void 0,this,void 0)),oe._then(B,B,void 0,oe,this)},C.prototype.reduce=function(X,oe){return I(this,X,oe,null)},C.reduce=function(X,oe,z,ie){return I(X,oe,z,ie)}}},{"./util":36}],29:[function(E,S,R){"use strict";var C,ne,N,k,O,H=E("./util"),Y=H.getNativePromise();if(H.isNode&&typeof MutationObserver>"u"){var $=v.setImmediate,te=M.nextTick;C=H.isRecentNode?function(ne){$.call(v,ne)}:function(ne){te.call(M,ne)}}else if("function"==typeof Y&&"function"==typeof Y.resolve){var q=Y.resolve();C=function(ne){q.then(ne)}}else C=typeof MutationObserver>"u"||typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==w?function(ne){w(ne)}:typeof setTimeout<"u"?function(ne){setTimeout(ne,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(ne=document.createElement("div"),N={attributes:!0},k=!1,O=document.createElement("div"),new MutationObserver(function(){ne.classList.toggle("foo"),k=!1}).observe(O,N),function(B){var I=new MutationObserver(function(){I.disconnect(),B()});I.observe(ne,N),k||(k=!0,O.classList.toggle("foo"))});S.exports=C},{"./util":36}],30:[function(E,S,R){"use strict";S.exports=function(C,H,Y){var $=C.PromiseInspection;function te(q){this.constructor$(q)}E("./util").inherits(te,H),te.prototype._promiseResolved=function(q,ne){return this._values[q]=ne,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},te.prototype._promiseFulfilled=function(q,ne){var N=new $;return N._bitField=33554432,N._settledValueField=q,this._promiseResolved(ne,N)},te.prototype._promiseRejected=function(q,ne){var N=new $;return N._bitField=16777216,N._settledValueField=q,this._promiseResolved(ne,N)},C.settle=function(q){return Y.deprecated(".settle()",".reflect()"),new te(q).promise()},C.prototype.settle=function(){return C.settle(this)}}},{"./util":36}],31:[function(E,S,R){"use strict";S.exports=function(C,H,Y){var $=E("./util"),te=E("./errors").RangeError,q=E("./errors").AggregateError,ne=$.isArray,N={};function k(B){this.constructor$(B),this._howMany=0,this._unwrap=!1,this._initialized=!1}function O(B,I){if((0|I)!==I||I<0)return Y("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var U=new k(B),F=U.promise();return U.setHowMany(I),U.init(),F}$.inherits(k,H),k.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var B=ne(this._values);!this._isResolved()&&B&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},k.prototype.init=function(){this._initialized=!0,this._init()},k.prototype.setUnwrap=function(){this._unwrap=!0},k.prototype.howMany=function(){return this._howMany},k.prototype.setHowMany=function(B){this._howMany=B},k.prototype._promiseFulfilled=function(B){return this._addFulfilled(B),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},k.prototype._promiseRejected=function(B){return this._addRejected(B),this._checkOutcome()},k.prototype._promiseCancelled=function(){return this._values instanceof C||null==this._values?this._cancel():(this._addRejected(N),this._checkOutcome())},k.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var B=new q,I=this.length();I<this._values.length;++I)this._values[I]!==N&&B.push(this._values[I]);return B.length>0?this._reject(B):this._cancel(),!0}return!1},k.prototype._fulfilled=function(){return this._totalResolved},k.prototype._rejected=function(){return this._values.length-this.length()},k.prototype._addRejected=function(B){this._values.push(B)},k.prototype._addFulfilled=function(B){this._values[this._totalResolved++]=B},k.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},k.prototype._getRangeError=function(B){return new te("Input array must contain at least "+this._howMany+" items but contains only "+B+" items")},k.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},C.some=function(B,I){return O(B,I)},C.prototype.some=function(B){return O(this,B)},C._SomePromiseArray=k}},{"./errors":12,"./util":36}],32:[function(E,S,R){"use strict";S.exports=function(C){function H(k){void 0!==k?(k=k._target(),this._bitField=k._bitField,this._settledValueField=k._isFateSealed()?k._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}H.prototype._settledValue=function(){return this._settledValueField};var Y=H.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},$=H.prototype.error=H.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},te=H.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},q=H.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},ne=H.prototype.isPending=function(){return 0==(50397184&this._bitField)},N=H.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};H.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},C.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},C.prototype._isCancelled=function(){return this._target().__isCancelled()},C.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},C.prototype.isPending=function(){return ne.call(this._target())},C.prototype.isRejected=function(){return q.call(this._target())},C.prototype.isFulfilled=function(){return te.call(this._target())},C.prototype.isResolved=function(){return N.call(this._target())},C.prototype.value=function(){return Y.call(this._target())},C.prototype.reason=function(){var k=this._target();return k._unsetRejectionIsUnhandled(),$.call(k)},C.prototype._value=function(){return this._settledValue()},C.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},C.PromiseInspection=H}},{}],33:[function(E,S,R){"use strict";S.exports=function(C,H){var Y=E("./util"),$=Y.errorObj,te=Y.isObject,q={}.hasOwnProperty;return function(ne,N){if(te(ne)){if(ne instanceof C)return ne;var k=function(B){try{return(I=B).then}catch(I){return $.e=I,$}var I}(ne);if(k===$){N&&N._pushContext();var O=C.reject(k.e);return N&&N._popContext(),O}if("function"==typeof k)return function(B){try{return q.call(B,"_promise0")}catch{return!1}}(ne)?(O=new C(H),ne._then(O._fulfill,O._reject,void 0,O,null),O):function(B,I,U){var F=new C(H),X=F;U&&U._pushContext(),F._captureStackTrace(),U&&U._popContext();var oe=!0,z=Y.tryCatch(I).call(B,function(ie){F&&(F._resolveCallback(ie),F=null)},function(ie){F&&(F._rejectCallback(ie,oe,!0),F=null)});return oe=!1,F&&z===$&&(F._rejectCallback(z.e,!0,!0),F=null),X}(ne,k,N)}return ne}}},{"./util":36}],34:[function(E,S,R){"use strict";S.exports=function(C,H,Y){var $=E("./util"),te=C.TimeoutError;function q(B){this.handle=B}q.prototype._resultCancelled=function(){clearTimeout(this.handle)};var ne=function(B){return N(+this).thenReturn(B)},N=C.delay=function(B,I){var U,F;return void 0!==I?(U=C.resolve(I)._then(ne,null,null,B,void 0),Y.cancellation()&&I instanceof C&&U._setOnCancel(I)):(U=new C(H),F=setTimeout(function(){U._fulfill()},+B),Y.cancellation()&&U._setOnCancel(new q(F)),U._captureStackTrace()),U._setAsyncGuaranteed(),U};function k(B){return clearTimeout(this.handle),B}function O(B){throw clearTimeout(this.handle),B}C.prototype.delay=function(B){return N(B,this)},C.prototype.timeout=function(B,I){var U,F;B=+B;var X=new q(setTimeout(function(){var oe,z,ie,Q;U.isPending()&&(oe=U,ie=F,Q="string"!=typeof(z=I)?z instanceof Error?z:new te("operation timed out"):new te(z),$.markAsOriginatingFromRejection(Q),oe._attachExtraTrace(Q),oe._reject(Q),ie?.cancel())},B));return Y.cancellation()?(F=this.then(),(U=F._then(k,O,void 0,X,void 0))._setOnCancel(X)):U=this._then(k,O,void 0,X,void 0),U}}},{"./util":36}],35:[function(E,S,R){"use strict";S.exports=function(C,H,Y,$,te,q){var ne=E("./util"),N=E("./errors").TypeError,k=E("./util").inherits,O=ne.errorObj,B=ne.tryCatch,I={};function U(Q){setTimeout(function(){throw Q},0)}function X(Q,ue,J){this._data=Q,this._promise=ue,this._context=J}function oe(Q,ue,J){this.constructor$(Q,ue,J)}function z(Q){return X.isDisposer(Q)?(this.resources[this.index]._setDisposable(Q),Q.promise()):Q}function ie(Q){this.length=Q,this.promise=null,this[Q-1]=null}X.prototype.data=function(){return this._data},X.prototype.promise=function(){return this._promise},X.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():I},X.prototype.tryDispose=function(Q){var ue=this.resource(),J=this._context;void 0!==J&&J._pushContext();var Me=ue!==I?this.doDispose(ue,Q):null;return void 0!==J&&J._popContext(),this._promise._unsetDisposable(),this._data=null,Me},X.isDisposer=function(Q){return null!=Q&&"function"==typeof Q.resource&&"function"==typeof Q.tryDispose},k(oe,X),oe.prototype.doDispose=function(Q,ue){return this.data().call(Q,Q,ue)},ie.prototype._resultCancelled=function(){for(var Q=this.length,ue=0;ue<Q;++ue){var J=this[ue];J instanceof C&&J.cancel()}},C.using=function(){var Q=arguments.length;if(Q<2)return H("you must pass at least 2 arguments to Promise.using");var ue,J=arguments[Q-1];if("function"!=typeof J)return H("expecting a function but got "+ne.classString(J));var Me=!0;2===Q&&Array.isArray(arguments[0])?(Q=(ue=arguments[0]).length,Me=!1):(ue=arguments,Q--);for(var Te=new ie(Q),ge=0;ge<Q;++ge){var Ee=ue[ge];if(X.isDisposer(Ee)){var ve=Ee;(Ee=Ee.promise())._setDisposable(ve)}else{var he=Y(Ee);he instanceof C&&(Ee=he._then(z,null,null,{resources:Te,index:ge},void 0))}Te[ge]=Ee}var ce=new Array(Te.length);for(ge=0;ge<ce.length;++ge)ce[ge]=C.resolve(Te[ge]).reflect();var se=C.all(ce).then(function(pe){for(var Le=0;Le<pe.length;++Le){var Ie=pe[Le];if(Ie.isRejected())return O.e=Ie.error(),O;if(!Ie.isFulfilled())return void se.cancel();pe[Le]=Ie.value()}ke._pushContext(),J=B(J);var $e=Me?J.apply(void 0,pe):J(pe),Ke=ke._popContext();return q.checkForgottenReturns($e,Ke,"Promise.using",ke),$e}),ke=se.lastly(function(){var pe=new C.PromiseInspection(se);return function F(Q,ue){var J=0,Me=Q.length,Te=new C(te);return function ge(){if(J>=Me)return Te._fulfill();var ve,he,Ee=(ve=Q[J++],(he=Y(ve))!==ve&&"function"==typeof ve._isDisposable&&"function"==typeof ve._getDisposer&&ve._isDisposable()&&he._setDisposable(ve._getDisposer()),he);if(Ee instanceof C&&Ee._isDisposable()){try{Ee=Y(Ee._getDisposer().tryDispose(ue),Q.promise)}catch(ve){return U(ve)}if(Ee instanceof C)return Ee._then(ge,U,null,null,null)}ge()}(),Te}(Te,pe)});return Te.promise=ke,ke._setOnCancel(Te),ke},C.prototype._setDisposable=function(Q){this._bitField=131072|this._bitField,this._disposer=Q},C.prototype._isDisposable=function(){return(131072&this._bitField)>0},C.prototype._getDisposer=function(){return this._disposer},C.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},C.prototype.disposer=function(Q){if("function"==typeof Q)return new oe(Q,this,$());throw new N}}},{"./errors":12,"./util":36}],36:[function(E,S,R){"use strict";var C,H=E("./es5"),Y=typeof navigator>"u",$={e:{}},te=typeof self<"u"?self:typeof window<"u"?window:void 0!==v?v:void 0!==this?this:null;function q(){try{var Me=C;return C=null,Me.apply(this,arguments)}catch(Te){return $.e=Te,$}}function ne(Me){return null==Me||!0===Me||!1===Me||"string"==typeof Me||"number"==typeof Me}function N(Me,Te,ge){return ne(Me)||H.defineProperty(Me,Te,{value:ge,configurable:!0,enumerable:!1,writable:!0}),Me}var k=function(){var Me=[Array.prototype,Object.prototype,Function.prototype],Te=function(ve){for(var he=0;he<Me.length;++he)if(Me[he]===ve)return!0;return!1};if(H.isES5){var ge=Object.getOwnPropertyNames;return function(ve){for(var he=[],ce=Object.create(null);null!=ve&&!Te(ve);){var se;try{se=ge(ve)}catch{return he}for(var ke=0;ke<se.length;++ke){var pe=se[ke];if(!ce[pe]){ce[pe]=!0;var Le=Object.getOwnPropertyDescriptor(ve,pe);null!=Le&&null==Le.get&&null==Le.set&&he.push(pe)}}ve=H.getPrototypeOf(ve)}return he}}var Ee={}.hasOwnProperty;return function(ve){if(Te(ve))return[];var he=[];e:for(var ce in ve)if(Ee.call(ve,ce))he.push(ce);else{for(var se=0;se<Me.length;++se)if(Ee.call(Me[se],ce))continue e;he.push(ce)}return he}}(),O=/this\s*\.\s*\S+\s*=/,B=/^[a-z$_][a-z$_0-9]*$/i;function I(Me){try{return Me+""}catch{return"[no string representation]"}}function U(Me){return Me instanceof Error||null!==Me&&"object"==typeof Me&&"string"==typeof Me.message&&"string"==typeof Me.name}function F(Me){return U(Me)&&H.propertyIsWritable(Me,"stack")}var X="stack"in new Error?function(Me){return F(Me)?Me:new Error(I(Me))}:function(Me){if(F(Me))return Me;try{throw new Error(I(Me))}catch(Te){return Te}};function oe(Me){return{}.toString.call(Me)}var z=function(Me){return H.isArray(Me)?Me:null};if(typeof Symbol<"u"&&Symbol.iterator){var ie="function"==typeof Array.from?function(Me){return Array.from(Me)}:function(Me){for(var Te,ge=[],Ee=Me[Symbol.iterator]();!(Te=Ee.next()).done;)ge.push(Te.value);return ge};z=function(Me){return H.isArray(Me)?Me:null!=Me&&"function"==typeof Me[Symbol.iterator]?ie(Me):null}}var Me,Q=void 0!==M&&"[object process]"===oe(M).toLowerCase(),ue=void 0!==M&&void 0!==M.env,J={isClass:function(Me){try{if("function"==typeof Me){var Te=H.names(Me.prototype),ge=H.isES5&&Te.length>1,Ee=Te.length>0&&!(1===Te.length&&"constructor"===Te[0]),ve=O.test(Me+"")&&H.names(Me).length>0;if(ge||Ee||ve)return!0}return!1}catch{return!1}},isIdentifier:function(Me){return B.test(Me)},inheritedDataKeys:k,getDataPropertyOrDefault:function(Me,Te,ge){if(!H.isES5)return{}.hasOwnProperty.call(Me,Te)?Me[Te]:void 0;var Ee=Object.getOwnPropertyDescriptor(Me,Te);return null!=Ee?null==Ee.get&&null==Ee.set?Ee.value:ge:void 0},thrower:function(Me){throw Me},isArray:H.isArray,asArray:z,notEnumerableProp:N,isPrimitive:ne,isObject:function(Me){return"function"==typeof Me||"object"==typeof Me&&null!==Me},isError:U,canEvaluate:Y,errorObj:$,tryCatch:function(Me){return C=Me,q},inherits:function(Me,Te){var ge={}.hasOwnProperty;function Ee(){for(var ve in this.constructor=Me,this.constructor$=Te,Te.prototype)ge.call(Te.prototype,ve)&&"$"!==ve.charAt(ve.length-1)&&(this[ve+"$"]=Te.prototype[ve])}return Ee.prototype=Te.prototype,Me.prototype=new Ee,Me.prototype},withAppended:function(Me,Te){var ge,Ee=Me.length,ve=new Array(Ee+1);for(ge=0;ge<Ee;++ge)ve[ge]=Me[ge];return ve[ge]=Te,ve},maybeWrapAsError:function(Me){return ne(Me)?new Error(I(Me)):Me},toFastProperties:function(Me){function Te(){}Te.prototype=Me;for(var ge=8;ge--;)new Te;return Me},filledRange:function(Me,Te,ge){for(var Ee=new Array(Me),ve=0;ve<Me;++ve)Ee[ve]=Te+ve+ge;return Ee},toString:I,canAttachTrace:F,ensureErrorObject:X,originatesFromRejection:function(Me){return null!=Me&&(Me instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===Me.isOperational)},markAsOriginatingFromRejection:function(Me){try{N(Me,"isOperational",!0)}catch{}},classString:oe,copyDescriptors:function(Me,Te,ge){for(var Ee=H.names(Me),ve=0;ve<Ee.length;++ve){var he=Ee[ve];if(ge(he))try{H.defineProperty(Te,he,H.getDescriptor(Me,he))}catch{}}},hasDevTools:typeof chrome<"u"&&chrome&&"function"==typeof chrome.loadTimes,isNode:Q,hasEnvVariables:ue,env:function(Me){return ue?M.env[Me]:void 0},global:te,getNativePromise:function(){if("function"==typeof Promise)try{var Me=new Promise(function(){});if("[object Promise]"==={}.toString.call(Me))return Promise}catch{}},domainBind:function(Me,Te){return Me.bind(Te)}};J.isRecentNode=J.isNode&&(0===(Me=M.versions.node.split(".").map(Number))[0]&&Me[1]>10||Me[0]>0),J.isNode&&J.toFastProperties(M);try{throw new Error}catch(Me){J.lastLineError=Me}S.exports=J},{"./es5":13}]},{},[4])(4),typeof window<"u"&&null!==window?window.P=window.Promise:typeof self<"u"&&null!==self&&(self.P=self.Promise)}).call(this,P(4),P(0),P(11).setImmediate)},function(fe,j,P){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default=function(M,v){if(!v.eol&&M)for(var w=0,E=M.length;w<E;w++)if("\r"===M[w]){if("\n"===M[w+1]){v.eol="\r\n";break}if(M[w+1]){v.eol="\r";break}}else if("\n"===M[w]){v.eol="\n";break}return v.eol||"\n"}},function(fe,j,P){var M=P(65),v=P(73);fe.exports=function(w,E){var S=v(w,E);return M(S)?S:void 0}},function(fe,j,P){var M=P(19).Symbol;fe.exports=M},function(fe,j,P){var M=P(67),v="object"==typeof self&&self&&self.Object===Object&&self,w=M||v||Function("return this")();fe.exports=w},function(fe,j){fe.exports=function(P){var M=typeof P;return null!=P&&("object"==M||"function"==M)}},function(fe,j){fe.exports=Array.isArray},function(fe,j,P){var M=P(30),v=P(76);fe.exports=function(w){return"symbol"==typeof w||v(w)&&"[object Symbol]"==M(w)}},function(fe,j,P){"use strict";(function(M,v){var w=P(6);fe.exports=I;var E,S=P(37);I.ReadableState=B,P(12);var R=function(ce,se){return ce.listeners(se).length},C=P(24),H=P(7).Buffer,Y=M.Uint8Array||function(){},$=P(5);$.inherits=P(2);var te=P(41),q=void 0;q=te&&te.debuglog?te.debuglog("stream"):function(){};var ne,N=P(42),k=P(25);$.inherits(I,C);var O=["error","close","destroy","pause","resume"];function B(ce,se){var ke=se instanceof(E=E||P(1));this.objectMode=!!(ce=ce||{}).objectMode,ke&&(this.objectMode=this.objectMode||!!ce.readableObjectMode);var pe=ce.highWaterMark,Le=ce.readableHighWaterMark;this.highWaterMark=pe||0===pe?pe:ke&&(Le||0===Le)?Le:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new N,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=ce.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ce.encoding&&(ne||(ne=P(26).StringDecoder),this.decoder=new ne(ce.encoding),this.encoding=ce.encoding)}function I(ce){if(E=E||P(1),!(this instanceof I))return new I(ce);this._readableState=new B(ce,this),this.readable=!0,ce&&("function"==typeof ce.read&&(this._read=ce.read),"function"==typeof ce.destroy&&(this._destroy=ce.destroy)),C.call(this)}function U(ce,se,ke,pe,Le){var Ie,Ke,W,ae,ye,$e=ce._readableState;return null===se?($e.reading=!1,function(Ke,W){if(!W.ended){if(W.decoder){var ae=W.decoder.end();ae&&ae.length&&(W.buffer.push(ae),W.length+=W.objectMode?1:ae.length)}W.ended=!0,z(Ke)}}(ce,$e)):(Le||(Ke=$e,H.isBuffer(ye=W=se)||ye instanceof Y||"string"==typeof W||void 0===W||Ke.objectMode||(ae=new TypeError("Invalid non-string/buffer chunk")),Ie=ae),Ie?ce.emit("error",Ie):$e.objectMode||se&&se.length>0?("string"==typeof se||$e.objectMode||Object.getPrototypeOf(se)===H.prototype||(se=function(Ke){return H.from(Ke)}(se)),pe?$e.endEmitted?ce.emit("error",new Error("stream.unshift() after end event")):F(ce,$e,se,!0):$e.ended?ce.emit("error",new Error("stream.push() after EOF")):($e.reading=!1,$e.decoder&&!ke?(se=$e.decoder.write(se),$e.objectMode||0!==se.length?F(ce,$e,se,!1):Q(ce,$e)):F(ce,$e,se,!1))):pe||($e.reading=!1)),function(Ke){return!Ke.ended&&(Ke.needReadable||Ke.length<Ke.highWaterMark||0===Ke.length)}($e)}function F(ce,se,ke,pe){se.flowing&&0===se.length&&!se.sync?(ce.emit("data",ke),ce.read(0)):(se.length+=se.objectMode?1:ke.length,pe?se.buffer.unshift(ke):se.buffer.push(ke),se.needReadable&&z(ce)),Q(ce,se)}Object.defineProperty(I.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(ce){this._readableState&&(this._readableState.destroyed=ce)}}),I.prototype.destroy=k.destroy,I.prototype._undestroy=k.undestroy,I.prototype._destroy=function(ce,se){this.push(null),se(ce)},I.prototype.push=function(ce,se){var ke,pe=this._readableState;return pe.objectMode?ke=!0:"string"==typeof ce&&((se=se||pe.defaultEncoding)!==pe.encoding&&(ce=H.from(ce,se),se=""),ke=!0),U(this,ce,se,!1,ke)},I.prototype.unshift=function(ce){return U(this,ce,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(ce){return ne||(ne=P(26).StringDecoder),this._readableState.decoder=new ne(ce),this._readableState.encoding=ce,this};var X=8388608;function oe(ce,se){return ce<=0||0===se.length&&se.ended?0:se.objectMode?1:ce!=ce?se.flowing&&se.length?se.buffer.head.data.length:se.length:(ce>se.highWaterMark&&(se.highWaterMark=((ke=ce)>=X?ke=X:(ke--,ke|=ke>>>1,ke|=ke>>>2,ke|=ke>>>4,ke|=ke>>>8,ke|=ke>>>16,ke++),ke)),ce<=se.length?ce:se.ended?se.length:(se.needReadable=!0,0));var ke}function z(ce){var se=ce._readableState;se.needReadable=!1,se.emittedReadable||(q("emitReadable",se.flowing),se.emittedReadable=!0,se.sync?w.nextTick(ie,ce):ie(ce))}function ie(ce){q("emit readable"),ce.emit("readable"),Te(ce)}function Q(ce,se){se.readingMore||(se.readingMore=!0,w.nextTick(ue,ce,se))}function ue(ce,se){for(var ke=se.length;!se.reading&&!se.flowing&&!se.ended&&se.length<se.highWaterMark&&(q("maybeReadMore read 0"),ce.read(0),ke!==se.length);)ke=se.length;se.readingMore=!1}function J(ce){q("readable nexttick read 0"),ce.read(0)}function Me(ce,se){se.reading||(q("resume read 0"),ce.read(0)),se.resumeScheduled=!1,se.awaitDrain=0,ce.emit("resume"),Te(ce),se.flowing&&!se.reading&&ce.read(0)}function Te(ce){var se=ce._readableState;for(q("flow",se.flowing);se.flowing&&null!==ce.read(););}function ge(ce,se){return 0===se.length?null:(se.objectMode?ke=se.buffer.shift():!ce||ce>=se.length?(ke=se.decoder?se.buffer.join(""):1===se.buffer.length?se.buffer.head.data:se.buffer.concat(se.length),se.buffer.clear()):(Ie=se.decoder,(pe=ce)<(Le=se.buffer).head.data.length?($e=Le.head.data.slice(0,pe),Le.head.data=Le.head.data.slice(pe)):$e=pe===Le.head.data.length?Le.shift():Ie?function(Ke,W){var ae=W.head,ye=1,Ae=ae.data;for(Ke-=Ae.length;ae=ae.next;){var ze=ae.data,Ze=Ke>ze.length?ze.length:Ke;if(Ae+=Ze===ze.length?ze:ze.slice(0,Ke),0==(Ke-=Ze)){Ze===ze.length?(++ye,W.head=ae.next?ae.next:W.tail=null):(W.head=ae,ae.data=ze.slice(Ze));break}++ye}return W.length-=ye,Ae}(pe,Le):function(Ke,W){var ae=H.allocUnsafe(Ke),ye=W.head,Ae=1;for(ye.data.copy(ae),Ke-=ye.data.length;ye=ye.next;){var ze=ye.data,Ze=Ke>ze.length?ze.length:Ke;if(ze.copy(ae,ae.length-Ke,0,Ze),0==(Ke-=Ze)){Ze===ze.length?(++Ae,W.head=ye.next?ye.next:W.tail=null):(W.head=ye,ye.data=ze.slice(Ze));break}++Ae}return W.length-=Ae,ae}(pe,Le),ke=$e),ke);var pe,Le,Ie,$e,ke}function Ee(ce){var se=ce._readableState;if(se.length>0)throw new Error('"endReadable()" called on non-empty stream');se.endEmitted||(se.ended=!0,w.nextTick(ve,se,ce))}function ve(ce,se){ce.endEmitted||0!==ce.length||(ce.endEmitted=!0,se.readable=!1,se.emit("end"))}function he(ce,se){for(var ke=0,pe=ce.length;ke<pe;ke++)if(ce[ke]===se)return ke;return-1}I.prototype.read=function(ce){q("read",ce),ce=parseInt(ce,10);var se=this._readableState,ke=ce;if(0!==ce&&(se.emittedReadable=!1),0===ce&&se.needReadable&&(se.length>=se.highWaterMark||se.ended))return q("read: emitReadable",se.length,se.ended),0===se.length&&se.ended?Ee(this):z(this),null;if(0===(ce=oe(ce,se))&&se.ended)return 0===se.length&&Ee(this),null;var pe,Le=se.needReadable;return q("need readable",Le),(0===se.length||se.length-ce<se.highWaterMark)&&q("length less than watermark",Le=!0),se.ended||se.reading?q("reading or ended",Le=!1):Le&&(q("do read"),se.reading=!0,se.sync=!0,0===se.length&&(se.needReadable=!0),this._read(se.highWaterMark),se.sync=!1,se.reading||(ce=oe(ke,se))),null===(pe=ce>0?ge(ce,se):null)?(se.needReadable=!0,ce=0):se.length-=ce,0===se.length&&(se.ended||(se.needReadable=!0),ke!==ce&&se.ended&&Ee(this)),null!==pe&&this.emit("data",pe),pe},I.prototype._read=function(ce){this.emit("error",new Error("_read() is not implemented"))},I.prototype.pipe=function(ce,se){var ke=this,pe=this._readableState;switch(pe.pipesCount){case 0:pe.pipes=ce;break;case 1:pe.pipes=[pe.pipes,ce];break;default:pe.pipes.push(ce)}pe.pipesCount+=1,q("pipe count=%d opts=%j",pe.pipesCount,se);var Le=se&&!1===se.end||ce===v.stdout||ce===v.stderr?Ze:Ie;function Ie(){q("onend"),ce.end()}pe.endEmitted?w.nextTick(Le):ke.once("end",Le),ce.on("unpipe",function ct(ht,vt){q("onunpipe"),ht===ke&&vt&&!1===vt.hasUnpiped&&(vt.hasUnpiped=!0,q("cleanup"),ce.removeListener("close",Ae),ce.removeListener("finish",ze),ce.removeListener("drain",$e),ce.removeListener("error",ye),ce.removeListener("unpipe",ct),ke.removeListener("end",Ie),ke.removeListener("end",Ze),ke.removeListener("data",ae),Ke=!0,!pe.awaitDrain||ce._writableState&&!ce._writableState.needDrain||$e())});var ct,$e=(ct=ke,function(){var ht=ct._readableState;q("pipeOnDrain",ht.awaitDrain),ht.awaitDrain&&ht.awaitDrain--,0===ht.awaitDrain&&R(ct,"data")&&(ht.flowing=!0,Te(ct))});ce.on("drain",$e);var Ke=!1,W=!1;function ae(ct){q("ondata"),W=!1,!1!==ce.write(ct)||W||((1===pe.pipesCount&&pe.pipes===ce||pe.pipesCount>1&&-1!==he(pe.pipes,ce))&&!Ke&&(q("false write response, pause",ke._readableState.awaitDrain),ke._readableState.awaitDrain++,W=!0),ke.pause())}function ye(ct){q("onerror",ct),Ze(),ce.removeListener("error",ye),0===R(ce,"error")&&ce.emit("error",ct)}function Ae(){ce.removeListener("finish",ze),Ze()}function ze(){q("onfinish"),ce.removeListener("close",Ae),Ze()}function Ze(){q("unpipe"),ke.unpipe(ce)}return ke.on("data",ae),function(ct,ht,vt){if("function"==typeof ct.prependListener)return ct.prependListener(ht,vt);ct._events&&ct._events[ht]?S(ct._events[ht])?ct._events[ht].unshift(vt):ct._events[ht]=[vt,ct._events[ht]]:ct.on(ht,vt)}(ce,"error",ye),ce.once("close",Ae),ce.once("finish",ze),ce.emit("pipe",ke),pe.flowing||(q("pipe resume"),ke.resume()),ce},I.prototype.unpipe=function(ce){var se=this._readableState,ke={hasUnpiped:!1};if(0===se.pipesCount)return this;if(1===se.pipesCount)return ce&&ce!==se.pipes||(ce||(ce=se.pipes),se.pipes=null,se.pipesCount=0,se.flowing=!1,ce&&ce.emit("unpipe",this,ke)),this;if(!ce){var pe=se.pipes,Le=se.pipesCount;se.pipes=null,se.pipesCount=0,se.flowing=!1;for(var Ie=0;Ie<Le;Ie++)pe[Ie].emit("unpipe",this,ke);return this}var $e=he(se.pipes,ce);return-1===$e||(se.pipes.splice($e,1),se.pipesCount-=1,1===se.pipesCount&&(se.pipes=se.pipes[0]),ce.emit("unpipe",this,ke)),this},I.prototype.addListener=I.prototype.on=function(ce,se){var ke=C.prototype.on.call(this,ce,se);if("data"===ce)!1!==this._readableState.flowing&&this.resume();else if("readable"===ce){var pe=this._readableState;pe.endEmitted||pe.readableListening||(pe.readableListening=pe.needReadable=!0,pe.emittedReadable=!1,pe.reading?pe.length&&z(this):w.nextTick(J,this))}return ke},I.prototype.resume=function(){var ke,ce=this._readableState;return ce.flowing||(q("resume"),ce.flowing=!0,this,(ke=ce).resumeScheduled||(ke.resumeScheduled=!0,w.nextTick(Me,this,ke))),this},I.prototype.pause=function(){return q("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(q("pause"),this._readableState.flowing=!1,this.emit("pause")),this},I.prototype.wrap=function(ce){var se=this,ke=this._readableState,pe=!1;for(var Le in ce.on("end",function(){if(q("wrapped end"),ke.decoder&&!ke.ended){var $e=ke.decoder.end();$e&&$e.length&&se.push($e)}se.push(null)}),ce.on("data",function($e){q("wrapped data"),ke.decoder&&($e=ke.decoder.write($e)),(!ke.objectMode||null!=$e)&&(ke.objectMode||$e&&$e.length)&&(se.push($e)||(pe=!0,ce.pause()))}),ce)void 0===this[Le]&&"function"==typeof ce[Le]&&(this[Le]=function($e){return function(){return ce[$e].apply(ce,arguments)}}(Le));for(var Ie=0;Ie<O.length;Ie++)ce.on(O[Ie],this.emit.bind(this,O[Ie]));return this._read=function($e){q("wrapped _read",$e),pe&&(pe=!1,ce.resume())},this},Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),I._fromList=ge}).call(this,P(0),P(4))},function(fe,j,P){fe.exports=P(12).EventEmitter},function(fe,j,P){"use strict";var M=P(6);function v(w,E){w.emit("error",E)}fe.exports={destroy:function(w,E){var S=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(E?E(w):!w||this._writableState&&this._writableState.errorEmitted||M.nextTick(v,this,w),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(w||null,function(H){!E&&H?(M.nextTick(v,S,H),S._writableState&&(S._writableState.errorEmitted=!0)):E&&E(H)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(fe,j,P){"use strict";var M=P(7).Buffer,v=M.isEncoding||function(q){switch((q=""+q)&&q.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function w(q){var ne;switch(this.encoding=function(N){var k=function(O){if(!O)return"utf8";for(var B;;)switch(O){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return O;default:if(B)return;O=(""+O).toLowerCase(),B=!0}}(N);if("string"!=typeof k&&(M.isEncoding===v||!v(N)))throw new Error("Unknown encoding: "+N);return k||N}(q),this.encoding){case"utf16le":this.text=R,this.end=C,ne=4;break;case"utf8":this.fillLast=S,ne=4;break;case"base64":this.text=H,this.end=Y,ne=3;break;default:return this.write=$,void(this.end=te)}this.lastNeed=0,this.lastTotal=0,this.lastChar=M.allocUnsafe(ne)}function E(q){return q<=127?0:q>>5==6?2:q>>4==14?3:q>>3==30?4:q>>6==2?-1:-2}function S(q){var ne=this.lastTotal-this.lastNeed,N=function(k,O,B){if(128!=(192&O[0]))return k.lastNeed=0,"\ufffd";if(k.lastNeed>1&&O.length>1){if(128!=(192&O[1]))return k.lastNeed=1,"\ufffd";if(k.lastNeed>2&&O.length>2&&128!=(192&O[2]))return k.lastNeed=2,"\ufffd"}}(this,q);return void 0!==N?N:this.lastNeed<=q.length?(q.copy(this.lastChar,ne,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(q.copy(this.lastChar,ne,0,q.length),void(this.lastNeed-=q.length))}function R(q,ne){if((q.length-ne)%2==0){var N=q.toString("utf16le",ne);if(N){var k=N.charCodeAt(N.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=q[q.length-2],this.lastChar[1]=q[q.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=q[q.length-1],q.toString("utf16le",ne,q.length-1)}function C(q){var ne=q&&q.length?this.write(q):"";return this.lastNeed?ne+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):ne}function H(q,ne){var N=(q.length-ne)%3;return 0===N?q.toString("base64",ne):(this.lastNeed=3-N,this.lastTotal=3,1===N?this.lastChar[0]=q[q.length-1]:(this.lastChar[0]=q[q.length-2],this.lastChar[1]=q[q.length-1]),q.toString("base64",ne,q.length-N))}function Y(q){var ne=q&&q.length?this.write(q):"";return this.lastNeed?ne+this.lastChar.toString("base64",0,3-this.lastNeed):ne}function $(q){return q.toString(this.encoding)}function te(q){return q&&q.length?this.write(q):""}j.StringDecoder=w,w.prototype.write=function(q){if(0===q.length)return"";var ne,N;if(this.lastNeed){if(void 0===(ne=this.fillLast(q)))return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<q.length?ne?ne+this.text(q,N):this.text(q,N):ne||""},w.prototype.end=function(q){var ne=q&&q.length?this.write(q):"";return this.lastNeed?ne+"\ufffd":ne},w.prototype.text=function(q,ne){var N=function(O,B,I){var U=B.length-1;if(U<I)return 0;var F=E(B[U]);return F>=0?(F>0&&(O.lastNeed=F-1),F):--U<I||-2===F?0:(F=E(B[U]))>=0?(F>0&&(O.lastNeed=F-2),F):--U<I||-2===F?0:(F=E(B[U]))>=0?(F>0&&(2===F?F=0:O.lastNeed=F-3),F):0}(this,q,ne);if(!this.lastNeed)return q.toString("utf8",ne);this.lastTotal=N;var k=q.length-(N-this.lastNeed);return q.copy(this.lastChar,0,k),q.toString("utf8",ne,k)},w.prototype.fillLast=function(q){if(this.lastNeed<=q.length)return q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,q.length),this.lastNeed-=q.length}},function(fe,j,P){"use strict";fe.exports=w;var M=P(1),v=P(5);function w(R){if(!(this instanceof w))return new w(R);M.call(this,R),this._transformState={afterTransform:function(C,H){var Y=this._transformState;Y.transforming=!1;var $=Y.writecb;if(!$)return this.emit("error",new Error("write callback called multiple times"));Y.writechunk=null,Y.writecb=null,null!=H&&this.push(H),$(C);var te=this._readableState;te.reading=!1,(te.needReadable||te.length<te.highWaterMark)&&this._read(te.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,R&&("function"==typeof R.transform&&(this._transform=R.transform),"function"==typeof R.flush&&(this._flush=R.flush)),this.on("prefinish",E)}function E(){var R=this;"function"==typeof this._flush?this._flush(function(C,H){S(R,C,H)}):S(this,null,null)}function S(R,C,H){if(C)return R.emit("error",C);if(null!=H&&R.push(H),R._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(R._transformState.transforming)throw new Error("Calling transform done when still transforming");return R.push(null)}v.inherits=P(2),v.inherits(w,M),w.prototype.push=function(R,C){return this._transformState.needTransform=!1,M.prototype.push.call(this,R,C)},w.prototype._transform=function(R,C,H){throw new Error("_transform() is not implemented")},w.prototype._write=function(R,C,H){var Y=this._transformState;if(Y.writecb=H,Y.writechunk=R,Y.writeencoding=C,!Y.transforming){var $=this._readableState;(Y.needTransform||$.needReadable||$.length<$.highWaterMark)&&this._read($.highWaterMark)}},w.prototype._read=function(R){var C=this._transformState;null!==C.writechunk&&C.writecb&&!C.transforming?(C.transforming=!0,this._transform(C.writechunk,C.writeencoding,C.afterTransform)):C.needTransform=!0},w.prototype._destroy=function(R,C){var H=this;M.prototype._destroy.call(this,R,function(Y){C(Y),H.emit("close")})}},function(fe,j,P){"use strict";(function(M){Object.defineProperty(j,"__esModule",{value:!0}),j.bufFromString=function(v){var w=M.byteLength(v),E=M.allocUnsafe?M.allocUnsafe(w):new M(w);return E.write(v),E},j.emptyBuffer=function(){return M.allocUnsafe?M.allocUnsafe(0):new M(0)},j.filterArray=function(v,w){for(var E=[],S=0;S<v.length;S++)w.indexOf(S)>-1&&E.push(v[S]);return E},j.trimLeft=String.prototype.trimLeft?function(v){return v.trimLeft()}:function(v){return v.replace(/^\s+/,"")},j.trimRight=String.prototype.trimRight?function(v){return v.trimRight()}:function(v){return v.replace(/\s+$/,"")}}).call(this,P(3).Buffer)},function(fe,j,P){"use strict";var w,M=this&&this.__extends||(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,S){E.__proto__=S}||function(E,S){for(var R in S)S.hasOwnProperty(R)&&(E[R]=S[R])},function(E,S){function R(){this.constructor=E}w(E,S),E.prototype=null===S?Object.create(S):(R.prototype=S.prototype,new R)});Object.defineProperty(j,"__esModule",{value:!0});var v=function(w){function E(S,R,C){var H=w.call(this,"Error: "+S+". JSON Line number: "+R+(C?" near: "+C:""))||this;return H.err=S,H.line=R,H.extra=C,H.name="CSV Parse Error",H}return M(E,w),E.column_mismatched=function(S,R){return new E("column_mismatched",S,R)},E.unclosed_quote=function(S,R){return new E("unclosed_quote",S,R)},E.fromJSON=function(S){return new E(S.err,S.line,S.extra)},E.prototype.toJSON=function(){return{err:this.err,line:this.line,extra:this.extra}},E}(Error);j.default=v},function(fe,j,P){var M=P(18),v=P(68),w=P(69),E=M?M.toStringTag:void 0;fe.exports=function(S){return null==S?void 0===S?"[object Undefined]":"[object Null]":E&&E in Object(S)?v(S):w(S)}},function(fe,j){fe.exports=function(P,M){return P===M||P!=P&&M!=M}},function(fe,j,P){fe.exports=P(33)},function(fe,j,P){"use strict";var M=P(34),v=function(w,E){return new M.Converter(w,E)};v.csv=v,v.Converter=M.Converter,fe.exports=v},function(fe,j,P){"use strict";(function(M){var te,v=this&&this.__extends||(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,ne){q.__proto__=ne}||function(q,ne){for(var N in ne)ne.hasOwnProperty(N)&&(q[N]=ne[N])},function(q,ne){function N(){this.constructor=q}te(q,ne),q.prototype=null===ne?Object.create(ne):(N.prototype=ne.prototype,new N)}),w=this&&this.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(j,"__esModule",{value:!0});var E=P(36),S=P(50),R=P(51),C=w(P(15)),H=P(52),Y=P(105),$=function(te){function q(ne,N){void 0===N&&(N={});var k=te.call(this,N)||this;return k.options=N,k.params=S.mergeParams(ne),k.runtime=R.initParseRuntime(k),k.result=new Y.Result(k),k.processor=new H.ProcessorLocal(k),k.once("error",function(O){M(function(){k.result.processError(O),k.emit("done",O)})}),k.once("done",function(){k.processor.destroy()}),k}return v(q,te),q.prototype.preRawData=function(ne){return this.runtime.preRawDataHook=ne,this},q.prototype.preFileLine=function(ne){return this.runtime.preFileLineHook=ne,this},q.prototype.subscribe=function(ne,N,k){return this.parseRuntime.subscribe={onNext:ne,onError:N,onCompleted:k},this},q.prototype.fromFile=function(ne,N){var k=this,O=P(!function(){var B=new Error("Cannot find module 'fs'");throw B.code="MODULE_NOT_FOUND",B}());return O.exists(ne,function(B){B?O.createReadStream(ne,N).pipe(k):k.emit("error",new Error("File does not exist. Check to make sure the file path to your csv is correct."))}),this},q.prototype.fromStream=function(ne){return ne.pipe(this),this},q.prototype.fromString=function(ne){ne.toString();var N=new E.Readable,k=0;return N._read=function(O){if(k>=ne.length)this.push(null);else{var B=ne.substr(k,O);this.push(B),k+=O}},this.fromStream(N)},q.prototype.then=function(ne,N){var k=this;return new C.default(function(O,B){k.parseRuntime.then={onfulfilled:function(I){O(ne?ne(I):I)},onrejected:function(I){N?O(N(I)):B(I)}}})},Object.defineProperty(q.prototype,"parseParam",{get:function(){return this.params},enumerable:!0,configurable:!0}),Object.defineProperty(q.prototype,"parseRuntime",{get:function(){return this.runtime},enumerable:!0,configurable:!0}),q.prototype._transform=function(ne,N,k){var O=this;this.processor.process(ne).then(function(B){if(B.length>0)return O.runtime.started=!0,O.result.processResult(B)}).then(function(){O.emit("drained"),k()},function(B){O.runtime.hasError=!0,O.runtime.error=B,O.emit("error",B),k()})},q.prototype._flush=function(ne){var N=this;this.processor.flush().then(function(k){if(k.length>0)return N.result.processResult(k)}).then(function(){N.processEnd(ne)},function(k){N.emit("error",k),ne()})},q.prototype.processEnd=function(ne){this.result.endProcess(),this.emit("done"),ne()},Object.defineProperty(q.prototype,"parsedLineNumber",{get:function(){return this.runtime.parsedLineNumber},enumerable:!0,configurable:!0}),q}(E.Transform);j.Converter=$}).call(this,P(11).setImmediate)},function(fe,j,P){(function(M,v){!function(w,E){"use strict";if(!w.setImmediate){var S,R=1,C={},H=!1,Y=w.document,$=Object.getPrototypeOf&&Object.getPrototypeOf(w);$=$&&$.setTimeout?$:w,"[object process]"==={}.toString.call(w.process)?S=function(ne){v.nextTick(function(){q(ne)})}:function(){if(w.postMessage&&!w.importScripts){var ne=!0,N=w.onmessage;return w.onmessage=function(){ne=!1},w.postMessage("","*"),w.onmessage=N,ne}}()?(ne="setImmediate$"+Math.random()+"$",N=function(k){k.source===w&&"string"==typeof k.data&&0===k.data.indexOf(ne)&&q(+k.data.slice(ne.length))},w.addEventListener?w.addEventListener("message",N,!1):w.attachEvent("onmessage",N),S=function(k){w.postMessage(ne+k,"*")}):w.MessageChannel?function(){var ne=new MessageChannel;ne.port1.onmessage=function(N){q(N.data)},S=function(N){ne.port2.postMessage(N)}}():Y&&"onreadystatechange"in Y.createElement("script")?function(){var ne=Y.documentElement;S=function(N){var k=Y.createElement("script");k.onreadystatechange=function(){q(N),k.onreadystatechange=null,ne.removeChild(k),k=null},ne.appendChild(k)}}():S=function(ne){setTimeout(q,0,ne)},$.setImmediate=function(ne){"function"!=typeof ne&&(ne=new Function(""+ne));for(var N=new Array(arguments.length-1),k=0;k<N.length;k++)N[k]=arguments[k+1];return C[R]={callback:ne,args:N},S(R),R++},$.clearImmediate=te}var ne,N;function te(ne){delete C[ne]}function q(ne){if(H)setTimeout(q,0,ne);else{var N=C[ne];if(N){H=!0;try{!function(k){var O=k.callback,B=k.args;switch(B.length){case 0:O();break;case 1:O(B[0]);break;case 2:O(B[0],B[1]);break;case 3:O(B[0],B[1],B[2]);break;default:O.apply(E,B)}}(N)}finally{te(ne),H=!1}}}}}(typeof self>"u"?void 0===M?this:M:self)}).call(this,P(0),P(4))},function(fe,j,P){fe.exports=v;var M=P(12).EventEmitter;function v(){M.call(this)}P(2)(v,M),v.Readable=P(13),v.Writable=P(46),v.Duplex=P(47),v.Transform=P(48),v.PassThrough=P(49),v.Stream=v,v.prototype.pipe=function(w,E){var S=this;function R(ne){w.writable&&!1===w.write(ne)&&S.pause&&S.pause()}function C(){S.readable&&S.resume&&S.resume()}S.on("data",R),w.on("drain",C),w._isStdio||E&&!1===E.end||(S.on("end",Y),S.on("close",$));var H=!1;function Y(){H||(H=!0,w.end())}function $(){H||(H=!0,"function"==typeof w.destroy&&w.destroy())}function te(ne){if(q(),0===M.listenerCount(this,"error"))throw ne}function q(){S.removeListener("data",R),w.removeListener("drain",C),S.removeListener("end",Y),S.removeListener("close",$),S.removeListener("error",te),w.removeListener("error",te),S.removeListener("end",q),S.removeListener("close",q),w.removeListener("close",q)}return S.on("error",te),w.on("error",te),S.on("end",q),S.on("close",q),w.on("close",q),w.emit("pipe",S),w}},function(fe,j){var P={}.toString;fe.exports=Array.isArray||function(M){return"[object Array]"==P.call(M)}},function(fe,j,P){"use strict";j.byteLength=function($){var te=C($),ne=te[1];return 3*(te[0]+ne)/4-ne},j.toByteArray=function($){for(var te,q=C($),ne=q[0],N=q[1],k=new w(3*(ne+N)/4-N),O=0,B=N>0?ne-4:ne,I=0;I<B;I+=4)te=v[$.charCodeAt(I)]<<18|v[$.charCodeAt(I+1)]<<12|v[$.charCodeAt(I+2)]<<6|v[$.charCodeAt(I+3)],k[O++]=te>>16&255,k[O++]=te>>8&255,k[O++]=255&te;return 2===N&&(te=v[$.charCodeAt(I)]<<2|v[$.charCodeAt(I+1)]>>4,k[O++]=255&te),1===N&&(te=v[$.charCodeAt(I)]<<10|v[$.charCodeAt(I+1)]<<4|v[$.charCodeAt(I+2)]>>2,k[O++]=te>>8&255,k[O++]=255&te),k},j.fromByteArray=function($){for(var te,q=$.length,ne=q%3,N=[],k=0,O=q-ne;k<O;k+=16383)N.push(Y($,k,k+16383>O?O:k+16383));return 1===ne?N.push(M[(te=$[q-1])>>2]+M[te<<4&63]+"=="):2===ne&&N.push(M[(te=($[q-2]<<8)+$[q-1])>>10]+M[te>>4&63]+M[te<<2&63]+"="),N.join("")};for(var M=[],v=[],w=typeof Uint8Array<"u"?Uint8Array:Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,R=E.length;S<R;++S)M[S]=E[S],v[E.charCodeAt(S)]=S;function C($){var te=$.length;if(te%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var q=$.indexOf("=");return-1===q&&(q=te),[q,q===te?0:4-q%4]}function H($){return M[$>>18&63]+M[$>>12&63]+M[$>>6&63]+M[63&$]}function Y($,te,q){for(var N=[],k=te;k<q;k+=3)N.push(H(($[k]<<16&16711680)+($[k+1]<<8&65280)+(255&$[k+2])));return N.join("")}v["-".charCodeAt(0)]=62,v["_".charCodeAt(0)]=63},function(fe,j){j.read=function(P,M,v,w,E){var S,R,C=8*E-w-1,H=(1<<C)-1,Y=H>>1,$=-7,te=v?E-1:0,q=v?-1:1,ne=P[M+te];for(te+=q,S=ne&(1<<-$)-1,ne>>=-$,$+=C;$>0;S=256*S+P[M+te],te+=q,$-=8);for(R=S&(1<<-$)-1,S>>=-$,$+=w;$>0;R=256*R+P[M+te],te+=q,$-=8);if(0===S)S=1-Y;else{if(S===H)return R?NaN:1/0*(ne?-1:1);R+=Math.pow(2,w),S-=Y}return(ne?-1:1)*R*Math.pow(2,S-w)},j.write=function(P,M,v,w,E,S){var R,C,H,Y=8*S-E-1,$=(1<<Y)-1,te=$>>1,q=23===E?Math.pow(2,-24)-Math.pow(2,-77):0,ne=w?0:S-1,N=w?1:-1,k=M<0||0===M&&1/M<0?1:0;for(M=Math.abs(M),isNaN(M)||M===1/0?(C=isNaN(M)?1:0,R=$):(R=Math.floor(Math.log(M)/Math.LN2),M*(H=Math.pow(2,-R))<1&&(R--,H*=2),(M+=R+te>=1?q/H:q*Math.pow(2,1-te))*H>=2&&(R++,H/=2),R+te>=$?(C=0,R=$):R+te>=1?(C=(M*H-1)*Math.pow(2,E),R+=te):(C=M*Math.pow(2,te-1)*Math.pow(2,E),R=0));E>=8;P[v+ne]=255&C,ne+=N,C/=256,E-=8);for(R=R<<E|C,Y+=E;Y>0;P[v+ne]=255&R,ne+=N,R/=256,Y-=8);P[v+ne-N]|=128*k}},function(fe,j){var P={}.toString;fe.exports=Array.isArray||function(M){return"[object Array]"==P.call(M)}},function(fe,j){},function(fe,j,P){"use strict";var M=P(7).Buffer,v=P(43);function w(E,S,R){E.copy(S,R)}fe.exports=function(){function E(){(function(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")})(this,E),this.head=null,this.tail=null,this.length=0}return E.prototype.push=function(S){var R={data:S,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length},E.prototype.unshift=function(S){var R={data:S,next:this.head};0===this.length&&(this.tail=R),this.head=R,++this.length},E.prototype.shift=function(){if(0!==this.length){var S=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,S}},E.prototype.clear=function(){this.head=this.tail=null,this.length=0},E.prototype.join=function(S){if(0===this.length)return"";for(var R=this.head,C=""+R.data;R=R.next;)C+=S+R.data;return C},E.prototype.concat=function(S){if(0===this.length)return M.alloc(0);if(1===this.length)return this.head.data;for(var R=M.allocUnsafe(S>>>0),C=this.head,H=0;C;)w(C.data,R,H),H+=C.data.length,C=C.next;return R},E}(),v&&v.inspect&&v.inspect.custom&&(fe.exports.prototype[v.inspect.custom]=function(){var E=v.inspect({length:this.length});return this.constructor.name+" "+E})},function(fe,j){},function(fe,j,P){(function(M){function v(w){try{if(!M.localStorage)return!1}catch{return!1}var E=M.localStorage[w];return null!=E&&"true"===String(E).toLowerCase()}fe.exports=function(w,E){if(v("noDeprecation"))return w;var S=!1;return function(){if(!S){if(v("throwDeprecation"))throw new Error(E);v("traceDeprecation")?console.trace(E):console.warn(E),S=!0}return w.apply(this,arguments)}}}).call(this,P(0))},function(fe,j,P){"use strict";fe.exports=w;var M=P(27),v=P(5);function w(E){if(!(this instanceof w))return new w(E);M.call(this,E)}v.inherits=P(2),v.inherits(w,M),w.prototype._transform=function(E,S,R){R(null,E)}},function(fe,j,P){fe.exports=P(14)},function(fe,j,P){fe.exports=P(1)},function(fe,j,P){fe.exports=P(13).Transform},function(fe,j,P){fe.exports=P(13).PassThrough},function(fe,j,P){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.mergeParams=function(M){var v={delimiter:",",ignoreColumns:void 0,includeColumns:void 0,quote:'"',trim:!0,checkType:!1,ignoreEmpty:!1,noheader:!1,headers:void 0,flatKeys:!1,maxRowLength:0,checkColumn:!1,escape:'"',colParser:{},eol:void 0,alwaysSplitAtEOL:!1,output:"json",nullObject:!1,downstreamFormat:"line",needEmitAll:!0};for(var w in M||(M={}),M)M.hasOwnProperty(w)&&(v[w]=Array.isArray(M[w])?[].concat(M[w]):M[w]);return v}},function(fe,j,P){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.initParseRuntime=function(M){var v=M.parseParam,w={needProcessIgnoreColumn:!1,needProcessIncludeColumn:!1,selectedColumns:void 0,ended:!1,hasError:!1,error:void 0,delimiter:M.parseParam.delimiter,eol:M.parseParam.eol,columnConv:[],headerType:[],headerTitle:[],headerFlag:[],headers:void 0,started:!1,parsedLineNumber:0,columnValueSetter:[]};return v.ignoreColumns&&(w.needProcessIgnoreColumn=!0),v.includeColumns&&(w.needProcessIncludeColumn=!0),w}},function(fe,j,P){"use strict";(function(M){var N,v=this&&this.__extends||(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,O){k.__proto__=O}||function(k,O){for(var B in O)O.hasOwnProperty(B)&&(k[B]=O[B])},function(k,O){function B(){this.constructor=k}N(k,O),k.prototype=null===O?Object.create(O):(B.prototype=O.prototype,new B)}),w=this&&this.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(j,"__esModule",{value:!0});var E=P(53),S=w(P(15)),R=P(54),C=w(P(16)),H=P(57),Y=P(28),$=P(58),te=w(P(59)),q=w(P(29)),ne=function(N){function k(){var O=null!==N&&N.apply(this,arguments)||this;return O.rowSplit=new $.RowSplit(O.converter),O.eolEmitted=!1,O._needEmitEol=void 0,O.headEmitted=!1,O._needEmitHead=void 0,O}return v(k,N),k.prototype.flush=function(){var O=this;if(this.runtime.csvLineBuffer&&this.runtime.csvLineBuffer.length>0){var B=this.runtime.csvLineBuffer;return this.runtime.csvLineBuffer=void 0,this.process(B,!0).then(function(I){return O.runtime.csvLineBuffer&&O.runtime.csvLineBuffer.length>0?S.default.reject(q.default.unclosed_quote(O.runtime.parsedLineNumber,O.runtime.csvLineBuffer.toString())):S.default.resolve(I)})}return S.default.resolve([])},k.prototype.destroy=function(){return S.default.resolve()},Object.defineProperty(k.prototype,"needEmitEol",{get:function(){return void 0===this._needEmitEol&&(this._needEmitEol=this.converter.listeners("eol").length>0),this._needEmitEol},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"needEmitHead",{get:function(){return void 0===this._needEmitHead&&(this._needEmitHead=this.converter.listeners("header").length>0),this._needEmitHead},enumerable:!0,configurable:!0}),k.prototype.process=function(O,B){var I,U=this;return void 0===B&&(B=!1),I=B?O.toString():R.prepareData(O,this.converter.parseRuntime),S.default.resolve().then(function(){return U.runtime.preRawDataHook?U.runtime.preRawDataHook(I):I}).then(function(F){return F&&F.length>0?U.processCSV(F,B):S.default.resolve([])})},k.prototype.processCSV=function(O,B){var I=this,U=this.params,F=this.runtime;F.eol||C.default(O,F),this.needEmitEol&&!this.eolEmitted&&F.eol&&(this.converter.emit("eol",F.eol),this.eolEmitted=!0),U.ignoreEmpty&&!F.started&&(O=Y.trimLeft(O));var X=H.stringToLines(O,F);return B?(X.lines.push(X.partial),X.partial=""):this.prependLeftBuf(Y.bufFromString(X.partial)),X.lines.length>0?(F.preFileLineHook?this.runPreLineHook(X.lines):S.default.resolve(X.lines)).then(function(oe){return F.started||I.runtime.headers?I.processCSVBody(oe):I.processDataWithHead(oe)}):S.default.resolve([])},k.prototype.processDataWithHead=function(O){if(this.params.noheader)this.runtime.headers=this.params.headers?this.params.headers:[];else{for(var B="",I=[];O.length;){var U=B+O.shift(),F=this.rowSplit.parse(U);if(F.closed){I=F.cells,B="";break}B=U+C.default(U,this.runtime)}if(this.prependLeftBuf(Y.bufFromString(B)),0===I.length)return[];this.runtime.headers=this.params.headers?this.params.headers:I}return(this.runtime.needProcessIgnoreColumn||this.runtime.needProcessIncludeColumn)&&this.filterHeader(),this.needEmitHead&&!this.headEmitted&&(this.converter.emit("header",this.runtime.headers),this.headEmitted=!0),this.processCSVBody(O)},k.prototype.filterHeader=function(){if(this.runtime.selectedColumns=[],this.runtime.headers){for(var O=this.runtime.headers,B=0;B<O.length;B++)if(this.params.ignoreColumns)if(this.params.ignoreColumns.test(O[B])){if(!this.params.includeColumns||!this.params.includeColumns.test(O[B]))continue;this.runtime.selectedColumns.push(B)}else this.runtime.selectedColumns.push(B);else this.params.includeColumns?this.params.includeColumns.test(O[B])&&this.runtime.selectedColumns.push(B):this.runtime.selectedColumns.push(B);this.runtime.headers=Y.filterArray(this.runtime.headers,this.runtime.selectedColumns)}},k.prototype.processCSVBody=function(O){if("line"===this.params.output)return O;var B=this.rowSplit.parseMultiLines(O);return this.prependLeftBuf(Y.bufFromString(B.partial)),"csv"===this.params.output?B.rowsCells:te.default(B.rowsCells,this.converter)},k.prototype.prependLeftBuf=function(O){O&&(this.runtime.csvLineBuffer=this.runtime.csvLineBuffer?M.concat([O,this.runtime.csvLineBuffer]):O)},k.prototype.runPreLineHook=function(O){var B=this;return new S.default(function(I,U){!function F(X,oe,z,ie){if(z>=X.length)ie();else if(oe.preFileLineHook){var ue=oe.preFileLineHook(X[z],oe.parsedLineNumber+z);if(z++,ue&&ue.then)ue.then(function(J){X[z-1]=J,F(X,oe,z,ie)});else{for(X[z-1]=ue;z<X.length;)X[z]=oe.preFileLineHook(X[z],oe.parsedLineNumber+z),z++;ie()}}else ie()}(O,B.runtime,0,function(F){F?U(F):I(O)})})},k}(E.Processor);j.ProcessorLocal=ne}).call(this,P(3).Buffer)},function(fe,j,P){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.Processor=function(v){this.converter=v,this.params=v.parseParam,this.runtime=v.parseRuntime}},function(fe,j,P){"use strict";(function(M){var v=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(j,"__esModule",{value:!0});var w=v(P(55));j.prepareData=function(E,S){var H,Y,R=(H=E,(Y=S).csvLineBuffer&&Y.csvLineBuffer.length>0?M.concat([Y.csvLineBuffer,H]):H);S.csvLineBuffer=void 0;var C=function(H,Y){var $=H.length-1;if(128&H[$]){for(;128==(192&H[$]);)$--;$--}return $!=H.length-1?(Y.csvLineBuffer=H.slice($+1),H.slice(0,$+1)):H}(R,S).toString("utf8");return!1===S.started?w.default(C):C}}).call(this,P(3).Buffer)},function(fe,j,P){"use strict";(function(M){var v=P(56);fe.exports=function(w){return"string"==typeof w&&65279===w.charCodeAt(0)?w.slice(1):M.isBuffer(w)&&v(w)&&239===w[0]&&187===w[1]&&191===w[2]?w.slice(3):w}}).call(this,P(3).Buffer)},function(fe,j){fe.exports=function(P){for(var M=0;M<P.length;)if(9==P[M]||10==P[M]||13==P[M]||32<=P[M]&&P[M]<=126)M+=1;else if(194<=P[M]&&P[M]<=223&&128<=P[M+1]&&P[M+1]<=191)M+=2;else if(224==P[M]&&160<=P[M+1]&&P[M+1]<=191&&128<=P[M+2]&&P[M+2]<=191||(225<=P[M]&&P[M]<=236||238==P[M]||239==P[M])&&128<=P[M+1]&&P[M+1]<=191&&128<=P[M+2]&&P[M+2]<=191||237==P[M]&&128<=P[M+1]&&P[M+1]<=159&&128<=P[M+2]&&P[M+2]<=191)M+=3;else{if(!(240==P[M]&&144<=P[M+1]&&P[M+1]<=191&&128<=P[M+2]&&P[M+2]<=191&&128<=P[M+3]&&P[M+3]<=191||241<=P[M]&&P[M]<=243&&128<=P[M+1]&&P[M+1]<=191&&128<=P[M+2]&&P[M+2]<=191&&128<=P[M+3]&&P[M+3]<=191||244==P[M]&&128<=P[M+1]&&P[M+1]<=143&&128<=P[M+2]&&P[M+2]<=191&&128<=P[M+3]&&P[M+3]<=191))return!1;M+=4}return!0}},function(fe,j,P){"use strict";var M=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(j,"__esModule",{value:!0});var v=M(P(16));j.stringToLines=function(w,E){var S=v.default(w,E),R=w.split(S);return{lines:R,partial:R.pop()||""}}},function(fe,j,P){"use strict";var M=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(j,"__esModule",{value:!0});var v=M(P(16)),w=P(28),E=[",","|","\t",";",":"],S=function(){function R(C){this.conv=C,this.cachedRegExp={},this.delimiterEmitted=!1,this._needEmitDelimiter=void 0,this.quote=C.parseParam.quote,this.trim=C.parseParam.trim,this.escape=C.parseParam.escape}return Object.defineProperty(R.prototype,"needEmitDelimiter",{get:function(){return void 0===this._needEmitDelimiter&&(this._needEmitDelimiter=this.conv.listeners("delimiter").length>0),this._needEmitDelimiter},enumerable:!0,configurable:!0}),R.prototype.parse=function(C){if(0===C.length||this.conv.parseParam.ignoreEmpty&&0===C.trim().length)return{cells:[],closed:!0};var H=this.quote,Y=this.trim;(this.conv.parseRuntime.delimiter instanceof Array||"auto"===this.conv.parseRuntime.delimiter.toLowerCase())&&(this.conv.parseRuntime.delimiter=this.getDelimiter(C)),this.needEmitDelimiter&&!this.delimiterEmitted&&(this.conv.emit("delimiter",this.conv.parseRuntime.delimiter),this.delimiterEmitted=!0);var $=this.conv.parseRuntime.delimiter,te=C.split($);if("off"===H){if(Y)for(var q=0;q<te.length;q++)te[q]=te[q].trim();return{cells:te,closed:!0}}return this.toCSVRow(te,Y,H,$)},R.prototype.toCSVRow=function(C,H,Y,$){for(var te=[],q=!1,ne="",N=0,k=C.length;N<k;N++){var O=C[N];!q&&H&&(O=w.trimLeft(O));var B=O.length;if(q)this.isQuoteClose(O)?(q=!1,ne+=$+(O=O.substr(0,B-1)),ne=this.escapeQuote(ne),H&&(ne=w.trimRight(ne)),te.push(ne),ne=""):ne+=$+O;else{if(2===B&&O===this.quote+this.quote){te.push("");continue}if(this.isQuoteOpen(O)){if(O=O.substr(1),this.isQuoteClose(O)){O=O.substring(0,O.lastIndexOf(Y)),O=this.escapeQuote(O),te.push(O);continue}if(-1!==O.indexOf(Y)){for(var I=0,U="",F=0,X=O;F<X.length;F++){var oe=X[F];oe===Y&&U!==this.escape?(I++,U=""):U=oe}if(I%2==1){H&&(O=w.trimRight(O)),te.push(Y+O);continue}q=!0,ne+=O;continue}q=!0,ne+=O;continue}H&&(O=w.trimRight(O)),te.push(O)}}return{cells:te,closed:!q}},R.prototype.getDelimiter=function(C){var H;if("auto"===this.conv.parseParam.delimiter)H=E;else{if(!(this.conv.parseParam.delimiter instanceof Array))return this.conv.parseParam.delimiter;H=this.conv.parseParam.delimiter}var Y=0,$=",";return H.forEach(function(te){var q=C.split(te).length;q>Y&&($=te,Y=q)}),$},R.prototype.isQuoteOpen=function(C){var H=this.quote;return C[0]===H&&(C[1]!==H||C[1]===this.escape&&(C[2]===H||2===C.length))},R.prototype.isQuoteClose=function(C){var H=this.quote,Y=this.escape;this.conv.parseParam.trim&&(C=w.trimRight(C));for(var $=0,te=C.length-1;C[te]===H||C[te]===Y;)te--,$++;return $%2!=0},R.prototype.escapeQuote=function(C){var H="es|"+this.quote+"|"+this.escape;return void 0===this.cachedRegExp[H]&&(this.cachedRegExp[H]=new RegExp("\\"+this.escape+"\\"+this.quote,"g")),C.replace(this.cachedRegExp[H],this.quote)},R.prototype.parseMultiLines=function(C){for(var H=[],Y="";C.length;){var $=Y+C.shift(),te=this.parse($);0===te.cells.length&&this.conv.parseParam.ignoreEmpty||(te.closed||this.conv.parseParam.alwaysSplitAtEOL?(H.push(this.conv.parseRuntime.selectedColumns?w.filterArray(te.cells,this.conv.parseRuntime.selectedColumns):te.cells),Y=""):Y=$+(v.default($,this.conv.parseRuntime)||"\n"))}return{rowsCells:H,partial:Y}},R}();j.RowSplit=S},function(fe,j,P){"use strict";var M=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(j,"__esModule",{value:!0});var v=M(P(29)),w=M(P(60)),E=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/;function S(k,O,B){if(O.parseParam.checkColumn&&O.parseRuntime.headers&&k.length!==O.parseRuntime.headers.length)throw v.default.column_mismatched(O.parseRuntime.parsedLineNumber+B);return function(I,U,F){for(var X=!1,oe={},z=0,ie=I.length;z<ie;z++){var Q=I[z];if(!F.parseParam.ignoreEmpty||""!==Q){X=!0;var ue=U[z];ue&&""!==ue||(ue=U[z]="field"+(z+1));var J=C(ue,z,F);if(J){var Me=J(Q,ue,oe,I,z);void 0!==Me&&H(oe,ue,Me,F,z)}else F.parseParam.checkType&&(Q=te(0,ue,z,F)(Q)),void 0!==Q&&H(oe,ue,Q,F,z)}}return X?oe:null}(k,O.parseRuntime.headers||[],O)||null}j.default=function(k,O){for(var B=[],I=0,U=k.length;I<U;I++){var F=S(k[I],O,I);F&&B.push(F)}return B};var R={string:ne,number:q,omit:function(){}};function C(k,O,B){if(void 0!==B.parseRuntime.columnConv[O])return B.parseRuntime.columnConv[O];var I=B.parseParam.colParser[k];return void 0===I?B.parseRuntime.columnConv[O]=null:("object"==typeof I&&(I=I.cellParser||"string"),"string"==typeof I?(I=I.trim().toLowerCase(),B.parseRuntime.columnConv[O]=R[I]||null):B.parseRuntime.columnConv[O]="function"==typeof I?I:null)}function H(k,O,B,I,U){if(!I.parseRuntime.columnValueSetter[U])if(I.parseParam.flatKeys)I.parseRuntime.columnValueSetter[U]=Y;else if(O.indexOf(".")>-1){for(var F=O.split("."),X=!0;F.length>0;)if(0===F.shift().length){X=!1;break}I.parseRuntime.columnValueSetter[U]=!X||I.parseParam.colParser[O]&&I.parseParam.colParser[O].flat?Y:$}else I.parseRuntime.columnValueSetter[U]=Y;!0===I.parseParam.nullObject&&"null"===B&&(B=null),I.parseRuntime.columnValueSetter[U](k,O,B)}function Y(k,O,B){k[O]=B}function $(k,O,B){w.default(k,O,B)}function te(k,O,B,I){return I.parseRuntime.headerType[B]?I.parseRuntime.headerType[B]:I.parseRuntime.headerType[B]=O.indexOf("number#!")>-1?q:O.indexOf("string#!")>-1?ne:I.parseParam.checkType?N:ne}function q(k){var O=parseFloat(k);return isNaN(O)?k:O}function ne(k){return k.toString()}function N(k){var I,O=k.trim();return""===O?ne(k):E.test(O)?q(k):5===O.length&&"false"===O.toLowerCase()||4===O.length&&"true"===O.toLowerCase()?5!==(I=k.trim()).length||"false"!==I.toLowerCase():"{"===O[0]&&"}"===O[O.length-1]||"["===O[0]&&"]"===O[O.length-1]?function(B){try{return JSON.parse(B)}catch{return B}}(k):ne(k)}},function(fe,j,P){var M=P(61);fe.exports=function(v,w,E){return null==v?v:M(v,w,E)}},function(fe,j,P){var M=P(62),v=P(74),w=P(103),E=P(20),S=P(104);fe.exports=function(R,C,H,Y){if(!E(R))return R;for(var $=-1,te=(C=v(C,R)).length,q=te-1,ne=R;null!=ne&&++$<te;){var N=S(C[$]),k=H;if($!=q){var O=ne[N];void 0===(k=Y?Y(O,N,ne):void 0)&&(k=E(O)?O:w(C[$+1])?[]:{})}M(ne,N,k),ne=ne[N]}return R}},function(fe,j,P){var M=P(63),v=P(31),w=Object.prototype.hasOwnProperty;fe.exports=function(E,S,R){var C=E[S];w.call(E,S)&&v(C,R)&&(void 0!==R||S in E)||M(E,S,R)}},function(fe,j,P){var M=P(64);fe.exports=function(v,w,E){"__proto__"==w&&M?M(v,w,{configurable:!0,enumerable:!0,value:E,writable:!0}):v[w]=E}},function(fe,j,P){var M=P(17),v=function(){try{var w=M(Object,"defineProperty");return w({},"",{}),w}catch{}}();fe.exports=v},function(fe,j,P){var M=P(66),v=P(70),w=P(20),E=P(72),S=/^\[object .+?Constructor\]$/,$=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");fe.exports=function(te){return!(!w(te)||v(te))&&(M(te)?$:S).test(E(te))}},function(fe,j,P){var M=P(30),v=P(20);fe.exports=function(w){if(!v(w))return!1;var E=M(w);return"[object Function]"==E||"[object GeneratorFunction]"==E||"[object AsyncFunction]"==E||"[object Proxy]"==E}},function(fe,j,P){(function(M){fe.exports="object"==typeof M&&M&&M.Object===Object&&M}).call(this,P(0))},function(fe,j,P){var M=P(18),v=Object.prototype,w=v.hasOwnProperty,E=v.toString,S=M?M.toStringTag:void 0;fe.exports=function(R){var C=w.call(R,S),H=R[S];try{R[S]=void 0;var Y=!0}catch{}var $=E.call(R);return Y&&(C?R[S]=H:delete R[S]),$}},function(fe,j){var P=Object.prototype.toString;fe.exports=function(M){return P.call(M)}},function(fe,j,P){var w,M=P(71),v=(w=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"";fe.exports=function(w){return!!v&&v in w}},function(fe,j,P){var M=P(19)["__core-js_shared__"];fe.exports=M},function(fe,j){var P=Function.prototype.toString;fe.exports=function(M){if(null!=M){try{return P.call(M)}catch{}try{return M+""}catch{}}return""}},function(fe,j){fe.exports=function(P,M){return P?.[M]}},function(fe,j,P){var M=P(21),v=P(75),w=P(77),E=P(100);fe.exports=function(S,R){return M(S)?S:v(S,R)?[S]:w(E(S))}},function(fe,j,P){var M=P(21),v=P(22),w=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E=/^\w*$/;fe.exports=function(S,R){if(M(S))return!1;var C=typeof S;return!("number"!=C&&"symbol"!=C&&"boolean"!=C&&null!=S&&!v(S))||E.test(S)||!w.test(S)||null!=R&&S in Object(R)}},function(fe,j){fe.exports=function(P){return null!=P&&"object"==typeof P}},function(fe,j,P){var M=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v=/\\(\\)?/g,w=P(78)(function(E){var S=[];return 46===E.charCodeAt(0)&&S.push(""),E.replace(M,function(R,C,H,Y){S.push(H?Y.replace(v,"$1"):C||R)}),S});fe.exports=w},function(fe,j,P){var M=P(79);fe.exports=function(v){var w=M(v,function(S){return 500===E.size&&E.clear(),S}),E=w.cache;return w}},function(fe,j,P){var M=P(80),v="Expected a function";function w(E,S){if("function"!=typeof E||null!=S&&"function"!=typeof S)throw new TypeError(v);var R=function(){var C=arguments,H=S?S.apply(this,C):C[0],Y=R.cache;if(Y.has(H))return Y.get(H);var $=E.apply(this,C);return R.cache=Y.set(H,$)||Y,$};return R.cache=new(w.Cache||M),R}w.Cache=M,fe.exports=w},function(fe,j,P){var M=P(81),v=P(95),w=P(97),E=P(98),S=P(99);function R(C){var H=-1,Y=null==C?0:C.length;for(this.clear();++H<Y;){var $=C[H];this.set($[0],$[1])}}R.prototype.clear=M,R.prototype.delete=v,R.prototype.get=w,R.prototype.has=E,R.prototype.set=S,fe.exports=R},function(fe,j,P){var M=P(82),v=P(88),w=P(94);fe.exports=function(){this.size=0,this.__data__={hash:new M,map:new(w||v),string:new M}}},function(fe,j,P){var M=P(83),v=P(84),w=P(85),E=P(86),S=P(87);function R(C){var H=-1,Y=null==C?0:C.length;for(this.clear();++H<Y;){var $=C[H];this.set($[0],$[1])}}R.prototype.clear=M,R.prototype.delete=v,R.prototype.get=w,R.prototype.has=E,R.prototype.set=S,fe.exports=R},function(fe,j,P){var M=P(8);fe.exports=function(){this.__data__=M?M(null):{},this.size=0}},function(fe,j){fe.exports=function(P){var M=this.has(P)&&delete this.__data__[P];return this.size-=M?1:0,M}},function(fe,j,P){var M=P(8),v=Object.prototype.hasOwnProperty;fe.exports=function(w){var E=this.__data__;if(M){var S=E[w];return"__lodash_hash_undefined__"===S?void 0:S}return v.call(E,w)?E[w]:void 0}},function(fe,j,P){var M=P(8),v=Object.prototype.hasOwnProperty;fe.exports=function(w){var E=this.__data__;return M?void 0!==E[w]:v.call(E,w)}},function(fe,j,P){var M=P(8);fe.exports=function(v,w){var E=this.__data__;return this.size+=this.has(v)?0:1,E[v]=M&&void 0===w?"__lodash_hash_undefined__":w,this}},function(fe,j,P){var M=P(89),v=P(90),w=P(91),E=P(92),S=P(93);function R(C){var H=-1,Y=null==C?0:C.length;for(this.clear();++H<Y;){var $=C[H];this.set($[0],$[1])}}R.prototype.clear=M,R.prototype.delete=v,R.prototype.get=w,R.prototype.has=E,R.prototype.set=S,fe.exports=R},function(fe,j){fe.exports=function(){this.__data__=[],this.size=0}},function(fe,j,P){var M=P(9),v=Array.prototype.splice;fe.exports=function(w){var E=this.__data__,S=M(E,w);return!(S<0||(S==E.length-1?E.pop():v.call(E,S,1),--this.size,0))}},function(fe,j,P){var M=P(9);fe.exports=function(v){var w=this.__data__,E=M(w,v);return E<0?void 0:w[E][1]}},function(fe,j,P){var M=P(9);fe.exports=function(v){return M(this.__data__,v)>-1}},function(fe,j,P){var M=P(9);fe.exports=function(v,w){var E=this.__data__,S=M(E,v);return S<0?(++this.size,E.push([v,w])):E[S][1]=w,this}},function(fe,j,P){var M=P(17)(P(19),"Map");fe.exports=M},function(fe,j,P){var M=P(10);fe.exports=function(v){var w=M(this,v).delete(v);return this.size-=w?1:0,w}},function(fe,j){fe.exports=function(P){var M=typeof P;return"string"==M||"number"==M||"symbol"==M||"boolean"==M?"__proto__"!==P:null===P}},function(fe,j,P){var M=P(10);fe.exports=function(v){return M(this,v).get(v)}},function(fe,j,P){var M=P(10);fe.exports=function(v){return M(this,v).has(v)}},function(fe,j,P){var M=P(10);fe.exports=function(v,w){var E=M(this,v),S=E.size;return E.set(v,w),this.size+=E.size==S?0:1,this}},function(fe,j,P){var M=P(101);fe.exports=function(v){return null==v?"":M(v)}},function(fe,j,P){var M=P(18),v=P(102),w=P(21),E=P(22),S=M?M.prototype:void 0,R=S?S.toString:void 0;fe.exports=function C(H){if("string"==typeof H)return H;if(w(H))return v(H,C)+"";if(E(H))return R?R.call(H):"";var Y=H+"";return"0"==Y&&1/H==-1/0?"-0":Y}},function(fe,j){fe.exports=function(P,M){for(var v=-1,w=null==P?0:P.length,E=Array(w);++v<w;)E[v]=M(P[v],v,P);return E}},function(fe,j){var P=/^(?:0|[1-9]\d*)$/;fe.exports=function(M,v){var w=typeof M;return!!(v=v??9007199254740991)&&("number"==w||"symbol"!=w&&P.test(M))&&M>-1&&M%1==0&&M<v}},function(fe,j,P){var M=P(22);fe.exports=function(v){if("string"==typeof v||M(v))return v;var w=v+"";return"0"==w&&1/v==-1/0?"-0":w}},function(fe,j,P){"use strict";var M=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(j,"__esModule",{value:!0});var v=M(P(15)),w=P(106),E=function(){function R(C){this.converter=C,this.finalResult=[]}return Object.defineProperty(R.prototype,"needEmitLine",{get:function(){return!!this.converter.parseRuntime.subscribe&&!!this.converter.parseRuntime.subscribe.onNext||this.needPushDownstream},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"needPushDownstream",{get:function(){return void 0===this._needPushDownstream&&(this._needPushDownstream=this.converter.listeners("data").length>0||this.converter.listeners("readable").length>0),this._needPushDownstream},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"needEmitAll",{get:function(){return!!this.converter.parseRuntime.then&&this.converter.parseParam.needEmitAll},enumerable:!0,configurable:!0}),R.prototype.processResult=function(C){var H=this;return this.needPushDownstream&&"array"===this.converter.parseParam.downstreamFormat&&0===this.converter.parseRuntime.parsedLineNumber&&S(this.converter,"["+w.EOL),new v.default(function($,te){H.needEmitLine?function q(ne,N,k,O,B){if(k>=ne.length)B();else if(N.parseRuntime.subscribe&&N.parseRuntime.subscribe.onNext){var I=N.parseRuntime.subscribe.onNext,U=ne[k],F=I(U,N.parseRuntime.parsedLineNumber+k);if(k++,F&&F.then)F.then(function(){var oe,ie,Q,ue,J;oe=ne,ie=N,Q=k,J=B,(ue=O)&&S(ie,U),q(oe,ie,Q,ue,J)},B);else{for(O&&S(N,U);k<ne.length;){var X=ne[k];I(X,N.parseRuntime.parsedLineNumber+k),k++,O&&S(N,X)}B()}}else{if(O)for(;k<ne.length;)X=ne[k++],S(N,X);B()}}(C,H.converter,0,H.needPushDownstream,function(q){q?te(q):(H.appendFinalResult(C),$())}):(H.appendFinalResult(C),$())})},R.prototype.appendFinalResult=function(C){this.needEmitAll&&(this.finalResult=this.finalResult.concat(C)),this.converter.parseRuntime.parsedLineNumber+=C.length},R.prototype.processError=function(C){this.converter.parseRuntime.subscribe&&this.converter.parseRuntime.subscribe.onError&&this.converter.parseRuntime.subscribe.onError(C),this.converter.parseRuntime.then&&this.converter.parseRuntime.then.onrejected&&this.converter.parseRuntime.then.onrejected(C)},R.prototype.endProcess=function(){this.converter.parseRuntime.then&&this.converter.parseRuntime.then.onfulfilled&&this.converter.parseRuntime.then.onfulfilled(this.needEmitAll?this.finalResult:[]),this.converter.parseRuntime.subscribe&&this.converter.parseRuntime.subscribe.onCompleted&&this.converter.parseRuntime.subscribe.onCompleted(),this.needPushDownstream&&"array"===this.converter.parseParam.downstreamFormat&&S(this.converter,"]"+w.EOL)},R}();function S(R,C){if("object"!=typeof C||R.options.objectMode)R.push(C);else{var H=JSON.stringify(C);R.push(H+("array"===R.parseParam.downstreamFormat?","+w.EOL:w.EOL),"utf8")}}j.Result=E},function(fe,j){j.endianness=function(){return"LE"},j.hostname=function(){return typeof location<"u"?location.hostname:""},j.loadavg=function(){return[]},j.uptime=function(){return 0},j.freemem=function(){return Number.MAX_VALUE},j.totalmem=function(){return Number.MAX_VALUE},j.cpus=function(){return[]},j.type=function(){return"Browser"},j.release=function(){return typeof navigator<"u"?navigator.appVersion:""},j.networkInterfaces=j.getNetworkInterfaces=function(){return{}},j.arch=function(){return"javascript"},j.platform=function(){return"browser"},j.tmpdir=j.tmpDir=function(){return"/tmp"},j.EOL="\n",j.homedir=function(){return"/"}}])},6952:(Qe,fe,j)=>{var P=j(1356),M=j(3407),v=j(2e3),w=j(2342),E=j(9235),S=j(2374),R=Date.prototype.getTime;function H(te){return null==te}function Y(te){return!(!te||"object"!=typeof te||"number"!=typeof te.length||"function"!=typeof te.copy||"function"!=typeof te.slice||te.length>0&&"number"!=typeof te[0])}Qe.exports=function C(te,q,ne){var N=ne||{};return!!(N.strict?v(te,q):te===q)||(!te||!q||"object"!=typeof te&&"object"!=typeof q?N.strict?v(te,q):te==q:function $(te,q,ne){var N,k;if(typeof te!=typeof q||H(te)||H(q)||te.prototype!==q.prototype||M(te)!==M(q))return!1;var O=w(te),B=w(q);if(O!==B)return!1;if(O||B)return te.source===q.source&&E(te)===E(q);if(S(te)&&S(q))return R.call(te)===R.call(q);var I=Y(te),U=Y(q);if(I!==U)return!1;if(I||U){if(te.length!==q.length)return!1;for(N=0;N<te.length;N++)if(te[N]!==q[N])return!1;return!0}if(typeof te!=typeof q)return!1;try{var F=P(te),X=P(q)}catch{return!1}if(F.length!==X.length)return!1;for(F.sort(),X.sort(),N=F.length-1;N>=0;N--)if(F[N]!=X[N])return!1;for(N=F.length-1;N>=0;N--)if(!C(te[k=F[N]],q[k],ne))return!1;return!0}(te,q,N))}},2358:(Qe,fe,j)=>{"use strict";var P=j(1356),M="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),v=Object.prototype.toString,w=Array.prototype.concat,E=Object.defineProperty,R=j(7027)(),C=E&&R,H=function($,te,q,ne){if(te in $)if(!0===ne){if($[te]===q)return}else if(!function($){return"function"==typeof $&&"[object Function]"===v.call($)}(ne)||!ne())return;C?E($,te,{configurable:!0,enumerable:!1,value:q,writable:!0}):$[te]=q},Y=function($,te){var q=arguments.length>2?arguments[2]:{},ne=P(te);M&&(ne=w.call(ne,Object.getOwnPropertySymbols(te)));for(var N=0;N<ne.length;N+=1)H($,ne[N],te[ne[N]],q[ne[N]])};Y.supportsDescriptors=!!C,Qe.exports=Y},1817:Qe=>{function fe(j,P,M,v){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(j,P,M,v)}fe.prototype.run=function(j,P,M,v){this._init(j,P,M,v);for(var w=0;w<this._datasetLength;w++)if(1!==this._visited[w]){this._visited[w]=1;var E=this._regionQuery(w);if(E.length<this.minPts)this.noise.push(w);else{var S=this.clusters.length;this.clusters.push([]),this._addToCluster(w,S),this._expandCluster(S,E)}}return this.clusters},fe.prototype._init=function(j,P,M,v){if(j){if(!(j instanceof Array))throw Error("Dataset must be of type array, "+typeof j+" given");this.dataset=j,this.clusters=[],this.noise=[],this._datasetLength=j.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}P&&(this.epsilon=P),M&&(this.minPts=M),v&&(this.distance=v)},fe.prototype._expandCluster=function(j,P){for(var M=0;M<P.length;M++){var v=P[M];if(1!==this._visited[v]){this._visited[v]=1;var w=this._regionQuery(v);w.length>=this.minPts&&(P=this._mergeArrays(P,w))}1!==this._assigned[v]&&this._addToCluster(v,j)}},fe.prototype._addToCluster=function(j,P){this.clusters[P].push(j),this._assigned[j]=1},fe.prototype._regionQuery=function(j){for(var P=[],M=0;M<this._datasetLength;M++)this.distance(this.dataset[j],this.dataset[M])<this.epsilon&&P.push(M);return P},fe.prototype._mergeArrays=function(j,P){for(var M=P.length,v=0;v<M;v++){var w=P[v];j.indexOf(w)<0&&j.push(w)}return j},fe.prototype._euclideanDistance=function(j,P){for(var M=0,v=Math.min(j.length,P.length);v--;)M+=(j[v]-P[v])*(j[v]-P[v]);return Math.sqrt(M)},Qe.exports&&(Qe.exports=fe)},4273:Qe=>{function fe(j,P,M){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(j,P,M)}fe.prototype.init=function(j,P,M){this.assignments=[],this.centroids=[],typeof j<"u"&&(this.dataset=j),typeof P<"u"&&(this.k=P),typeof M<"u"&&(this.distance=M)},fe.prototype.run=function(j,P){this.init(j,P);for(var M=this.dataset.length,v=0;v<this.k;v++)this.centroids[v]=this.randomCentroid();for(var w=!0;w;){w=this.assign();for(var E=0;E<this.k;E++){for(var S=new Array(Y),R=0,C=0;C<Y;C++)S[C]=0;for(var H=0;H<M;H++){var Y=this.dataset[H].length;if(E===this.assignments[H]){for(C=0;C<Y;C++)S[C]+=this.dataset[H][C];R++}}if(R>0){for(C=0;C<Y;C++)S[C]/=R;this.centroids[E]=S}else this.centroids[E]=this.randomCentroid(),w=!0}}return this.getClusters()},fe.prototype.randomCentroid=function(){var P,M,j=this.dataset.length-1;do{M=Math.round(Math.random()*j),P=this.dataset[M]}while(this.centroids.indexOf(P)>=0);return P},fe.prototype.assign=function(){for(var M,j=!1,P=this.dataset.length,v=0;v<P;v++)(M=this.argmin(this.dataset[v],this.centroids,this.distance))!=this.assignments[v]&&(this.assignments[v]=M,j=!0);return j},fe.prototype.getClusters=function(){for(var P,j=new Array(this.k),M=0;M<this.assignments.length;M++)typeof j[P=this.assignments[M]]>"u"&&(j[P]=[]),j[P].push(M);return j},fe.prototype.argmin=function(j,P,M){for(var S,v=Number.MAX_VALUE,w=0,E=P.length,R=0;R<E;R++)(S=M(j,P[R]))<v&&(v=S,w=R);return w},fe.prototype.distance=function(j,P){for(var M=0,v=Math.min(j.length,P.length);v--;){var w=j[v]-P[v];M+=w*w}return Math.sqrt(M)},Qe.exports&&(Qe.exports=fe)},8680:(Qe,fe,j)=>{if(Qe.exports)var P=j(8759);function M(v,w,E,S){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(v,w,E,S)}M.prototype.run=function(v,w,E,S){this._init(v,w,E,S);for(var R=0,C=this.dataset.length;R<C;R++)if(1!==this._processed[R]){this._processed[R]=1,this.clusters.push([R]);var H=this.clusters.length-1;this._orderedList.push(R);var Y=new P(null,null,"asc"),$=this._regionQuery(R);void 0!==this._distanceToCore(R)&&(this._updateQueue(R,$,Y),this._expandCluster(H,Y))}return this.clusters},M.prototype.getReachabilityPlot=function(){for(var v=[],w=0,E=this._orderedList.length;w<E;w++){var S=this._orderedList[w];v.push([S,this._reachability[S]])}return v},M.prototype._init=function(v,w,E,S){if(v){if(!(v instanceof Array))throw Error("Dataset must be of type array, "+typeof v+" given");this.dataset=v,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}w&&(this.epsilon=w),E&&(this.minPts=E),S&&(this.distance=S)},M.prototype._updateQueue=function(v,w,E){var S=this;this._coreDistance=this._distanceToCore(v),w.forEach(function(R){if(void 0===S._processed[R]){var C=S.distance(S.dataset[v],S.dataset[R]),H=Math.max(S._coreDistance,C);void 0===S._reachability[R]?(S._reachability[R]=H,E.insert(R,H)):H<S._reachability[R]&&(S._reachability[R]=H,E.remove(R),E.insert(R,H))}})},M.prototype._expandCluster=function(v,w){for(var E=w.getElements(),S=0,R=E.length;S<R;S++){var C=E[S];if(void 0===this._processed[C]){var H=this._regionQuery(C);this._processed[C]=1,this.clusters[v].push(C),this._orderedList.push(C),void 0!==this._distanceToCore(C)&&(this._updateQueue(C,H,w),this._expandCluster(v,w))}}},M.prototype._distanceToCore=function(v){for(var w=this.epsilon,E=0;E<w;E++)if(this._regionQuery(v,E).length>=this.minPts)return E},M.prototype._regionQuery=function(v,w){w=w||this.epsilon;for(var E=[],S=0,R=this.dataset.length;S<R;S++)this.distance(this.dataset[v],this.dataset[S])<w&&E.push(S);return E},M.prototype._euclideanDistance=function(v,w){for(var E=0,S=Math.min(v.length,w.length);S--;)E+=(v[S]-w[S])*(v[S]-w[S]);return Math.sqrt(E)},Qe.exports&&(Qe.exports=M)},8759:Qe=>{function fe(j,P,M){this._queue=[],this._priorities=[],this._sorting="desc",this._init(j,P,M)}fe.prototype.insert=function(j,P){for(var M=this._queue.length,v=M;v--;){var w=this._priorities[v];"desc"===this._sorting?P>w&&(M=v):P<w&&(M=v)}this._insertAt(j,P,M)},fe.prototype.remove=function(j){for(var P=this._queue.length;P--;)if(j===this._queue[P]){this._queue.splice(P,1),this._priorities.splice(P,1);break}},fe.prototype.forEach=function(j){this._queue.forEach(j)},fe.prototype.getElements=function(){return this._queue},fe.prototype.getElementPriority=function(j){return this._priorities[j]},fe.prototype.getPriorities=function(){return this._priorities},fe.prototype.getElementsWithPriorities=function(){for(var j=[],P=0,M=this._queue.length;P<M;P++)j.push([this._queue[P],this._priorities[P]]);return j},fe.prototype._init=function(j,P,M){if(j&&P){if(this._queue=[],this._priorities=[],j.length!==P.length)throw new Error("Arrays must have the same length");for(var v=0;v<j.length;v++)this.insert(j[v],P[v])}M&&(this._sorting=M)},fe.prototype._insertAt=function(j,P,M){this._queue.length===M?(this._queue.push(j),this._priorities.push(P)):(this._queue.splice(M,0,j),this._priorities.splice(M,0,P))},Qe.exports&&(Qe.exports=fe)},7470:(Qe,fe,j)=>{Qe.exports&&(Qe.exports={DBSCAN:j(1817),KMEANS:j(4273),OPTICS:j(8680),PriorityQueue:j(8759)})},5469:Qe=>{"use strict";function fe(ge,Ee,ve){ve=ve||2;var pe,Le,Ie,$e,Ke,W,ae,he=Ee&&Ee.length,ce=he?Ee[0]*ve:ge.length,se=j(ge,0,ce,ve,!0),ke=[];if(!se||se.next===se.prev)return ke;if(he&&(se=function R(ge,Ee,ve,he){var se,ke,Ie,ce=[];for(se=0,ke=Ee.length;se<ke;se++)(Ie=j(ge,Ee[se]*he,se<ke-1?Ee[se+1]*he:ge.length,he,!1))===Ie.next&&(Ie.steiner=!0),ce.push(N(Ie));for(ce.sort(C),se=0;se<ce.length;se++)ve=H(ce[se],ve);return ve}(ge,Ee,se,ve)),ge.length>80*ve){pe=Ie=ge[0],Le=$e=ge[1];for(var ye=ve;ye<ce;ye+=ve)(Ke=ge[ye])<pe&&(pe=Ke),(W=ge[ye+1])<Le&&(Le=W),Ke>Ie&&(Ie=Ke),W>$e&&($e=W);ae=0!==(ae=Math.max(Ie-pe,$e-Le))?32767/ae:0}return M(se,ke,ve,pe,Le,ae,0),ke}function j(ge,Ee,ve,he,ce){var se,ke;if(ce===Te(ge,Ee,ve,he)>0)for(se=Ee;se<ve;se+=he)ke=ue(se,ge[se],ge[se+1],ke);else for(se=ve-he;se>=Ee;se-=he)ke=ue(se,ge[se],ge[se+1],ke);return ke&&I(ke,ke.next)&&(J(ke),ke=ke.next),ke}function P(ge,Ee){if(!ge)return ge;Ee||(Ee=ge);var he,ve=ge;do{if(he=!1,ve.steiner||!I(ve,ve.next)&&0!==B(ve.prev,ve,ve.next))ve=ve.next;else{if(J(ve),(ve=Ee=ve.prev)===ve.next)break;he=!0}}while(he||ve!==Ee);return Ee}function M(ge,Ee,ve,he,ce,se,ke){if(ge){!ke&&se&&function te(ge,Ee,ve,he){var ce=ge;do{0===ce.z&&(ce.z=ne(ce.x,ce.y,Ee,ve,he)),ce.prevZ=ce.prev,ce.nextZ=ce.next,ce=ce.next}while(ce!==ge);ce.prevZ.nextZ=null,ce.prevZ=null,function q(ge){var Ee,ve,he,ce,se,ke,pe,Le,Ie=1;do{for(ve=ge,ge=null,se=null,ke=0;ve;){for(ke++,he=ve,pe=0,Ee=0;Ee<Ie&&(pe++,he=he.nextZ);Ee++);for(Le=Ie;pe>0||Le>0&&he;)0!==pe&&(0===Le||!he||ve.z<=he.z)?(ce=ve,ve=ve.nextZ,pe--):(ce=he,he=he.nextZ,Le--),se?se.nextZ=ce:ge=ce,ce.prevZ=se,se=ce;ve=he}se.nextZ=null,Ie*=2}while(ke>1)}(ce)}(ge,he,ce,se);for(var Le,Ie,pe=ge;ge.prev!==ge.next;)if(Le=ge.prev,Ie=ge.next,se?w(ge,he,ce,se):v(ge))Ee.push(Le.i/ve|0),Ee.push(ge.i/ve|0),Ee.push(Ie.i/ve|0),J(ge),ge=Ie.next,pe=Ie.next;else if((ge=Ie)===pe){ke?1===ke?M(ge=E(P(ge),Ee,ve),Ee,ve,he,ce,se,2):2===ke&&S(ge,Ee,ve,he,ce,se):M(P(ge),Ee,ve,he,ce,se,1);break}}}function v(ge){var Ee=ge.prev,ve=ge,he=ge.next;if(B(Ee,ve,he)>=0)return!1;for(var ce=Ee.x,se=ve.x,ke=he.x,pe=Ee.y,Le=ve.y,Ie=he.y,$e=ce<se?ce<ke?ce:ke:se<ke?se:ke,Ke=pe<Le?pe<Ie?pe:Ie:Le<Ie?Le:Ie,W=ce>se?ce>ke?ce:ke:se>ke?se:ke,ae=pe>Le?pe>Ie?pe:Ie:Le>Ie?Le:Ie,ye=he.next;ye!==Ee;){if(ye.x>=$e&&ye.x<=W&&ye.y>=Ke&&ye.y<=ae&&k(ce,pe,se,Le,ke,Ie,ye.x,ye.y)&&B(ye.prev,ye,ye.next)>=0)return!1;ye=ye.next}return!0}function w(ge,Ee,ve,he){var ce=ge.prev,se=ge,ke=ge.next;if(B(ce,se,ke)>=0)return!1;for(var pe=ce.x,Le=se.x,Ie=ke.x,$e=ce.y,Ke=se.y,W=ke.y,ae=pe<Le?pe<Ie?pe:Ie:Le<Ie?Le:Ie,ye=$e<Ke?$e<W?$e:W:Ke<W?Ke:W,Ae=pe>Le?pe>Ie?pe:Ie:Le>Ie?Le:Ie,ze=$e>Ke?$e>W?$e:W:Ke>W?Ke:W,Ze=ne(ae,ye,Ee,ve,he),ct=ne(Ae,ze,Ee,ve,he),ht=ge.prevZ,vt=ge.nextZ;ht&&ht.z>=Ze&&vt&&vt.z<=ct;){if(ht.x>=ae&&ht.x<=Ae&&ht.y>=ye&&ht.y<=ze&&ht!==ce&&ht!==ke&&k(pe,$e,Le,Ke,Ie,W,ht.x,ht.y)&&B(ht.prev,ht,ht.next)>=0||(ht=ht.prevZ,vt.x>=ae&&vt.x<=Ae&&vt.y>=ye&&vt.y<=ze&&vt!==ce&&vt!==ke&&k(pe,$e,Le,Ke,Ie,W,vt.x,vt.y)&&B(vt.prev,vt,vt.next)>=0))return!1;vt=vt.nextZ}for(;ht&&ht.z>=Ze;){if(ht.x>=ae&&ht.x<=Ae&&ht.y>=ye&&ht.y<=ze&&ht!==ce&&ht!==ke&&k(pe,$e,Le,Ke,Ie,W,ht.x,ht.y)&&B(ht.prev,ht,ht.next)>=0)return!1;ht=ht.prevZ}for(;vt&&vt.z<=ct;){if(vt.x>=ae&&vt.x<=Ae&&vt.y>=ye&&vt.y<=ze&&vt!==ce&&vt!==ke&&k(pe,$e,Le,Ke,Ie,W,vt.x,vt.y)&&B(vt.prev,vt,vt.next)>=0)return!1;vt=vt.nextZ}return!0}function E(ge,Ee,ve){var he=ge;do{var ce=he.prev,se=he.next.next;!I(ce,se)&&U(ce,he,he.next,se)&&z(ce,se)&&z(se,ce)&&(Ee.push(ce.i/ve|0),Ee.push(he.i/ve|0),Ee.push(se.i/ve|0),J(he),J(he.next),he=ge=se),he=he.next}while(he!==ge);return P(he)}function S(ge,Ee,ve,he,ce,se){var ke=ge;do{for(var pe=ke.next.next;pe!==ke.prev;){if(ke.i!==pe.i&&O(ke,pe)){var Le=Q(ke,pe);return ke=P(ke,ke.next),Le=P(Le,Le.next),M(ke,Ee,ve,he,ce,se,0),void M(Le,Ee,ve,he,ce,se,0)}pe=pe.next}ke=ke.next}while(ke!==ge)}function C(ge,Ee){return ge.x-Ee.x}function H(ge,Ee){var ve=function Y(ge,Ee){var ke,ve=Ee,he=ge.x,ce=ge.y,se=-1/0;do{if(ce<=ve.y&&ce>=ve.next.y&&ve.next.y!==ve.y){var pe=ve.x+(ce-ve.y)*(ve.next.x-ve.x)/(ve.next.y-ve.y);if(pe<=he&&pe>se&&(se=pe,ke=ve.x<ve.next.x?ve:ve.next,pe===he))return ke}ve=ve.next}while(ve!==Ee);if(!ke)return null;var W,Le=ke,Ie=ke.x,$e=ke.y,Ke=1/0;ve=ke;do{he>=ve.x&&ve.x>=Ie&&he!==ve.x&&k(ce<$e?he:se,ce,Ie,$e,ce<$e?se:he,ce,ve.x,ve.y)&&(W=Math.abs(ce-ve.y)/(he-ve.x),z(ve,ge)&&(W<Ke||W===Ke&&(ve.x>ke.x||ve.x===ke.x&&$(ke,ve)))&&(ke=ve,Ke=W)),ve=ve.next}while(ve!==Le);return ke}(ge,Ee);if(!ve)return Ee;var he=Q(ve,ge);return P(he,he.next),P(ve,ve.next)}function $(ge,Ee){return B(ge.prev,ge,Ee.prev)<0&&B(Ee.next,ge,ge.next)<0}function ne(ge,Ee,ve,he,ce){return(ge=1431655765&((ge=858993459&((ge=252645135&((ge=16711935&((ge=(ge-ve)*ce|0)|ge<<8))|ge<<4))|ge<<2))|ge<<1))|(Ee=1431655765&((Ee=858993459&((Ee=252645135&((Ee=16711935&((Ee=(Ee-he)*ce|0)|Ee<<8))|Ee<<4))|Ee<<2))|Ee<<1))<<1}function N(ge){var Ee=ge,ve=ge;do{(Ee.x<ve.x||Ee.x===ve.x&&Ee.y<ve.y)&&(ve=Ee),Ee=Ee.next}while(Ee!==ge);return ve}function k(ge,Ee,ve,he,ce,se,ke,pe){return(ce-ke)*(Ee-pe)>=(ge-ke)*(se-pe)&&(ge-ke)*(he-pe)>=(ve-ke)*(Ee-pe)&&(ve-ke)*(se-pe)>=(ce-ke)*(he-pe)}function O(ge,Ee){return ge.next.i!==Ee.i&&ge.prev.i!==Ee.i&&!function oe(ge,Ee){var ve=ge;do{if(ve.i!==ge.i&&ve.next.i!==ge.i&&ve.i!==Ee.i&&ve.next.i!==Ee.i&&U(ve,ve.next,ge,Ee))return!0;ve=ve.next}while(ve!==ge);return!1}(ge,Ee)&&(z(ge,Ee)&&z(Ee,ge)&&function ie(ge,Ee){var ve=ge,he=!1,ce=(ge.x+Ee.x)/2,se=(ge.y+Ee.y)/2;do{ve.y>se!=ve.next.y>se&&ve.next.y!==ve.y&&ce<(ve.next.x-ve.x)*(se-ve.y)/(ve.next.y-ve.y)+ve.x&&(he=!he),ve=ve.next}while(ve!==ge);return he}(ge,Ee)&&(B(ge.prev,ge,Ee.prev)||B(ge,Ee.prev,Ee))||I(ge,Ee)&&B(ge.prev,ge,ge.next)>0&&B(Ee.prev,Ee,Ee.next)>0)}function B(ge,Ee,ve){return(Ee.y-ge.y)*(ve.x-Ee.x)-(Ee.x-ge.x)*(ve.y-Ee.y)}function I(ge,Ee){return ge.x===Ee.x&&ge.y===Ee.y}function U(ge,Ee,ve,he){var ce=X(B(ge,Ee,ve)),se=X(B(ge,Ee,he)),ke=X(B(ve,he,ge)),pe=X(B(ve,he,Ee));return!!(ce!==se&&ke!==pe||0===ce&&F(ge,ve,Ee)||0===se&&F(ge,he,Ee)||0===ke&&F(ve,ge,he)||0===pe&&F(ve,Ee,he))}function F(ge,Ee,ve){return Ee.x<=Math.max(ge.x,ve.x)&&Ee.x>=Math.min(ge.x,ve.x)&&Ee.y<=Math.max(ge.y,ve.y)&&Ee.y>=Math.min(ge.y,ve.y)}function X(ge){return ge>0?1:ge<0?-1:0}function z(ge,Ee){return B(ge.prev,ge,ge.next)<0?B(ge,Ee,ge.next)>=0&&B(ge,ge.prev,Ee)>=0:B(ge,Ee,ge.prev)<0||B(ge,ge.next,Ee)<0}function Q(ge,Ee){var ve=new Me(ge.i,ge.x,ge.y),he=new Me(Ee.i,Ee.x,Ee.y),ce=ge.next,se=Ee.prev;return ge.next=Ee,Ee.prev=ge,ve.next=ce,ce.prev=ve,he.next=ve,ve.prev=he,se.next=he,he.prev=se,he}function ue(ge,Ee,ve,he){var ce=new Me(ge,Ee,ve);return he?(ce.next=he.next,ce.prev=he,he.next.prev=ce,he.next=ce):(ce.prev=ce,ce.next=ce),ce}function J(ge){ge.next.prev=ge.prev,ge.prev.next=ge.next,ge.prevZ&&(ge.prevZ.nextZ=ge.nextZ),ge.nextZ&&(ge.nextZ.prevZ=ge.prevZ)}function Me(ge,Ee,ve){this.i=ge,this.x=Ee,this.y=ve,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Te(ge,Ee,ve,he){for(var ce=0,se=Ee,ke=ve-he;se<ve;se+=he)ce+=(ge[ke]-ge[se])*(ge[se+1]+ge[ke+1]),ke=se;return ce}Qe.exports=fe,Qe.exports.default=fe,fe.deviation=function(ge,Ee,ve,he){var ce=Ee&&Ee.length,ke=Math.abs(Te(ge,0,ce?Ee[0]*ve:ge.length,ve));if(ce)for(var pe=0,Le=Ee.length;pe<Le;pe++)ke-=Math.abs(Te(ge,Ee[pe]*ve,pe<Le-1?Ee[pe+1]*ve:ge.length,ve));var Ke=0;for(pe=0;pe<he.length;pe+=3){var W=he[pe]*ve,ae=he[pe+1]*ve,ye=he[pe+2]*ve;Ke+=Math.abs((ge[W]-ge[ye])*(ge[ae+1]-ge[W+1])-(ge[W]-ge[ae])*(ge[ye+1]-ge[W+1]))}return 0===ke&&0===Ke?0:Math.abs((Ke-ke)/ke)},fe.flatten=function(ge){for(var Ee=ge[0][0].length,ve={vertices:[],holes:[],dimensions:Ee},he=0,ce=0;ce<ge.length;ce++){for(var se=0;se<ge[ce].length;se++)for(var ke=0;ke<Ee;ke++)ve.vertices.push(ge[ce][se][ke]);ce>0&&ve.holes.push(he+=ge[ce-1].length)}return ve}},3457:Qe=>{"use strict";var fe="Function.prototype.bind called on incompatible ",j=Array.prototype.slice,P=Object.prototype.toString,M="[object Function]";Qe.exports=function(w){var E=this;if("function"!=typeof E||P.call(E)!==M)throw new TypeError(fe+E);for(var R,S=j.call(arguments,1),H=Math.max(0,E.length-S.length),Y=[],$=0;$<H;$++)Y.push("$"+$);if(R=Function("binder","return function ("+Y.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof R){var q=E.apply(this,S.concat(j.call(arguments)));return Object(q)===q?q:this}return E.apply(w,S.concat(j.call(arguments)))}),E.prototype){var te=function(){};te.prototype=E.prototype,R.prototype=new te,te.prototype=null}return R}},4444:(Qe,fe,j)=>{"use strict";var P=j(3457);Qe.exports=Function.prototype.bind||P},9582:Qe=>{"use strict";var fe=function(){return"string"==typeof function(){}.name},j=Object.getOwnPropertyDescriptor;if(j)try{j([],"length")}catch{j=null}fe.functionsHaveConfigurableNames=function(){if(!fe()||!j)return!1;var v=j(function(){},"name");return!!v&&!!v.configurable};var P=Function.prototype.bind;fe.boundFunctionsHaveNames=function(){return fe()&&"function"==typeof P&&""!==function(){}.bind().name},Qe.exports=fe},5013:(Qe,fe,j)=>{var P=j(6952),M=function(S){this.precision=S&&S.precision?S.precision:17,this.direction=!(!S||!S.direction)&&S.direction,this.pseudoNode=!(!S||!S.pseudoNode)&&S.pseudoNode,this.objectComparator=S&&S.objectComparator?S.objectComparator:E};function v(S){return S.coordinates.map(function(R){return{type:S.type.replace("Multi",""),coordinates:R}})}function w(S,R){return S.hasOwnProperty("coordinates")?S.coordinates.length===R.coordinates.length:S.length===R.length}function E(S,R){return P(S,R,{strict:!0})}M.prototype.compare=function(S,R){if(S.type!==R.type||!w(S,R))return!1;switch(S.type){case"Point":return this.compareCoord(S.coordinates,R.coordinates);case"LineString":return this.compareLine(S.coordinates,R.coordinates,0,!1);case"Polygon":return this.comparePolygon(S,R);case"Feature":return this.compareFeature(S,R);default:if(0===S.type.indexOf("Multi")){var C=this,H=v(S),Y=v(R);return H.every(function($){return this.some(function(te){return C.compare($,te)})},Y)}}return!1},M.prototype.compareCoord=function(S,R){if(S.length!==R.length)return!1;for(var C=0;C<S.length;C++)if(S[C].toFixed(this.precision)!==R[C].toFixed(this.precision))return!1;return!0},M.prototype.compareLine=function(S,R,C,H){if(!w(S,R))return!1;var Y=this.pseudoNode?S:this.removePseudo(S),$=this.pseudoNode?R:this.removePseudo(R);if(!H||this.compareCoord(Y[0],$[0])||($=this.fixStartIndex($,Y))){var te=this.compareCoord(Y[C],$[C]);return this.direction||te?this.comparePath(Y,$):!!this.compareCoord(Y[C],$[$.length-(1+C)])&&this.comparePath(Y.slice().reverse(),$)}},M.prototype.fixStartIndex=function(S,R){for(var C,H=-1,Y=0;Y<S.length;Y++)if(this.compareCoord(S[Y],R[0])){H=Y;break}return H>=0&&(C=[].concat(S.slice(H,S.length),S.slice(1,H+1))),C},M.prototype.comparePath=function(S,R){var C=this;return S.every(function(H,Y){return C.compareCoord(H,this[Y])},R)},M.prototype.comparePolygon=function(S,R){if(this.compareLine(S.coordinates[0],R.coordinates[0],1,!0)){var C=S.coordinates.slice(1,S.coordinates.length),H=R.coordinates.slice(1,R.coordinates.length),Y=this;return C.every(function($){return this.some(function(te){return Y.compareLine($,te,1,!0)})},H)}return!1},M.prototype.compareFeature=function(S,R){return!(S.id!==R.id||!this.objectComparator(S.properties,R.properties)||!this.compareBBox(S,R))&&this.compare(S.geometry,R.geometry)},M.prototype.compareBBox=function(S,R){return!!(!S.bbox&&!R.bbox||S.bbox&&R.bbox&&this.compareCoord(S.bbox,R.bbox))},M.prototype.removePseudo=function(S){return S},Qe.exports=M},5406:(Qe,fe,j)=>{var P=j(7192),M=j(8275),v=j(3269),w=j(1503).Z,E=v.featureEach,C=M.featureCollection;function H(Y){var $=new P(Y);return $.insert=function(te){if("Feature"!==te.type)throw new Error("invalid feature");return te.bbox=te.bbox?te.bbox:w(te),P.prototype.insert.call(this,te)},$.load=function(te){var q=[];return Array.isArray(te)?te.forEach(function(ne){if("Feature"!==ne.type)throw new Error("invalid features");ne.bbox=ne.bbox?ne.bbox:w(ne),q.push(ne)}):E(te,function(ne){if("Feature"!==ne.type)throw new Error("invalid features");ne.bbox=ne.bbox?ne.bbox:w(ne),q.push(ne)}),P.prototype.load.call(this,q)},$.remove=function(te,q){if("Feature"!==te.type)throw new Error("invalid feature");return te.bbox=te.bbox?te.bbox:w(te),P.prototype.remove.call(this,te,q)},$.clear=function(){return P.prototype.clear.call(this)},$.search=function(te){var q=P.prototype.search.call(this,this.toBBox(te));return C(q)},$.collides=function(te){return P.prototype.collides.call(this,this.toBBox(te))},$.all=function(){var te=P.prototype.all.call(this);return C(te)},$.toJSON=function(){return P.prototype.toJSON.call(this)},$.fromJSON=function(te){return P.prototype.fromJSON.call(this,te)},$.toBBox=function(te){var q;if(te.bbox)q=te.bbox;else if(Array.isArray(te)&&4===te.length)q=te;else if(Array.isArray(te)&&6===te.length)q=[te[0],te[1],te[3],te[4]];else if("Feature"===te.type)q=w(te);else{if("FeatureCollection"!==te.type)throw new Error("invalid geojson");q=w(te)}return{minX:q[0],minY:q[1],maxX:q[2],maxY:q[3]}},$}Qe.exports=H,Qe.exports.default=H},7192:function(Qe){Qe.exports=function(){"use strict";function fe(N,k,O,B,I){!function U(F,X,oe,z,ie){for(;z>oe;){if(z-oe>600){var Q=z-oe+1,ue=X-oe+1,J=Math.log(Q),Me=.5*Math.exp(2*J/3),Te=.5*Math.sqrt(J*Me*(Q-Me)/Q)*(ue-Q/2<0?-1:1);U(F,X,Math.max(oe,Math.floor(X-ue*Me/Q+Te)),Math.min(z,Math.floor(X+(Q-ue)*Me/Q+Te)),ie)}var ve=F[X],he=oe,ce=z;for(j(F,oe,X),ie(F[z],ve)>0&&j(F,oe,z);he<ce;){for(j(F,he,ce),he++,ce--;ie(F[he],ve)<0;)he++;for(;ie(F[ce],ve)>0;)ce--}0===ie(F[oe],ve)?j(F,oe,ce):j(F,++ce,z),ce<=X&&(oe=ce+1),X<=ce&&(z=ce-1)}}(N,k,O||0,B||N.length-1,I||P)}function j(N,k,O){var B=N[k];N[k]=N[O],N[O]=B}function P(N,k){return N<k?-1:N>k?1:0}var M=function(N){void 0===N&&(N=9),this._maxEntries=Math.max(4,N),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function v(N,k,O){if(!O)return k.indexOf(N);for(var B=0;B<k.length;B++)if(O(N,k[B]))return B;return-1}function w(N,k){E(N,0,N.children.length,k,N)}function E(N,k,O,B,I){I||(I=q(null)),I.minX=1/0,I.minY=1/0,I.maxX=-1/0,I.maxY=-1/0;for(var U=k;U<O;U++){var F=N.children[U];S(I,N.leaf?B(F):F)}return I}function S(N,k){return N.minX=Math.min(N.minX,k.minX),N.minY=Math.min(N.minY,k.minY),N.maxX=Math.max(N.maxX,k.maxX),N.maxY=Math.max(N.maxY,k.maxY),N}function R(N,k){return N.minX-k.minX}function C(N,k){return N.minY-k.minY}function H(N){return(N.maxX-N.minX)*(N.maxY-N.minY)}function Y(N){return N.maxX-N.minX+(N.maxY-N.minY)}function $(N,k){return N.minX<=k.minX&&N.minY<=k.minY&&k.maxX<=N.maxX&&k.maxY<=N.maxY}function te(N,k){return k.minX<=N.maxX&&k.minY<=N.maxY&&k.maxX>=N.minX&&k.maxY>=N.minY}function q(N){return{children:N,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ne(N,k,O,B,I){for(var U=[k,O];U.length;)if(!((O=U.pop())-(k=U.pop())<=B)){var F=k+Math.ceil((O-k)/B/2)*B;fe(N,F,k,O,I),U.push(k,F,F,O)}}return M.prototype.all=function(){return this._all(this.data,[])},M.prototype.search=function(N){var k=this.data,O=[];if(!te(N,k))return O;for(var B=this.toBBox,I=[];k;){for(var U=0;U<k.children.length;U++){var F=k.children[U],X=k.leaf?B(F):F;te(N,X)&&(k.leaf?O.push(F):$(N,X)?this._all(F,O):I.push(F))}k=I.pop()}return O},M.prototype.collides=function(N){var k=this.data;if(!te(N,k))return!1;for(var O=[];k;){for(var B=0;B<k.children.length;B++){var I=k.children[B],U=k.leaf?this.toBBox(I):I;if(te(N,U)){if(k.leaf||$(N,U))return!0;O.push(I)}}k=O.pop()}return!1},M.prototype.load=function(N){if(!N||!N.length)return this;if(N.length<this._minEntries){for(var k=0;k<N.length;k++)this.insert(N[k]);return this}var O=this._build(N.slice(),0,N.length-1,0);if(this.data.children.length)if(this.data.height===O.height)this._splitRoot(this.data,O);else{if(this.data.height<O.height){var B=this.data;this.data=O,O=B}this._insert(O,this.data.height-O.height-1,!0)}else this.data=O;return this},M.prototype.insert=function(N){return N&&this._insert(N,this.data.height-1),this},M.prototype.clear=function(){return this.data=q([]),this},M.prototype.remove=function(N,k){if(!N)return this;for(var O,B,I,U=this.data,F=this.toBBox(N),X=[],oe=[];U||X.length;){if(U||(U=X.pop(),B=X[X.length-1],O=oe.pop(),I=!0),U.leaf){var z=v(N,U.children,k);if(-1!==z)return U.children.splice(z,1),X.push(U),this._condense(X),this}I||U.leaf||!$(U,F)?B?(O++,U=B.children[O],I=!1):U=null:(X.push(U),oe.push(O),O=0,B=U,U=U.children[0])}return this},M.prototype.toBBox=function(N){return N},M.prototype.compareMinX=function(N,k){return N.minX-k.minX},M.prototype.compareMinY=function(N,k){return N.minY-k.minY},M.prototype.toJSON=function(){return this.data},M.prototype.fromJSON=function(N){return this.data=N,this},M.prototype._all=function(N,k){for(var O=[];N;)N.leaf?k.push.apply(k,N.children):O.push.apply(O,N.children),N=O.pop();return k},M.prototype._build=function(N,k,O,B){var I,U=O-k+1,F=this._maxEntries;if(U<=F)return w(I=q(N.slice(k,O+1)),this.toBBox),I;B||(B=Math.ceil(Math.log(U)/Math.log(F)),F=Math.ceil(U/Math.pow(F,B-1))),(I=q([])).leaf=!1,I.height=B;var X=Math.ceil(U/F),oe=X*Math.ceil(Math.sqrt(F));ne(N,k,O,oe,this.compareMinX);for(var z=k;z<=O;z+=oe){var ie=Math.min(z+oe-1,O);ne(N,z,ie,X,this.compareMinY);for(var Q=z;Q<=ie;Q+=X){var ue=Math.min(Q+X-1,ie);I.children.push(this._build(N,Q,ue,B-1))}}return w(I,this.toBBox),I},M.prototype._chooseSubtree=function(N,k,O,B){for(;B.push(k),!k.leaf&&B.length-1!==O;){for(var I=1/0,U=1/0,F=void 0,X=0;X<k.children.length;X++){var oe=k.children[X],z=H(oe),ie=(Q=N,ue=oe,(Math.max(ue.maxX,Q.maxX)-Math.min(ue.minX,Q.minX))*(Math.max(ue.maxY,Q.maxY)-Math.min(ue.minY,Q.minY))-z);ie<U?(U=ie,I=z<I?z:I,F=oe):ie===U&&z<I&&(I=z,F=oe)}k=F||k.children[0]}var Q,ue;return k},M.prototype._insert=function(N,k,O){var B=O?N:this.toBBox(N),I=[],U=this._chooseSubtree(B,this.data,k,I);for(U.children.push(N),S(U,B);k>=0&&I[k].children.length>this._maxEntries;)this._split(I,k),k--;this._adjustParentBBoxes(B,I,k)},M.prototype._split=function(N,k){var O=N[k],B=O.children.length,I=this._minEntries;this._chooseSplitAxis(O,I,B);var U=this._chooseSplitIndex(O,I,B),F=q(O.children.splice(U,O.children.length-U));F.height=O.height,F.leaf=O.leaf,w(O,this.toBBox),w(F,this.toBBox),k?N[k-1].children.push(F):this._splitRoot(O,F)},M.prototype._splitRoot=function(N,k){this.data=q([N,k]),this.data.height=N.height+1,this.data.leaf=!1,w(this.data,this.toBBox)},M.prototype._chooseSplitIndex=function(N,k,O){for(var B,I,U,F,X,oe,z,ie=1/0,Q=1/0,ue=k;ue<=O-k;ue++){var J=E(N,0,ue,this.toBBox),Me=E(N,ue,O,this.toBBox),Te=(I=J,U=Me,void 0,void 0,void 0,void 0,F=Math.max(I.minX,U.minX),X=Math.max(I.minY,U.minY),oe=Math.min(I.maxX,U.maxX),z=Math.min(I.maxY,U.maxY),Math.max(0,oe-F)*Math.max(0,z-X)),ge=H(J)+H(Me);Te<ie?(ie=Te,B=ue,Q=ge<Q?ge:Q):Te===ie&&ge<Q&&(Q=ge,B=ue)}return B||O-k},M.prototype._chooseSplitAxis=function(N,k,O){var B=N.leaf?this.compareMinX:R,I=N.leaf?this.compareMinY:C;this._allDistMargin(N,k,O,B)<this._allDistMargin(N,k,O,I)&&N.children.sort(B)},M.prototype._allDistMargin=function(N,k,O,B){N.children.sort(B);for(var I=this.toBBox,U=E(N,0,k,I),F=E(N,O-k,O,I),X=Y(U)+Y(F),oe=k;oe<O-k;oe++){var z=N.children[oe];S(U,N.leaf?I(z):z),X+=Y(U)}for(var ie=O-k-1;ie>=k;ie--){var Q=N.children[ie];S(F,N.leaf?I(Q):Q),X+=Y(F)}return X},M.prototype._adjustParentBBoxes=function(N,k,O){for(var B=O;B>=0;B--)S(k[B],N)},M.prototype._condense=function(N){for(var k=N.length-1,O=void 0;k>=0;k--)0===N[k].children.length?k>0?(O=N[k-1].children).splice(O.indexOf(N[k]),1):this.clear():w(N[k],this.toBBox)},M}()},5203:(Qe,fe,j)=>{"use strict";var P,M=SyntaxError,v=Function,w=TypeError,E=function(J){try{return v('"use strict"; return ('+J+").constructor;")()}catch{}},S=Object.getOwnPropertyDescriptor;if(S)try{S({},"")}catch{S=null}var R=function(){throw new w},C=S?function(){try{return R}catch{try{return S(arguments,"callee").get}catch{return R}}}():R,H=j(2969)(),Y=Object.getPrototypeOf||function(J){return J.__proto__},$={},te=typeof Uint8Array>"u"?P:Y(Uint8Array),q={"%AggregateError%":typeof AggregateError>"u"?P:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?P:ArrayBuffer,"%ArrayIteratorPrototype%":H?Y([][Symbol.iterator]()):P,"%AsyncFromSyncIteratorPrototype%":P,"%AsyncFunction%":$,"%AsyncGenerator%":$,"%AsyncGeneratorFunction%":$,"%AsyncIteratorPrototype%":$,"%Atomics%":typeof Atomics>"u"?P:Atomics,"%BigInt%":typeof BigInt>"u"?P:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?P:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?P:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?P:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?P:Float32Array,"%Float64Array%":typeof Float64Array>"u"?P:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?P:FinalizationRegistry,"%Function%":v,"%GeneratorFunction%":$,"%Int8Array%":typeof Int8Array>"u"?P:Int8Array,"%Int16Array%":typeof Int16Array>"u"?P:Int16Array,"%Int32Array%":typeof Int32Array>"u"?P:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":H?Y(Y([][Symbol.iterator]())):P,"%JSON%":"object"==typeof JSON?JSON:P,"%Map%":typeof Map>"u"?P:Map,"%MapIteratorPrototype%":typeof Map>"u"||!H?P:Y((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?P:Promise,"%Proxy%":typeof Proxy>"u"?P:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?P:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?P:Set,"%SetIteratorPrototype%":typeof Set>"u"||!H?P:Y((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?P:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":H?Y(""[Symbol.iterator]()):P,"%Symbol%":H?Symbol:P,"%SyntaxError%":M,"%ThrowTypeError%":C,"%TypedArray%":te,"%TypeError%":w,"%Uint8Array%":typeof Uint8Array>"u"?P:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?P:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?P:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?P:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?P:WeakMap,"%WeakRef%":typeof WeakRef>"u"?P:WeakRef,"%WeakSet%":typeof WeakSet>"u"?P:WeakSet};try{null.error}catch(J){var ne=Y(Y(J));q["%Error.prototype%"]=ne}var N=function J(Me){var Te;if("%AsyncFunction%"===Me)Te=E("async function () {}");else if("%GeneratorFunction%"===Me)Te=E("function* () {}");else if("%AsyncGeneratorFunction%"===Me)Te=E("async function* () {}");else if("%AsyncGenerator%"===Me){var ge=J("%AsyncGeneratorFunction%");ge&&(Te=ge.prototype)}else if("%AsyncIteratorPrototype%"===Me){var Ee=J("%AsyncGenerator%");Ee&&(Te=Y(Ee.prototype))}return q[Me]=Te,Te},k={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O=j(4444),B=j(3164),I=O.call(Function.call,Array.prototype.concat),U=O.call(Function.apply,Array.prototype.splice),F=O.call(Function.call,String.prototype.replace),X=O.call(Function.call,String.prototype.slice),oe=O.call(Function.call,RegExp.prototype.exec),z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ie=/\\(\\)?/g,Q=function(Me){var Te=X(Me,0,1),ge=X(Me,-1);if("%"===Te&&"%"!==ge)throw new M("invalid intrinsic syntax, expected closing `%`");if("%"===ge&&"%"!==Te)throw new M("invalid intrinsic syntax, expected opening `%`");var Ee=[];return F(Me,z,function(ve,he,ce,se){Ee[Ee.length]=ce?F(se,ie,"$1"):he||ve}),Ee},ue=function(Me,Te){var Ee,ge=Me;if(B(k,ge)&&(ge="%"+(Ee=k[ge])[0]+"%"),B(q,ge)){var ve=q[ge];if(ve===$&&(ve=N(ge)),typeof ve>"u"&&!Te)throw new w("intrinsic "+Me+" exists, but is not available. Please file an issue!");return{alias:Ee,name:ge,value:ve}}throw new M("intrinsic "+Me+" does not exist!")};Qe.exports=function(Me,Te){if("string"!=typeof Me||0===Me.length)throw new w("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Te)throw new w('"allowMissing" argument must be a boolean');if(null===oe(/^%?[^%]*%?$/,Me))throw new M("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ge=Q(Me),Ee=ge.length>0?ge[0]:"",ve=ue("%"+Ee+"%",Te),he=ve.name,ce=ve.value,se=!1,ke=ve.alias;ke&&(Ee=ke[0],U(ge,I([0,1],ke)));for(var pe=1,Le=!0;pe<ge.length;pe+=1){var Ie=ge[pe],$e=X(Ie,0,1),Ke=X(Ie,-1);if(('"'===$e||"'"===$e||"`"===$e||'"'===Ke||"'"===Ke||"`"===Ke)&&$e!==Ke)throw new M("property names with quotes must have matching quotes");if(("constructor"===Ie||!Le)&&(se=!0),B(q,he="%"+(Ee+="."+Ie)+"%"))ce=q[he];else if(null!=ce){if(!(Ie in ce)){if(!Te)throw new w("base intrinsic for "+Me+" exists, but the property is not available.");return}if(S&&pe+1>=ge.length){var W=S(ce,Ie);ce=(Le=!!W)&&"get"in W&&!("originalValue"in W.get)?W.get:ce[Ie]}else Le=B(ce,Ie),ce=ce[Ie];Le&&!se&&(q[he]=ce)}}return ce}},7027:(Qe,fe,j)=>{"use strict";var M=j(5203)("%Object.defineProperty%",!0),v=function(){if(M)try{return M({},"a",{value:1}),!0}catch{return!1}return!1};v.hasArrayLengthDefineBug=function(){if(!v())return null;try{return 1!==M([],"length",{value:1}).length}catch{return!0}},Qe.exports=v},2969:(Qe,fe,j)=>{"use strict";var P=typeof Symbol<"u"&&Symbol,M=j(1983);Qe.exports=function(){return"function"==typeof P&&"function"==typeof Symbol&&"symbol"==typeof P("foo")&&"symbol"==typeof Symbol("bar")&&M()}},1983:Qe=>{"use strict";Qe.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var j={},P=Symbol("test"),M=Object(P);if("string"==typeof P||"[object Symbol]"!==Object.prototype.toString.call(P)||"[object Symbol]"!==Object.prototype.toString.call(M))return!1;for(P in j[P]=42,j)return!1;if("function"==typeof Object.keys&&0!==Object.keys(j).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(j).length)return!1;var w=Object.getOwnPropertySymbols(j);if(1!==w.length||w[0]!==P||!Object.prototype.propertyIsEnumerable.call(j,P))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var E=Object.getOwnPropertyDescriptor(j,P);if(42!==E.value||!0!==E.enumerable)return!1}return!0}},6259:(Qe,fe,j)=>{"use strict";var P=j(1983);Qe.exports=function(){return P()&&!!Symbol.toStringTag}},3164:(Qe,fe,j)=>{"use strict";var P=j(4444);Qe.exports=P.call(Function.call,Object.prototype.hasOwnProperty)},3407:(Qe,fe,j)=>{"use strict";var P=j(6259)(),v=j(5834)("Object.prototype.toString"),w=function(C){return!(P&&C&&"object"==typeof C&&Symbol.toStringTag in C)&&"[object Arguments]"===v(C)},E=function(C){return!!w(C)||null!==C&&"object"==typeof C&&"number"==typeof C.length&&C.length>=0&&"[object Array]"!==v(C)&&"[object Function]"===v(C.callee)},S=function(){return w(arguments)}();w.isLegacyArguments=E,Qe.exports=S?w:E},2374:(Qe,fe,j)=>{"use strict";var P=Date.prototype.getDay,v=Object.prototype.toString,E=j(6259)();Qe.exports=function(R){return"object"==typeof R&&null!==R&&(E?function(R){try{return P.call(R),!0}catch{return!1}}(R):"[object Date]"===v.call(R))}},2342:(Qe,fe,j)=>{"use strict";var v,w,E,S,P=j(5834),M=j(6259)();if(M){v=P("Object.prototype.hasOwnProperty"),w=P("RegExp.prototype.exec"),E={};var R=function(){throw E};S={toString:R,valueOf:R},"symbol"==typeof Symbol.toPrimitive&&(S[Symbol.toPrimitive]=R)}var C=P("Object.prototype.toString"),H=Object.getOwnPropertyDescriptor;Qe.exports=M?function(te){if(!te||"object"!=typeof te)return!1;var q=H(te,"lastIndex");if(!q||!v(q,"value"))return!1;try{w(te,S)}catch(N){return N===E}}:function(te){return!(!te||"object"!=typeof te&&"function"!=typeof te)&&"[object RegExp]"===C(te)}},9307:()=>{!function(){"use strict";(function(Qe){function fe(M,v,w,E){var S;S=v?new j(M,0,w,E):new P(M,0,w,E),this.root=S}function j(M,v,w,E){this._bounds=M,this.children=[],this.nodes=[],E&&(this._maxChildren=E),w&&(this._maxDepth=w),v&&(this._depth=v)}function P(M,v,w,E){j.call(this,M,v,w,E),this._stuckChildren=[]}fe.prototype.root=null,fe.prototype.insert=function(M){if(M instanceof Array)for(var v=M.length,w=0;w<v;w++)this.root.insert(M[w]);else this.root.insert(M)},fe.prototype.clear=function(){this.root.clear()},fe.prototype.retrieve=function(M){return this.root.retrieve(M).slice(0)},fe.prototype.retrieveInBounds=function(M){var v=this.root.retrieveInBounds(M);return fe._filterResults(v,M)},fe._filterResults=function(M,v){var w=[];if(this.root instanceof P)for(var E=0;E<M.length;E++){var S=M[E];fe._isBoundOverlappingBound(S,v)&&w.push(S)}else M.forEach(function(R){fe._isPointInsideBounds(R,v)&&w.push(R)});return w},fe._isPointInsideBounds=function(M,v){return M.x>=v.x&&M.x<=v.x+v.width&&M.y>=v.y&&M.y<=v.y+v.height},fe._isBoundOverlappingBound=function(M,v){return!(M.x>v.x+v.width||v.x>M.x+M.width||M.y>v.y+v.height||v.y>M.y+M.height)},j.prototype.nodes=null,j.prototype._classConstructor=j,j.prototype.children=null,j.prototype._bounds=null,j.prototype._depth=0,j.prototype._maxChildren=4,j.prototype._maxDepth=4,j.TOP_LEFT=0,j.TOP_RIGHT=1,j.BOTTOM_LEFT=2,j.BOTTOM_RIGHT=3,j.prototype.insert=function(M){if(this.nodes.length){var v=this._findIndex(M);this.nodes[v].insert(M)}else{this.children.push(M);var w=this.children.length;if(!(this._depth>=this._maxDepth)&&w>this._maxChildren){this.subdivide();for(var E=0;E<w;E++)this.insert(this.children[E]);this.children.length=0}}},j.prototype.retrieve=function(M){if(this.nodes.length){var v=this._findIndex(M);return this.nodes[v].retrieve(M)}return this.children},j.prototype.retrieveInBounds=function(M){var v=[];if(this.collidesWith(M))if(v=v.concat(this._stuckChildren),this.children.length)v=v.concat(this.children);else if(this.nodes.length)for(var w=0;w<this.nodes.length;w++)v=v.concat(this.nodes[w].retrieveInBounds(M));return v},j.prototype.collidesWith=function(M){var v=this._bounds;return!(v.x>M.x+M.width||M.x>v.x+v.width||v.y>M.y+M.height||M.y>v.y+v.height)},j.prototype._findIndex=function(M){var v=this._bounds,E=!(M.y>v.y+v.height/2),S=j.TOP_LEFT;return M.x>v.x+v.width/2?S=E?j.TOP_RIGHT:j.BOTTOM_RIGHT:E||(S=j.BOTTOM_LEFT),S},j.prototype.subdivide=function(){var M=this._depth+1,v=this._bounds.x,w=this._bounds.y,E=this._bounds.width/2|0,S=this._bounds.height/2|0,R=v+E,C=w+S;this.nodes[j.TOP_LEFT]=new this._classConstructor({x:v,y:w,width:E,height:S},M,this._maxDepth,this._maxChildren),this.nodes[j.TOP_RIGHT]=new this._classConstructor({x:R,y:w,width:E,height:S},M,this._maxDepth,this._maxChildren),this.nodes[j.BOTTOM_LEFT]=new this._classConstructor({x:v,y:C,width:E,height:S},M,this._maxDepth,this._maxChildren),this.nodes[j.BOTTOM_RIGHT]=new this._classConstructor({x:R,y:C,width:E,height:S},M,this._maxDepth,this._maxChildren)},j.prototype.clear=function(){this.children.length=0;for(var M=this.nodes.length,v=0;v<M;v++)this.nodes[v].clear();this.nodes.length=0},(P.prototype=new j)._classConstructor=P,P.prototype._stuckChildren=null,P.prototype._out=[],P.prototype.insert=function(M){if(this.nodes.length){var v=this._findIndex(M),w=this.nodes[v];M.x>=w._bounds.x&&M.x+M.width<=w._bounds.x+w._bounds.width&&M.y>=w._bounds.y&&M.y+M.height<=w._bounds.y+w._bounds.height?this.nodes[v].insert(M):this._stuckChildren.push(M)}else{this.children.push(M);var E=this.children.length;if(this._depth<this._maxDepth&&E>this._maxChildren){this.subdivide();for(var S=0;S<E;S++)this.insert(this.children[S]);this.children.length=0}}},P.prototype.getChildren=function(){return this.children.concat(this._stuckChildren)},P.prototype.retrieve=function(M){var v=this._out;if(v.length=0,this.nodes.length){var w=this._findIndex(M);v.push.apply(v,this.nodes[w].retrieve(M))}return v.push.apply(v,this._stuckChildren),v.push.apply(v,this.children),v},P.prototype.clear=function(){this._stuckChildren.length=0,this.children.length=0;var M=this.nodes.length;if(M){for(var v=0;v<M;v++)this.nodes[v].clear();this.nodes.length=0}},Qe.QuadTree=fe})(window),L.GridLayer.MaskCanvas=L.GridLayer.extend({options:{radius:5,useAbsoluteRadius:!0,color:"#000",opacity:.5,noMask:!1,lineColor:void 0,debug:!1,zIndex:18},initialize:function(Qe){L.setOptions(this,Qe)},createTile:function(Qe){var fe=document.createElement("canvas");return fe.width=fe.height=this.options.tileSize,this._draw(fe,Qe),this.options.debug&&this._drawDebugInfo(fe,Qe),fe},_drawDebugInfo:function(Qe,fe){var j=this.options.tileSize,P=Qe.getContext("2d");P.globalCompositeOperation="xor",P.fillStyle="#fff",P.fillRect(0,0,j,j),P.strokeStyle="#000",P.strokeText("x: "+fe.x+", y: "+fe.y+", zoom: "+fe.z,20,20),P.strokeStyle="#f55",P.beginPath(),P.moveTo(0,0),P.lineTo(j,0),P.lineTo(j,j),P.lineTo(0,j),P.closePath(),P.stroke()},setData:function(Qe){var fe=this;this.bounds=new L.LatLngBounds(Qe),this._quad=new QuadTree(this._boundsToQuery(this.bounds),!1,6,6);var P=1,M=0;Qe[0]instanceof L.LatLng&&(P="lng",M="lat"),this._maxRadius=0,Qe.forEach(function(w){var E=w[2]||fe.options.radius;fe._quad.insert({x:w[P],y:w[M],r:E}),fe._maxRadius=Math.max(fe._maxRadius,E)}),this._map&&this.redraw()},setRadius:function(Qe){this.options.radius=Qe,this.redraw()},_getMaxRadius:function(Qe){return this._calcRadius(this._maxRadius,Qe)},_tilePoint:function(Qe,fe){var j=Qe.multiplyBy(this.options.tileSize),P=this._map.project(new L.LatLng(fe.y,fe.x),Qe.z);return[Math.round(P.x-j.x),Math.round(P.y-j.y),this._calcRadius(fe.r||this.options.radius,Qe.z)]},_boundsToQuery:function(Qe){return null==Qe.getSouthWest()?{x:0,y:0,width:.1,height:.1}:{x:Qe.getSouthWest().lng,y:Qe.getSouthWest().lat,width:Qe.getNorthEast().lng-Qe.getSouthWest().lng,height:Qe.getNorthEast().lat-Qe.getSouthWest().lat}},_calcRadius:function(Qe,fe){var j;if(this.options.useAbsoluteRadius){var M=Qe/40075017*360/Math.cos(Math.PI/180*this._latLng.lat),v=new L.LatLng(this._latLng.lat,this._latLng.lng-M,!0),w=this._latLngToLayerPoint(v,fe),E=this._latLngToLayerPoint(this._latLng,fe);j=Math.max(Math.round(E.x-w.x),1)}else j=Qe;return j},_latLngToLayerPoint:function(Qe,fe){return this._map.project(Qe,fe)._round()._subtract(this._map.getPixelOrigin())},_draw:function(Qe,fe){if(this._quad&&this._map){var j=this.options.tileSize,P=fe.multiplyBy(j),M=P.add(new L.Point(j,j));if(this.options.useAbsoluteRadius){var v=P.add(new L.Point(j/2,j/2));this._latLng=this._map.unproject(v,fe.z)}var w=new L.Point(this._getMaxRadius(fe.z),this._getMaxRadius(fe.z));P=P.subtract(w),M=M.add(w);var E=new L.LatLngBounds(this._map.unproject(M,fe.z),this._map.unproject(P,fe.z)),S=this._quad.retrieveInBounds(this._boundsToQuery(E));this._drawPoints(Qe,fe,S)}},_drawPoints:function(Qe,fe,j){var M,P=Qe.getContext("2d");for(var v in P.fillStyle=this.options.color,this.options.lineColor&&(P.strokeStyle=this.options.lineColor,P.lineWidth=this.options.lineWidth||1),P.globalCompositeOperation="source-over",!this.options.noMask&&!this.options.debug&&(P.fillRect(0,0,this.options.tileSize,this.options.tileSize),P.globalCompositeOperation="destination-out"),j)j.hasOwnProperty(v)&&(M=this._tilePoint(fe,j[v]),P.beginPath(),P.arc(M[0],M[1],M[2],0,2*Math.PI),P.fill(),this.options.lineColor&&P.stroke())}}),L.TileLayer.maskCanvas=function(Qe){return new L.GridLayer.MaskCanvas(Qe)}}()},9529:function(Qe,fe){!function(j){"use strict";var P=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(v){L.Util.setOptions(this,v),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var w=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,w?this._withAnimation:this._noAnimation),this._markerCluster=w?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(v){if(v instanceof L.LayerGroup)return this.addLayers([v]);if(!v.getLatLng)return this._nonPointGroup.addLayer(v),this.fire("layeradd",{layer:v}),this;if(!this._map)return this._needsClustering.push(v),this.fire("layeradd",{layer:v}),this;if(this.hasLayer(v))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(v,this._maxZoom),this.fire("layeradd",{layer:v}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var w=v,E=this._zoom;if(v.__parent)for(;w.__parent._zoom>=E;)w=w.__parent;return this._currentShownBounds.contains(w.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(v,w):this._animationAddLayerNonAnimated(v,w)),this},removeLayer:function(v){return v instanceof L.LayerGroup?this.removeLayers([v]):v.getLatLng?this._map?v.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(v)),this._removeLayer(v,!0),this.fire("layerremove",{layer:v}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),v.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(v)&&(this._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,v)&&this.hasLayer(v)&&this._needsRemoving.push({layer:v,latlng:v._latlng}),this.fire("layerremove",{layer:v}),this):(this._nonPointGroup.removeLayer(v),this.fire("layerremove",{layer:v}),this)},addLayers:function(v,w){if(!L.Util.isArray(v))return this.addLayer(v);var q,E=this._featureGroup,S=this._nonPointGroup,R=this.options.chunkedLoading,C=this.options.chunkInterval,H=this.options.chunkProgress,Y=v.length,$=0,te=!0;if(this._map){var ne=(new Date).getTime(),N=L.bind(function(){var O=(new Date).getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();$<Y&&!(R&&$%200==0&&(new Date).getTime()-O>C);$++)if((q=v[$])instanceof L.LayerGroup)te&&(v=v.slice(),te=!1),this._extractNonGroupLayers(q,v),Y=v.length;else if(q.getLatLng){if(!this.hasLayer(q)&&(this._addLayer(q,this._maxZoom),w||this.fire("layeradd",{layer:q}),q.__parent&&2===q.__parent.getChildCount())){var I=q.__parent.getAllChildMarkers();E.removeLayer(I[0]===q?I[1]:I[0])}}else S.addLayer(q),w||this.fire("layeradd",{layer:q});H&&H($,Y,(new Date).getTime()-ne),$===Y?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(N,this.options.chunkDelay)},this);N()}else for(var k=this._needsClustering;$<Y;$++)(q=v[$])instanceof L.LayerGroup?(te&&(v=v.slice(),te=!1),this._extractNonGroupLayers(q,v),Y=v.length):q.getLatLng?this.hasLayer(q)||k.push(q):S.addLayer(q);return this},removeLayers:function(v){var w,E,S=v.length,R=this._featureGroup,C=this._nonPointGroup,H=!0;if(!this._map){for(w=0;w<S;w++)(E=v[w])instanceof L.LayerGroup?(H&&(v=v.slice(),H=!1),this._extractNonGroupLayers(E,v),S=v.length):(this._arraySplice(this._needsClustering,E),C.removeLayer(E),this.hasLayer(E)&&this._needsRemoving.push({layer:E,latlng:E._latlng}),this.fire("layerremove",{layer:E}));return this}if(this._unspiderfy){this._unspiderfy();var Y=v.slice(),$=S;for(w=0;w<$;w++)(E=Y[w])instanceof L.LayerGroup?(this._extractNonGroupLayers(E,Y),$=Y.length):this._unspiderfyLayer(E)}for(w=0;w<S;w++)(E=v[w])instanceof L.LayerGroup?(H&&(v=v.slice(),H=!1),this._extractNonGroupLayers(E,v),S=v.length):E.__parent?(this._removeLayer(E,!0,!0),this.fire("layerremove",{layer:E}),R.hasLayer(E)&&(R.removeLayer(E),E.clusterShow&&E.clusterShow())):(C.removeLayer(E),this.fire("layerremove",{layer:E}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(v){v.off(this._childMarkerEventHandlers,this),delete v.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var v=new L.LatLngBounds;this._topClusterLevel&&v.extend(this._topClusterLevel._bounds);for(var w=this._needsClustering.length-1;w>=0;w--)v.extend(this._needsClustering[w].getLatLng());return v.extend(this._nonPointGroup.getBounds()),v},eachLayer:function(v,w){var R,C,H,E=this._needsClustering.slice(),S=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(E),C=E.length-1;C>=0;C--){for(R=!0,H=S.length-1;H>=0;H--)if(S[H].layer===E[C]){R=!1;break}R&&v.call(w,E[C])}this._nonPointGroup.eachLayer(v,w)},getLayers:function(){var v=[];return this.eachLayer(function(w){v.push(w)}),v},getLayer:function(v){var w=null;return v=parseInt(v,10),this.eachLayer(function(E){L.stamp(E)===v&&(w=E)}),w},hasLayer:function(v){if(!v)return!1;var w,E=this._needsClustering;for(w=E.length-1;w>=0;w--)if(E[w]===v)return!0;for(w=(E=this._needsRemoving).length-1;w>=0;w--)if(E[w].layer===v)return!1;return!(!v.__parent||v.__parent._group!==this)||this._nonPointGroup.hasLayer(v)},zoomToShowLayer:function(v,w){var E=this._map;"function"!=typeof w&&(w=function(){});var S=function(){(E.hasLayer(v)||E.hasLayer(v.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",S,this),this.off("animationend",S,this),E.hasLayer(v)?w():v.__parent._icon&&(this.once("spiderfied",w,this),v.__parent.spiderfy()))};v._icon&&this._map.getBounds().contains(v.getLatLng())?w():v.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",S,this),this._map.panTo(v.getLatLng())):(this._map.on("moveend",S,this),this.on("animationend",S,this),v.__parent.zoomToBounds())},onAdd:function(v){var w,E,S;if(this._map=v,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(v),this._nonPointGroup.addTo(v),this._gridClusters||this._generateInitialClusters(),this._maxLat=v.options.crs.projection.MAX_LATITUDE,w=0,E=this._needsRemoving.length;w<E;w++)(S=this._needsRemoving[w]).newlatlng=S.layer._latlng,S.layer._latlng=S.latlng;for(w=0,E=this._needsRemoving.length;w<E;w++)this._removeLayer((S=this._needsRemoving[w]).layer,!0),S.layer._latlng=S.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),E=this._needsClustering,this._needsClustering=[],this.addLayers(E,!0)},onRemove:function(v){v.off("zoomend",this._zoomEnd,this),v.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(v){for(var w=v;w&&!w._icon;)w=w.__parent;return w||null},_arraySplice:function(v,w){for(var E=v.length-1;E>=0;E--)if(v[E]===w)return v.splice(E,1),!0},_removeFromGridUnclustered:function(v,w){for(var E=this._map,S=this._gridUnclustered,R=Math.floor(this._map.getMinZoom());w>=R&&S[w].removeObject(v,E.project(v.getLatLng(),w));w--);},_childMarkerDragStart:function(v){v.target.__dragStart=v.target._latlng},_childMarkerMoved:function(v){if(!this._ignoreMove&&!v.target.__dragStart){var w=v.target._popup&&v.target._popup.isOpen();this._moveChild(v.target,v.oldLatLng,v.latlng),w&&v.target.openPopup()}},_moveChild:function(v,w,E){v._latlng=w,this.removeLayer(v),v._latlng=E,this.addLayer(v)},_childMarkerDragEnd:function(v){var w=v.target.__dragStart;delete v.target.__dragStart,w&&this._moveChild(v.target,w,v.target._latlng)},_removeLayer:function(v,w,E){var S=this._gridClusters,R=this._gridUnclustered,C=this._featureGroup,H=this._map,Y=Math.floor(this._map.getMinZoom());w&&this._removeFromGridUnclustered(v,this._maxZoom);var q,$=v.__parent;for(this._arraySplice($._markers,v);$&&($._childCount--,$._boundsNeedUpdate=!0,!($._zoom<Y));)w&&$._childCount<=1?(q=$._markers[0]===v?$._markers[1]:$._markers[0],S[$._zoom].removeObject($,H.project($._cLatLng,$._zoom)),R[$._zoom].addObject(q,H.project(q.getLatLng(),$._zoom)),this._arraySplice($.__parent._childClusters,$),$.__parent._markers.push(q),q.__parent=$.__parent,$._icon&&(C.removeLayer($),E||C.addLayer(q))):$._iconNeedsUpdate=!0,$=$.__parent;delete v.__parent},_isOrIsParent:function(v,w){for(;w;){if(v===w)return!0;w=w.parentNode}return!1},fire:function(v,w,E){if(w&&w.layer instanceof L.MarkerCluster){if(w.originalEvent&&this._isOrIsParent(w.layer._icon,w.originalEvent.relatedTarget))return;v="cluster"+v}L.FeatureGroup.prototype.fire.call(this,v,w,E)},listens:function(v,w){return L.FeatureGroup.prototype.listens.call(this,v,w)||L.FeatureGroup.prototype.listens.call(this,"cluster"+v,w)},_defaultIconCreateFunction:function(v){var w=v.getChildCount(),E=" marker-cluster-";return new L.DivIcon({html:"<div><span>"+w+"</span></div>",className:"marker-cluster"+(E+=w<10?"small":w<100?"medium":"large"),iconSize:new L.Point(40,40)})},_bindEvents:function(){var v=this._map,E=this.options.showCoverageOnHover;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick||this.options.spiderfyOnEveryZoom)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),E&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),v.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(v){var w=v.layer,E=w;if("clusterkeypress"!==v.type||!v.originalEvent||13===v.originalEvent.keyCode){for(;1===E._childClusters.length;)E=E._childClusters[0];E._zoom===this._maxZoom&&E._childCount===w._childCount&&this.options.spiderfyOnMaxZoom?w.spiderfy():this.options.zoomToBoundsOnClick&&w.zoomToBounds(),this.options.spiderfyOnEveryZoom&&w.spiderfy(),v.originalEvent&&13===v.originalEvent.keyCode&&this._map._container.focus()}},_showCoverage:function(v){var w=this._map;this._inZoomAnimation||(this._shownPolygon&&w.removeLayer(this._shownPolygon),v.layer.getChildCount()>2&&v.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(v.layer.getConvexHull(),this.options.polygonOptions),w.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var w=this.options.showCoverageOnHover,R=this._map;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick||this.options.spiderfyOnEveryZoom)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),w&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),R.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var v=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,v),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),v),this._currentShownBounds=v}},_generateInitialClusters:function(){var v=Math.ceil(this._map.getMaxZoom()),w=Math.floor(this._map.getMinZoom()),E=this.options.maxClusterRadius,S=E;"function"!=typeof E&&(S=function(){return E}),null!==this.options.disableClusteringAtZoom&&(v=this.options.disableClusteringAtZoom-1),this._maxZoom=v,this._gridClusters={},this._gridUnclustered={};for(var R=v;R>=w;R--)this._gridClusters[R]=new L.DistanceGrid(S(R)),this._gridUnclustered[R]=new L.DistanceGrid(S(R));this._topClusterLevel=new this._markerCluster(this,w-1)},_addLayer:function(v,w){var C,H,E=this._gridClusters,S=this._gridUnclustered,R=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(v),v.on(this._childMarkerEventHandlers,this);w>=R;w--){C=this._map.project(v.getLatLng(),w);var Y=E[w].getNearObject(C);if(Y)return Y._addChild(v),void(v.__parent=Y);if(Y=S[w].getNearObject(C)){var $=Y.__parent;$&&this._removeLayer(Y,!1);var te=new this._markerCluster(this,w,Y,v);E[w].addObject(te,this._map.project(te._cLatLng,w)),Y.__parent=te,v.__parent=te;var q=te;for(H=w-1;H>$._zoom;H--)q=new this._markerCluster(this,H,q),E[H].addObject(q,this._map.project(Y.getLatLng(),H));return $._addChild(q),void this._removeFromGridUnclustered(Y,w)}S[w].addObject(v,C)}this._topClusterLevel._addChild(v),v.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(v){v instanceof L.MarkerCluster&&v._iconNeedsUpdate&&v._updateIcon()})},_enqueue:function(v){this._queue.push(v),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var v=0;v<this._queue.length;v++)this._queue[v].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var v=Math.round(this._map._zoom);this._processQueue(),this._zoom<v&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,v)):this._zoom>v?(this._animationStart(),this._animationZoomOut(this._zoom,v)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(v){var w=this._maxLat;return void 0!==w&&(v.getNorth()>=w&&(v._northEast.lat=1/0),v.getSouth()<=-w&&(v._southWest.lat=-1/0)),v},_animationAddLayerNonAnimated:function(v,w){if(w===v)this._featureGroup.addLayer(v);else if(2===w._childCount){w._addToMap();var E=w.getAllChildMarkers();this._featureGroup.removeLayer(E[0]),this._featureGroup.removeLayer(E[1])}else w._updateIcon()},_extractNonGroupLayers:function(v,w){var R,E=v.getLayers(),S=0;for(w=w||[];S<E.length;S++)(R=E[S])instanceof L.LayerGroup?this._extractNonGroupLayers(R,w):w.push(R);return w},_overrideMarkerIcon:function(v){return v.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[v]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(v,w){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),v),this._topClusterLevel._recursivelyAddChildrenToMap(null,w,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(v,w){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),v),this._topClusterLevel._recursivelyAddChildrenToMap(null,w,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(v,w){this._animationAddLayerNonAnimated(v,w)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(v,w){var C,E=this._getExpandedVisibleBounds(),S=this._featureGroup,R=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(E,v,R,function(H){var te,Y=H._latlng,$=H._markers;for(E.contains(Y)||(Y=null),H._isSingleParent()&&v+1===w?(S.removeLayer(H),H._recursivelyAddChildrenToMap(null,w,E)):(H.clusterHide(),H._recursivelyAddChildrenToMap(Y,w,E)),C=$.length-1;C>=0;C--)E.contains((te=$[C])._latlng)||S.removeLayer(te)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(E,w),S.eachLayer(function(H){!(H instanceof L.MarkerCluster)&&H._icon&&H.clusterShow()}),this._topClusterLevel._recursively(E,v,w,function(H){H._recursivelyRestoreChildPositions(w)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(E,v,R,function(H){S.removeLayer(H),H.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(v,w){this._animationZoomOutSingle(this._topClusterLevel,v-1,w),this._topClusterLevel._recursivelyAddChildrenToMap(null,w,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),v,this._getExpandedVisibleBounds())},_animationAddLayer:function(v,w){var E=this,S=this._featureGroup;S.addLayer(v),w!==v&&(w._childCount>2?(w._updateIcon(),this._forceLayout(),this._animationStart(),v._setPos(this._map.latLngToLayerPoint(w.getLatLng())),v.clusterHide(),this._enqueue(function(){S.removeLayer(v),v.clusterShow(),E._animationEnd()})):(this._forceLayout(),E._animationStart(),E._animationZoomOutSingle(w,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(v,w,E){var S=this._getExpandedVisibleBounds(),R=Math.floor(this._map.getMinZoom());v._recursivelyAnimateChildrenInAndAddSelfToMap(S,R,w+1,E);var C=this;this._forceLayout(),v._recursivelyBecomeVisible(S,E),this._enqueue(function(){if(1===v._childCount){var H=v._markers[0];this._ignoreMove=!0,H.setLatLng(H.getLatLng()),this._ignoreMove=!1,H.clusterShow&&H.clusterShow()}else v._recursively(S,E,R,function(Y){Y._recursivelyRemoveChildrenFromMap(S,R,w+1)});C._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(v){return new L.MarkerClusterGroup(v)};var M=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(v,w,E,S){L.Marker.prototype.initialize.call(this,E?E._cLatLng||E.getLatLng():new L.LatLng(0,0),{icon:this,pane:v.options.clusterPane}),this._group=v,this._zoom=w,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,E&&this._addChild(E),S&&this._addChild(S)},getAllChildMarkers:function(v,w){v=v||[];for(var E=this._childClusters.length-1;E>=0;E--)this._childClusters[E].getAllChildMarkers(v,w);for(var S=this._markers.length-1;S>=0;S--)w&&this._markers[S].__dragStart||v.push(this._markers[S]);return v},getChildCount:function(){return this._childCount},zoomToBounds:function(v){for(var H,w=this._childClusters.slice(),E=this._group._map,S=E.getBoundsZoom(this._bounds),R=this._zoom+1,C=E.getZoom();w.length>0&&S>R;){R++;var Y=[];for(H=0;H<w.length;H++)Y=Y.concat(w[H]._childClusters);w=Y}S>R?this._group._map.setView(this._latlng,R):S<=C?this._group._map.setView(this._latlng,C+1):this._group._map.fitBounds(this._bounds,v)},getBounds:function(){var v=new L.LatLngBounds;return v.extend(this._bounds),v},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(v,w){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(v),v instanceof L.MarkerCluster?(w||(this._childClusters.push(v),v.__parent=this),this._childCount+=v._childCount):(w||this._markers.push(v),this._childCount++),this.__parent&&this.__parent._addChild(v,!0)},_setClusterCenter:function(v){this._cLatLng||(this._cLatLng=v._cLatLng||v._latlng)},_resetBounds:function(){var v=this._bounds;v._southWest&&(v._southWest.lat=1/0,v._southWest.lng=1/0),v._northEast&&(v._northEast.lat=-1/0,v._northEast.lng=-1/0)},_recalculateBounds:function(){var C,H,Y,$,v=this._markers,w=this._childClusters,E=0,S=0,R=this._childCount;if(0!==R){for(this._resetBounds(),C=0;C<v.length;C++)this._bounds.extend(Y=v[C]._latlng),E+=Y.lat,S+=Y.lng;for(C=0;C<w.length;C++)(H=w[C])._boundsNeedUpdate&&H._recalculateBounds(),this._bounds.extend(H._bounds),E+=(Y=H._wLatLng).lat*($=H._childCount),S+=Y.lng*$;this._latlng=this._wLatLng=new L.LatLng(E/R,S/R),this._boundsNeedUpdate=!1}},_addToMap:function(v){v&&(this._backupLatlng=this._latlng,this.setLatLng(v)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(v,w,E){this._recursively(v,this._group._map.getMinZoom(),E-1,function(S){var C,H,R=S._markers;for(C=R.length-1;C>=0;C--)(H=R[C])._icon&&(H._setPos(w),H.clusterHide())},function(S){var C,H,R=S._childClusters;for(C=R.length-1;C>=0;C--)(H=R[C])._icon&&(H._setPos(w),H.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(v,w,E,S){this._recursively(v,S,w,function(R){R._recursivelyAnimateChildrenIn(v,R._group._map.latLngToLayerPoint(R.getLatLng()).round(),E),R._isSingleParent()&&E-1===S?(R.clusterShow(),R._recursivelyRemoveChildrenFromMap(v,w,E)):R.clusterHide(),R._addToMap()})},_recursivelyBecomeVisible:function(v,w){this._recursively(v,this._group._map.getMinZoom(),w,null,function(E){E.clusterShow()})},_recursivelyAddChildrenToMap:function(v,w,E){this._recursively(E,this._group._map.getMinZoom()-1,w,function(S){if(w!==S._zoom)for(var R=S._markers.length-1;R>=0;R--){var C=S._markers[R];E.contains(C._latlng)&&(v&&(C._backupLatlng=C.getLatLng(),C.setLatLng(v),C.clusterHide&&C.clusterHide()),S._group._featureGroup.addLayer(C))}},function(S){S._addToMap(v)})},_recursivelyRestoreChildPositions:function(v){for(var w=this._markers.length-1;w>=0;w--){var E=this._markers[w];E._backupLatlng&&(E.setLatLng(E._backupLatlng),delete E._backupLatlng)}if(v-1===this._zoom)for(var S=this._childClusters.length-1;S>=0;S--)this._childClusters[S]._restorePosition();else for(var R=this._childClusters.length-1;R>=0;R--)this._childClusters[R]._recursivelyRestoreChildPositions(v)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(v,w,E,S){var R,C;this._recursively(v,w-1,E-1,function(H){for(C=H._markers.length-1;C>=0;C--)R=H._markers[C],(!S||!S.contains(R._latlng))&&(H._group._featureGroup.removeLayer(R),R.clusterShow&&R.clusterShow())},function(H){for(C=H._childClusters.length-1;C>=0;C--)R=H._childClusters[C],(!S||!S.contains(R._latlng))&&(H._group._featureGroup.removeLayer(R),R.clusterShow&&R.clusterShow())})},_recursively:function(v,w,E,S,R){var Y,$,C=this._childClusters,H=this._zoom;if(w<=H&&(S&&S(this),R&&H===E&&R(this)),H<w||H<E)for(Y=C.length-1;Y>=0;Y--)($=C[Y])._boundsNeedUpdate&&$._recalculateBounds(),v.intersects($._bounds)&&$._recursively(v,w,E,S,R)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var v=this.options.opacity;return this.setOpacity(0),this.options.opacity=v,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(v){this._cellSize=v,this._sqCellSize=v*v,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(v,w){var E=this._getCoord(w.x),S=this._getCoord(w.y),R=this._grid,C=R[S]=R[S]||{},H=C[E]=C[E]||[],Y=L.Util.stamp(v);this._objectPoint[Y]=w,H.push(v)},updateObject:function(v,w){this.removeObject(v),this.addObject(v,w)},removeObject:function(v,w){var Y,$,E=this._getCoord(w.x),S=this._getCoord(w.y),R=this._grid,C=R[S]=R[S]||{},H=C[E]=C[E]||[];for(delete this._objectPoint[L.Util.stamp(v)],Y=0,$=H.length;Y<$;Y++)if(H[Y]===v)return H.splice(Y,1),1===$&&delete C[E],!0},eachObject:function(v,w){var E,S,R,C,H,Y,te=this._grid;for(E in te)for(S in H=te[E])for(R=0,C=(Y=H[S]).length;R<C;R++)v.call(w,Y[R])&&(R--,C--)},getNearObject:function(v){var S,R,C,H,Y,$,te,q,w=this._getCoord(v.x),E=this._getCoord(v.y),ne=this._objectPoint,N=this._sqCellSize,k=null;for(S=E-1;S<=E+1;S++)if(H=this._grid[S])for(R=w-1;R<=w+1;R++)if(Y=H[R])for(C=0,$=Y.length;C<$;C++)te=Y[C],((q=this._sqDist(ne[L.Util.stamp(te)],v))<N||q<=N&&null===k)&&(N=q,k=te);return k},_getCoord:function(v){var w=Math.floor(v/this._cellSize);return isFinite(w)?w:v},_sqDist:function(v,w){var E=w.x-v.x,S=w.y-v.y;return E*E+S*S}},L.QuickHull={getDistant:function(v,w){return(w[0].lng-w[1].lng)*(v.lat-w[0].lat)+(w[1].lat-w[0].lat)*(v.lng-w[0].lng)},findMostDistantPointFromBaseLine:function(v,w){var C,H,Y,E=0,S=null,R=[];for(C=w.length-1;C>=0;C--)(Y=this.getDistant(H=w[C],v))>0&&(R.push(H),Y>E&&(E=Y,S=H));return{maxPoint:S,newPoints:R}},buildConvexHull:function(v,w){var E=[],S=this.findMostDistantPointFromBaseLine(v,w);return S.maxPoint?E=(E=E.concat(this.buildConvexHull([v[0],S.maxPoint],S.newPoints))).concat(this.buildConvexHull([S.maxPoint,v[1]],S.newPoints)):[v[0]]},getConvexHull:function(v){var ne,w=!1,E=!1,S=!1,R=!1,C=null,H=null,Y=null,$=null,te=null,q=null;for(ne=v.length-1;ne>=0;ne--){var N=v[ne];(!1===w||N.lat>w)&&(C=N,w=N.lat),(!1===E||N.lat<E)&&(H=N,E=N.lat),(!1===S||N.lng>S)&&(Y=N,S=N.lng),(!1===R||N.lng<R)&&($=N,R=N.lng)}return E!==w?(q=H,te=C):(q=$,te=Y),[].concat(this.buildConvexHull([q,te],v),this.buildConvexHull([te,q],v))}},L.MarkerCluster.include({getConvexHull:function(){var E,S,v=this.getAllChildMarkers(),w=[];for(S=v.length-1;S>=0;S--)E=v[S].getLatLng(),w.push(E);return L.QuickHull.getConvexHull(w)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var R,v=this.getAllChildMarkers(null,!0),S=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?R=this._group.options.spiderfyShapePositions(v.length,S):v.length>=this._circleSpiralSwitchover?R=this._generatePointsSpiral(v.length,S):(S.y+=10,R=this._generatePointsCircle(v.length,S)),this._animationSpiderfy(v,R)}},unspiderfy:function(v){this._group._inZoomAnimation||(this._animationUnspiderfy(v),this._group._spiderfied=null)},_generatePointsCircle:function(v,w){var H,Y,S=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+v)/this._2PI,R=this._2PI/v,C=[];for(S=Math.max(S,35),C.length=v,H=0;H<v;H++)Y=this._circleStartAngle+H*R,C[H]=new L.Point(w.x+S*Math.cos(Y),w.y+S*Math.sin(Y))._round();return C},_generatePointsSpiral:function(v,w){var $,E=this._group.options.spiderfyDistanceMultiplier,S=E*this._spiralLengthStart,R=E*this._spiralFootSeparation,C=E*this._spiralLengthFactor*this._2PI,H=0,Y=[];for(Y.length=v,$=v;$>=0;$--)$<v&&(Y[$]=new L.Point(w.x+S*Math.cos(H),w.y+S*Math.sin(H))._round()),S+=C/(H+=R/S+5e-4*$);return Y},_noanimationUnspiderfy:function(){var R,C,v=this._group,w=v._map,E=v._featureGroup,S=this.getAllChildMarkers(null,!0);for(v._ignoreMove=!0,this.setOpacity(1),C=S.length-1;C>=0;C--)E.removeLayer(R=S[C]),R._preSpiderfyLatlng&&(R.setLatLng(R._preSpiderfyLatlng),delete R._preSpiderfyLatlng),R.setZIndexOffset&&R.setZIndexOffset(0),R._spiderLeg&&(w.removeLayer(R._spiderLeg),delete R._spiderLeg);v.fire("unspiderfied",{cluster:this,markers:S}),v._ignoreMove=!1,v._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(v,w){var H,Y,$,te,E=this._group,S=E._map,R=E._featureGroup,C=this._group.options.spiderLegPolylineOptions;for(E._ignoreMove=!0,H=0;H<v.length;H++)te=S.layerPointToLatLng(w[H]),Y=v[H],$=new L.Polyline([this._latlng,te],C),S.addLayer($),Y._spiderLeg=$,Y._preSpiderfyLatlng=Y._latlng,Y.setLatLng(te),Y.setZIndexOffset&&Y.setZIndexOffset(1e6),R.addLayer(Y);this.setOpacity(.3),E._ignoreMove=!1,E.fire("spiderfied",{cluster:this,markers:v})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(v,w){var ne,N,k,O,B,I,E=this,S=this._group,R=S._map,C=S._featureGroup,H=this._latlng,Y=R.latLngToLayerPoint(H),$=L.Path.SVG,te=L.extend({},this._group.options.spiderLegPolylineOptions),q=te.opacity;for(void 0===q&&(q=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),$?(te.opacity=0,te.className=(te.className||"")+" leaflet-cluster-spider-leg"):te.opacity=q,S._ignoreMove=!0,ne=0;ne<v.length;ne++)N=v[ne],I=R.layerPointToLatLng(w[ne]),k=new L.Polyline([H,I],te),R.addLayer(k),N._spiderLeg=k,$&&(B=(O=k._path).getTotalLength()+.1,O.style.strokeDasharray=B,O.style.strokeDashoffset=B),N.setZIndexOffset&&N.setZIndexOffset(1e6),N.clusterHide&&N.clusterHide(),C.addLayer(N),N._setPos&&N._setPos(Y);for(S._forceLayout(),S._animationStart(),ne=v.length-1;ne>=0;ne--)I=R.layerPointToLatLng(w[ne]),(N=v[ne])._preSpiderfyLatlng=N._latlng,N.setLatLng(I),N.clusterShow&&N.clusterShow(),$&&((O=(k=N._spiderLeg)._path).style.strokeDashoffset=0,k.setStyle({opacity:q}));this.setOpacity(.3),S._ignoreMove=!1,setTimeout(function(){S._animationEnd(),S.fire("spiderfied",{cluster:E,markers:v})},200)},_animationUnspiderfy:function(v){var $,te,q,ne,N,k,w=this,E=this._group,S=E._map,R=E._featureGroup,C=v?S._latLngToNewLayerPoint(this._latlng,v.zoom,v.center):S.latLngToLayerPoint(this._latlng),H=this.getAllChildMarkers(null,!0),Y=L.Path.SVG;for(E._ignoreMove=!0,E._animationStart(),this.setOpacity(1),te=H.length-1;te>=0;te--)($=H[te])._preSpiderfyLatlng&&($.closePopup(),$.setLatLng($._preSpiderfyLatlng),delete $._preSpiderfyLatlng,k=!0,$._setPos&&($._setPos(C),k=!1),$.clusterHide&&($.clusterHide(),k=!1),k&&R.removeLayer($),Y&&(N=(ne=(q=$._spiderLeg)._path).getTotalLength()+.1,ne.style.strokeDashoffset=N,q.setStyle({opacity:0})));E._ignoreMove=!1,setTimeout(function(){var O=0;for(te=H.length-1;te>=0;te--)($=H[te])._spiderLeg&&O++;for(te=H.length-1;te>=0;te--)($=H[te])._spiderLeg&&($.clusterShow&&$.clusterShow(),$.setZIndexOffset&&$.setZIndexOffset(0),O>1&&R.removeLayer($),S.removeLayer($._spiderLeg),delete $._spiderLeg);E._animationEnd(),E.fire("unspiderfied",{cluster:w,markers:H})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(v){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(v))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(v){this._spiderfied&&this._spiderfied.unspiderfy(v)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(v){v._spiderLeg&&(this._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow(),v.setZIndexOffset&&v.setZIndexOffset(0),this._map.removeLayer(v._spiderLeg),delete v._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(v){return v?v instanceof L.MarkerClusterGroup?v=v._topClusterLevel.getAllChildMarkers():v instanceof L.LayerGroup?v=v._layers:v instanceof L.MarkerCluster?v=v.getAllChildMarkers():v instanceof L.Marker&&(v=[v]):v=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(v),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(v),this},_flagParentsIconsNeedUpdate:function(v){var w,E;for(w in v)for(E=v[w].__parent;E;)E._iconNeedsUpdate=!0,E=E.__parent},_refreshSingleMarkerModeMarkers:function(v){var w,E;for(w in v)this.hasLayer(E=v[w])&&E.setIcon(this._overrideMarkerIcon(E))}}),L.Marker.include({refreshIconOptions:function(v,w){var E=this.options.icon;return L.setOptions(E,v),this.setIcon(E),w&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),j.MarkerClusterGroup=P,j.MarkerCluster=M,Object.defineProperty(j,"__esModule",{value:!0})}(fe)},8407:function(Qe,fe){!function(j){"use strict";function M(l){var g,x,V,re;for(x=1,V=arguments.length;x<V;x++)for(g in re=arguments[x])l[g]=re[g];return l}var v=Object.create||function(){function l(){}return function(g){return l.prototype=g,new l}}();function w(l,g){var x=Array.prototype.slice;if(l.bind)return l.bind.apply(l,x.call(arguments,1));var V=x.call(arguments,2);return function(){return l.apply(g,V.length?V.concat(x.call(arguments)):arguments)}}var E=0;function S(l){return"_leaflet_id"in l||(l._leaflet_id=++E),l._leaflet_id}function R(l,g,x){var V,re,De,He;return He=function(){V=!1,re&&(De.apply(x,re),re=!1)},De=function(){V?re=arguments:(l.apply(x,arguments),setTimeout(He,g),V=!0)},De}function C(l,g,x){var V=g[1],re=g[0],De=V-re;return l===V&&x?l:((l-re)%De+De)%De+re}function H(){return!1}function Y(l,g){if(!1===g)return l;var x=Math.pow(10,void 0===g?6:g);return Math.round(l*x)/x}function $(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function te(l){return $(l).split(/\s+/)}function q(l,g){for(var x in Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?v(l.options):{}),g)l.options[x]=g[x];return l.options}function ne(l,g,x){var V=[];for(var re in l)V.push(encodeURIComponent(x?re.toUpperCase():re)+"="+encodeURIComponent(l[re]));return(g&&-1!==g.indexOf("?")?"&":"?")+V.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function k(l,g){return l.replace(N,function(x,V){var re=g[V];if(void 0===re)throw new Error("No value provided for variable "+x);return"function"==typeof re&&(re=re(g)),re})}var O=Array.isArray||function(l){return"[object Array]"===Object.prototype.toString.call(l)};function B(l,g){for(var x=0;x<l.length;x++)if(l[x]===g)return x;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function U(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var F=0;function X(l){var g=+new Date,x=Math.max(0,16-(g-F));return F=g+x,window.setTimeout(l,x)}var oe=window.requestAnimationFrame||U("RequestAnimationFrame")||X,z=window.cancelAnimationFrame||U("CancelAnimationFrame")||U("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function ie(l,g,x){if(!x||oe!==X)return oe.call(window,w(l,g));l.call(g)}function Q(l){l&&z.call(window,l)}var ue={__proto__:null,extend:M,create:v,bind:w,get lastId(){return E},stamp:S,throttle:R,wrapNum:C,falseFn:H,formatNum:Y,trim:$,splitWords:te,setOptions:q,getParamString:ne,template:k,isArray:O,indexOf:B,emptyImageUrl:I,requestFn:oe,cancelFn:z,requestAnimFrame:ie,cancelAnimFrame:Q};function J(){}J.extend=function(l){var g=function(){q(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},x=g.__super__=this.prototype,V=v(x);for(var re in V.constructor=g,g.prototype=V,this)Object.prototype.hasOwnProperty.call(this,re)&&"prototype"!==re&&"__super__"!==re&&(g[re]=this[re]);return l.statics&&M(g,l.statics),l.includes&&(function Me(l){if(!(typeof L>"u")&&L&&L.Mixin){l=O(l)?l:[l];for(var g=0;g<l.length;g++)l[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(l.includes),M.apply(null,[V].concat(l.includes))),M(V,l),delete V.statics,delete V.includes,V.options&&(V.options=x.options?v(x.options):{},M(V.options,l.options)),V._initHooks=[],V.callInitHooks=function(){if(!this._initHooksCalled){x.callInitHooks&&x.callInitHooks.call(this),this._initHooksCalled=!0;for(var De=0,He=V._initHooks.length;De<He;De++)V._initHooks[De].call(this)}},g},J.include=function(l){var g=this.prototype.options;return M(this.prototype,l),l.options&&(this.prototype.options=g,this.mergeOptions(l.options)),this},J.mergeOptions=function(l){return M(this.prototype.options,l),this},J.addInitHook=function(l){var g=Array.prototype.slice.call(arguments,1),x="function"==typeof l?l:function(){this[l].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(x),this};var Te={on:function(l,g,x){if("object"==typeof l)for(var V in l)this._on(V,l[V],g);else for(var re=0,De=(l=te(l)).length;re<De;re++)this._on(l[re],g,x);return this},off:function(l,g,x){if(arguments.length)if("object"==typeof l)for(var V in l)this._off(V,l[V],g);else{l=te(l);for(var re=1===arguments.length,De=0,He=l.length;De<He;De++)re?this._off(l[De]):this._off(l[De],g,x)}else delete this._events;return this},_on:function(l,g,x,V){if("function"==typeof g){if(!1===this._listens(l,g,x)){x===this&&(x=void 0);var re={fn:g,ctx:x};V&&(re.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(re)}}else console.warn("wrong listener type: "+typeof g)},_off:function(l,g,x){var V,re,De;if(this._events&&(V=this._events[l])){if(1===arguments.length){if(this._firingCount)for(re=0,De=V.length;re<De;re++)V[re].fn=H;return void delete this._events[l]}if("function"!=typeof g)return void console.warn("wrong listener type: "+typeof g);var He=this._listens(l,g,x);!1!==He&&(this._firingCount&&(V[He].fn=H,this._events[l]=V=V.slice()),V.splice(He,1))}},fire:function(l,g,x){if(!this.listens(l,x))return this;var V=M({},g,{type:l,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var re=this._events[l];if(re){this._firingCount=this._firingCount+1||1;for(var De=0,He=re.length;De<He;De++){var tt=re[De],ot=tt.fn;tt.once&&this.off(l,ot,tt.ctx),ot.call(tt.ctx||this,V)}this._firingCount--}}return x&&this._propagateEvent(V),this},listens:function(l,g,x,V){"string"!=typeof l&&console.warn('"string" type argument expected');var re=g;"function"!=typeof g&&(V=!!g,re=void 0,x=void 0);var De=this._events&&this._events[l];if(De&&De.length&&!1!==this._listens(l,re,x))return!0;if(V)for(var He in this._eventParents)if(this._eventParents[He].listens(l,g,x,V))return!0;return!1},_listens:function(l,g,x){if(!this._events)return!1;var V=this._events[l]||[];if(!g)return!!V.length;x===this&&(x=void 0);for(var re=0,De=V.length;re<De;re++)if(V[re].fn===g&&V[re].ctx===x)return re;return!1},once:function(l,g,x){if("object"==typeof l)for(var V in l)this._on(V,l[V],g,!0);else for(var re=0,De=(l=te(l)).length;re<De;re++)this._on(l[re],g,x,!0);return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[S(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[S(l)],this},_propagateEvent:function(l){for(var g in this._eventParents)this._eventParents[g].fire(l.type,M({layer:l.target,propagatedFrom:l.target},l),!0)}};Te.addEventListener=Te.on,Te.removeEventListener=Te.clearAllEventListeners=Te.off,Te.addOneTimeEventListener=Te.once,Te.fireEvent=Te.fire,Te.hasEventListeners=Te.listens;var ge=J.extend(Te);function Ee(l,g,x){this.x=x?Math.round(l):l,this.y=x?Math.round(g):g}var ve=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};function he(l,g,x){return l instanceof Ee?l:O(l)?new Ee(l[0],l[1]):null==l?l:"object"==typeof l&&"x"in l&&"y"in l?new Ee(l.x,l.y):new Ee(l,g,x)}function ce(l,g){if(l)for(var x=g?[l,g]:l,V=0,re=x.length;V<re;V++)this.extend(x[V])}function se(l,g){return!l||l instanceof ce?l:new ce(l,g)}function ke(l,g){if(l)for(var x=g?[l,g]:l,V=0,re=x.length;V<re;V++)this.extend(x[V])}function pe(l,g){return l instanceof ke?l:new ke(l,g)}function Le(l,g,x){if(isNaN(l)||isNaN(g))throw new Error("Invalid LatLng object: ("+l+", "+g+")");this.lat=+l,this.lng=+g,void 0!==x&&(this.alt=+x)}function Ie(l,g,x){return l instanceof Le?l:O(l)&&"object"!=typeof l[0]?3===l.length?new Le(l[0],l[1],l[2]):2===l.length?new Le(l[0],l[1]):null:null==l?l:"object"==typeof l&&"lat"in l?new Le(l.lat,"lng"in l?l.lng:l.lon,l.alt):void 0===g?null:new Le(l,g,x)}Ee.prototype={clone:function(){return new Ee(this.x,this.y)},add:function(l){return this.clone()._add(he(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(he(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new Ee(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new Ee(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ve(this.x),this.y=ve(this.y),this},distanceTo:function(l){var g=(l=he(l)).x-this.x,x=l.y-this.y;return Math.sqrt(g*g+x*x)},equals:function(l){return(l=he(l)).x===this.x&&l.y===this.y},contains:function(l){return l=he(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+Y(this.x)+", "+Y(this.y)+")"}},ce.prototype={extend:function(l){var g,x;if(!l)return this;if(l instanceof Ee||"number"==typeof l[0]||"x"in l)g=x=he(l);else if(x=(l=se(l)).max,!(g=l.min)||!x)return this;return this.min||this.max?(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(x.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(x.y,this.max.y)):(this.min=g.clone(),this.max=x.clone()),this},getCenter:function(l){return he((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return he(this.min.x,this.max.y)},getTopRight:function(){return he(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var g,x;return(l="number"==typeof l[0]||l instanceof Ee?he(l):se(l))instanceof ce?(g=l.min,x=l.max):g=x=l,g.x>=this.min.x&&x.x<=this.max.x&&g.y>=this.min.y&&x.y<=this.max.y},intersects:function(l){l=se(l);var g=this.min,x=this.max,V=l.min,re=l.max;return re.x>=g.x&&V.x<=x.x&&re.y>=g.y&&V.y<=x.y},overlaps:function(l){l=se(l);var g=this.min,x=this.max,V=l.min,re=l.max;return re.x>g.x&&V.x<x.x&&re.y>g.y&&V.y<x.y},isValid:function(){return!(!this.min||!this.max)},pad:function(l){var g=this.min,x=this.max,V=Math.abs(g.x-x.x)*l,re=Math.abs(g.y-x.y)*l;return se(he(g.x-V,g.y-re),he(x.x+V,x.y+re))},equals:function(l){return!!l&&(l=se(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight()))}},ke.prototype={extend:function(l){var V,re,g=this._southWest,x=this._northEast;if(l instanceof Le)V=l,re=l;else{if(!(l instanceof ke))return l?this.extend(Ie(l)||pe(l)):this;if(re=l._northEast,!(V=l._southWest)||!re)return this}return g||x?(g.lat=Math.min(V.lat,g.lat),g.lng=Math.min(V.lng,g.lng),x.lat=Math.max(re.lat,x.lat),x.lng=Math.max(re.lng,x.lng)):(this._southWest=new Le(V.lat,V.lng),this._northEast=new Le(re.lat,re.lng)),this},pad:function(l){var g=this._southWest,x=this._northEast,V=Math.abs(g.lat-x.lat)*l,re=Math.abs(g.lng-x.lng)*l;return new ke(new Le(g.lat-V,g.lng-re),new Le(x.lat+V,x.lng+re))},getCenter:function(){return new Le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Le(this.getNorth(),this.getWest())},getSouthEast:function(){return new Le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){l="number"==typeof l[0]||l instanceof Le||"lat"in l?Ie(l):pe(l);var V,re,g=this._southWest,x=this._northEast;return l instanceof ke?(V=l.getSouthWest(),re=l.getNorthEast()):V=re=l,V.lat>=g.lat&&re.lat<=x.lat&&V.lng>=g.lng&&re.lng<=x.lng},intersects:function(l){l=pe(l);var g=this._southWest,x=this._northEast,V=l.getSouthWest(),re=l.getNorthEast();return re.lat>=g.lat&&V.lat<=x.lat&&re.lng>=g.lng&&V.lng<=x.lng},overlaps:function(l){l=pe(l);var g=this._southWest,x=this._northEast,V=l.getSouthWest(),re=l.getNorthEast();return re.lat>g.lat&&V.lat<x.lat&&re.lng>g.lng&&V.lng<x.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,g){return!!l&&(l=pe(l),this._southWest.equals(l.getSouthWest(),g)&&this._northEast.equals(l.getNorthEast(),g))},isValid:function(){return!(!this._southWest||!this._northEast)}},Le.prototype={equals:function(l,g){return!!l&&(l=Ie(l),Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng))<=(void 0===g?1e-9:g))},toString:function(l){return"LatLng("+Y(this.lat,l)+", "+Y(this.lng,l)+")"},distanceTo:function(l){return Ke.distance(this,Ie(l))},wrap:function(){return Ke.wrapLatLng(this)},toBounds:function(l){var g=180*l/40075017,x=g/Math.cos(Math.PI/180*this.lat);return pe([this.lat-g,this.lng-x],[this.lat+g,this.lng+x])},clone:function(){return new Le(this.lat,this.lng,this.alt)}};var l,$e={latLngToPoint:function(l,g){var x=this.projection.project(l),V=this.scale(g);return this.transformation._transform(x,V)},pointToLatLng:function(l,g){var x=this.scale(g),V=this.transformation.untransform(l,x);return this.projection.unproject(V)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var g=this.projection.bounds,x=this.scale(l);return new ce(this.transformation.transform(g.min,x),this.transformation.transform(g.max,x))},infinite:!1,wrapLatLng:function(l){var g=this.wrapLng?C(l.lng,this.wrapLng,!0):l.lng;return new Le(this.wrapLat?C(l.lat,this.wrapLat,!0):l.lat,g,l.alt)},wrapLatLngBounds:function(l){var g=l.getCenter(),x=this.wrapLatLng(g),V=g.lat-x.lat,re=g.lng-x.lng;if(0===V&&0===re)return l;var De=l.getSouthWest(),He=l.getNorthEast();return new ke(new Le(De.lat-V,De.lng-re),new Le(He.lat-V,He.lng-re))}},Ke=M({},$e,{wrapLng:[-180,180],R:6371e3,distance:function(l,g){var x=Math.PI/180,V=l.lat*x,re=g.lat*x,De=Math.sin((g.lat-l.lat)*x/2),He=Math.sin((g.lng-l.lng)*x/2),tt=De*De+Math.cos(V)*Math.cos(re)*He*He,ot=2*Math.atan2(Math.sqrt(tt),Math.sqrt(1-tt));return this.R*ot}}),W=6378137,ae={R:W,MAX_LATITUDE:85.0511287798,project:function(l){var g=Math.PI/180,x=this.MAX_LATITUDE,V=Math.max(Math.min(x,l.lat),-x),re=Math.sin(V*g);return new Ee(this.R*l.lng*g,this.R*Math.log((1+re)/(1-re))/2)},unproject:function(l){var g=180/Math.PI;return new Le((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*g,l.x*g/this.R)},bounds:(l=W*Math.PI,new ce([-l,-l],[l,l]))};function ye(l,g,x,V){if(O(l))return this._a=l[0],this._b=l[1],this._c=l[2],void(this._d=l[3]);this._a=l,this._b=g,this._c=x,this._d=V}function Ae(l,g,x,V){return new ye(l,g,x,V)}ye.prototype={transform:function(l,g){return this._transform(l.clone(),g)},_transform:function(l,g){return l.x=(g=g||1)*(this._a*l.x+this._b),l.y=g*(this._c*l.y+this._d),l},untransform:function(l,g){return new Ee((l.x/(g=g||1)-this._b)/this._a,(l.y/g-this._d)/this._c)}};var ze=M({},Ke,{code:"EPSG:3857",projection:ae,transformation:function(){var l=.5/(Math.PI*ae.R);return Ae(l,.5,-l,.5)}()}),Ze=M({},ze,{code:"EPSG:900913"});function ct(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function ht(l,g){var V,re,De,He,tt,ot,x="";for(V=0,De=l.length;V<De;V++){for(re=0,He=(tt=l[V]).length;re<He;re++)x+=(re?"L":"M")+(ot=tt[re]).x+" "+ot.y;x+=g?$t.svg?"z":"x":""}return x||"M0 0"}var vt=document.documentElement.style,qe="ActiveXObject"in window,Ce=qe&&!document.addEventListener,we="msLaunchUri"in navigator&&!("documentMode"in document),be=Gr("webkit"),Re=Gr("android"),Ve=Gr("android 2")||Gr("android 3"),Oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),je=Re&&Gr("Google")&&Oe<537&&!("AudioNode"in window),Xe=!!window.opera,Ge=!we&&Gr("chrome"),mt=Gr("gecko")&&!be&&!Xe&&!qe,yt=!Ge&&Gr("safari"),it=Gr("phantom"),Et="OTransition"in vt,pn=0===navigator.platform.indexOf("Win"),Ut=qe&&"transition"in vt,bn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ve,Dn="MozPerspective"in vt,xi=!window.L_DISABLE_3D&&(Ut||bn||Dn)&&!Et&&!it,Ki=typeof orientation<"u"||Gr("mobile"),Sr=Ki&&be,bo=Ki&&bn,Ni=!window.PointerEvent&&window.MSPointerEvent,jo=!(!window.PointerEvent&&!Ni),cr="ontouchstart"in window||!!window.TouchEvent,pt=!window.L_NO_TOUCH&&(cr||jo),Ma=Ki&&Xe,Uo=Ki&&mt,ln=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qs=function(){var l=!1;try{var g=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",H,g),window.removeEventListener("testPassiveEventSupport",H,g)}catch{}return l}(),gs=!!document.createElement("canvas").getContext,is=!(!document.createElementNS||!ct("svg").createSVGRect),Pa=!!is&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(l.firstChild&&l.firstChild.namespaceURI)}(),cc=!is&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var g=l.firstChild;return g.style.behavior="url(#default#VML)",g&&"object"==typeof g.adj}catch{return!1}}();function Gr(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var $t={ie:qe,ielt9:Ce,edge:we,webkit:be,android:Re,android23:Ve,androidStock:je,opera:Xe,chrome:Ge,gecko:mt,safari:yt,phantom:it,opera12:Et,win:pn,ie3d:Ut,webkit3d:bn,gecko3d:Dn,any3d:xi,mobile:Ki,mobileWebkit:Sr,mobileWebkit3d:bo,msPointer:Ni,pointer:jo,touch:pt,touchNative:cr,mobileOpera:Ma,mobileGecko:Uo,retina:ln,passiveEvents:qs,canvas:gs,svg:is,vml:cc,inlineSvg:Pa,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Nu=$t.msPointer?"MSPointerDown":"pointerdown",$s=$t.msPointer?"MSPointerMove":"pointermove",In=$t.msPointer?"MSPointerUp":"pointerup",Go=$t.msPointer?"MSPointerCancel":"pointercancel",Dr={touchstart:Nu,touchmove:$s,touchend:In,touchcancel:Go},qo={touchstart:function wo(l,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&Lr(g),ms(l,g)},touchmove:ms,touchend:ms,touchcancel:ms},Gi={},Ws=!1;function ao(l,g,x){return"touchstart"===g&&function qi(){Ws||(document.addEventListener(Nu,$o,!0),document.addEventListener($s,ul,!0),document.addEventListener(In,Hi,!0),document.addEventListener(Go,Hi,!0),Ws=!0)}(),qo[g]?(x=qo[g].bind(this,x),l.addEventListener(Dr[g],x,!1),x):(console.warn("wrong event specified:",g),H)}function $o(l){Gi[l.pointerId]=l}function ul(l){Gi[l.pointerId]&&(Gi[l.pointerId]=l)}function Hi(l){delete Gi[l.pointerId]}function ms(l,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){for(var x in g.touches=[],Gi)g.touches.push(Gi[x]);g.changedTouches=[g],l(g)}}var hr=200;var Ys,cn,ut,Xs,Mi,rs=gu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Qr=gu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),hu="webkitTransition"===Qr||"OTransition"===Qr?Qr+"End":"transitionend";function fu(l){return"string"==typeof l?document.getElementById(l):l}function ca(l,g){var x=l.style[g]||l.currentStyle&&l.currentStyle[g];if((!x||"auto"===x)&&document.defaultView){var V=document.defaultView.getComputedStyle(l,null);x=V?V[g]:null}return"auto"===x?null:x}function En(l,g,x){var V=document.createElement(l);return V.className=g||"",x&&x.appendChild(V),V}function sn(l){var g=l.parentNode;g&&g.removeChild(l)}function du(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function Jr(l){var g=l.parentNode;g&&g.lastChild!==l&&g.appendChild(l)}function di(l){var g=l.parentNode;g&&g.firstChild!==l&&g.insertBefore(l,g.firstChild)}function pu(l,g){if(void 0!==l.classList)return l.classList.contains(g);var x=Si(l);return x.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(x)}function _t(l,g){if(void 0!==l.classList)for(var x=te(g),V=0,re=x.length;V<re;V++)l.classList.add(x[V]);else if(!pu(l,g)){var De=Si(l);Wo(l,(De?De+" ":"")+g)}}function tr(l,g){void 0!==l.classList?l.classList.remove(g):Wo(l,$((" "+Si(l)+" ").replace(" "+g+" "," ")))}function Wo(l,g){void 0===l.className.baseVal?l.className=g:l.className.baseVal=g}function Si(l){return l.correspondingElement&&(l=l.correspondingElement),void 0===l.className.baseVal?l.className:l.className.baseVal}function gt(l,g){"opacity"in l.style?l.style.opacity=g:"filter"in l.style&&function ll(l,g){var x=!1,V="DXImageTransform.Microsoft.Alpha";try{x=l.filters.item(V)}catch{if(1===g)return}g=Math.round(100*g),x?(x.Enabled=100!==g,x.Opacity=g):l.style.filter+=" progid:"+V+"(opacity="+g+")"}(l,g)}function gu(l){for(var g=document.documentElement.style,x=0;x<l.length;x++)if(l[x]in g)return l[x];return!1}function ha(l,g,x){var V=g||new Ee(0,0);l.style[rs]=($t.ie3d?"translate("+V.x+"px,"+V.y+"px)":"translate3d("+V.x+"px,"+V.y+"px,0)")+(x?" scale("+x+")":"")}function gi(l,g){l._leaflet_pos=g,$t.any3d?ha(l,g):(l.style.left=g.x+"px",l.style.top=g.y+"px")}function ft(l){return l._leaflet_pos||new Ee(0,0)}if("onselectstart"in document)Ys=function(){Qt(window,"selectstart",Lr)},cn=function(){Nn(window,"selectstart",Lr)};else{var Ia=gu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ys=function(){if(Ia){var l=document.documentElement.style;ut=l[Ia],l[Ia]="none"}},cn=function(){Ia&&(document.documentElement.style[Ia]=ut,ut=void 0)}}function os(){Qt(window,"dragstart",Lr)}function _s(){Nn(window,"dragstart",Lr)}function Pi(l){for(;-1===l.tabIndex;)l=l.parentNode;l.style&&(Tn(),Xs=l,Mi=l.style.outline,l.style.outline="none",Qt(window,"keydown",Tn))}function Tn(){Xs&&(Xs.style.outline=Mi,Xs=void 0,Mi=void 0,Nn(window,"keydown",Tn))}function fr(l){do{l=l.parentNode}while(!(l.offsetWidth&&l.offsetHeight||l===document.body));return l}function Ks(l){var g=l.getBoundingClientRect();return{x:g.width/l.offsetWidth||1,y:g.height/l.offsetHeight||1,boundingClientRect:g}}var Kf={__proto__:null,TRANSFORM:rs,TRANSITION:Qr,TRANSITION_END:hu,get:fu,getStyle:ca,create:En,remove:sn,empty:du,toFront:Jr,toBack:di,hasClass:pu,addClass:_t,removeClass:tr,setClass:Wo,getClass:Si,setOpacity:gt,testProp:gu,setTransform:ha,setPosition:gi,getPosition:ft,get disableTextSelection(){return Ys},get enableTextSelection(){return cn},disableImageDrag:os,enableImageDrag:_s,preventOutline:Pi,restoreOutline:Tn,getSizedParentNode:fr,getScale:Ks};function Qt(l,g,x,V){if(g&&"object"==typeof g)for(var re in g)Ar(l,re,g[re],x);else for(var De=0,He=(g=te(g)).length;De<He;De++)Ar(l,g[De],x,V);return this}var ys="_leaflet_events";function Nn(l,g,x,V){if(1===arguments.length)mi(l),delete l[ys];else if(g&&"object"==typeof g)for(var re in g)cl(l,re,g[re],x);else if(g=te(g),2===arguments.length)mi(l,function(tt){return-1!==B(g,tt)});else for(var De=0,He=g.length;De<He;De++)cl(l,g[De],x,V);return this}function mi(l,g){for(var x in l[ys]){var V=x.split(/\d/)[0];(!g||g(V))&&cl(l,V,null,null,x)}}var mu={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ar(l,g,x,V){var re=g+S(x)+(V?"_"+S(V):"");if(l[ys]&&l[ys][re])return this;var De=function(tt){return x.call(V||l,tt||window.event)},He=De;!$t.touchNative&&$t.pointer&&0===g.indexOf("touch")?De=ao(l,g,De):$t.touch&&"dblclick"===g?De=function cu(l,g){l.addEventListener("dblclick",g);var V,x=0;function re(De){if(1===De.detail){if("mouse"!==De.pointerType&&(!De.sourceCapabilities||De.sourceCapabilities.firesTouchEvents)){var He=Mt(De);if(!He.some(function(ot){return ot instanceof HTMLLabelElement&&ot.attributes.for})||He.some(function(ot){return ot instanceof HTMLInputElement||ot instanceof HTMLSelectElement})){var tt=Date.now();tt-x<=hr?2==++V&&g(function Zs(l){var x,V,g={};for(V in l)g[V]=(x=l[V])&&x.bind?x.bind(l):x;return l=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}(De)):V=1,x=tt}}}else V=De.detail}return l.addEventListener("click",re),{dblclick:g,simDblclick:re}}(l,De):"addEventListener"in l?"touchstart"===g||"touchmove"===g||"wheel"===g||"mousewheel"===g?l.addEventListener(mu[g]||g,De,!!$t.passiveEvents&&{passive:!1}):"mouseenter"===g||"mouseleave"===g?l.addEventListener(mu[g],De=function(tt){tt=tt||window.event,Ml(l,tt)&&He(tt)},!1):l.addEventListener(g,He,!1):l.attachEvent("on"+g,De),l[ys]=l[ys]||{},l[ys][re]=De}function cl(l,g,x,V,re){re=re||g+S(x)+(V?"_"+S(V):"");var De=l[ys]&&l[ys][re];if(!De)return this;!$t.touchNative&&$t.pointer&&0===g.indexOf("touch")?function Dl(l,g,x){Dr[g]?l.removeEventListener(Dr[g],x,!1):console.warn("wrong event specified:",g)}(l,g,De):$t.touch&&"dblclick"===g?function Ps(l,g){l.removeEventListener("dblclick",g.dblclick),l.removeEventListener("click",g.simDblclick)}(l,De):"removeEventListener"in l?l.removeEventListener(mu[g]||g,De,!1):l.detachEvent("on"+g,De),l[ys][re]=null}function wr(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function Yt(l){return Ar(l,"wheel",wr),this}function qr(l){return Qt(l,"mousedown touchstart dblclick contextmenu",wr),l._leaflet_disable_click=!0,this}function Lr(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function eo(l){return Lr(l),wr(l),this}function Mt(l){if(l.composedPath)return l.composedPath();for(var g=[],x=l.target;x;)g.push(x),x=x.parentNode;return g}function fa(l,g){if(!g)return new Ee(l.clientX,l.clientY);var x=Ks(g),V=x.boundingClientRect;return new Ee((l.clientX-V.left)/x.x-g.clientLeft,(l.clientY-V.top)/x.y-g.clientTop)}var An=$t.linux&&$t.chrome?window.devicePixelRatio:$t.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $i(l){return $t.edge?l.wheelDeltaY/2:l.deltaY&&0===l.deltaMode?-l.deltaY/An:l.deltaY&&1===l.deltaMode?20*-l.deltaY:l.deltaY&&2===l.deltaMode?60*-l.deltaY:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?20*-l.detail:l.detail?l.detail/-32765*60:0}function Ml(l,g){var x=g.relatedTarget;if(!x)return!0;try{for(;x&&x!==l;)x=x.parentNode}catch{return!1}return x!==l}var Zo={__proto__:null,on:Qt,off:Nn,stopPropagation:wr,disableScrollPropagation:Yt,disableClickPropagation:qr,preventDefault:Lr,stop:eo,getPropagationPath:Mt,getMousePosition:fa,getWheelDelta:$i,isExternalTarget:Ml,addListener:Qt,removeListener:Nn},nr=ge.extend({run:function(l,g,x,V){this.stop(),this._el=l,this._inProgress=!0,this._duration=x||.25,this._easeOutPower=1/Math.max(V||.5,.2),this._startPos=ft(l),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ie(this._animate,this),this._step()},_step:function(l){var g=+new Date-this._startTime,x=1e3*this._duration;g<x?this._runFrame(this._easeOut(g/x),l):(this._runFrame(1),this._complete())},_runFrame:function(l,g){var x=this._startPos.add(this._offset.multiplyBy(l));g&&x._round(),gi(this._el,x),this.fire("step")},_complete:function(){Q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),Jt=ge.extend({options:{crs:ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,g){g=q(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=w(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),void 0!==g.zoom&&(this._zoom=this._limitZoom(g.zoom)),g.center&&void 0!==g.zoom&&this.setView(Ie(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Qr&&$t.any3d&&!$t.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Qt(this._proxy,hu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,g,x){return g=void 0===g?this._zoom:this._limitZoom(g),l=this._limitCenter(Ie(l),g,this.options.maxBounds),x=x||{},this._stop(),this._loaded&&!x.reset&&!0!==x&&(void 0!==x.animate&&(x.zoom=M({animate:x.animate},x.zoom),x.pan=M({animate:x.animate,duration:x.duration},x.pan)),this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,g,x.zoom):this._tryAnimatedPan(l,x.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(l,g,x.pan&&x.pan.noMoveStart),this)},setZoom:function(l,g){return this._loaded?this.setView(this.getCenter(),l,{zoom:g}):(this._zoom=l,this)},zoomIn:function(l,g){return this.setZoom(this._zoom+(l=l||($t.any3d?this.options.zoomDelta:1)),g)},zoomOut:function(l,g){return this.setZoom(this._zoom-(l=l||($t.any3d?this.options.zoomDelta:1)),g)},setZoomAround:function(l,g,x){var V=this.getZoomScale(g),re=this.getSize().divideBy(2),He=(l instanceof Ee?l:this.latLngToContainerPoint(l)).subtract(re).multiplyBy(1-1/V),tt=this.containerPointToLatLng(re.add(He));return this.setView(tt,g,{zoom:x})},_getBoundsCenterZoom:function(l,g){g=g||{},l=l.getBounds?l.getBounds():pe(l);var x=he(g.paddingTopLeft||g.padding||[0,0]),V=he(g.paddingBottomRight||g.padding||[0,0]),re=this.getBoundsZoom(l,!1,x.add(V));if((re="number"==typeof g.maxZoom?Math.min(g.maxZoom,re):re)===1/0)return{center:l.getCenter(),zoom:re};var De=V.subtract(x).divideBy(2),He=this.project(l.getSouthWest(),re),tt=this.project(l.getNorthEast(),re);return{center:this.unproject(He.add(tt).divideBy(2).add(De),re),zoom:re}},fitBounds:function(l,g){if(!(l=pe(l)).isValid())throw new Error("Bounds are not valid.");var x=this._getBoundsCenterZoom(l,g);return this.setView(x.center,x.zoom,g)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,g){return this.setView(l,this._zoom,{pan:g})},panBy:function(l,g){if(g=g||{},!(l=he(l).round()).x&&!l.y)return this.fire("moveend");if(!0!==g.animate&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new nr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),!1!==g.animate){_t(this._mapPane,"leaflet-pan-anim");var x=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,x,g.duration||.25,g.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,g,x){if(!1===(x=x||{}).animate||!$t.any3d)return this.setView(l,g,x);this._stop();var V=this.project(this.getCenter()),re=this.project(l),De=this.getSize(),He=this._zoom;l=Ie(l),g=void 0===g?He:g;var tt=Math.max(De.x,De.y),ot=tt*this.getZoomScale(He,g),dt=re.distanceTo(V)||1,Lt=1.42,jt=Lt*Lt;function Cn(vi){var Cs=(ot*ot-tt*tt+(vi?-1:1)*jt*jt*dt*dt)/(2*(vi?ot:tt)*jt*dt),s=Math.sqrt(Cs*Cs+1)-Cs;return s<1e-9?-18:Math.log(s)}function go(vi){return(Math.exp(vi)-Math.exp(-vi))/2}function _a(vi){return(Math.exp(vi)+Math.exp(-vi))/2}var xo=Cn(0);function Oa(vi){return tt*(_a(xo)*function na(vi){return go(vi)/_a(vi)}(xo+Lt*vi)-go(xo))/jt}var qt=Date.now(),Os=(Cn(1)-xo)/Lt,Qa=x.duration?1e3*x.duration:1e3*Os*.8;return this._moveStart(!0,x.noMoveStart),function ar(){var vi=(Date.now()-qt)/Qa,Ra=function ka(vi){return 1-Math.pow(1-vi,1.5)}(vi)*Os;vi<=1?(this._flyToFrame=ie(ar,this),this._move(this.unproject(V.add(re.subtract(V).multiplyBy(Oa(Ra)/dt)),He),this.getScaleZoom(tt/function Ka(vi){return tt*(_a(xo)/_a(xo+Lt*vi))}(Ra),He),{flyTo:!0})):this._move(l,g)._moveEnd(!0)}.call(this),this},flyToBounds:function(l,g){var x=this._getBoundsCenterZoom(l,g);return this.flyTo(x.center,x.zoom,g)},setMaxBounds:function(l){return l=pe(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var g=this.options.minZoom;return this.options.minZoom=l,this._loaded&&g!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var g=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&g!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,g){this._enforcingBounds=!0;var x=this.getCenter(),V=this._limitCenter(x,this._zoom,pe(l));return x.equals(V)||this.panTo(V,g),this._enforcingBounds=!1,this},panInside:function(l,g){var x=he((g=g||{}).paddingTopLeft||g.padding||[0,0]),V=he(g.paddingBottomRight||g.padding||[0,0]),re=this.project(this.getCenter()),De=this.project(l),He=this.getPixelBounds(),tt=se([He.min.add(x),He.max.subtract(V)]),ot=tt.getSize();if(!tt.contains(De)){this._enforcingBounds=!0;var dt=De.subtract(tt.getCenter()),Lt=tt.extend(De).getSize().subtract(ot);re.x+=dt.x<0?-Lt.x:Lt.x,re.y+=dt.y<0?-Lt.y:Lt.y,this.panTo(this.unproject(re),g),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=M({animate:!1,pan:!0},!0===l?{animate:!0}:l);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var x=this.getSize(),V=g.divideBy(2).round(),re=x.divideBy(2).round(),De=V.subtract(re);return De.x||De.y?(l.animate&&l.pan?this.panBy(De):(l.pan&&this._rawPanBy(De),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(w(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:x})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=M({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=w(this._handleGeolocationResponse,this),x=w(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,x,l):navigator.geolocation.getCurrentPosition(g,x,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var g=l.code,x=l.message||(1===g?"permission denied":2===g?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+x+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var V=new Le(l.coords.latitude,l.coords.longitude),re=V.toBounds(2*l.coords.accuracy),De=this._locateOptions;if(De.setView){var He=this.getBoundsZoom(re);this.setView(V,De.maxZoom?Math.min(He,De.maxZoom):He)}var tt={latlng:V,bounds:re,timestamp:l.timestamp};for(var ot in l.coords)"number"==typeof l.coords[ot]&&(tt[ot]=l.coords[ot]);this.fire("locationfound",tt)}},addHandler:function(l,g){if(!g)return this;var x=this[l]=new g(this);return this._handlers.push(x),this.options[l]&&x.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var l;for(l in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),sn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[l].remove();for(l in this._panes)sn(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,g){var V=En("div","leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),g||this._mapPane);return l&&(this._panes[l]=V),V},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds();return new ke(this.unproject(l.getBottomLeft()),this.unproject(l.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,g,x){l=pe(l),x=he(x||[0,0]);var V=this.getZoom()||0,re=this.getMinZoom(),De=this.getMaxZoom(),He=l.getNorthWest(),tt=l.getSouthEast(),ot=this.getSize().subtract(x),dt=se(this.project(tt,V),this.project(He,V)).getSize(),Lt=$t.any3d?this.options.zoomSnap:1,jt=ot.x/dt.x,Cn=ot.y/dt.y,go=g?Math.max(jt,Cn):Math.min(jt,Cn);return V=this.getScaleZoom(go,V),Lt&&(V=Math.round(V/(Lt/100))*(Lt/100),V=g?Math.ceil(V/Lt)*Lt:Math.floor(V/Lt)*Lt),Math.max(re,Math.min(De,V))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,g){var x=this._getTopLeftPoint(l,g);return new ce(x,x.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(void 0===l?this.getZoom():l)},getPane:function(l){return"string"==typeof l?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,g){var x=this.options.crs;return g=void 0===g?this._zoom:g,x.scale(l)/x.scale(g)},getScaleZoom:function(l,g){var x=this.options.crs,V=x.zoom(l*x.scale(g=void 0===g?this._zoom:g));return isNaN(V)?1/0:V},project:function(l,g){return g=void 0===g?this._zoom:g,this.options.crs.latLngToPoint(Ie(l),g)},unproject:function(l,g){return g=void 0===g?this._zoom:g,this.options.crs.pointToLatLng(he(l),g)},layerPointToLatLng:function(l){var g=he(l).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(l){return this.project(Ie(l))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(Ie(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(pe(l))},distance:function(l,g){return this.options.crs.distance(Ie(l),Ie(g))},containerPointToLayerPoint:function(l){return he(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return he(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var g=this.containerPointToLayerPoint(he(l));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ie(l)))},mouseEventToContainerPoint:function(l){return fa(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var g=this._container=fu(l);if(!g)throw new Error("Map container not found.");if(g._leaflet_id)throw new Error("Map container is already initialized.");Qt(g,"scroll",this._onScroll,this),this._containerId=S(g)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&$t.any3d,_t(l,"leaflet-container"+($t.touch?" leaflet-touch":"")+($t.retina?" leaflet-retina":"")+($t.ielt9?" leaflet-oldie":"")+($t.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=ca(l,"position");"absolute"!==g&&"relative"!==g&&"fixed"!==g&&"sticky"!==g&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),gi(this._mapPane,new Ee(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_t(l.markerPane,"leaflet-zoom-hide"),_t(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,g,x){gi(this._mapPane,new Ee(0,0));var V=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var re=this._zoom!==g;this._moveStart(re,x)._move(l,g)._moveEnd(re),this.fire("viewreset"),V&&this.fire("load")},_moveStart:function(l,g){return l&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(l,g,x,V){void 0===g&&(g=this._zoom);var re=this._zoom!==g;return this._zoom=g,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),V?x&&x.pinch&&this.fire("zoom",x):((re||x&&x.pinch)&&this.fire("zoom",x),this.fire("move",x)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){gi(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[S(this._container)]=this;var g=l?Nn:Qt;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),$t.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Q(this._resizeRequest),this._resizeRequest=ie(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,g){for(var V,x=[],re="mouseout"===g||"mouseover"===g,De=l.target||l.srcElement,He=!1;De;){if((V=this._targets[S(De)])&&("click"===g||"preclick"===g)&&this._draggableMoved(V)){He=!0;break}if(V&&V.listens(g,!0)&&(re&&!Ml(De,l)||(x.push(V),re))||De===this._container)break;De=De.parentNode}return!x.length&&!He&&!re&&this.listens(g,!0)&&(x=[this]),x},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var g=l.target||l.srcElement;if(!(!this._loaded||g._leaflet_disable_events||"click"===l.type&&this._isClickDisabled(g))){var x=l.type;"mousedown"===x&&Pi(g),this._fireDOMEvent(l,x)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,g,x){if("click"===l.type){var V=M({},l);V.type="preclick",this._fireDOMEvent(V,V.type,x)}var re=this._findEventTargets(l,g);if(x){for(var De=[],He=0;He<x.length;He++)x[He].listens(g,!0)&&De.push(x[He]);re=De.concat(re)}if(re.length){"contextmenu"===g&&Lr(l);var tt=re[0],ot={originalEvent:l};if("keypress"!==l.type&&"keydown"!==l.type&&"keyup"!==l.type){var dt=tt.getLatLng&&(!tt._radius||tt._radius<=10);ot.containerPoint=dt?this.latLngToContainerPoint(tt.getLatLng()):this.mouseEventToContainerPoint(l),ot.layerPoint=this.containerPointToLayerPoint(ot.containerPoint),ot.latlng=dt?tt.getLatLng():this.layerPointToLatLng(ot.layerPoint)}for(He=0;He<re.length;He++)if(re[He].fire(g,ot,!0),ot.originalEvent._stopped||!1===re[He].options.bubblingMouseEvents&&-1!==B(this._mouseEvents,g))return}},_draggableMoved:function(l){return(l=l.dragging&&l.dragging.enabled()?l:this).dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,g=this._handlers.length;l<g;l++)this._handlers[l].disable()},whenReady:function(l,g){return this._loaded?l.call(g||this,{target:this}):this.on("load",l,g),this},_getMapPanePos:function(){return ft(this._mapPane)||new Ee(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,g){return(l&&void 0!==g?this._getNewPixelOrigin(l,g):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,g){var x=this.getSize()._divideBy(2);return this.project(l,g)._subtract(x)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,g,x){var V=this._getNewPixelOrigin(x,g);return this.project(l,g)._subtract(V)},_latLngBoundsToNewLayerBounds:function(l,g,x){var V=this._getNewPixelOrigin(x,g);return se([this.project(l.getSouthWest(),g)._subtract(V),this.project(l.getNorthWest(),g)._subtract(V),this.project(l.getSouthEast(),g)._subtract(V),this.project(l.getNorthEast(),g)._subtract(V)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,g,x){if(!x)return l;var V=this.project(l,g),re=this.getSize().divideBy(2),De=new ce(V.subtract(re),V.add(re)),He=this._getBoundsOffset(De,x,g);return Math.abs(He.x)<=1&&Math.abs(He.y)<=1?l:this.unproject(V.add(He),g)},_limitOffset:function(l,g){if(!g)return l;var x=this.getPixelBounds(),V=new ce(x.min.add(l),x.max.add(l));return l.add(this._getBoundsOffset(V,g))},_getBoundsOffset:function(l,g,x){var V=se(this.project(g.getNorthEast(),x),this.project(g.getSouthWest(),x)),re=V.min.subtract(l.min),De=V.max.subtract(l.max);return new Ee(this._rebound(re.x,-De.x),this._rebound(re.y,-De.y))},_rebound:function(l,g){return l+g>0?Math.round(l-g)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(g))},_limitZoom:function(l){var g=this.getMinZoom(),x=this.getMaxZoom(),V=$t.any3d?this.options.zoomSnap:1;return V&&(l=Math.round(l/V)*V),Math.max(g,Math.min(x,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){tr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,g){var x=this._getCenterOffset(l)._trunc();return!(!0!==(g&&g.animate)&&!this.getSize().contains(x)||(this.panBy(x,g),0))},_createAnimProxy:function(){var l=this._proxy=En("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(g){var x=rs,V=this._proxy.style[x];ha(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),V===this._proxy.style[x]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){sn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),g=this.getZoom();ha(this._proxy,this.project(l,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,g,x){if(this._animatingZoom)return!0;if(x=x||{},!this._zoomAnimated||!1===x.animate||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var V=this.getZoomScale(g),re=this._getCenterOffset(l)._divideBy(1-1/V);return!(!0!==x.animate&&!this.getSize().contains(re)||(ie(function(){this._moveStart(!0,!1)._animateZoom(l,g,!0)},this),0))},_animateZoom:function(l,g,x,V){this._mapPane&&(x&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=g,_t(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:g,noUpdate:V}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(w(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&tr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var ss=J.extend({options:{position:"topright"},initialize:function(l){q(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var g=this._map;return g&&g.removeControl(this),this.options.position=l,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var g=this._container=this.onAdd(l),x=this.getPosition(),V=l._controlCorners[x];return _t(g,"leaflet-control"),-1!==x.indexOf("bottom")?V.insertBefore(g,V.firstChild):V.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(sn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),Is=function(l){return new ss(l)};Jt.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},g="leaflet-",x=this._controlContainer=En("div",g+"control-container",this._container);function V(re,De){l[re+De]=En("div",g+re+" "+g+De,x)}V("top","left"),V("top","right"),V("bottom","left"),V("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)sn(this._controlCorners[l]);sn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Pl=ss.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,g,x,V){return x<V?-1:V<x?1:0}},initialize:function(l,g,x){for(var V in q(this,x),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,l)this._addLayer(l[V],V);for(V in g)this._addLayer(g[V],V,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return ss.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,g){return this._addLayer(l,g),this._map?this._update():this},addOverlay:function(l,g){return this._addLayer(l,g,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var g=this._getLayer(S(l));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){_t(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(_t(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):tr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return tr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",g=this._container=En("div",l),x=this.options.collapsed;g.setAttribute("aria-haspopup",!0),qr(g),Yt(g);var V=this._section=En("section",l+"-list");x&&(this._map.on("click",this.collapse,this),Qt(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var re=this._layersLink=En("a",l+"-toggle",g);re.href="#",re.title="Layers",re.setAttribute("role","button"),Qt(re,{keydown:function(De){13===De.keyCode&&this._expandSafely()},click:function(De){Lr(De),this._expandSafely()}},this),x||this.expand(),this._baseLayersList=En("div",l+"-base",V),this._separator=En("div",l+"-separator",V),this._overlaysList=En("div",l+"-overlays",V),g.appendChild(V)},_getLayer:function(l){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&S(this._layers[g].layer)===l)return this._layers[g]},_addLayer:function(l,g,x){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:g,overlay:x}),this.options.sortLayers&&this._layers.sort(w(function(V,re){return this.options.sortFunction(V.layer,re.layer,V.name,re.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;du(this._baseLayersList),du(this._overlaysList),this._layerControlInputs=[];var l,g,x,V,re=0;for(x=0;x<this._layers.length;x++)this._addItem(V=this._layers[x]),g=g||V.overlay,l=l||!V.overlay,re+=V.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(l=l&&re>1)?"":"none"),this._separator.style.display=g&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var g=this._getLayer(S(l.target)),x=g.overlay?"add"===l.type?"overlayadd":"overlayremove":"add"===l.type?"baselayerchange":null;x&&this._map.fire(x,g)},_createRadioElement:function(l,g){var x='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(g?' checked="checked"':"")+"/>",V=document.createElement("div");return V.innerHTML=x,V.firstChild},_addItem:function(l){var V,g=document.createElement("label"),x=this._map.hasLayer(l.layer);l.overlay?((V=document.createElement("input")).type="checkbox",V.className="leaflet-control-layers-selector",V.defaultChecked=x):V=this._createRadioElement("leaflet-base-layers_"+S(this),x),this._layerControlInputs.push(V),V.layerId=S(l.layer),Qt(V,"click",this._onInputClick,this);var re=document.createElement("span");re.innerHTML=" "+l.name;var De=document.createElement("span");return g.appendChild(De),De.appendChild(V),De.appendChild(re),(l.overlay?this._overlaysList:this._baseLayersList).appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){var g,x,l=this._layerControlInputs,V=[],re=[];this._handlingClick=!0;for(var De=l.length-1;De>=0;De--)x=this._getLayer((g=l[De]).layerId).layer,g.checked?V.push(x):g.checked||re.push(x);for(De=0;De<re.length;De++)this._map.hasLayer(re[De])&&this._map.removeLayer(re[De]);for(De=0;De<V.length;De++)this._map.hasLayer(V[De])||this._map.addLayer(V[De]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var g,x,l=this._layerControlInputs,V=this._map.getZoom(),re=l.length-1;re>=0;re--)x=this._getLayer((g=l[re]).layerId).layer,g.disabled=void 0!==x.options.minZoom&&V<x.options.minZoom||void 0!==x.options.maxZoom&&V>x.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;Qt(l,"click",Lr),this.expand(),setTimeout(function(){Nn(l,"click",Lr)})}}),Or=ss.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var g="leaflet-control-zoom",x=En("div",g+" leaflet-bar"),V=this.options;return this._zoomInButton=this._createButton(V.zoomInText,V.zoomInTitle,g+"-in",x,this._zoomIn),this._zoomOutButton=this._createButton(V.zoomOutText,V.zoomOutTitle,g+"-out",x,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),x},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,g,x,V,re){var De=En("a",x,V);return De.innerHTML=l,De.href="#",De.title=g,De.setAttribute("role","button"),De.setAttribute("aria-label",g),qr(De),Qt(De,"click",eo),Qt(De,"click",re,this),Qt(De,"click",this._refocusOnMap,this),De},_updateDisabled:function(){var l=this._map,g="leaflet-disabled";tr(this._zoomInButton,g),tr(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(_t(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(_t(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});Jt.mergeOptions({zoomControl:!0}),Jt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Or,this.addControl(this.zoomControl))});var ki=ss.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var g="leaflet-control-scale",x=En("div",g),V=this.options;return this._addScales(V,g+"-line",x),l.on(V.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),x},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,g,x){l.metric&&(this._mScale=En("div",g,x)),l.imperial&&(this._iScale=En("div",g,x))},_update:function(){var l=this._map,g=l.getSize().y/2,x=l.distance(l.containerPointToLatLng([0,g]),l.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(x)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var g=this._getRoundNum(l);this._updateScale(this._mScale,g<1e3?g+" m":g/1e3+" km",g/l)},_updateImperial:function(l){var x,V,re,g=3.2808399*l;g>5280?(V=this._getRoundNum(x=g/5280),this._updateScale(this._iScale,V+" mi",V/x)):(re=this._getRoundNum(g),this._updateScale(this._iScale,re+" ft",re/g))},_updateScale:function(l,g,x){l.style.width=Math.round(this.options.maxWidth*x)+"px",l.innerHTML=g},_getRoundNum:function(l){var g=Math.pow(10,(Math.floor(l)+"").length-1),x=l/g;return g*(x>=10?10:x>=5?5:x>=3?3:x>=2?2:1)}}),Ti=ss.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($t.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(l){q(this,l),this._attributions={}},onAdd:function(l){for(var g in l.attributionControl=this,this._container=En("div","leaflet-control-attribution"),qr(this._container),l._layers)l._layers[g].getAttribution&&this.addAttribution(l._layers[g].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var g in this._attributions)this._attributions[g]&&l.push(g);var x=[];this.options.prefix&&x.push(this.options.prefix),l.length&&x.push(l.join(", ")),this._container.innerHTML=x.join(' <span aria-hidden="true">|</span> ')}}});Jt.mergeOptions({attributionControl:!0}),Jt.addInitHook(function(){this.options.attributionControl&&(new Ti).addTo(this)});ss.Layers=Pl,ss.Zoom=Or,ss.Scale=ki,ss.Attribution=Ti,Is.layers=function(l,g,x){return new Pl(l,g,x)},Is.zoom=function(l){return new Or(l)},Is.scale=function(l){return new ki(l)},Is.attribution=function(l){return new Ti(l)};var Tt=J.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Tt.addTo=function(l,g){return l.addHandler(g,this),this};var Eo,vh={Events:Te},Js=$t.touch?"touchstart mousedown":"mousedown",ir=ge.extend({options:{clickTolerance:3},initialize:function(l,g,x,V){q(this,V),this._element=l,this._dragStartTarget=g||l,this._preventOutline=x},enable:function(){this._enabled||(Qt(this._dragStartTarget,Js,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ir._dragging===this&&this.finishDrag(!0),Nn(this._dragStartTarget,Js,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!pu(this._element,"leaflet-zoom-anim"))){if(l.touches&&1!==l.touches.length)return void(ir._dragging===this&&this.finishDrag());if(!(ir._dragging||l.shiftKey||1!==l.which&&1!==l.button&&!l.touches||(ir._dragging=this,this._preventOutline&&Pi(this._element),os(),Ys(),this._moving))){this.fire("down");var g=l.touches?l.touches[0]:l,x=fr(this._element);this._startPoint=new Ee(g.clientX,g.clientY),this._startPos=ft(this._element),this._parentScale=Ks(x);var V="mousedown"===l.type;Qt(document,V?"mousemove":"touchmove",this._onMove,this),Qt(document,V?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1)return void(this._moved=!0);var g=l.touches&&1===l.touches.length?l.touches[0]:l,x=new Ee(g.clientX,g.clientY)._subtract(this._startPoint);!x.x&&!x.y||Math.abs(x.x)+Math.abs(x.y)<this.options.clickTolerance||(x.x/=this._parentScale.x,x.y/=this._parentScale.y,Lr(l),this._moved||(this.fire("dragstart"),this._moved=!0,_t(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_t(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(x),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),gi(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){tr(document.body,"leaflet-dragging"),this._lastTarget&&(tr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Nn(document,"mousemove touchmove",this._onMove,this),Nn(document,"mouseup touchend touchcancel",this._onUp,this),_s(),cn(),this._moved&&this._moving&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,ir._dragging=!1}});function Co(l,g){if(!g||!l.length)return l.slice();var x=g*g;return function Il(l,g){var x=l.length,re=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(x);re[0]=re[x-1]=1,Bu(l,re,g,0,x-1);var De,He=[];for(De=0;De<x;De++)re[De]&&He.push(l[De]);return He}(l=function xn(l,g){for(var x=[l[0]],V=1,re=0,De=l.length;V<De;V++)Yo(l[V],l[re])>g&&(x.push(l[V]),re=V);return re<De-1&&x.push(l[De-1]),x}(l,x),x)}function pa(l,g,x){return Math.sqrt(mn(l,g,x,!0))}function Bu(l,g,x,V,re){var He,tt,ot,De=0;for(tt=V+1;tt<=re-1;tt++)(ot=mn(l[tt],l[V],l[re],!0))>De&&(He=tt,De=ot);De>x&&(g[He]=1,Bu(l,g,x,V,He),Bu(l,g,x,He,re))}function Wi(l,g,x,V,re){var tt,ot,dt,De=V?Eo:Mr(l,x),He=Mr(g,x);for(Eo=He;;){if(!(De|He))return[l,g];if(De&He)return!1;dt=Mr(ot=st(l,g,tt=De||He,x,re),x),tt===De?(l=ot,De=dt):(g=ot,He=dt)}}function st(l,g,x,V,re){var dt,Lt,De=g.x-l.x,He=g.y-l.y,tt=V.min,ot=V.max;return 8&x?(dt=l.x+De*(ot.y-l.y)/He,Lt=ot.y):4&x?(dt=l.x+De*(tt.y-l.y)/He,Lt=tt.y):2&x?(dt=ot.x,Lt=l.y+He*(ot.x-l.x)/De):1&x&&(dt=tt.x,Lt=l.y+He*(tt.x-l.x)/De),new Ee(dt,Lt,re)}function Mr(l,g){var x=0;return l.x<g.min.x?x|=1:l.x>g.max.x&&(x|=2),l.y<g.min.y?x|=4:l.y>g.max.y&&(x|=8),x}function Yo(l,g){var x=g.x-l.x,V=g.y-l.y;return x*x+V*V}function mn(l,g,x,V){var dt,re=g.x,De=g.y,He=x.x-re,tt=x.y-De,ot=He*He+tt*tt;return ot>0&&((dt=((l.x-re)*He+(l.y-De)*tt)/ot)>1?(re=x.x,De=x.y):dt>0&&(re+=He*dt,De+=tt*dt)),He=l.x-re,tt=l.y-De,V?He*He+tt*tt:new Ee(re,De)}function Hr(l){return!O(l[0])||"object"!=typeof l[0][0]&&typeof l[0][0]<"u"}function _i(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Hr(l)}function _u(l,g){var x,V,re,De,He,tt,ot,dt;if(!l||0===l.length)throw new Error("latlngs not passed");Hr(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Lt=[];for(var jt in l)Lt.push(g.project(Ie(l[jt])));var Cn=Lt.length;for(x=0,V=0;x<Cn-1;x++)V+=Lt[x].distanceTo(Lt[x+1])/2;if(0===V)dt=Lt[0];else for(x=0,De=0;x<Cn-1;x++)if((De+=re=(He=Lt[x]).distanceTo(tt=Lt[x+1]))>V){dt=[tt.x-(ot=(De-V)/re)*(tt.x-He.x),tt.y-ot*(tt.y-He.y)];break}return g.unproject(he(dt))}var uo={__proto__:null,simplify:Co,pointToSegmentDistance:pa,closestPointOnSegment:function Fu(l,g,x){return mn(l,g,x)},clipSegment:Wi,_getEdgeIntersection:st,_getBitCode:Mr,_sqClosestPointOnSegment:mn,isFlat:Hr,_flat:_i,polylineCenter:_u};function Aa(l,g,x){var V,De,He,tt,ot,dt,Lt,jt,Cn,re=[1,4,2,8];for(De=0,Lt=l.length;De<Lt;De++)l[De]._code=Mr(l[De],g);for(tt=0;tt<4;tt++){for(jt=re[tt],V=[],De=0,He=(Lt=l.length)-1;De<Lt;He=De++)dt=l[He],(ot=l[De])._code&jt?dt._code&jt||((Cn=st(dt,ot,jt,g,x))._code=Mr(Cn,g),V.push(Cn)):(dt._code&jt&&((Cn=st(dt,ot,jt,g,x))._code=Mr(Cn,g),V.push(Cn)),V.push(ot));l=V}return l}function Ts(l,g){var x,V,re,De,He,tt,ot,dt;if(!l||0===l.length)throw new Error("latlngs not passed");Hr(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var jt=[];for(var Cn in l)jt.push(g.project(Ie(l[Cn])));var go=jt.length;for(tt=ot=dt=0,x=0,V=go-1;x<go;V=x++)ot+=((re=jt[x]).x+(De=jt[V]).x)*(He=re.y*De.x-De.y*re.x),dt+=(re.y+De.y)*He,tt+=3*He;return g.unproject(he(0===tt?jt[0]:[ot/tt,dt/tt]))}var lo={__proto__:null,clipPolygon:Aa,polygonCenter:Ts},hn={project:function(l){return new Ee(l.lng,l.lat)},unproject:function(l){return new Le(l.y,l.x)},bounds:new ce([-180,-90],[180,90])},pr={R:6378137,R_MINOR:6356752.314245179,bounds:new ce([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(l){var g=Math.PI/180,x=this.R,V=l.lat*g,re=this.R_MINOR/x,De=Math.sqrt(1-re*re),He=De*Math.sin(V),tt=Math.tan(Math.PI/4-V/2)/Math.pow((1-He)/(1+He),De/2);return V=-x*Math.log(Math.max(tt,1e-10)),new Ee(l.lng*g*x,V)},unproject:function(l){for(var dt,g=180/Math.PI,x=this.R,V=this.R_MINOR/x,re=Math.sqrt(1-V*V),De=Math.exp(-l.y/x),He=Math.PI/2-2*Math.atan(De),tt=0,ot=.1;tt<15&&Math.abs(ot)>1e-7;tt++)dt=re*Math.sin(He),dt=Math.pow((1-dt)/(1+dt),re/2),He+=ot=Math.PI/2-2*Math.atan(De*dt)-He;return new Le(He*g,l.x*g/x)}},Fn={__proto__:null,LonLat:hn,Mercator:pr,SphericalMercator:ae},Xo=M({},Ke,{code:"EPSG:3395",projection:pr,transformation:function(){var l=.5/(Math.PI*pr.R);return Ae(l,.5,-l,.5)}()}),to=M({},Ke,{code:"EPSG:4326",projection:hn,transformation:Ae(1/180,1,-1/180,.5)}),kr=M({},$e,{projection:hn,transformation:Ae(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,g){var x=g.lng-l.lng,V=g.lat-l.lat;return Math.sqrt(x*x+V*V)},infinite:!0});$e.Earth=Ke,$e.EPSG3395=Xo,$e.EPSG3857=ze,$e.EPSG900913=Ze,$e.EPSG4326=to,$e.Simple=kr;var vs=ge.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[S(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[S(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var g=l.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var x=this.getEvents();g.on(x,this),this.once("remove",function(){g.off(x,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});Jt.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var g=S(l);return this._layers[g]||(this._layers[g]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l)),this},removeLayer:function(l){var g=S(l);return this._layers[g]?(this._loaded&&l.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return S(l)in this._layers},eachLayer:function(l,g){for(var x in this._layers)l.call(g,this._layers[x]);return this},_addLayers:function(l){for(var g=0,x=(l=l?O(l)?l:[l]:[]).length;g<x;g++)this.addLayer(l[g])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[S(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var g=S(l);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,g=-1/0,x=this._getZoomSpan();for(var V in this._zoomBoundLayers){var re=this._zoomBoundLayers[V].options;l=void 0===re.minZoom?l:Math.min(l,re.minZoom),g=void 0===re.maxZoom?g:Math.max(g,re.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=l===1/0?void 0:l,x!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Oo=vs.extend({initialize:function(l,g){var x,V;if(q(this,g),this._layers={},l)for(x=0,V=l.length;x<V;x++)this.addLayer(l[x])},addLayer:function(l){var g=this.getLayerId(l);return this._layers[g]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var g=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(l){return("number"==typeof l?l:this.getLayerId(l))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var x,V,g=Array.prototype.slice.call(arguments,1);for(x in this._layers)(V=this._layers[x])[l]&&V[l].apply(V,g);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,g){for(var x in this._layers)l.call(g,this._layers[x]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return S(l)}}),Rr=Oo.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),Oo.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),Oo.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new ke;for(var g in this._layers){var x=this._layers[g];l.extend(x.getBounds?x.getBounds():x.getLatLng())}return l}}),Nr=J.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){q(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,g){var x=this._getIconUrl(l);if(!x){if("icon"===l)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var V=this._createImg(x,g&&"IMG"===g.tagName?g:null);return this._setIconStyles(V,l),(this.options.crossOrigin||""===this.options.crossOrigin)&&(V.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),V},_setIconStyles:function(l,g){var x=this.options,V=x[g+"Size"];"number"==typeof V&&(V=[V,V]);var re=he(V),De=he("shadow"===g&&x.shadowAnchor||x.iconAnchor||re&&re.divideBy(2,!0));l.className="leaflet-marker-"+g+" "+(x.className||""),De&&(l.style.marginLeft=-De.x+"px",l.style.marginTop=-De.y+"px"),re&&(l.style.width=re.x+"px",l.style.height=re.y+"px")},_createImg:function(l,g){return(g=g||document.createElement("img")).src=l,g},_getIconUrl:function(l){return $t.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});var ko=Nr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return"string"!=typeof ko.imagePath&&(ko.imagePath=this._detectIconPath()),(this.options.imagePath||ko.imagePath)+Nr.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var g=function(x,V,re){var De=V.exec(x);return De&&De[re]};return(l=g(l,/^url\((['"])?(.+)\1\)$/,2))&&g(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=En("div","leaflet-default-icon-path",document.body),g=ca(l,"background-image")||ca(l,"backgroundImage");if(document.body.removeChild(l),g=this._stripUrl(g))return g;var x=document.querySelector('link[href$="leaflet.css"]');return x?x.href.substring(0,x.href.length-11-1):""}}),Mn=Tt.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new ir(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_t(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&tr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var g=this._marker,x=g._map,V=this._marker.options.autoPanSpeed,re=this._marker.options.autoPanPadding,De=ft(g._icon),He=x.getPixelBounds(),tt=x.getPixelOrigin(),ot=se(He.min._subtract(tt).add(re),He.max._subtract(tt).subtract(re));if(!ot.contains(De)){var dt=he((Math.max(ot.max.x,De.x)-ot.max.x)/(He.max.x-ot.max.x)-(Math.min(ot.min.x,De.x)-ot.min.x)/(He.min.x-ot.min.x),(Math.max(ot.max.y,De.y)-ot.max.y)/(He.max.y-ot.max.y)-(Math.min(ot.min.y,De.y)-ot.min.y)/(He.min.y-ot.min.y)).multiplyBy(V);x.panBy(dt,{animate:!1}),this._draggable._newPos._add(dt),this._draggable._startPos._add(dt),gi(g._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=ie(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(Q(this._panRequest),this._panRequest=ie(this._adjustPan.bind(this,l)))},_onDrag:function(l){var g=this._marker,x=g._shadow,V=ft(g._icon),re=g._map.layerPointToLatLng(V);x&&gi(x,V),g._latlng=re,l.latlng=re,l.oldLatLng=this._oldLatLng,g.fire("move",l).fire("drag",l)},_onDragEnd:function(l){Q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),us=vs.extend({options:{icon:new ko,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,g){q(this,g),this._latlng=Ie(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var g=this._latlng;return this._latlng=Ie(l),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),x=l.icon.createIcon(this._icon),V=!1;x!==this._icon&&(this._icon&&this._removeIcon(),V=!0,l.title&&(x.title=l.title),"IMG"===x.tagName&&(x.alt=l.alt||"")),_t(x,g),l.keyboard&&(x.tabIndex="0",x.setAttribute("role","button")),this._icon=x,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qt(x,"focus",this._panOnFocus,this);var re=l.icon.createShadow(this._shadow),De=!1;re!==this._shadow&&(this._removeShadow(),De=!0),re&&(_t(re,g),re.alt=""),this._shadow=re,l.opacity<1&&this._updateOpacity(),V&&this.getPane().appendChild(this._icon),this._initInteraction(),re&&De&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nn(this._icon,"focus",this._panOnFocus,this),sn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&sn(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&gi(this._icon,l),this._shadow&&gi(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(_t(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mn)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mn(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&gt(this._icon,l),this._shadow&&gt(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var g=this.options.icon.options,x=g.iconSize?he(g.iconSize):he(0,0),V=g.iconAnchor?he(g.iconAnchor):he(0,0);l.panInside(this._latlng,{paddingTopLeft:V,paddingBottomRight:x.subtract(V)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Nt=vs.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return q(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),jr=Nt.extend({options:{fill:!0,radius:10},initialize:function(l,g){q(this,g),this._latlng=Ie(l),this._radius=this.options.radius},setLatLng:function(l){var g=this._latlng;return this._latlng=Ie(l),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var g=l&&l.radius||this._radius;return Nt.prototype.setStyle.call(this,l),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,g=this._radiusY||l,x=this._clickTolerance(),V=[l+x,g+x];this._pxBounds=new ce(this._point.subtract(V),this._point.add(V))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Qi=jr.extend({initialize:function(l,g,x){if("number"==typeof g&&(g=M({},x,{radius:g})),q(this,g),this._latlng=Ie(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new ke(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:Nt.prototype.setStyle,_project:function(){var l=this._latlng.lng,g=this._latlng.lat,x=this._map,V=x.options.crs;if(V.distance===Ke.distance){var re=Math.PI/180,De=this._mRadius/Ke.R/re,He=x.project([g+De,l]),tt=x.project([g-De,l]),ot=He.add(tt).divideBy(2),dt=x.unproject(ot).lat,Lt=Math.acos((Math.cos(De*re)-Math.sin(g*re)*Math.sin(dt*re))/(Math.cos(g*re)*Math.cos(dt*re)))/re;(isNaN(Lt)||0===Lt)&&(Lt=De/Math.cos(Math.PI/180*g)),this._point=ot.subtract(x.getPixelOrigin()),this._radius=isNaN(Lt)?0:ot.x-x.project([dt,l-Lt]).x,this._radiusY=ot.y-He.y}else{var jt=V.unproject(V.project(this._latlng).subtract([this._mRadius,0]));this._point=x.latLngToLayerPoint(this._latlng),this._radius=this._point.x-x.latLngToLayerPoint(jt).x}this._updateBounds()}});var Ko=Nt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,g){q(this,g),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var re,De,g=1/0,x=null,V=mn,He=0,tt=this._parts.length;He<tt;He++)for(var ot=this._parts[He],dt=1,Lt=ot.length;dt<Lt;dt++){var jt=V(l,re=ot[dt-1],De=ot[dt],!0);jt<g&&(g=jt,x=V(l,re,De))}return x&&(x.distance=Math.sqrt(g)),x},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _u(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,g){return g=g||this._defaultShape(),l=Ie(l),g.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new ke,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return Hr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var g=[],x=Hr(l),V=0,re=l.length;V<re;V++)x?(g[V]=Ie(l[V]),this._bounds.extend(g[V])):g[V]=this._convertLatLngs(l[V]);return g},_project:function(){var l=new ce;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),g=new Ee(l,l);this._rawPxBounds&&(this._pxBounds=new ce([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(l,g,x){var De,He,re=l.length;if(l[0]instanceof Le){for(He=[],De=0;De<re;De++)He[De]=this._map.latLngToLayerPoint(l[De]),x.extend(He[De]);g.push(He)}else for(De=0;De<re;De++)this._projectLatlngs(l[De],g,x)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(l)){if(this.options.noClip)return void(this._parts=this._rings);var x,V,re,De,He,tt,ot,g=this._parts;for(x=0,re=0,De=this._rings.length;x<De;x++)for(V=0,He=(ot=this._rings[x]).length;V<He-1;V++)(tt=Wi(ot[V],ot[V+1],l,V,!0))&&(g[re]=g[re]||[],g[re].push(tt[0]),(tt[1]!==ot[V+1]||V===He-2)&&(g[re].push(tt[1]),re++))}},_simplifyPoints:function(){for(var l=this._parts,g=this.options.smoothFactor,x=0,V=l.length;x<V;x++)l[x]=Co(l[x],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,g){var x,V,re,De,He,tt,ot=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(x=0,De=this._parts.length;x<De;x++)for(V=0,re=(He=(tt=this._parts[x]).length)-1;V<He;re=V++)if((g||0!==V)&&pa(l,tt[re],tt[V])<=ot)return!0;return!1}});Ko._flat=_i;var La=Ko.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ts(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var g=Ko.prototype._convertLatLngs.call(this,l),x=g.length;return x>=2&&g[0]instanceof Le&&g[0].equals(g[x-1])&&g.pop(),g},_setLatLngs:function(l){Ko.prototype._setLatLngs.call(this,l),Hr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Hr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,g=this.options.weight,x=new Ee(g,g);if(l=new ce(l.min.subtract(x),l.max.add(x)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(l)){if(this.options.noClip)return void(this._parts=this._rings);for(var De,V=0,re=this._rings.length;V<re;V++)(De=Aa(this._rings[V],l,!0)).length&&this._parts.push(De)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var x,V,re,De,He,tt,ot,dt,g=!1;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(De=0,ot=this._parts.length;De<ot;De++)for(He=0,tt=(dt=(x=this._parts[De]).length)-1;He<dt;tt=He++)(V=x[He]).y>l.y!=(re=x[tt]).y>l.y&&l.x<(re.x-V.x)*(l.y-V.y)/(re.y-V.y)+V.x&&(g=!g);return g||Ko.prototype._containsPoint.call(this,l,!0)}});var co=Rr.extend({initialize:function(l,g){q(this,g),this._layers={},l&&this.addData(l)},addData:function(l){var x,V,re,g=O(l)?l:l.features;if(g){for(x=0,V=g.length;x<V;x++)((re=g[x]).geometries||re.geometry||re.features||re.coordinates)&&this.addData(re);return this}var De=this.options;if(De.filter&&!De.filter(l))return this;var He=ls(l,De);return He?(He.feature=$r(l),He.defaultOptions=He.options,this.resetStyle(He),De.onEachFeature&&De.onEachFeature(l,He),this.addLayer(He)):this},resetStyle:function(l){return void 0===l?this.eachLayer(this.resetStyle,this):(l.options=M({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(g){this._setLayerStyle(g,l)},this)},_setLayerStyle:function(l,g){l.setStyle&&("function"==typeof g&&(g=g(l.feature)),l.setStyle(g))}});function ls(l,g){var tt,ot,dt,Lt,x="Feature"===l.type?l.geometry:l,V=x?x.coordinates:null,re=[],De=g&&g.pointToLayer,He=g&&g.coordsToLatLng||fn;if(!V&&!x)return null;switch(x.type){case"Point":return kt(De,l,tt=He(V),g);case"MultiPoint":for(dt=0,Lt=V.length;dt<Lt;dt++)tt=He(V[dt]),re.push(kt(De,l,tt,g));return new Rr(re);case"LineString":case"MultiLineString":return ot=zn(V,"LineString"===x.type?0:1,He),new Ko(ot,g);case"Polygon":case"MultiPolygon":return ot=zn(V,"Polygon"===x.type?1:2,He),new La(ot,g);case"GeometryCollection":for(dt=0,Lt=x.geometries.length;dt<Lt;dt++){var jt=ls({geometry:x.geometries[dt],type:"Feature",properties:l.properties},g);jt&&re.push(jt)}return new Rr(re);case"FeatureCollection":for(dt=0,Lt=x.features.length;dt<Lt;dt++){var Cn=ls(x.features[dt],g);Cn&&re.push(Cn)}return new Rr(re);default:throw new Error("Invalid GeoJSON object.")}}function kt(l,g,x,V){return l?l(g,x):new us(x,V&&V.markersInheritOptions&&V)}function fn(l){return new Le(l[1],l[0],l[2])}function zn(l,g,x){for(var He,V=[],re=0,De=l.length;re<De;re++)He=g?zn(l[re],g-1,x):(x||fn)(l[re]),V.push(He);return V}function Ii(l,g){return void 0!==(l=Ie(l)).alt?[Y(l.lng,g),Y(l.lat,g),Y(l.alt,g)]:[Y(l.lng,g),Y(l.lat,g)]}function Ro(l,g,x,V){for(var re=[],De=0,He=l.length;De<He;De++)re.push(g?Ro(l[De],Hr(l[De])?0:g-1,x,V):Ii(l[De],V));return!g&&x&&re.push(re[0].slice()),re}function Ln(l,g){return l.feature?M({},l.feature,{geometry:g}):$r(g)}function $r(l){return"Feature"===l.type||"FeatureCollection"===l.type?l:{type:"Feature",properties:{},geometry:l}}var Ri={toGeoJSON:function(l){return Ln(this,{type:"Point",coordinates:Ii(this.getLatLng(),l)})}};function Ya(l,g){return new co(l,g)}us.include(Ri),Qi.include(Ri),jr.include(Ri),Ko.include({toGeoJSON:function(l){var g=!Hr(this._latlngs);return Ln(this,{type:(g?"Multi":"")+"LineString",coordinates:Ro(this._latlngs,g?1:0,!1,l)})}}),La.include({toGeoJSON:function(l){var g=!Hr(this._latlngs),x=g&&!Hr(this._latlngs[0]),V=Ro(this._latlngs,x?2:g?1:0,!0,l);return g||(V=[V]),Ln(this,{type:(x?"Multi":"")+"Polygon",coordinates:V})}}),Oo.include({toMultiPoint:function(l){var g=[];return this.eachLayer(function(x){g.push(x.toGeoJSON(l).geometry.coordinates)}),Ln(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(l){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===g)return this.toMultiPoint(l);var x="GeometryCollection"===g,V=[];return this.eachLayer(function(re){if(re.toGeoJSON){var De=re.toGeoJSON(l);if(x)V.push(De.geometry);else{var He=$r(De);"FeatureCollection"===He.type?V.push.apply(V,He.features):V.push(He)}}}),x?Ln(this,{geometries:V,type:"GeometryCollection"}):{type:"FeatureCollection",features:V}}});var ea=Ya,on=vs.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,g,x){this._url=l,this._bounds=pe(g),q(this,x)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_t(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){sn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&Jr(this._image),this},bringToBack:function(){return this._map&&di(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=pe(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l="IMG"===this._url.tagName,g=this._image=l?this._url:En("img");_t(g,"leaflet-image-layer"),this._zoomAnimated&&_t(g,"leaflet-zoom-animated"),this.options.className&&_t(g,this.options.className),g.onselectstart=H,g.onmousemove=H,g.onload=w(this.fire,this,"load"),g.onerror=w(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(g.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l?this._url=g.src:(g.src=this._url,g.alt=this.options.alt)},_animateZoom:function(l){var g=this._map.getZoomScale(l.zoom),x=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;ha(this._image,x,g)},_reset:function(){var l=this._image,g=new ce(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),x=g.getSize();gi(l,g.min),l.style.width=x.x+"px",l.style.height=x.y+"px"},_updateOpacity:function(){gt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),or=on.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l="VIDEO"===this._url.tagName,g=this._image=l?this._url:En("video");if(_t(g,"leaflet-image-layer"),this._zoomAnimated&&_t(g,"leaflet-zoom-animated"),this.options.className&&_t(g,this.options.className),g.onselectstart=H,g.onmousemove=H,g.onloadeddata=w(this.fire,this,"load"),l){for(var x=g.getElementsByTagName("source"),V=[],re=0;re<x.length;re++)V.push(x[re].src);this._url=x.length>0?V:[g.src]}else{O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var De=0;De<this._url.length;De++){var He=En("source");He.src=this._url[De],g.appendChild(He)}}}});var gr=on.extend({_initImage:function(){var l=this._image=this._url;_t(l,"leaflet-image-layer"),this._zoomAnimated&&_t(l,"leaflet-zoom-animated"),this.options.className&&_t(l,this.options.className),l.onselectstart=H,l.onmousemove=H}});var Ir=vs.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,g){l&&(l instanceof Le||O(l))?(this._latlng=Ie(l),q(this,g)):(q(this,l),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(l){return(l=arguments.length?l:this._source._map).hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&gt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&gt(this._container,1),this.bringToFront(),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(gt(this._container,0),this._removeTimeout=setTimeout(w(sn,void 0,this._container),200)):sn(this._container),this.options.interactive&&(tr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=Ie(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Jr(this._container),this},bringToBack:function(){return this._map&&di(this._container),this},_prepareOpen:function(l){var g=this._source;if(!g._map)return!1;if(g instanceof Rr){g=null;var x=this._source._layers;for(var V in x)if(x[V]._map){g=x[V];break}if(!g)return!1;this._source=g}if(!l)if(g.getCenter)l=g.getCenter();else if(g.getLatLng)l=g.getLatLng();else{if(!g.getBounds)throw new Error("Unable to get source layer LatLng.");l=g.getBounds().getCenter()}return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,g="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof g)l.innerHTML=g;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),g=he(this.options.offset),x=this._getAnchor();this._zoomAnimated?gi(this._container,l.add(x)):g=g.add(l).add(x);var V=this._containerBottom=-g.y,re=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=V+"px",this._container.style.left=re+"px"}},_getAnchor:function(){return[0,0]}});Jt.include({_initOverlay:function(l,g,x,V){var re=g;return re instanceof l||(re=new l(V).setContent(g)),x&&re.setLatLng(x),re}}),vs.include({_initOverlay:function(l,g,x,V){var re=x;return re instanceof l?(q(re,V),re._source=this):(re=g&&!V?g:new l(V,this)).setContent(x),re}});var No=Ir.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return!(l=arguments.length?l:this._source._map).hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Ir.prototype.openOn.call(this,l)},onAdd:function(l){Ir.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Nt||this._source.on("preclick",wr))},onRemove:function(l){Ir.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Nt||this._source.off("preclick",wr))},getEvents:function(){var l=Ir.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",g=this._container=En("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),x=this._wrapper=En("div",l+"-content-wrapper",g);if(this._contentNode=En("div",l+"-content",x),qr(g),Yt(this._contentNode),Qt(g,"contextmenu",wr),this._tipContainer=En("div",l+"-tip-container",g),this._tip=En("div",l+"-tip",this._tipContainer),this.options.closeButton){var V=this._closeButton=En("a",l+"-close-button",g);V.setAttribute("role","button"),V.setAttribute("aria-label","Close popup"),V.href="#close",V.innerHTML='<span aria-hidden="true">&#215;</span>',Qt(V,"click",function(re){Lr(re),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,g=l.style;g.width="",g.whiteSpace="nowrap";var x=l.offsetWidth;x=Math.min(x,this.options.maxWidth),x=Math.max(x,this.options.minWidth),g.width=x+1+"px",g.whiteSpace="",g.height="";var re=this.options.maxHeight,De="leaflet-popup-scrolled";re&&l.offsetHeight>re?(g.height=re+"px",_t(l,De)):tr(l,De),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),x=this._getAnchor();gi(this._container,g.add(x))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var l=this._map,g=parseInt(ca(this._container,"marginBottom"),10)||0,x=this._container.offsetHeight+g,V=this._containerWidth,re=new Ee(this._containerLeft,-x-this._containerBottom);re._add(ft(this._container));var De=l.layerPointToContainerPoint(re),He=he(this.options.autoPanPadding),tt=he(this.options.autoPanPaddingTopLeft||He),ot=he(this.options.autoPanPaddingBottomRight||He),dt=l.getSize(),Lt=0,jt=0;De.x+V+ot.x>dt.x&&(Lt=De.x+V-dt.x+ot.x),De.x-Lt-tt.x<0&&(Lt=De.x-tt.x),De.y+x+ot.y>dt.y&&(jt=De.y+x-dt.y+ot.y),De.y-jt-tt.y<0&&(jt=De.y-tt.y),(Lt||jt)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([Lt,jt]))}},_getAnchor:function(){return he(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Jt.mergeOptions({closePopupOnClick:!0}),Jt.include({openPopup:function(l,g,x){return this._initOverlay(No,l,g,x).openOn(this),this},closePopup:function(l){return(l=arguments.length?l:this._popup)&&l.close(),this}}),vs.include({bindPopup:function(l,g){return this._popup=this._initOverlay(No,this._popup,l,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof Rr||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(this._popup&&this._map){eo(l);var g=l.layer||l.target;if(this._popup._source===g&&!(g instanceof Nt))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng));this._popup._source=g,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){13===l.originalEvent.keyCode&&this._openPopup(l)}});var Ji=Ir.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Ir.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Ir.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Ir.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){this._contentNode=this._container=En("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+S(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var g,x,V=this._map,re=this._container,De=V.latLngToContainerPoint(V.getCenter()),He=V.layerPointToContainerPoint(l),tt=this.options.direction,ot=re.offsetWidth,dt=re.offsetHeight,Lt=he(this.options.offset),jt=this._getAnchor();"top"===tt?(g=ot/2,x=dt):"bottom"===tt?(g=ot/2,x=0):"center"===tt?(g=ot/2,x=dt/2):"right"===tt?(g=0,x=dt/2):"left"===tt?(g=ot,x=dt/2):He.x<De.x?(tt="right",g=0,x=dt/2):(tt="left",g=ot+2*(Lt.x+jt.x),x=dt/2),l=l.subtract(he(g,x,!0)).add(Lt).add(jt),tr(re,"leaflet-tooltip-right"),tr(re,"leaflet-tooltip-left"),tr(re,"leaflet-tooltip-top"),tr(re,"leaflet-tooltip-bottom"),_t(re,"leaflet-tooltip-"+tt),gi(re,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&gt(this._container,l)},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(g)},_getAnchor:function(){return he(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Jt.include({openTooltip:function(l,g,x){return this._initOverlay(Ji,l,g,x).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),vs.include({bindTooltip:function(l,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ji,this._tooltip,l,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(l||!this._tooltipHandlersAdded){var g=l?"off":"on",x={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?x.add=this._openTooltip:(x.mouseover=this._openTooltip,x.mouseout=this.closeTooltip,x.click=this._openTooltip,this._map?this._addFocusListeners():x.add=this._addFocusListeners),this._tooltip.options.sticky&&(x.mousemove=this._moveTooltip),this[g](x),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof Rr||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var g=l.getElement();g&&(Qt(g,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),Qt(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var g=l.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0))},_moveTooltip:function(l){var x,V,g=l.latlng;this._tooltip.options.sticky&&l.originalEvent&&(x=this._map.mouseEventToContainerPoint(l.originalEvent),V=this._map.containerPointToLayerPoint(x),g=this._map.layerPointToLatLng(V)),this._tooltip.setLatLng(g)}});var Pn=Nr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var g=l&&"DIV"===l.tagName?l:document.createElement("div"),x=this.options;if(x.html instanceof Element?(du(g),g.appendChild(x.html)):g.innerHTML=!1!==x.html?x.html:"",x.bgPos){var V=he(x.bgPos);g.style.backgroundPosition=-V.x+"px "+-V.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});Nr.Default=ko;var hs=vs.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$t.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){q(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),sn(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Jr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(di(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=R(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof Ee?l:new Ee(l,l)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var De,g=this.getPane().children,x=-l(-1/0,1/0),V=0,re=g.length;V<re;V++)De=g[V].style.zIndex,g[V]!==this._container&&De&&(x=l(x,+De));isFinite(x)&&(this.options.zIndex=x+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$t.ielt9){gt(this._container,this.options.opacity);var l=+new Date,g=!1,x=!1;for(var V in this._tiles){var re=this._tiles[V];if(re.current&&re.loaded){var De=Math.min(1,(l-re.loaded)/200);gt(re.el,De),De<1?g=!0:(re.active?x=!0:this._onOpaqueTile(re),re.active=!0)}}x&&!this._noPrune&&this._pruneTiles(),g&&(Q(this._fadeFrame),this._fadeFrame=ie(this._updateOpacity,this))}},_onOpaqueTile:H,_initContainer:function(){this._container||(this._container=En("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,g=this.options.maxZoom;if(void 0!==l){for(var x in this._levels)x=Number(x),this._levels[x].el.children.length||x===l?(this._levels[x].el.style.zIndex=g-Math.abs(l-x),this._onUpdateLevel(x)):(sn(this._levels[x].el),this._removeTilesAtZoom(x),this._onRemoveLevel(x),delete this._levels[x]);var V=this._levels[l],re=this._map;return V||((V=this._levels[l]={}).el=En("div","leaflet-tile-container leaflet-zoom-animated",this._container),V.el.style.zIndex=g,V.origin=re.project(re.unproject(re.getPixelOrigin()),l).round(),V.zoom=l,this._setZoomTransform(V,re.getCenter(),re.getZoom()),this._onCreateLevel(V)),this._level=V,V}},_onUpdateLevel:H,_onRemoveLevel:H,_onCreateLevel:H,_pruneTiles:function(){if(this._map){var l,g,x=this._map.getZoom();if(x>this.options.maxZoom||x<this.options.minZoom)return void this._removeAllTiles();for(l in this._tiles)(g=this._tiles[l]).retain=g.current;for(l in this._tiles)if((g=this._tiles[l]).current&&!g.active){var V=g.coords;this._retainParent(V.x,V.y,V.z,V.z-5)||this._retainChildren(V.x,V.y,V.z,V.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var g in this._tiles)this._tiles[g].coords.z===l&&this._removeTile(g)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)sn(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,g,x,V){var re=Math.floor(l/2),De=Math.floor(g/2),He=x-1,tt=new Ee(+re,+De);tt.z=+He;var ot=this._tileCoordsToKey(tt),dt=this._tiles[ot];return dt&&dt.active?(dt.retain=!0,!0):(dt&&dt.loaded&&(dt.retain=!0),He>V&&this._retainParent(re,De,He,V))},_retainChildren:function(l,g,x,V){for(var re=2*l;re<2*l+2;re++)for(var De=2*g;De<2*g+2;De++){var He=new Ee(re,De);He.z=x+1;var tt=this._tileCoordsToKey(He),ot=this._tiles[tt];ot&&ot.active?ot.retain=!0:(ot&&ot.loaded&&(ot.retain=!0),x+1<V&&this._retainChildren(re,De,x+1,V))}},_resetView:function(l){var g=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var g=this.options;return void 0!==g.minNativeZoom&&l<g.minNativeZoom?g.minNativeZoom:void 0!==g.maxNativeZoom&&g.maxNativeZoom<l?g.maxNativeZoom:l},_setView:function(l,g,x,V){var re=Math.round(g);re=void 0!==this.options.maxZoom&&re>this.options.maxZoom||void 0!==this.options.minZoom&&re<this.options.minZoom?void 0:this._clampZoom(re),(!V||this.options.updateWhenZooming&&re!==this._tileZoom)&&(this._tileZoom=re,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==re&&this._update(l),x||this._pruneTiles(),this._noPrune=!!x),this._setZoomTransforms(l,g)},_setZoomTransforms:function(l,g){for(var x in this._levels)this._setZoomTransform(this._levels[x],l,g)},_setZoomTransform:function(l,g,x){var V=this._map.getZoomScale(x,l.zoom),re=l.origin.multiplyBy(V).subtract(this._map._getNewPixelOrigin(g,x)).round();$t.any3d?ha(l.el,re,V):gi(l.el,re)},_resetGrid:function(){var l=this._map,g=l.options.crs,x=this._tileSize=this.getTileSize(),V=this._tileZoom,re=this._map.getPixelWorldBounds(this._tileZoom);re&&(this._globalTileRange=this._pxBoundsToTileRange(re)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,g.wrapLng[0]],V).x/x.x),Math.ceil(l.project([0,g.wrapLng[1]],V).x/x.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([g.wrapLat[0],0],V).y/x.x),Math.ceil(l.project([g.wrapLat[1],0],V).y/x.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var g=this._map,x=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),V=g.getZoomScale(x,this._tileZoom),re=g.project(l,this._tileZoom).floor(),De=g.getSize().divideBy(2*V);return new ce(re.subtract(De),re.add(De))},_update:function(l){var g=this._map;if(g){var x=this._clampZoom(g.getZoom());if(void 0===l&&(l=g.getCenter()),void 0!==this._tileZoom){var V=this._getTiledPixelBounds(l),re=this._pxBoundsToTileRange(V),De=re.getCenter(),He=[],tt=this.options.keepBuffer,ot=new ce(re.getBottomLeft().subtract([tt,-tt]),re.getTopRight().add([tt,-tt]));if(!(isFinite(re.min.x)&&isFinite(re.min.y)&&isFinite(re.max.x)&&isFinite(re.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var dt in this._tiles){var Lt=this._tiles[dt].coords;(Lt.z!==this._tileZoom||!ot.contains(new Ee(Lt.x,Lt.y)))&&(this._tiles[dt].current=!1)}if(Math.abs(x-this._tileZoom)>1)return void this._setView(l,x);for(var jt=re.min.y;jt<=re.max.y;jt++)for(var Cn=re.min.x;Cn<=re.max.x;Cn++){var go=new Ee(Cn,jt);if(go.z=this._tileZoom,this._isValidTile(go)){var _a=this._tiles[this._tileCoordsToKey(go)];_a?_a.current=!0:He.push(go)}}if(He.sort(function(xo,Ka){return xo.distanceTo(De)-Ka.distanceTo(De)}),0!==He.length){this._loading||(this._loading=!0,this.fire("loading"));var na=document.createDocumentFragment();for(Cn=0;Cn<He.length;Cn++)this._addTile(He[Cn],na);this._level.el.appendChild(na)}}}},_isValidTile:function(l){var g=this._map.options.crs;if(!g.infinite){var x=this._globalTileRange;if(!g.wrapLng&&(l.x<x.min.x||l.x>x.max.x)||!g.wrapLat&&(l.y<x.min.y||l.y>x.max.y))return!1}if(!this.options.bounds)return!0;var V=this._tileCoordsToBounds(l);return pe(this.options.bounds).overlaps(V)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var g=this._map,x=this.getTileSize(),V=l.scaleBy(x),re=V.add(x);return[g.unproject(V,l.z),g.unproject(re,l.z)]},_tileCoordsToBounds:function(l){var g=this._tileCoordsToNwSe(l),x=new ke(g[0],g[1]);return this.options.noWrap||(x=this._map.wrapLatLngBounds(x)),x},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var g=l.split(":"),x=new Ee(+g[0],+g[1]);return x.z=+g[2],x},_removeTile:function(l){var g=this._tiles[l];g&&(sn(g.el),delete this._tiles[l],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){_t(l,"leaflet-tile");var g=this.getTileSize();l.style.width=g.x+"px",l.style.height=g.y+"px",l.onselectstart=H,l.onmousemove=H,$t.ielt9&&this.options.opacity<1&&gt(l,this.options.opacity)},_addTile:function(l,g){var x=this._getTilePos(l),V=this._tileCoordsToKey(l),re=this.createTile(this._wrapCoords(l),w(this._tileReady,this,l));this._initTile(re),this.createTile.length<2&&ie(w(this._tileReady,this,l,null,re)),gi(re,x),this._tiles[V]={el:re,coords:l,current:!0},g.appendChild(re),this.fire("tileloadstart",{tile:re,coords:l})},_tileReady:function(l,g,x){g&&this.fire("tileerror",{error:g,tile:x,coords:l});var V=this._tileCoordsToKey(l);(x=this._tiles[V])&&(x.loaded=+new Date,this._map._fadeAnimated?(gt(x.el,0),Q(this._fadeFrame),this._fadeFrame=ie(this._updateOpacity,this)):(x.active=!0,this._pruneTiles()),g||(_t(x.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:x.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$t.ielt9||!this._map._fadeAnimated?ie(this._pruneTiles,this):setTimeout(w(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var g=new Ee(this._wrapX?C(l.x,this._wrapX):l.x,this._wrapY?C(l.y,this._wrapY):l.y);return g.z=l.z,g},_pxBoundsToTileRange:function(l){var g=this.getTileSize();return new ce(l.min.unscaleBy(g).floor(),l.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});var mr=hs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,g){this._url=l,(g=q(this,g)).detectRetina&&$t.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),"string"==typeof g.subdomains&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,g){return this._url===l&&void 0===g&&(g=!0),this._url=l,g||this.redraw(),this},createTile:function(l,g){var x=document.createElement("img");return Qt(x,"load",w(this._tileOnLoad,this,g,x)),Qt(x,"error",w(this._tileOnError,this,g,x)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(x.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(x.referrerPolicy=this.options.referrerPolicy),x.alt="",x.src=this.getTileUrl(l),x},getTileUrl:function(l){var g={r:$t.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var x=this._globalTileRange.max.y-l.y;this.options.tms&&(g.y=x),g["-y"]=x}return k(this._url,M(g,this.options))},_tileOnLoad:function(l,g){$t.ielt9?setTimeout(w(l,this,null,g),0):l(null,g)},_tileOnError:function(l,g,x){var V=this.options.errorTileUrl;V&&g.getAttribute("src")!==V&&(g.src=V),l(x,g)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom;return this.options.zoomReverse&&(l=this.options.maxZoom-l),l+this.options.zoomOffset},_getSubdomain:function(l){var g=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var l,g;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&((g=this._tiles[l].el).onload=H,g.onerror=H,!g.complete)){g.src=I;var x=this._tiles[l].coords;sn(g),delete this._tiles[l],this.fire("tileabort",{tile:g,coords:x})}},_removeTile:function(l){var g=this._tiles[l];if(g)return g.el.setAttribute("src",I),hs.prototype._removeTile.call(this,l)},_tileReady:function(l,g,x){if(this._map&&(!x||x.getAttribute("src")!==I))return hs.prototype._tileReady.call(this,l,g,x)}});function Xa(l,g){return new mr(l,g)}var er=mr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,g){this._url=l;var x=M({},this.defaultWmsParams);for(var V in g)V in this.options||(x[V]=g[V]);var re=(g=q(this,g)).detectRetina&&$t.retina?2:1,De=this.getTileSize();x.width=De.x*re,x.height=De.y*re,this.wmsParams=x},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,mr.prototype.onAdd.call(this,l)},getTileUrl:function(l){var g=this._tileCoordsToNwSe(l),x=this._crs,V=se(x.project(g[0]),x.project(g[1])),re=V.min,De=V.max,He=(this._wmsVersion>=1.3&&this._crs===to?[re.y,re.x,De.y,De.x]:[re.x,re.y,De.x,De.y]).join(","),tt=mr.prototype.getTileUrl.call(this,l);return tt+ne(this.wmsParams,tt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+He},setParams:function(l,g){return M(this.wmsParams,l),g||this.redraw(),this}});mr.WMS=er,Xa.wms=function fo(l,g){return new er(l,g)};var Wr=vs.extend({options:{padding:.1},initialize:function(l){q(this,l),S(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&_t(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,g){var x=this._map.getZoomScale(g,this._zoom),V=this._map.getSize().multiplyBy(.5+this.options.padding),re=this._map.project(this._center,g),De=V.multiplyBy(-x).add(re).subtract(this._map._getNewPixelOrigin(l,g));$t.any3d?ha(this._container,De,x):gi(this._container,De)},_reset:function(){for(var l in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,g=this._map.getSize(),x=this._map.containerPointToLayerPoint(g.multiplyBy(-l)).round();this._bounds=new ce(x,x.add(g.multiplyBy(1+2*l)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),yi=Wr.extend({options:{tolerance:0},getEvents:function(){var l=Wr.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");Qt(l,"mousemove",this._onMouseMove,this),Qt(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Qt(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){Q(this._redrawRequest),delete this._ctx,sn(this._container),Nn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var g in this._redrawBounds=null,this._layers)this._layers[g]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Wr.prototype._update.call(this);var l=this._bounds,g=this._container,x=l.getSize(),V=$t.retina?2:1;gi(g,l.min),g.width=V*x.x,g.height=V*x.y,g.style.width=x.x+"px",g.style.height=x.y+"px",$t.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){Wr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[S(l)]=l;var g=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var g=l._order,x=g.next,V=g.prev;x?x.prev=V:this._drawLast=V,V?V.next=x:this._drawFirst=x,delete l._order,delete this._layers[S(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if("string"==typeof l.options.dashArray){var V,re,g=l.options.dashArray.split(/[, ]+/),x=[];for(re=0;re<g.length;re++){if(V=Number(g[re]),isNaN(V))return;x.push(V)}l.options._dashArray=x}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||ie(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var g=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ce,this._redrawBounds.extend(l._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(l._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var g=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,g=this._redrawBounds;if(this._ctx.save(),g){var x=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,x.x,x.y),this._ctx.clip()}this._drawing=!0;for(var V=this._drawFirst;V;V=V.next)l=V.layer,(!g||l._pxBounds&&l._pxBounds.intersects(g))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,g){if(this._drawing){var x,V,re,De,He=l._parts,tt=He.length,ot=this._ctx;if(tt){for(ot.beginPath(),x=0;x<tt;x++){for(V=0,re=He[x].length;V<re;V++)ot[V?"lineTo":"moveTo"]((De=He[x][V]).x,De.y);g&&ot.closePath()}this._fillStroke(ot,l)}}},_updateCircle:function(l){if(this._drawing&&!l._empty()){var g=l._point,x=this._ctx,V=Math.max(Math.round(l._radius),1),re=(Math.max(Math.round(l._radiusY),1)||V)/V;1!==re&&(x.save(),x.scale(1,re)),x.beginPath(),x.arc(g.x,g.y/re,V,0,2*Math.PI,!1),1!==re&&x.restore(),this._fillStroke(x,l)}},_fillStroke:function(l,g){var x=g.options;x.fill&&(l.globalAlpha=x.fillOpacity,l.fillStyle=x.fillColor||x.color,l.fill(x.fillRule||"evenodd")),x.stroke&&0!==x.weight&&(l.setLineDash&&l.setLineDash(g.options&&g.options._dashArray||[]),l.globalAlpha=x.opacity,l.lineWidth=x.weight,l.strokeStyle=x.color,l.lineCap=x.lineCap,l.lineJoin=x.lineJoin,l.stroke())},_onClick:function(l){for(var x,V,g=this._map.mouseEventToLayerPoint(l),re=this._drawFirst;re;re=re.next)(x=re.layer).options.interactive&&x._containsPoint(g)&&("click"!==l.type&&"preclick"!==l.type||!this._map._draggableMoved(x))&&(V=x);this._fireEvent(!!V&&[V],l)},_onMouseMove:function(l){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var g=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,g)}},_handleMouseOut:function(l){var g=this._hoveredLayer;g&&(tr(this._container,"leaflet-interactive"),this._fireEvent([g],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,g){if(!this._mouseHoverThrottled){for(var x,V,re=this._drawFirst;re;re=re.next)(x=re.layer).options.interactive&&x._containsPoint(g)&&(V=x);V!==this._hoveredLayer&&(this._handleMouseOut(l),V&&(_t(this._container,"leaflet-interactive"),this._fireEvent([V],l,"mouseover"),this._hoveredLayer=V)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],l),this._mouseHoverThrottled=!0,setTimeout(w(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,g,x){this._map._fireDOMEvent(g,x||g.type,l)},_bringToFront:function(l){var g=l._order;if(g){var x=g.next,V=g.prev;if(!x)return;x.prev=V,V?V.next=x:x&&(this._drawFirst=x),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(l)}},_bringToBack:function(l){var g=l._order;if(g){var x=g.next,V=g.prev;if(!V)return;V.next=x,x?x.prev=V:V&&(this._drawLast=V),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(l)}}});function _r(l){return $t.canvas?new yi(l):null}var Jo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),As={_initContainer:function(){this._container=En("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wr.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var g=l._container=Jo("shape");_t(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",l._path=Jo("path"),g.appendChild(l._path),this._updateStyle(l),this._layers[S(l)]=l},_addPath:function(l){var g=l._container;this._container.appendChild(g),l.options.interactive&&l.addInteractiveTarget(g)},_removePath:function(l){var g=l._container;sn(g),l.removeInteractiveTarget(g),delete this._layers[S(l)]},_updateStyle:function(l){var g=l._stroke,x=l._fill,V=l.options,re=l._container;re.stroked=!!V.stroke,re.filled=!!V.fill,V.stroke?(g||(g=l._stroke=Jo("stroke")),re.appendChild(g),g.weight=V.weight+"px",g.color=V.color,g.opacity=V.opacity,g.dashStyle=V.dashArray?O(V.dashArray)?V.dashArray.join(" "):V.dashArray.replace(/( *, *)/g," "):"",g.endcap=V.lineCap.replace("butt","flat"),g.joinstyle=V.lineJoin):g&&(re.removeChild(g),l._stroke=null),V.fill?(x||(x=l._fill=Jo("fill")),re.appendChild(x),x.color=V.fillColor||V.color,x.opacity=V.fillOpacity):x&&(re.removeChild(x),l._fill=null)},_updateCircle:function(l){var g=l._point.round(),x=Math.round(l._radius),V=Math.round(l._radiusY||x);this._setPath(l,l._empty()?"M0 0":"AL "+g.x+","+g.y+" "+x+","+V+" 0,23592600")},_setPath:function(l,g){l._path.v=g},_bringToFront:function(l){Jr(l._container)},_bringToBack:function(l){di(l._container)}},no=$t.vml?Jo:ct,Br=Wr.extend({_initContainer:function(){this._container=no("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=no("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){sn(this._container),Nn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Wr.prototype._update.call(this);var l=this._bounds,g=l.getSize(),x=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,x.setAttribute("width",g.x),x.setAttribute("height",g.y)),gi(x,l.min),x.setAttribute("viewBox",[l.min.x,l.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(l){var g=l._path=no("path");l.options.className&&_t(g,l.options.className),l.options.interactive&&_t(g,"leaflet-interactive"),this._updateStyle(l),this._layers[S(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){sn(l._path),l.removeInteractiveTarget(l._path),delete this._layers[S(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var g=l._path,x=l.options;g&&(x.stroke?(g.setAttribute("stroke",x.color),g.setAttribute("stroke-opacity",x.opacity),g.setAttribute("stroke-width",x.weight),g.setAttribute("stroke-linecap",x.lineCap),g.setAttribute("stroke-linejoin",x.lineJoin),x.dashArray?g.setAttribute("stroke-dasharray",x.dashArray):g.removeAttribute("stroke-dasharray"),x.dashOffset?g.setAttribute("stroke-dashoffset",x.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),x.fill?(g.setAttribute("fill",x.fillColor||x.color),g.setAttribute("fill-opacity",x.fillOpacity),g.setAttribute("fill-rule",x.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(l,g){this._setPath(l,ht(l._parts,g))},_updateCircle:function(l){var g=l._point,x=Math.max(Math.round(l._radius),1),re="a"+x+","+(Math.max(Math.round(l._radiusY),1)||x)+" 0 1,0 ",De=l._empty()?"M0 0":"M"+(g.x-x)+","+g.y+re+2*x+",0 "+re+2*-x+",0 ";this._setPath(l,De)},_setPath:function(l,g){l._path.setAttribute("d",g)},_bringToFront:function(l){Jr(l._path)},_bringToBack:function(l){di(l._path)}});function io(l){return $t.svg||$t.vml?new Br(l):null}$t.vml&&Br.include(As),Jt.include({getRenderer:function(l){var g=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(l){if("overlayPane"===l||void 0===l)return!1;var g=this._paneRenderers[l];return void 0===g&&(g=this._createRenderer({pane:l}),this._paneRenderers[l]=g),g},_createRenderer:function(l){return this.options.preferCanvas&&_r(l)||io(l)}});var Ls=La.extend({initialize:function(l,g){La.prototype.initialize.call(this,this._boundsToLatLngs(l),g)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return[(l=pe(l)).getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});Br.create=no,Br.pointsToPath=ht,co.geometryToLayer=ls,co.coordsToLatLng=fn,co.coordsToLatLngs=zn,co.latLngToCoords=Ii,co.latLngsToCoords=Ro,co.getFeature=Ln,co.asFeature=$r,Jt.mergeOptions({boxZoom:!0});var Tl=Tt.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){Qt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Nn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){sn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||1!==l.which&&1!==l.button)return!1;this._clearDeferredResetState(),this._resetState(),Ys(),os(),this._startPoint=this._map.mouseEventToContainerPoint(l),Qt(document,{contextmenu:eo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=En("div","leaflet-zoom-box",this._container),_t(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var g=new ce(this._point,this._startPoint),x=g.getSize();gi(this._box,g.min),this._box.style.width=x.x+"px",this._box.style.height=x.y+"px"},_finish:function(){this._moved&&(sn(this._box),tr(this._container,"leaflet-crosshair")),cn(),_s(),Nn(document,{contextmenu:eo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if((1===l.which||1===l.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(w(this._resetState,this),0);var g=new ke(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(l){27===l.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Jt.addInitHook("addHandler","boxZoom",Tl),Jt.mergeOptions({doubleClickZoom:!0});var fc=Tt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var g=this._map,x=g.getZoom(),V=g.options.zoomDelta,re=l.originalEvent.shiftKey?x-V:x+V;"center"===g.options.doubleClickZoom?g.setZoom(re):g.setZoomAround(l.containerPoint,re)}});Jt.addInitHook("addHandler","doubleClickZoom",fc),Jt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ro=Tt.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new ir(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}_t(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){tr(this._map._container,"leaflet-grab"),tr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=pe(this._map.options.maxBounds);this._offsetLimit=se(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var g=this._lastTime=+new Date,x=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(x),this._times.push(g),this._prunePositions(g)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,g){return l-(l-g)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var l=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;l.x<g.min.x&&(l.x=this._viscousLimit(l.x,g.min.x)),l.y<g.min.y&&(l.y=this._viscousLimit(l.y,g.min.y)),l.x>g.max.x&&(l.x=this._viscousLimit(l.x,g.max.x)),l.y>g.max.y&&(l.y=this._viscousLimit(l.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,g=Math.round(l/2),x=this._initialWorldOffset,V=this._draggable._newPos.x,re=(V-g+x)%l+g-x,De=(V+g+x)%l-g-x,He=Math.abs(re+x)<Math.abs(De+x)?re:De;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=He},_onDragEnd:function(l){var g=this._map,x=g.options,V=!x.inertia||l.noInertia||this._times.length<2;if(g.fire("dragend",l),V)g.fire("moveend");else{this._prunePositions(+new Date);var re=this._lastPos.subtract(this._positions[0]),He=x.easeLinearity,tt=re.multiplyBy(He/((this._lastTime-this._times[0])/1e3)),ot=tt.distanceTo([0,0]),dt=Math.min(x.inertiaMaxSpeed,ot),Lt=tt.multiplyBy(dt/ot),jt=dt/(x.inertiaDeceleration*He),Cn=Lt.multiplyBy(-jt/2).round();Cn.x||Cn.y?(Cn=g._limitOffset(Cn,g.options.maxBounds),ie(function(){g.panBy(Cn,{duration:jt,easeLinearity:He,noMoveStart:!0,animate:!0})})):g.fire("moveend")}}});Jt.addInitHook("addHandler","dragging",ro),Jt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ga=Tt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),Qt(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Nn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,g=document.documentElement,x=l.scrollTop||g.scrollTop,V=l.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(V,x)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var V,re,g=this._panKeys={},x=this.keyCodes;for(V=0,re=x.left.length;V<re;V++)g[x.left[V]]=[-1*l,0];for(V=0,re=x.right.length;V<re;V++)g[x.right[V]]=[l,0];for(V=0,re=x.down.length;V<re;V++)g[x.down[V]]=[0,l];for(V=0,re=x.up.length;V<re;V++)g[x.up[V]]=[0,-1*l]},_setZoomDelta:function(l){var V,re,g=this._zoomKeys={},x=this.keyCodes;for(V=0,re=x.zoomIn.length;V<re;V++)g[x.zoomIn[V]]=l;for(V=0,re=x.zoomOut.length;V<re;V++)g[x.zoomOut[V]]=-l},_addHooks:function(){Qt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Nn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var V,g=l.keyCode,x=this._map;if(g in this._panKeys){if(!x._panAnim||!x._panAnim._inProgress)if(V=this._panKeys[g],l.shiftKey&&(V=he(V).multiplyBy(3)),x.options.maxBounds&&(V=x._limitOffset(he(V),x.options.maxBounds)),x.options.worldCopyJump){var re=x.wrapLatLng(x.unproject(x.project(x.getCenter()).add(V)));x.panTo(re)}else x.panBy(V)}else if(g in this._zoomKeys)x.setZoom(x.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[g]);else{if(27!==g||!x._popup||!x._popup.options.closeOnEscapeKey)return;x.closePopup()}eo(l)}}});Jt.addInitHook("addHandler","keyboard",ga),Jt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Al=Tt.extend({addHooks:function(){Qt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Nn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var g=$i(l),x=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var V=Math.max(x-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(w(this._performZoom,this),V),eo(l)},_performZoom:function(){var l=this._map,g=l.getZoom(),x=this._map.options.zoomSnap||0;l._stop();var re=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,De=x?Math.ceil(re/x)*x:re,He=l._limitZoom(g+(this._delta>0?De:-De))-g;this._delta=0,this._startTime=null,He&&("center"===l.options.scrollWheelZoom?l.setZoom(g+He):l.setZoomAround(this._lastMousePos,g+He))}});Jt.addInitHook("addHandler","scrollWheelZoom",Al);Jt.mergeOptions({tapHold:$t.touchNative&&$t.safari&&$t.mobile,tapTolerance:15});var ma=Tt.extend({addHooks:function(){Qt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Nn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),1===l.touches.length){var g=l.touches[0];this._startPos=this._newPos=new Ee(g.clientX,g.clientY),this._holdTimeout=setTimeout(w(function(){this._cancel(),this._isTapValid()&&(Qt(document,"touchend",Lr),Qt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),600),Qt(document,"touchend touchcancel contextmenu",this._cancel,this),Qt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){Nn(document,"touchend",Lr),Nn(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),Nn(document,"touchend touchcancel contextmenu",this._cancel,this),Nn(document,"touchmove",this._onMove,this)},_onMove:function(l){var g=l.touches[0];this._newPos=new Ee(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,g){var x=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});x._simulated=!0,g.target.dispatchEvent(x)}});Jt.addInitHook("addHandler","tapHold",ma),Jt.mergeOptions({touchZoom:$t.touch,bounceAtZoomLimits:!0});var Vr=Tt.extend({addHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),Qt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){tr(this._map._container,"leaflet-touch-zoom"),Nn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var g=this._map;if(l.touches&&2===l.touches.length&&!g._animatingZoom&&!this._zooming){var x=g.mouseEventToContainerPoint(l.touches[0]),V=g.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),"center"!==g.options.touchZoom&&(this._pinchStartLatLng=g.containerPointToLatLng(x.add(V)._divideBy(2))),this._startDist=x.distanceTo(V),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),Qt(document,"touchmove",this._onTouchMove,this),Qt(document,"touchend touchcancel",this._onTouchEnd,this),Lr(l)}},_onTouchMove:function(l){if(l.touches&&2===l.touches.length&&this._zooming){var g=this._map,x=g.mouseEventToContainerPoint(l.touches[0]),V=g.mouseEventToContainerPoint(l.touches[1]),re=x.distanceTo(V)/this._startDist;if(this._zoom=g.getScaleZoom(re,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&re<1||this._zoom>g.getMaxZoom()&&re>1)&&(this._zoom=g._limitZoom(this._zoom)),"center"===g.options.touchZoom){if(this._center=this._startLatLng,1===re)return}else{var De=x._add(V)._divideBy(2)._subtract(this._centerPoint);if(1===re&&0===De.x&&0===De.y)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(De),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),Q(this._animRequest);var He=w(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ie(He,this,!0),Lr(l)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Q(this._animRequest),Nn(document,"touchmove",this._onTouchMove,this),Nn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Jt.addInitHook("addHandler","touchZoom",Vr),Jt.BoxZoom=Tl,Jt.DoubleClickZoom=fc,Jt.Drag=ro,Jt.Keyboard=ga,Jt.ScrollWheelZoom=Al,Jt.TapHold=ma,Jt.TouchZoom=Vr,j.Bounds=ce,j.Browser=$t,j.CRS=$e,j.Canvas=yi,j.Circle=Qi,j.CircleMarker=jr,j.Class=J,j.Control=ss,j.DivIcon=Pn,j.DivOverlay=Ir,j.DomEvent=Zo,j.DomUtil=Kf,j.Draggable=ir,j.Evented=ge,j.FeatureGroup=Rr,j.GeoJSON=co,j.GridLayer=hs,j.Handler=Tt,j.Icon=Nr,j.ImageOverlay=on,j.LatLng=Le,j.LatLngBounds=ke,j.Layer=vs,j.LayerGroup=Oo,j.LineUtil=uo,j.Map=Jt,j.Marker=us,j.Mixin=vh,j.Path=Nt,j.Point=Ee,j.PolyUtil=lo,j.Polygon=La,j.Polyline=Ko,j.Popup=No,j.PosAnimation=nr,j.Projection=Fn,j.Rectangle=Ls,j.Renderer=Wr,j.SVG=Br,j.SVGOverlay=gr,j.TileLayer=mr,j.Tooltip=Ji,j.Transformation=ye,j.Util=ue,j.VideoOverlay=or,j.bind=w,j.bounds=se,j.canvas=_r,j.circle=function rr(l,g,x){return new Qi(l,g,x)},j.circleMarker=function _n(l,g){return new jr(l,g)},j.control=Is,j.divIcon=function hc(l){return new Pn(l)},j.extend=M,j.featureGroup=function(l,g){return new Rr(l,g)},j.geoJSON=Ya,j.geoJson=ea,j.gridLayer=function ta(l){return new hs(l)},j.icon=function bs(l){return new Nr(l)},j.imageOverlay=function(l,g,x){return new on(l,g,x)},j.latLng=Ie,j.latLngBounds=pe,j.layerGroup=function(l,g){return new Oo(l,g)},j.map=function Za(l,g){return new Jt(l,g)},j.marker=function Fr(l,g){return new us(l,g)},j.point=he,j.polygon=function yu(l,g){return new La(l,g)},j.polyline=function Fi(l,g){return new Ko(l,g)},j.popup=function(l,g){return new No(l,g)},j.rectangle=function sr(l,g){return new Ls(l,g)},j.setOptions=q,j.stamp=S,j.svg=io,j.svgOverlay=function ho(l,g,x){return new gr(l,g,x)},j.tileLayer=Xa,j.tooltip=function(l,g){return new Ji(l,g)},j.transformation=Ae,j.version="1.9.3",j.videoOverlay=function Qo(l,g,x){return new or(l,g,x)};var po=window.L;j.noConflict=function(){return window.L=po,this},window.L=j}(fe)},5943:Qe=>{"use strict";var fe=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;Qe.exports=function v(){try{if(!Object.assign)return!1;var w=new String("abc");if(w[5]="de","5"===Object.getOwnPropertyNames(w)[0])return!1;for(var E={},S=0;S<10;S++)E["_"+String.fromCharCode(S)]=S;if("0123456789"!==Object.getOwnPropertyNames(E).map(function(H){return E[H]}).join(""))return!1;var C={};return"abcdefghijklmnopqrst".split("").forEach(function(H){C[H]=H}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},C)).join("")}catch{return!1}}()?Object.assign:function(w,E){for(var S,C,R=function M(w){if(null==w)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(w)}(w),H=1;H<arguments.length;H++){for(var Y in S=Object(arguments[H]))j.call(S,Y)&&(R[Y]=S[Y]);if(fe){C=fe(S);for(var $=0;$<C.length;$++)P.call(S,C[$])&&(R[C[$]]=S[C[$]])}}return R}},1175:Qe=>{"use strict";var fe=function(j){return j!=j};Qe.exports=function(P,M){return 0===P&&0===M?1/P==1/M:!!(P===M||fe(P)&&fe(M))}},2e3:(Qe,fe,j)=>{"use strict";var P=j(2358),M=j(5685),v=j(1175),w=j(6305),E=j(3859),S=M(w(),Object);P(S,{getPolyfill:w,implementation:v,shim:E}),Qe.exports=S},6305:(Qe,fe,j)=>{"use strict";var P=j(1175);Qe.exports=function(){return"function"==typeof Object.is?Object.is:P}},3859:(Qe,fe,j)=>{"use strict";var P=j(6305),M=j(2358);Qe.exports=function(){var w=P();return M(Object,{is:w},{is:function(){return Object.is!==w}}),w}},2450:(Qe,fe,j)=>{"use strict";var P;if(!Object.keys){var M=Object.prototype.hasOwnProperty,v=Object.prototype.toString,w=j(9978),E=Object.prototype.propertyIsEnumerable,S=!E.call({toString:null},"toString"),R=E.call(function(){},"prototype"),C=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],H=function(q){var ne=q.constructor;return ne&&ne.prototype===q},Y={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},$=function(){if(typeof window>"u")return!1;for(var q in window)try{if(!Y["$"+q]&&M.call(window,q)&&null!==window[q]&&"object"==typeof window[q])try{H(window[q])}catch{return!0}}catch{return!0}return!1}();P=function(ne){var N=null!==ne&&"object"==typeof ne,k="[object Function]"===v.call(ne),O=w(ne),B=N&&"[object String]"===v.call(ne),I=[];if(!N&&!k&&!O)throw new TypeError("Object.keys called on a non-object");var U=R&&k;if(B&&ne.length>0&&!M.call(ne,0))for(var F=0;F<ne.length;++F)I.push(String(F));if(O&&ne.length>0)for(var X=0;X<ne.length;++X)I.push(String(X));else for(var oe in ne)(!U||"prototype"!==oe)&&M.call(ne,oe)&&I.push(String(oe));if(S)for(var z=function(q){if(typeof window>"u"||!$)return H(q);try{return H(q)}catch{return!1}}(ne),ie=0;ie<C.length;++ie)(!z||"constructor"!==C[ie])&&M.call(ne,C[ie])&&I.push(C[ie]);return I}}Qe.exports=P},1356:(Qe,fe,j)=>{"use strict";var P=Array.prototype.slice,M=j(9978),v=Object.keys,w=v?function(R){return v(R)}:j(2450),E=Object.keys;w.shim=function(){if(Object.keys){var R=function(){var C=Object.keys(arguments);return C&&C.length===arguments.length}(1,2);R||(Object.keys=function(H){return M(H)?E(P.call(H)):E(H)})}else Object.keys=w;return Object.keys||w},Qe.exports=w},9978:Qe=>{"use strict";var fe=Object.prototype.toString;Qe.exports=function(P){var M=fe.call(P),v="[object Arguments]"===M;return v||(v="[object Array]"!==M&&null!==P&&"object"==typeof P&&"number"==typeof P.length&&P.length>=0&&"[object Function]"===fe.call(P.callee)),v}},2295:()=>{!function(){"use strict";var Qe={}.hasOwnProperty,fe=[].slice;(function(){var j,P;if(null!=this.L)return this.OverlappingMarkerSpiderfier=((j=M.prototype).VERSION="0.2.6",P=2*Math.PI,j.keepSpiderfied=!1,j.nearbyDistance=20,j.circleSpiralSwitchover=9,j.circleFootSeparation=25,j.circleStartAngle=P/12,j.spiralFootSeparation=28,j.spiralLengthStart=11,j.spiralLengthFactor=5,j.legWeight=1.5,j.legColors={usual:"#222",highlighted:"#f00"},j.initMarkerArrays=function(){return this.markers=[],this.markerListeners=[]},j.addMarker=function(v){var w,E;return null!=v._oms||(v._oms=!0,E=this,v.addEventListener("click",w=function(){return E.spiderListener(v)}),this.markerListeners.push(w),this.markers.push(v)),this},j.getMarkers=function(){return this.markers.slice(0)},j.removeMarker=function(v){var w,E;return null!=v._omsData&&this.unspiderfy(),(w=this.arrIndexOf(this.markers,v))<0||(E=this.markerListeners.splice(w,1)[0],v.removeEventListener("click",E),delete v._oms,this.markers.splice(w,1)),this},j.clearMarkers=function(){var v,w,E,S,C;for(this.unspiderfy(),v=w=0,E=(C=this.markers).length;w<E;v=++w)(S=C[v]).removeEventListener("click",this.markerListeners[v]),delete S._oms;return this.initMarkerArrays(),this},j.addListener=function(v,w){var E;return(null!=(E=this.listeners)[v]?E[v]:E[v]=[]).push(w),this},j.removeListener=function(v,w){var E;return(E=this.arrIndexOf(this.listeners[v],w))<0||this.listeners[v].splice(E,1),this},j.clearListeners=function(v){return this.listeners[v]=[],this},j.trigger=function(){var v,w,S,R,C,H,Y;for(w=arguments[0],v=2<=arguments.length?fe.call(arguments,1):[],Y=[],S=0,R=(H=null!=(C=this.listeners[w])?C:[]).length;S<R;S++)Y.push(H[S].apply(null,v));return Y},j.generatePtsCircle=function(v,w){var E,S,R,C,H,Y,$;for(H=this.circleFootSeparation*(2+v)/P,S=P/v,$=[],R=C=0,Y=v;0<=Y?C<Y:Y<C;R=0<=Y?++C:--C)E=this.circleStartAngle+R*S,$.push(new L.Point(w.x+H*Math.cos(E),w.y+H*Math.sin(E)));return $},j.generatePtsSpiral=function(v,w){var E,S,R,C,H,Y,$;for(C=this.spiralLengthStart,$=[],S=R=E=0,Y=v;0<=Y?R<Y:Y<R;S=0<=Y?++R:--R)E+=this.spiralFootSeparation/C+5e-4*S,H=new L.Point(w.x+C*Math.cos(E),w.y+C*Math.sin(E)),C+=P*this.spiralLengthFactor/E,$.push(H);return $},j.spiderListener=function(v){var w,E,S,R,C,H,Y,$,te,q;if((H=null!=v._omsData)&&this.keepSpiderfied||this.unspiderfy(),H)return this.trigger("click",v);for(Y=[],$=[],te=this.nearbyDistance*this.nearbyDistance,C=this.map.latLngToLayerPoint(v.getLatLng()),w=0,E=(q=this.markers).length;w<E;w++)this.map.hasLayer(S=q[w])&&(R=this.map.latLngToLayerPoint(S.getLatLng()),this.ptDistanceSq(R,C)<te?Y.push({marker:S,markerPt:R}):$.push(S));return 1===Y.length?this.trigger("click",v):this.spiderfy(Y,$)},j.makeHighlightListeners=function(v){return{highlight:(E=this,function(){return v._omsData.leg.setStyle({color:E.legColors.highlighted})}),unhighlight:(w=this,function(){return v._omsData.leg.setStyle({color:w.legColors.usual})})};var w,E},j.spiderfy=function(v,w){var E,S,R,C,H,Y,te,q,ne,N;return this.spiderfying=!0,ne=v.length,E=this.ptAverage(function(){var k,O,B;for(B=[],k=0,O=v.length;k<O;k++)B.push(v[k].markerPt);return B}()),C=ne>=this.circleSpiralSwitchover?this.generatePtsSpiral(ne,E).reverse():this.generatePtsCircle(ne,E),N=function(){var k,O,B;for(B=[],k=0,O=C.length;k<O;k++)S=this.map.layerPointToLatLng(R=C[k]),q=this.minExtract(v,function(I){return function(U){return I.ptDistanceSq(U.markerPt,R)}}(this)),Y=q.marker,H=new L.Polyline([Y.getLatLng(),S],{color:this.legColors.usual,weight:this.legWeight,clickable:!1}),this.map.addLayer(H),Y._omsData={usualPosition:Y.getLatLng(),leg:H},this.legColors.highlighted!==this.legColors.usual&&(te=this.makeHighlightListeners(Y),Y._omsData.highlightListeners=te,Y.addEventListener("mouseover",te.highlight),Y.addEventListener("mouseout",te.unhighlight)),Y.setLatLng(S),Y.setZIndexOffset(Y.options.zIndexOffset+1e6),B.push(Y);return B}.call(this),delete this.spiderfying,this.spiderfied=!0,this.trigger("spiderfy",N,w)},j.unspiderfy=function(v){var w,E,S,R,C,H,Y;if(null==v&&(v=null),null==this.spiderfied)return this;for(this.unspiderfying=!0,Y=[],C=[],w=0,E=(H=this.markers).length;w<E;w++)null!=(S=H[w])._omsData?(this.map.removeLayer(S._omsData.leg),S!==v&&S.setLatLng(S._omsData.usualPosition),S.setZIndexOffset(S.options.zIndexOffset-1e6),null!=(R=S._omsData.highlightListeners)&&(S.removeEventListener("mouseover",R.highlight),S.removeEventListener("mouseout",R.unhighlight)),delete S._omsData,Y.push(S)):C.push(S);return delete this.unspiderfying,delete this.spiderfied,this.trigger("unspiderfy",Y,C),this},j.ptDistanceSq=function(v,w){var E,S;return(E=v.x-w.x)*E+(S=v.y-w.y)*S},j.ptAverage=function(v){var w,E,S,R,C,H;for(C=H=0,w=0,E=v.length;w<E;w++)C+=(R=v[w]).x,H+=R.y;return S=v.length,new L.Point(C/S,H/S)},j.minExtract=function(v,w){var E,S,R,C,H,Y;for(R=C=0,H=v.length;C<H;R=++C)Y=w(v[R]),(null==E||Y<S)&&(S=Y,E=R);return v.splice(E,1)[0]},j.arrIndexOf=function(v,w){var E,S,R;if(null!=v.indexOf)return v.indexOf(w);for(E=S=0,R=v.length;S<R;E=++S)if(v[E]===w)return E;return-1},M);function M(v,w){var S,R,C,H;for(R in this.map=v,null==w&&(w={}),w)Qe.call(w,R)&&(this[R]=w[R]);for(this.initMarkerArrays(),this.listeners={},S=0,C=(H=["click","zoomend"]).length;S<C;S++)this.map.addEventListener(H[S],function($){return function(){return $.unspiderfy()}}(this))}}).call(window)}()},1766:Qe=>{Qe.exports=function(j,P,M,v){var w=j[0],E=j[1],S=!1;void 0===M&&(M=0),void 0===v&&(v=P.length);for(var R=(v-M)/2,C=0,H=R-1;C<R;H=C++){var Y=P[M+2*C+0],$=P[M+2*C+1],q=P[M+2*H+1];$>E!=q>E&&w<(P[M+2*H+0]-Y)*(E-$)/(q-$)+Y&&(S=!S)}return S}},3870:(Qe,fe,j)=>{var P=j(1766),M=j(2260);Qe.exports=function(w,E,S,R){return E.length>0&&Array.isArray(E[0])?M(w,E,S,R):P(w,E,S,R)},Qe.exports.nested=M,Qe.exports.flat=P},2260:Qe=>{Qe.exports=function(j,P,M,v){var w=j[0],E=j[1],S=!1;void 0===M&&(M=0),void 0===v&&(v=P.length);for(var R=v-M,C=0,H=R-1;C<R;H=C++){var Y=P[C+M][0],$=P[C+M][1],q=P[H+M][1];$>E!=q>E&&w<(P[H+M][0]-Y)*(E-$)/(q-$)+Y&&(S=!S)}return S}},9855:function(Qe){Qe.exports=function(){"use strict";function fe(qe,Ce){if(!(qe instanceof Ce))throw new TypeError("Cannot call a class as a function")}function j(qe,Ce){for(var we=0;we<Ce.length;we++){var be=Ce[we];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(qe,be.key,be)}}function P(qe,Ce,we){return Ce&&j(qe.prototype,Ce),we&&j(qe,we),qe}var M=function qe(Ce,we){this.next=null,this.key=Ce,this.data=we,this.left=null,this.right=null};function v(qe,Ce){return qe>Ce?1:qe<Ce?-1:0}function w(qe,Ce,we){for(var be=new M(null,null),Re=be,Ve=be;;){var Oe=we(qe,Ce.key);if(Oe<0){if(null===Ce.left)break;if(we(qe,Ce.left.key)<0&&(Ce.left=(je=Ce.left).right,je.right=Ce,null===(Ce=je).left))break;Ve.left=Ce,Ve=Ce,Ce=Ce.left}else{if(!(Oe>0))break;if(null===Ce.right)break;var je;if(we(qe,Ce.right.key)>0&&(Ce.right=(je=Ce.right).left,je.left=Ce,null===(Ce=je).right))break;Re.right=Ce,Re=Ce,Ce=Ce.right}}return Re.right=Ce.left,Ve.left=Ce.right,Ce.left=be.right,Ce.right=be.left,Ce}function E(qe,Ce,we,be){var Re=new M(qe,Ce);if(null===we)return Re.left=Re.right=null,Re;var Ve=be(qe,(we=w(qe,we,be)).key);return Ve<0?(Re.left=we.left,Re.right=we,we.left=null):Ve>=0&&(Re.right=we.right,Re.left=we,we.right=null),Re}function S(qe,Ce,we){var be=null,Re=null;if(Ce){var Ve=we((Ce=w(qe,Ce,we)).key,qe);0===Ve?(be=Ce.left,Re=Ce.right):Ve<0?(Re=Ce.right,Ce.right=null,be=Ce):(be=Ce.left,Ce.left=null,Re=Ce)}return{left:be,right:Re}}function C(qe,Ce,we,be,Re){if(qe){be(Ce+(we?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+Re(qe)+"\n");var Ve=Ce+(we?"    ":"\u2502   ");qe.left&&C(qe.left,Ve,!1,be,Re),qe.right&&C(qe.right,Ve,!0,be,Re)}}var H=function(){function qe(Ce){void 0===Ce&&(Ce=v),this._root=null,this._size=0,this._comparator=Ce}return qe.prototype.insert=function(Ce,we){return this._size++,this._root=E(Ce,we,this._root,this._comparator)},qe.prototype.add=function(Ce,we){var be=new M(Ce,we);null===this._root&&(be.left=be.right=null,this._size++,this._root=be);var Re=this._comparator,Ve=w(Ce,this._root,Re),Oe=Re(Ce,Ve.key);return 0===Oe?this._root=Ve:(Oe<0?(be.left=Ve.left,be.right=Ve,Ve.left=null):Oe>0&&(be.right=Ve.right,be.left=Ve,Ve.right=null),this._size++,this._root=be),this._root},qe.prototype.remove=function(Ce){this._root=this._remove(Ce,this._root,this._comparator)},qe.prototype._remove=function(Ce,we,be){var Re;return null===we?null:0===be(Ce,(we=w(Ce,we,be)).key)?(null===we.left?Re=we.right:(Re=w(Ce,we.left,be)).right=we.right,this._size--,Re):we},qe.prototype.pop=function(){var Ce=this._root;if(Ce){for(;Ce.left;)Ce=Ce.left;return this._root=w(Ce.key,this._root,this._comparator),this._root=this._remove(Ce.key,this._root,this._comparator),{key:Ce.key,data:Ce.data}}return null},qe.prototype.findStatic=function(Ce){for(var we=this._root,be=this._comparator;we;){var Re=be(Ce,we.key);if(0===Re)return we;we=Re<0?we.left:we.right}return null},qe.prototype.find=function(Ce){return this._root&&(this._root=w(Ce,this._root,this._comparator),0!==this._comparator(Ce,this._root.key))?null:this._root},qe.prototype.contains=function(Ce){for(var we=this._root,be=this._comparator;we;){var Re=be(Ce,we.key);if(0===Re)return!0;we=Re<0?we.left:we.right}return!1},qe.prototype.forEach=function(Ce,we){for(var be=this._root,Re=[],Ve=!1;!Ve;)null!==be?(Re.push(be),be=be.left):0!==Re.length?(be=Re.pop(),Ce.call(we,be),be=be.right):Ve=!0;return this},qe.prototype.range=function(Ce,we,be,Re){for(var Ve=[],Oe=this._comparator,je=this._root;0!==Ve.length||je;)if(je)Ve.push(je),je=je.left;else{if(Oe((je=Ve.pop()).key,we)>0)break;if(Oe(je.key,Ce)>=0&&be.call(Re,je))return this;je=je.right}return this},qe.prototype.keys=function(){var Ce=[];return this.forEach(function(we){return Ce.push(we.key)}),Ce},qe.prototype.values=function(){var Ce=[];return this.forEach(function(we){return Ce.push(we.data)}),Ce},qe.prototype.min=function(){return this._root?this.minNode(this._root).key:null},qe.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},qe.prototype.minNode=function(Ce){if(void 0===Ce&&(Ce=this._root),Ce)for(;Ce.left;)Ce=Ce.left;return Ce},qe.prototype.maxNode=function(Ce){if(void 0===Ce&&(Ce=this._root),Ce)for(;Ce.right;)Ce=Ce.right;return Ce},qe.prototype.at=function(Ce){for(var we=this._root,be=!1,Re=0,Ve=[];!be;)if(we)Ve.push(we),we=we.left;else if(Ve.length>0){if(we=Ve.pop(),Re===Ce)return we;Re++,we=we.right}else be=!0;return null},qe.prototype.next=function(Ce){var we=this._root,be=null;if(Ce.right){for(be=Ce.right;be.left;)be=be.left;return be}for(var Re=this._comparator;we;){var Ve=Re(Ce.key,we.key);if(0===Ve)break;Ve<0?(be=we,we=we.left):we=we.right}return be},qe.prototype.prev=function(Ce){var we=this._root,be=null;if(null!==Ce.left){for(be=Ce.left;be.right;)be=be.right;return be}for(var Re=this._comparator;we;){var Ve=Re(Ce.key,we.key);if(0===Ve)break;Ve<0?we=we.left:(be=we,we=we.right)}return be},qe.prototype.clear=function(){return this._root=null,this._size=0,this},qe.prototype.toList=function(){return function te(qe){for(var Ce=qe,we=[],be=!1,Re=new M(null,null),Ve=Re;!be;)Ce?(we.push(Ce),Ce=Ce.left):we.length>0?Ce=(Ce=Ve=Ve.next=we.pop()).right:be=!0;return Ve.next=null,Re.next}(this._root)},qe.prototype.load=function(Ce,we,be){void 0===we&&(we=[]),void 0===be&&(be=!1);var Re=Ce.length,Ve=this._comparator;if(be&&N(Ce,we,0,Re-1,Ve),null===this._root)this._root=Y(Ce,we,0,Re),this._size=Re;else{var Oe=function ne(qe,Ce,we){for(var be=new M(null,null),Re=be,Ve=qe,Oe=Ce;null!==Ve&&null!==Oe;)we(Ve.key,Oe.key)<0?(Re.next=Ve,Ve=Ve.next):(Re.next=Oe,Oe=Oe.next),Re=Re.next;return null!==Ve?Re.next=Ve:null!==Oe&&(Re.next=Oe),be.next}(this.toList(),function $(qe,Ce){for(var we=new M(null,null),be=we,Re=0;Re<qe.length;Re++)be=be.next=new M(qe[Re],Ce[Re]);return be.next=null,we.next}(Ce,we),Ve);this._root=q({head:Oe},0,Re=this._size+Re)}return this},qe.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(qe.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(qe.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),qe.prototype.toString=function(Ce){void 0===Ce&&(Ce=function(Re){return String(Re.key)});var we=[];return C(this._root,"",!0,function(be){return we.push(be)},Ce),we.join("")},qe.prototype.update=function(Ce,we,be){var Re=this._comparator,Ve=S(Ce,this._root,Re),Oe=Ve.left,je=Ve.right;Re(Ce,we)<0?je=E(we,be,je,Re):Oe=E(we,be,Oe,Re),this._root=function R(qe,Ce,we){return null===Ce?qe:(null===qe||((Ce=w(qe.key,Ce,we)).left=qe),Ce)}(Oe,je,Re)},qe.prototype.split=function(Ce){return S(Ce,this._root,this._comparator)},qe}();function Y(qe,Ce,we,be){var Re=be-we;if(Re>0){var Ve=we+Math.floor(Re/2),Xe=new M(qe[Ve],Ce[Ve]);return Xe.left=Y(qe,Ce,we,Ve),Xe.right=Y(qe,Ce,Ve+1,be),Xe}return null}function q(qe,Ce,we){var be=we-Ce;if(be>0){var Re=Ce+Math.floor(be/2),Ve=q(qe,Ce,Re),Oe=qe.head;return Oe.left=Ve,qe.head=qe.head.next,Oe.right=q(qe,Re+1,we),Oe}return null}function N(qe,Ce,we,be,Re){if(!(we>=be)){for(var Ve=qe[we+be>>1],Oe=we-1,je=be+1;;){do{Oe++}while(Re(qe[Oe],Ve)<0);do{je--}while(Re(qe[je],Ve)>0);if(Oe>=je)break;var Xe=qe[Oe];qe[Oe]=qe[je],qe[je]=Xe,Xe=Ce[Oe],Ce[Oe]=Ce[je],Ce[je]=Xe}N(qe,Ce,we,je,Re),N(qe,Ce,je+1,be,Re)}}var k=function(Ce,we){return Ce.ll.x<=we.x&&we.x<=Ce.ur.x&&Ce.ll.y<=we.y&&we.y<=Ce.ur.y},O=function(Ce,we){return we.ur.x<Ce.ll.x||Ce.ur.x<we.ll.x||we.ur.y<Ce.ll.y||Ce.ur.y<we.ll.y?null:{ll:{x:Ce.ll.x<we.ll.x?we.ll.x:Ce.ll.x,y:Ce.ll.y<we.ll.y?we.ll.y:Ce.ll.y},ur:{x:Ce.ur.x<we.ur.x?Ce.ur.x:we.ur.x,y:Ce.ur.y<we.ur.y?Ce.ur.y:we.ur.y}}},B=Number.EPSILON;void 0===B&&(B=Math.pow(2,-52));var I=B*B,U=function(Ce,we){if(-B<Ce&&Ce<B&&-B<we&&we<B)return 0;var be=Ce-we;return be*be<I*Ce*we?0:Ce<we?-1:1},F=function(){function qe(){fe(this,qe),this.reset()}return P(qe,[{key:"reset",value:function(){this.xRounder=new X,this.yRounder=new X}},{key:"round",value:function(we,be){return{x:this.xRounder.round(we),y:this.yRounder.round(be)}}}]),qe}(),X=function(){function qe(){fe(this,qe),this.tree=new H,this.round(0)}return P(qe,[{key:"round",value:function(we){var be=this.tree.add(we),Re=this.tree.prev(be);if(null!==Re&&0===U(be.key,Re.key))return this.tree.remove(we),Re.key;var Ve=this.tree.next(be);return null!==Ve&&0===U(be.key,Ve.key)?(this.tree.remove(we),Ve.key):we}}]),qe}(),oe=new F,z=function(Ce,we){return Ce.x*we.y-Ce.y*we.x},ie=function(Ce,we){return Ce.x*we.x+Ce.y*we.y},Q=function(Ce,we,be){var Oe=z({x:we.x-Ce.x,y:we.y-Ce.y},{x:be.x-Ce.x,y:be.y-Ce.y});return U(Oe,0)},ue=function(Ce){return Math.sqrt(ie(Ce,Ce))},J=function(Ce,we,be){var Re={x:we.x-Ce.x,y:we.y-Ce.y},Ve={x:be.x-Ce.x,y:be.y-Ce.y};return z(Ve,Re)/ue(Ve)/ue(Re)},Me=function(Ce,we,be){var Re={x:we.x-Ce.x,y:we.y-Ce.y},Ve={x:be.x-Ce.x,y:be.y-Ce.y};return ie(Ve,Re)/ue(Ve)/ue(Re)},Te=function(Ce,we,be){return 0===we.y?null:{x:Ce.x+we.x/we.y*(be-Ce.y),y:be}},ge=function(Ce,we,be){return 0===we.x?null:{x:be,y:Ce.y+we.y/we.x*(be-Ce.x)}},ve=function(){function qe(Ce,we){fe(this,qe),void 0===Ce.events?Ce.events=[this]:Ce.events.push(this),this.point=Ce,this.isLeft=we}return P(qe,null,[{key:"compare",value:function(we,be){var Re=qe.comparePoints(we.point,be.point);return 0!==Re?Re:(we.point!==be.point&&we.link(be),we.isLeft!==be.isLeft?we.isLeft?1:-1:ce.compare(we.segment,be.segment))}},{key:"comparePoints",value:function(we,be){return we.x<be.x?-1:we.x>be.x?1:we.y<be.y?-1:we.y>be.y?1:0}}]),P(qe,[{key:"link",value:function(we){if(we.point===this.point)throw new Error("Tried to link already linked events");for(var be=we.point.events,Re=0,Ve=be.length;Re<Ve;Re++){var Oe=be[Re];this.point.events.push(Oe),Oe.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var we=this.point.events.length,be=0;be<we;be++){var Re=this.point.events[be];if(void 0===Re.segment.consumedBy)for(var Ve=be+1;Ve<we;Ve++){var Oe=this.point.events[Ve];void 0===Oe.consumedBy&&Re.otherSE.point.events===Oe.otherSE.point.events&&Re.segment.consume(Oe.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var we=[],be=0,Re=this.point.events.length;be<Re;be++){var Ve=this.point.events[be];Ve!==this&&!Ve.segment.ringOut&&Ve.segment.isInResult()&&we.push(Ve)}return we}},{key:"getLeftmostComparator",value:function(we){var be=this,Re=new Map,Ve=function(je){var Xe=je.otherSE;Re.set(je,{sine:J(be.point,we.point,Xe.point),cosine:Me(be.point,we.point,Xe.point)})};return function(Oe,je){Re.has(Oe)||Ve(Oe),Re.has(je)||Ve(je);var Xe=Re.get(Oe),Ge=Xe.sine,mt=Xe.cosine,yt=Re.get(je),it=yt.sine,Et=yt.cosine;return Ge>=0&&it>=0?mt<Et?1:mt>Et?-1:0:Ge<0&&it<0?mt<Et?-1:mt>Et?1:0:it<Ge?-1:it>Ge?1:0}}}]),qe}(),he=0,ce=function(){function qe(Ce,we,be,Re){fe(this,qe),this.id=++he,this.leftSE=Ce,Ce.segment=this,Ce.otherSE=we,this.rightSE=we,we.segment=this,we.otherSE=Ce,this.rings=be,this.windings=Re}return P(qe,null,[{key:"compare",value:function(we,be){var Re=we.leftSE.point.x,Ve=be.leftSE.point.x,Oe=we.rightSE.point.x,je=be.rightSE.point.x;if(je<Re)return 1;if(Oe<Ve)return-1;var Xe=we.leftSE.point.y,Ge=be.leftSE.point.y,mt=we.rightSE.point.y,yt=be.rightSE.point.y;if(Re<Ve){if(Ge<Xe&&Ge<mt)return 1;if(Ge>Xe&&Ge>mt)return-1;var it=we.comparePoint(be.leftSE.point);if(it<0)return 1;if(it>0)return-1;var Et=be.comparePoint(we.rightSE.point);return 0!==Et?Et:-1}if(Re>Ve){if(Xe<Ge&&Xe<yt)return-1;if(Xe>Ge&&Xe>yt)return 1;var pn=be.comparePoint(we.leftSE.point);if(0!==pn)return pn;var Ut=we.comparePoint(be.rightSE.point);return Ut<0?1:Ut>0?-1:1}if(Xe<Ge)return-1;if(Xe>Ge)return 1;if(Oe<je){var bn=be.comparePoint(we.rightSE.point);if(0!==bn)return bn}if(Oe>je){var Dn=we.comparePoint(be.rightSE.point);if(Dn<0)return 1;if(Dn>0)return-1}if(Oe!==je){var xi=mt-Xe,Ki=Oe-Re,Sr=yt-Ge,bo=je-Ve;if(xi>Ki&&Sr<bo)return 1;if(xi<Ki&&Sr>bo)return-1}return Oe>je?1:Oe<je||mt<yt?-1:mt>yt?1:we.id<be.id?-1:we.id>be.id?1:0}}]),P(qe,[{key:"replaceRightSE",value:function(we){this.rightSE=we,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var we=this.leftSE.point.y,be=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:we<be?we:be},ur:{x:this.rightSE.point.x,y:we>be?we:be}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(we){return we.x===this.leftSE.point.x&&we.y===this.leftSE.point.y||we.x===this.rightSE.point.x&&we.y===this.rightSE.point.y}},{key:"comparePoint",value:function(we){if(this.isAnEndpoint(we))return 0;var be=this.leftSE.point,Re=this.rightSE.point,Ve=this.vector();if(be.x===Re.x)return we.x===be.x?0:we.x<be.x?1:-1;if(we.x===be.x+(we.y-be.y)/Ve.y*Ve.x)return 0;var Ge=be.y+(we.x-be.x)/Ve.x*Ve.y;return we.y===Ge?0:we.y<Ge?-1:1}},{key:"getIntersection",value:function(we){var be=this.bbox(),Re=we.bbox(),Ve=O(be,Re);if(null===Ve)return null;var Oe=this.leftSE.point,je=this.rightSE.point,Xe=we.leftSE.point,Ge=we.rightSE.point,mt=k(be,Xe)&&0===this.comparePoint(Xe),yt=k(Re,Oe)&&0===we.comparePoint(Oe),it=k(be,Ge)&&0===this.comparePoint(Ge),Et=k(Re,je)&&0===we.comparePoint(je);if(yt&&mt)return Et&&!it?je:!Et&&it?Ge:null;if(yt)return it&&Oe.x===Ge.x&&Oe.y===Ge.y?null:Oe;if(mt)return Et&&je.x===Xe.x&&je.y===Xe.y?null:Xe;if(Et&&it)return null;if(Et)return je;if(it)return Ge;var pn=function(Ce,we,be,Re){if(0===we.x)return ge(be,Re,Ce.x);if(0===Re.x)return ge(Ce,we,be.x);if(0===we.y)return Te(be,Re,Ce.y);if(0===Re.y)return Te(Ce,we,be.y);var Ve=z(we,Re);if(0==Ve)return null;var Oe={x:be.x-Ce.x,y:be.y-Ce.y},je=z(Oe,we)/Ve,Xe=z(Oe,Re)/Ve;return{x:(Ce.x+Xe*we.x+(be.x+je*Re.x))/2,y:(Ce.y+Xe*we.y+(be.y+je*Re.y))/2}}(Oe,this.vector(),Xe,we.vector());return null!==pn&&k(Ve,pn)?oe.round(pn.x,pn.y):null}},{key:"split",value:function(we){var be=[],Re=void 0!==we.events,Ve=new ve(we,!0),Oe=new ve(we,!1),je=this.rightSE;this.replaceRightSE(Oe),be.push(Oe),be.push(Ve);var Xe=new qe(Ve,je,this.rings.slice(),this.windings.slice());return ve.comparePoints(Xe.leftSE.point,Xe.rightSE.point)>0&&Xe.swapEvents(),ve.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),Re&&(Ve.checkForConsuming(),Oe.checkForConsuming()),be}},{key:"swapEvents",value:function(){var we=this.rightSE;this.rightSE=this.leftSE,this.leftSE=we,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var be=0,Re=this.windings.length;be<Re;be++)this.windings[be]*=-1}},{key:"consume",value:function(we){for(var be=this,Re=we;be.consumedBy;)be=be.consumedBy;for(;Re.consumedBy;)Re=Re.consumedBy;var Ve=qe.compare(be,Re);if(0!==Ve){if(Ve>0){var Oe=be;be=Re,Re=Oe}if(be.prev===Re){var je=be;be=Re,Re=je}for(var Xe=0,Ge=Re.rings.length;Xe<Ge;Xe++){var mt=Re.rings[Xe],yt=Re.windings[Xe],it=be.rings.indexOf(mt);-1===it?(be.rings.push(mt),be.windings.push(yt)):be.windings[it]+=yt}Re.rings=null,Re.windings=null,Re.consumedBy=be,Re.leftSE.consumedBy=be.leftSE,Re.rightSE.consumedBy=be.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var we=this.beforeState();this._afterState={rings:we.rings.slice(0),windings:we.windings.slice(0),multiPolys:[]};for(var be=this._afterState.rings,Re=this._afterState.windings,Ve=this._afterState.multiPolys,Oe=0,je=this.rings.length;Oe<je;Oe++){var Xe=this.rings[Oe],Ge=this.windings[Oe],mt=be.indexOf(Xe);-1===mt?(be.push(Xe),Re.push(Ge)):Re[mt]+=Ge}for(var yt=[],it=[],Et=0,pn=be.length;Et<pn;Et++)if(0!==Re[Et]){var Ut=be[Et],bn=Ut.poly;if(-1===it.indexOf(bn))if(Ut.isExterior)yt.push(bn);else{-1===it.indexOf(bn)&&it.push(bn);var Dn=yt.indexOf(Ut.poly);-1!==Dn&&yt.splice(Dn,1)}}for(var xi=0,Ki=yt.length;xi<Ki;xi++){var Sr=yt[xi].multiPoly;-1===Ve.indexOf(Sr)&&Ve.push(Sr)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var we=this.beforeState().multiPolys,be=this.afterState().multiPolys;switch(Ae.type){case"union":this._isInResult=0===we.length!=(0===be.length);break;case"intersection":var Oe,je;we.length<be.length?(Oe=we.length,je=be.length):(Oe=be.length,je=we.length),this._isInResult=je===Ae.numMultiPolys&&Oe<je;break;case"xor":var Xe=Math.abs(we.length-be.length);this._isInResult=Xe%2==1;break;case"difference":var Ge=function(yt){return 1===yt.length&&yt[0].isSubject};this._isInResult=Ge(we)!==Ge(be);break;default:throw new Error("Unrecognized operation type found ".concat(Ae.type))}return this._isInResult}}],[{key:"fromRing",value:function(we,be,Re){var Ve,Oe,je,Xe=ve.comparePoints(we,be);if(Xe<0)Ve=we,Oe=be,je=1;else{if(!(Xe>0))throw new Error("Tried to create degenerate segment at [".concat(we.x,", ").concat(we.y,"]"));Ve=be,Oe=we,je=-1}return new qe(new ve(Ve,!0),new ve(Oe,!1),[Re],[je])}}]),qe}(),se=function(){function qe(Ce,we,be){if(fe(this,qe),!Array.isArray(Ce)||0===Ce.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=we,this.isExterior=be,this.segments=[],"number"!=typeof Ce[0][0]||"number"!=typeof Ce[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Re=oe.round(Ce[0][0],Ce[0][1]);this.bbox={ll:{x:Re.x,y:Re.y},ur:{x:Re.x,y:Re.y}};for(var Ve=Re,Oe=1,je=Ce.length;Oe<je;Oe++){if("number"!=typeof Ce[Oe][0]||"number"!=typeof Ce[Oe][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Xe=oe.round(Ce[Oe][0],Ce[Oe][1]);Xe.x===Ve.x&&Xe.y===Ve.y||(this.segments.push(ce.fromRing(Ve,Xe,this)),Xe.x<this.bbox.ll.x&&(this.bbox.ll.x=Xe.x),Xe.y<this.bbox.ll.y&&(this.bbox.ll.y=Xe.y),Xe.x>this.bbox.ur.x&&(this.bbox.ur.x=Xe.x),Xe.y>this.bbox.ur.y&&(this.bbox.ur.y=Xe.y),Ve=Xe)}(Re.x!==Ve.x||Re.y!==Ve.y)&&this.segments.push(ce.fromRing(Ve,Re,this))}return P(qe,[{key:"getSweepEvents",value:function(){for(var we=[],be=0,Re=this.segments.length;be<Re;be++){var Ve=this.segments[be];we.push(Ve.leftSE),we.push(Ve.rightSE)}return we}}]),qe}(),ke=function(){function qe(Ce,we){if(fe(this,qe),!Array.isArray(Ce))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new se(Ce[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var be=1,Re=Ce.length;be<Re;be++){var Ve=new se(Ce[be],this,!1);Ve.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Ve.bbox.ll.x),Ve.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Ve.bbox.ll.y),Ve.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Ve.bbox.ur.x),Ve.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Ve.bbox.ur.y),this.interiorRings.push(Ve)}this.multiPoly=we}return P(qe,[{key:"getSweepEvents",value:function(){for(var we=this.exteriorRing.getSweepEvents(),be=0,Re=this.interiorRings.length;be<Re;be++)for(var Ve=this.interiorRings[be].getSweepEvents(),Oe=0,je=Ve.length;Oe<je;Oe++)we.push(Ve[Oe]);return we}}]),qe}(),pe=function(){function qe(Ce,we){if(fe(this,qe),!Array.isArray(Ce))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof Ce[0][0][0]&&(Ce=[Ce])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var be=0,Re=Ce.length;be<Re;be++){var Ve=new ke(Ce[be],this);Ve.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Ve.bbox.ll.x),Ve.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Ve.bbox.ll.y),Ve.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Ve.bbox.ur.x),Ve.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Ve.bbox.ur.y),this.polys.push(Ve)}this.isSubject=we}return P(qe,[{key:"getSweepEvents",value:function(){for(var we=[],be=0,Re=this.polys.length;be<Re;be++)for(var Ve=this.polys[be].getSweepEvents(),Oe=0,je=Ve.length;Oe<je;Oe++)we.push(Ve[Oe]);return we}}]),qe}(),Le=function(){function qe(Ce){fe(this,qe),this.events=Ce;for(var we=0,be=Ce.length;we<be;we++)Ce[we].segment.ringOut=this;this.poly=null}return P(qe,null,[{key:"factory",value:function(we){for(var be=[],Re=0,Ve=we.length;Re<Ve;Re++){var Oe=we[Re];if(Oe.isInResult()&&!Oe.ringOut){for(var je=null,Xe=Oe.leftSE,Ge=Oe.rightSE,mt=[Xe],yt=Xe.point,it=[];je=Xe,mt.push(Xe=Ge),Xe.point!==yt;)for(;;){var Et=Xe.getAvailableLinkedEvents();if(0===Et.length){var pn=mt[0].point,Ut=mt[mt.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(pn.x,",")+" ".concat(pn.y,"]. Last matching segment found ends at")+" [".concat(Ut.x,", ").concat(Ut.y,"]."))}if(1===Et.length){Ge=Et[0].otherSE;break}for(var bn=null,Dn=0,xi=it.length;Dn<xi;Dn++)if(it[Dn].point===Xe.point){bn=Dn;break}if(null===bn){it.push({index:mt.length,point:Xe.point});var bo=Xe.getLeftmostComparator(je);Ge=Et.sort(bo)[0].otherSE;break}var Ki=it.splice(bn)[0],Sr=mt.splice(Ki.index);Sr.unshift(Sr[0].otherSE),be.push(new qe(Sr.reverse()))}be.push(new qe(mt))}}return be}}]),P(qe,[{key:"getGeom",value:function(){for(var we=this.events[0].point,be=[we],Re=1,Ve=this.events.length-1;Re<Ve;Re++){var Oe=this.events[Re].point;0!==Q(Oe,we,this.events[Re+1].point)&&(be.push(Oe),we=Oe)}if(1===be.length)return null;0===Q(be[0],we,be[1])&&be.shift(),be.push(be[0]);for(var mt=this.isExteriorRing()?1:-1,yt=this.isExteriorRing()?0:be.length-1,it=this.isExteriorRing()?be.length:-1,Et=[],pn=yt;pn!=it;pn+=mt)Et.push([be[pn].x,be[pn].y]);return Et}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var we=this.enclosingRing();this._isExteriorRing=!we||!we.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var we=this.events[0],be=1,Re=this.events.length;be<Re;be++){var Ve=this.events[be];ve.compare(we,Ve)>0&&(we=Ve)}for(var Oe=we.segment.prevInResult(),je=Oe?Oe.prevInResult():null;;){if(!Oe)return null;if(!je)return Oe.ringOut;if(je.ringOut!==Oe.ringOut)return je.ringOut.enclosingRing()!==Oe.ringOut?Oe.ringOut:Oe.ringOut.enclosingRing();Oe=je.prevInResult(),je=Oe?Oe.prevInResult():null}}}]),qe}(),Ie=function(){function qe(Ce){fe(this,qe),this.exteriorRing=Ce,Ce.poly=this,this.interiorRings=[]}return P(qe,[{key:"addInterior",value:function(we){this.interiorRings.push(we),we.poly=this}},{key:"getGeom",value:function(){var we=[this.exteriorRing.getGeom()];if(null===we[0])return null;for(var be=0,Re=this.interiorRings.length;be<Re;be++){var Ve=this.interiorRings[be].getGeom();null!==Ve&&we.push(Ve)}return we}}]),qe}(),$e=function(){function qe(Ce){fe(this,qe),this.rings=Ce,this.polys=this._composePolys(Ce)}return P(qe,[{key:"getGeom",value:function(){for(var we=[],be=0,Re=this.polys.length;be<Re;be++){var Ve=this.polys[be].getGeom();null!==Ve&&we.push(Ve)}return we}},{key:"_composePolys",value:function(we){for(var be=[],Re=0,Ve=we.length;Re<Ve;Re++){var Oe=we[Re];if(!Oe.poly)if(Oe.isExteriorRing())be.push(new Ie(Oe));else{var je=Oe.enclosingRing();je.poly||be.push(new Ie(je)),je.poly.addInterior(Oe)}}return be}}]),qe}(),Ke=function(){function qe(Ce){var we=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ce.compare;fe(this,qe),this.queue=Ce,this.tree=new H(we),this.segments=[]}return P(qe,[{key:"process",value:function(we){var be=we.segment,Re=[];if(we.consumedBy)return we.isLeft?this.queue.remove(we.otherSE):this.tree.remove(be),Re;var Ve=we.isLeft?this.tree.insert(be):this.tree.find(be);if(!Ve)throw new Error("Unable to find segment #".concat(be.id," ")+"[".concat(be.leftSE.point.x,", ").concat(be.leftSE.point.y,"] -> ")+"[".concat(be.rightSE.point.x,", ").concat(be.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var Oe=Ve,je=Ve,Xe=void 0,Ge=void 0;void 0===Xe;)null===(Oe=this.tree.prev(Oe))?Xe=null:void 0===Oe.key.consumedBy&&(Xe=Oe.key);for(;void 0===Ge;)null===(je=this.tree.next(je))?Ge=null:void 0===je.key.consumedBy&&(Ge=je.key);if(we.isLeft){var mt=null;if(Xe){var yt=Xe.getIntersection(be);if(null!==yt&&(be.isAnEndpoint(yt)||(mt=yt),!Xe.isAnEndpoint(yt)))for(var it=this._splitSafely(Xe,yt),Et=0,pn=it.length;Et<pn;Et++)Re.push(it[Et])}var Ut=null;if(Ge){var bn=Ge.getIntersection(be);if(null!==bn&&(be.isAnEndpoint(bn)||(Ut=bn),!Ge.isAnEndpoint(bn)))for(var Dn=this._splitSafely(Ge,bn),xi=0,Ki=Dn.length;xi<Ki;xi++)Re.push(Dn[xi])}if(null!==mt||null!==Ut){var Sr;Sr=null===mt?Ut:null===Ut||ve.comparePoints(mt,Ut)<=0?mt:Ut,this.queue.remove(be.rightSE),Re.push(be.rightSE);for(var Ni=be.split(Sr),jo=0,cr=Ni.length;jo<cr;jo++)Re.push(Ni[jo])}Re.length>0?(this.tree.remove(be),Re.push(we)):(this.segments.push(be),be.prev=Xe)}else{if(Xe&&Ge){var pt=Xe.getIntersection(Ge);if(null!==pt){if(!Xe.isAnEndpoint(pt))for(var Ma=this._splitSafely(Xe,pt),Uo=0,ln=Ma.length;Uo<ln;Uo++)Re.push(Ma[Uo]);if(!Ge.isAnEndpoint(pt))for(var qs=this._splitSafely(Ge,pt),gs=0,is=qs.length;gs<is;gs++)Re.push(qs[gs])}}this.tree.remove(be)}return Re}},{key:"_splitSafely",value:function(we,be){this.tree.remove(we);var Re=we.rightSE;this.queue.remove(Re);var Ve=we.split(be);return Ve.push(Re),void 0===we.consumedBy&&this.tree.insert(we),Ve}}]),qe}(),W=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,ae=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Ae=new(function(){function qe(){fe(this,qe)}return P(qe,[{key:"run",value:function(we,be,Re){Ae.type=we,oe.reset();for(var Ve=[new pe(be,!0)],Oe=0,je=Re.length;Oe<je;Oe++)Ve.push(new pe(Re[Oe],!1));if(Ae.numMultiPolys=Ve.length,"difference"===Ae.type)for(var Xe=Ve[0],Ge=1;Ge<Ve.length;)null!==O(Ve[Ge].bbox,Xe.bbox)?Ge++:Ve.splice(Ge,1);if("intersection"===Ae.type)for(var mt=0,yt=Ve.length;mt<yt;mt++)for(var it=Ve[mt],Et=mt+1,pn=Ve.length;Et<pn;Et++)if(null===O(it.bbox,Ve[Et].bbox))return[];for(var Ut=new H(ve.compare),bn=0,Dn=Ve.length;bn<Dn;bn++)for(var xi=Ve[bn].getSweepEvents(),Ki=0,Sr=xi.length;Ki<Sr;Ki++)if(Ut.insert(xi[Ki]),Ut.size>W)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var bo=new Ke(Ut),Ni=Ut.size,jo=Ut.pop();jo;){var cr=jo.key;if(Ut.size===Ni){var pt=cr.segment;throw new Error("Unable to pop() ".concat(cr.isLeft?"left":"right"," SweepEvent ")+"[".concat(cr.point.x,", ").concat(cr.point.y,"] from segment #").concat(pt.id," ")+"[".concat(pt.leftSE.point.x,", ").concat(pt.leftSE.point.y,"] -> ")+"[".concat(pt.rightSE.point.x,", ").concat(pt.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Ut.size>W)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(bo.segments.length>ae)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Ma=bo.process(cr),Uo=0,ln=Ma.length;Uo<ln;Uo++){var qs=Ma[Uo];void 0===qs.consumedBy&&Ut.insert(qs)}Ni=Ut.size,jo=Ut.pop()}oe.reset();var gs=Le.factory(bo.segments);return new $e(gs).getGeom()}}]),qe}());return{union:function(Ce){for(var we=arguments.length,be=new Array(we>1?we-1:0),Re=1;Re<we;Re++)be[Re-1]=arguments[Re];return Ae.run("union",Ce,be)},intersection:function(Ce){for(var we=arguments.length,be=new Array(we>1?we-1:0),Re=1;Re<we;Re++)be[Re-1]=arguments[Re];return Ae.run("intersection",Ce,be)},xor:function(Ce){for(var we=arguments.length,be=new Array(we>1?we-1:0),Re=1;Re<we;Re++)be[Re-1]=arguments[Re];return Ae.run("xor",Ce,be)},difference:function(Ce){for(var we=arguments.length,be=new Array(we>1?we-1:0),Re=1;Re<we;Re++)be[Re-1]=arguments[Re];return Ae.run("difference",Ce,be)}}}()},8151:Qe=>{!function(){"use strict";var fe=function(M){return(M="number"==typeof M?{precision:M}:M||{}).precision=M.precision||5,M.factor=M.factor||Math.pow(10,M.precision),M.dimension=M.dimension||2,M},j={encode:function(M,v){v=fe(v);for(var w=[],E=0,S=M.length;E<S;++E){var R=M[E];if(2===v.dimension)w.push(R.lat||R[0]),w.push(R.lng||R[1]);else for(var C=0;C<v.dimension;++C)w.push(R[C])}return this.encodeDeltas(w,v)},decode:function(M,v){v=fe(v);for(var w=this.decodeDeltas(M,v),E=[],S=0,R=w.length;S+(v.dimension-1)<R;){for(var C=[],H=0;H<v.dimension;++H)C.push(w[S++]);E.push(C)}return E},encodeDeltas:function(M,v){v=fe(v);for(var w=[],E=0,S=M.length;E<S;)for(var R=0;R<v.dimension;++R,++E){var C=M[E].toFixed(v.precision),H=C-(w[R]||0);w[R]=C,M[E]=H}return this.encodeFloats(M,v)},decodeDeltas:function(M,v){v=fe(v);for(var w=[],E=this.decodeFloats(M,v),S=0,R=E.length;S<R;)for(var C=0;C<v.dimension;++C,++S)E[S]=Math.round((w[C]=E[S]+(w[C]||0))*v.factor)/v.factor;return E},encodeFloats:function(M,v){v=fe(v);for(var w=0,E=M.length;w<E;++w)M[w]=Math.round(M[w]*v.factor);return this.encodeSignedIntegers(M)},decodeFloats:function(M,v){v=fe(v);for(var w=this.decodeSignedIntegers(M),E=0,S=w.length;E<S;++E)w[E]/=v.factor;return w},encodeSignedIntegers:function(M){for(var v=0,w=M.length;v<w;++v){var E=M[v];M[v]=E<0?~(E<<1):E<<1}return this.encodeUnsignedIntegers(M)},decodeSignedIntegers:function(M){for(var v=this.decodeUnsignedIntegers(M),w=0,E=v.length;w<E;++w){var S=v[w];v[w]=1&S?~(S>>1):S>>1}return v},encodeUnsignedIntegers:function(M){for(var v="",w=0,E=M.length;w<E;++w)v+=this.encodeUnsignedInteger(M[w]);return v},decodeUnsignedIntegers:function(M){for(var v=[],w=0,E=0,S=0,R=M.length;S<R;++S){var C=M.charCodeAt(S)-63;w|=(31&C)<<E,C<32?(v.push(w),w=0,E=0):E+=5}return v},encodeSignedInteger:function(M){return this.encodeUnsignedInteger(M=M<0?~(M<<1):M<<1)},encodeUnsignedInteger:function(M){for(var v,w="";M>=32;)v=63+(32|31&M),w+=String.fromCharCode(v),M>>=5;return v=M+63,w+String.fromCharCode(v)}};if("object"==typeof Qe.exports&&(Qe.exports=j),"object"==typeof L){L.Polyline.prototype.fromEncoded||(L.Polyline.fromEncoded=function(M,v){return L.polyline(j.decode(M),v)}),L.Polygon.prototype.fromEncoded||(L.Polygon.fromEncoded=function(M,v){return L.polygon(j.decode(M),v)});var P={encodePath:function(){return j.encode(this.getLatLngs())}};L.Polyline.prototype.encodePath||L.Polyline.include(P),L.Polygon.prototype.encodePath||L.Polygon.include(P),L.PolylineUtil=j}}()},4678:function(Qe){Qe.exports=function(){"use strict";function j(v,w,E,S,R){for(;S>E;){if(S-E>600){var C=S-E+1,H=w-E+1,Y=Math.log(C),$=.5*Math.exp(2*Y/3),te=.5*Math.sqrt(Y*$*(C-$)/C)*(H-C/2<0?-1:1);j(v,w,Math.max(E,Math.floor(w-H*$/C+te)),Math.min(S,Math.floor(w+(C-H)*$/C+te)),R)}var N=v[w],k=E,O=S;for(P(v,E,w),R(v[S],N)>0&&P(v,E,S);k<O;){for(P(v,k,O),k++,O--;R(v[k],N)<0;)k++;for(;R(v[O],N)>0;)O--}0===R(v[E],N)?P(v,E,O):P(v,++O,S),O<=w&&(E=O+1),w<=O&&(S=O-1)}}function P(v,w,E){var S=v[w];v[w]=v[E],v[E]=S}function M(v,w){return v<w?-1:v>w?1:0}return function fe(v,w,E,S,R){j(v,w,E||0,S||v.length-1,R||M)}}()},4223:Qe=>{function j(){"use strict";var P="ff0000",M="0000ff",v=0,w=100;function E(Y,$,te){var q=Y;q<v&&(q=v),q>w&&(q=w);var ne=w-v,N=parseInt($,16),k=parseInt(te,16);return function S(Y){return 1===Y.length?"0"+Y:Y}(Math.round((k-N)/ne*(q-v)+N).toString(16))}function C(Y){if(function R(Y){return/^#?[0-9a-fA-F]{6}$/i.test(Y)}(Y))return Y.substring(Y.length-6,Y.length);var $=Y.toLowerCase();if(H.hasOwnProperty($))return H[$];throw new Error(Y+" is not a valid colour.")}this.setGradient=function(Y,$){P=C(Y),M=C($)},this.setNumberRange=function(Y,$){if(!($>Y))throw new RangeError("maxNumber ("+$+") is not greater than minNumber ("+Y+")");v=Y,w=$},this.colourAt=function(Y){return E(Y,P.substring(0,2),M.substring(0,2))+E(Y,P.substring(2,4),M.substring(2,4))+E(Y,P.substring(4,6),M.substring(4,6))};var H={aliceblue:"F0F8FF",antiquewhite:"FAEBD7",aqua:"00FFFF",aquamarine:"7FFFD4",azure:"F0FFFF",beige:"F5F5DC",bisque:"FFE4C4",black:"000000",blanchedalmond:"FFEBCD",blue:"0000FF",blueviolet:"8A2BE2",brown:"A52A2A",burlywood:"DEB887",cadetblue:"5F9EA0",chartreuse:"7FFF00",chocolate:"D2691E",coral:"FF7F50",cornflowerblue:"6495ED",cornsilk:"FFF8DC",crimson:"DC143C",cyan:"00FFFF",darkblue:"00008B",darkcyan:"008B8B",darkgoldenrod:"B8860B",darkgray:"A9A9A9",darkgreen:"006400",darkgrey:"A9A9A9",darkkhaki:"BDB76B",darkmagenta:"8B008B",darkolivegreen:"556B2F",darkorange:"FF8C00",darkorchid:"9932CC",darkred:"8B0000",darksalmon:"E9967A",darkseagreen:"8FBC8F",darkslateblue:"483D8B",darkslategray:"2F4F4F",darkslategrey:"2F4F4F",darkturquoise:"00CED1",darkviolet:"9400D3",deeppink:"FF1493",deepskyblue:"00BFFF",dimgray:"696969",dimgrey:"696969",dodgerblue:"1E90FF",firebrick:"B22222",floralwhite:"FFFAF0",forestgreen:"228B22",fuchsia:"FF00FF",gainsboro:"DCDCDC",ghostwhite:"F8F8FF",gold:"FFD700",goldenrod:"DAA520",gray:"808080",green:"008000",greenyellow:"ADFF2F",grey:"808080",honeydew:"F0FFF0",hotpink:"FF69B4",indianred:"CD5C5C",indigo:"4B0082",ivory:"FFFFF0",khaki:"F0E68C",lavender:"E6E6FA",lavenderblush:"FFF0F5",lawngreen:"7CFC00",lemonchiffon:"FFFACD",lightblue:"ADD8E6",lightcoral:"F08080",lightcyan:"E0FFFF",lightgoldenrodyellow:"FAFAD2",lightgray:"D3D3D3",lightgreen:"90EE90",lightgrey:"D3D3D3",lightpink:"FFB6C1",lightsalmon:"FFA07A",lightseagreen:"20B2AA",lightskyblue:"87CEFA",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"B0C4DE",lightyellow:"FFFFE0",lime:"00FF00",limegreen:"32CD32",linen:"FAF0E6",magenta:"FF00FF",maroon:"800000",mediumaquamarine:"66CDAA",mediumblue:"0000CD",mediumorchid:"BA55D3",mediumpurple:"9370DB",mediumseagreen:"3CB371",mediumslateblue:"7B68EE",mediumspringgreen:"00FA9A",mediumturquoise:"48D1CC",mediumvioletred:"C71585",midnightblue:"191970",mintcream:"F5FFFA",mistyrose:"FFE4E1",moccasin:"FFE4B5",navajowhite:"FFDEAD",navy:"000080",oldlace:"FDF5E6",olive:"808000",olivedrab:"6B8E23",orange:"FFA500",orangered:"FF4500",orchid:"DA70D6",palegoldenrod:"EEE8AA",palegreen:"98FB98",paleturquoise:"AFEEEE",palevioletred:"DB7093",papayawhip:"FFEFD5",peachpuff:"FFDAB9",peru:"CD853F",pink:"FFC0CB",plum:"DDA0DD",powderblue:"B0E0E6",purple:"800080",red:"FF0000",rosybrown:"BC8F8F",royalblue:"4169E1",saddlebrown:"8B4513",salmon:"FA8072",sandybrown:"F4A460",seagreen:"2E8B57",seashell:"FFF5EE",sienna:"A0522D",silver:"C0C0C0",skyblue:"87CEEB",slateblue:"6A5ACD",slategray:"708090",slategrey:"708090",snow:"FFFAFA",springgreen:"00FF7F",steelblue:"4682B4",tan:"D2B48C",teal:"008080",thistle:"D8BFD8",tomato:"FF6347",turquoise:"40E0D0",violet:"EE82EE",wheat:"F5DEB3",white:"FFFFFF",whitesmoke:"F5F5F5",yellow:"FFFF00",yellowgreen:"9ACD32"}}Qe.exports=function fe(){"use strict";var P=null,M=0,v=100,w=["ff0000","ffff00","00ff00","0000ff"];function E(S){if(S.length<2)throw new Error("Rainbow must have two or more colours.");var R=(v-M)/(S.length-1),C=new j;C.setGradient(S[0],S[1]),C.setNumberRange(M,M+R),P=[C];for(var H=1;H<S.length-1;H++){var Y=new j;Y.setGradient(S[H],S[H+1]),Y.setNumberRange(M+R*H,M+R*(H+1)),P[H]=Y}w=S}E(w),this.setSpectrum=function(){return E(arguments),this},this.setSpectrumByArray=function(S){return E(S),this},this.colourAt=function(S){if(isNaN(S))throw new TypeError(S+" is not a number");if(1===P.length)return P[0].colourAt(S);var R=(v-M)/P.length,C=Math.min(Math.floor((Math.max(S,M)-M)/R),P.length-1);return P[C].colourAt(S)},this.colorAt=this.colourAt,this.setNumberRange=function(S,R){if(!(R>S))throw new RangeError("maxNumber ("+R+") is not greater than minNumber ("+S+")");return M=S,v=R,E(w),this}}},3544:(Qe,fe,j)=>{"use strict";Qe.exports=M,Qe.exports.default=M;var P=j(4678);function M(O,B){if(!(this instanceof M))return new M(O,B);this._maxEntries=Math.max(4,O||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),B&&this._initFormat(B),this.clear()}function v(O,B,I){if(!I)return B.indexOf(O);for(var U=0;U<B.length;U++)if(I(O,B[U]))return U;return-1}function w(O,B){E(O,0,O.children.length,B,O)}function E(O,B,I,U,F){F||(F=N(null)),F.minX=1/0,F.minY=1/0,F.maxX=-1/0,F.maxY=-1/0;for(var oe,X=B;X<I;X++)oe=O.children[X],S(F,O.leaf?U(oe):oe);return F}function S(O,B){return O.minX=Math.min(O.minX,B.minX),O.minY=Math.min(O.minY,B.minY),O.maxX=Math.max(O.maxX,B.maxX),O.maxY=Math.max(O.maxY,B.maxY),O}function R(O,B){return O.minX-B.minX}function C(O,B){return O.minY-B.minY}function H(O){return(O.maxX-O.minX)*(O.maxY-O.minY)}function Y(O){return O.maxX-O.minX+(O.maxY-O.minY)}function $(O,B){return(Math.max(B.maxX,O.maxX)-Math.min(B.minX,O.minX))*(Math.max(B.maxY,O.maxY)-Math.min(B.minY,O.minY))}function te(O,B){var I=Math.max(O.minX,B.minX),U=Math.max(O.minY,B.minY),F=Math.min(O.maxX,B.maxX),X=Math.min(O.maxY,B.maxY);return Math.max(0,F-I)*Math.max(0,X-U)}function q(O,B){return O.minX<=B.minX&&O.minY<=B.minY&&B.maxX<=O.maxX&&B.maxY<=O.maxY}function ne(O,B){return B.minX<=O.maxX&&B.minY<=O.maxY&&B.maxX>=O.minX&&B.maxY>=O.minY}function N(O){return{children:O,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function k(O,B,I,U,F){for(var oe,X=[B,I];X.length;)!((I=X.pop())-(B=X.pop())<=U)&&(oe=B+Math.ceil((I-B)/U/2)*U,P(O,oe,B,I,F),X.push(B,oe,oe,I))}M.prototype={all:function(){return this._all(this.data,[])},search:function(O){var B=this.data,I=[],U=this.toBBox;if(!ne(O,B))return I;for(var X,oe,z,ie,F=[];B;){for(X=0,oe=B.children.length;X<oe;X++)z=B.children[X],ne(O,ie=B.leaf?U(z):z)&&(B.leaf?I.push(z):q(O,ie)?this._all(z,I):F.push(z));B=F.pop()}return I},collides:function(O){var B=this.data,I=this.toBBox;if(!ne(O,B))return!1;for(var F,X,oe,z,U=[];B;){for(F=0,X=B.children.length;F<X;F++)if(oe=B.children[F],ne(O,z=B.leaf?I(oe):oe)){if(B.leaf||q(O,z))return!0;U.push(oe)}B=U.pop()}return!1},load:function(O){if(!O||!O.length)return this;if(O.length<this._minEntries){for(var B=0,I=O.length;B<I;B++)this.insert(O[B]);return this}var U=this._build(O.slice(),0,O.length-1,0);if(this.data.children.length)if(this.data.height===U.height)this._splitRoot(this.data,U);else{if(this.data.height<U.height){var F=this.data;this.data=U,U=F}this._insert(U,this.data.height-U.height-1,!0)}else this.data=U;return this},insert:function(O){return O&&this._insert(O,this.data.height-1),this},clear:function(){return this.data=N([]),this},remove:function(O,B){if(!O)return this;for(var oe,z,ie,Q,I=this.data,U=this.toBBox(O),F=[],X=[];I||F.length;){if(I||(I=F.pop(),z=F[F.length-1],oe=X.pop(),Q=!0),I.leaf&&-1!==(ie=v(O,I.children,B)))return I.children.splice(ie,1),F.push(I),this._condense(F),this;Q||I.leaf||!q(I,U)?z?(oe++,I=z.children[oe],Q=!1):I=null:(F.push(I),X.push(oe),oe=0,z=I,I=I.children[0])}return this},toBBox:function(O){return O},compareMinX:R,compareMinY:C,toJSON:function(){return this.data},fromJSON:function(O){return this.data=O,this},_all:function(O,B){for(var I=[];O;)O.leaf?B.push.apply(B,O.children):I.push.apply(I,O.children),O=I.pop();return B},_build:function(O,B,I,U){var oe,F=I-B+1,X=this._maxEntries;if(F<=X)return w(oe=N(O.slice(B,I+1)),this.toBBox),oe;U||(U=Math.ceil(Math.log(F)/Math.log(X)),X=Math.ceil(F/Math.pow(X,U-1))),(oe=N([])).leaf=!1,oe.height=U;var Q,ue,J,Me,z=Math.ceil(F/X),ie=z*Math.ceil(Math.sqrt(X));for(k(O,B,I,ie,this.compareMinX),Q=B;Q<=I;Q+=ie)for(k(O,Q,J=Math.min(Q+ie-1,I),z,this.compareMinY),ue=Q;ue<=J;ue+=z)Me=Math.min(ue+z-1,J),oe.children.push(this._build(O,ue,Me,U-1));return w(oe,this.toBBox),oe},_chooseSubtree:function(O,B,I,U){for(var F,X,oe,z,ie,Q,ue,J;U.push(B),!B.leaf&&U.length-1!==I;){for(ue=J=1/0,F=0,X=B.children.length;F<X;F++)ie=H(oe=B.children[F]),(Q=$(O,oe)-ie)<J?(J=Q,ue=ie<ue?ie:ue,z=oe):Q===J&&ie<ue&&(ue=ie,z=oe);B=z||B.children[0]}return B},_insert:function(O,B,I){var F=I?O:(0,this.toBBox)(O),X=[],oe=this._chooseSubtree(F,this.data,B,X);for(oe.children.push(O),S(oe,F);B>=0&&X[B].children.length>this._maxEntries;)this._split(X,B),B--;this._adjustParentBBoxes(F,X,B)},_split:function(O,B){var I=O[B],U=I.children.length,F=this._minEntries;this._chooseSplitAxis(I,F,U);var X=this._chooseSplitIndex(I,F,U),oe=N(I.children.splice(X,I.children.length-X));oe.height=I.height,oe.leaf=I.leaf,w(I,this.toBBox),w(oe,this.toBBox),B?O[B-1].children.push(oe):this._splitRoot(I,oe)},_splitRoot:function(O,B){this.data=N([O,B]),this.data.height=O.height+1,this.data.leaf=!1,w(this.data,this.toBBox)},_chooseSplitIndex:function(O,B,I){var U,F,X,oe,z,ie,Q,ue;for(ie=Q=1/0,U=B;U<=I-B;U++)oe=te(F=E(O,0,U,this.toBBox),X=E(O,U,I,this.toBBox)),z=H(F)+H(X),oe<ie?(ie=oe,ue=U,Q=z<Q?z:Q):oe===ie&&z<Q&&(Q=z,ue=U);return ue},_chooseSplitAxis:function(O,B,I){var U=O.leaf?this.compareMinX:R,F=O.leaf?this.compareMinY:C;this._allDistMargin(O,B,I,U)<this._allDistMargin(O,B,I,F)&&O.children.sort(U)},_allDistMargin:function(O,B,I,U){O.children.sort(U);var ie,Q,F=this.toBBox,X=E(O,0,B,F),oe=E(O,I-B,I,F),z=Y(X)+Y(oe);for(ie=B;ie<I-B;ie++)Q=O.children[ie],S(X,O.leaf?F(Q):Q),z+=Y(X);for(ie=I-B-1;ie>=B;ie--)Q=O.children[ie],S(oe,O.leaf?F(Q):Q),z+=Y(oe);return z},_adjustParentBBoxes:function(O,B,I){for(var U=I;U>=0;U--)S(B[U],O)},_condense:function(O){for(var I,B=O.length-1;B>=0;B--)0===O[B].children.length?B>0?(I=O[B-1].children).splice(I.indexOf(O[B]),1):this.clear():w(O[B],this.toBBox)},_initFormat:function(O){var B=["return a"," - b",";"];this.compareMinX=new Function("a","b",B.join(O[0])),this.compareMinY=new Function("a","b",B.join(O[1])),this.toBBox=new Function("a","return {minX: a"+O[0]+", minY: a"+O[1]+", maxX: a"+O[2]+", maxY: a"+O[3]+"};")}}},4468:(Qe,fe,j)=>{"use strict";var P=j(9582).functionsHaveConfigurableNames(),M=Object,v=TypeError;Qe.exports=function(){if(null!=this&&this!==M(this))throw new v("RegExp.prototype.flags getter called on non-object");var E="";return this.hasIndices&&(E+="d"),this.global&&(E+="g"),this.ignoreCase&&(E+="i"),this.multiline&&(E+="m"),this.dotAll&&(E+="s"),this.unicode&&(E+="u"),this.unicodeSets&&(E+="v"),this.sticky&&(E+="y"),E},P&&Object.defineProperty&&Object.defineProperty(Qe.exports,"name",{value:"get flags"})},9235:(Qe,fe,j)=>{"use strict";var P=j(2358),M=j(5685),v=j(4468),w=j(6343),E=j(1956),S=M(w());P(S,{getPolyfill:w,implementation:v,shim:E}),Qe.exports=S},6343:(Qe,fe,j)=>{"use strict";var P=j(4468),M=j(2358).supportsDescriptors,v=Object.getOwnPropertyDescriptor;Qe.exports=function(){if(M&&"gim"===/a/gim.flags){var E=v(RegExp.prototype,"flags");if(E&&"function"==typeof E.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var S="",R={};if(Object.defineProperty(R,"hasIndices",{get:function(){S+="d"}}),Object.defineProperty(R,"sticky",{get:function(){S+="y"}}),"dy"===S)return E.get}}return P}},1956:(Qe,fe,j)=>{"use strict";var P=j(2358).supportsDescriptors,M=j(6343),v=Object.getOwnPropertyDescriptor,w=Object.defineProperty,E=TypeError,S=Object.getPrototypeOf,R=/a/;Qe.exports=function(){if(!P||!S)throw new E("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var H=M(),Y=S(R),$=v(Y,"flags");return(!$||$.get!==H)&&w(Y,"flags",{configurable:!0,enumerable:!1,get:H}),H}},8212:(Qe,fe,j)=>{"use strict";var P=j(3294),M=j(2903),v=j(4060),w=j(3217);function H(I,U,F,X){return function(z,ie,Q){var ue=I(I(U(ie[1],Q[0]),U(-Q[1],ie[0])),I(U(z[1],ie[0]),U(-ie[1],z[0]))),J=I(U(z[1],Q[0]),U(-Q[1],z[0])),Me=X(ue,J);return Me[Me.length-1]}}function Y(I,U,F,X){return function(z,ie,Q,ue){var J=I(I(F(I(U(Q[1],ue[0]),U(-ue[1],Q[0])),ie[2]),I(F(I(U(ie[1],ue[0]),U(-ue[1],ie[0])),-Q[2]),F(I(U(ie[1],Q[0]),U(-Q[1],ie[0])),ue[2]))),I(F(I(U(ie[1],ue[0]),U(-ue[1],ie[0])),z[2]),I(F(I(U(z[1],ue[0]),U(-ue[1],z[0])),-ie[2]),F(I(U(z[1],ie[0]),U(-ie[1],z[0])),ue[2])))),Me=I(I(F(I(U(Q[1],ue[0]),U(-ue[1],Q[0])),z[2]),I(F(I(U(z[1],ue[0]),U(-ue[1],z[0])),-Q[2]),F(I(U(z[1],Q[0]),U(-Q[1],z[0])),ue[2]))),I(F(I(U(ie[1],Q[0]),U(-Q[1],ie[0])),z[2]),I(F(I(U(z[1],Q[0]),U(-Q[1],z[0])),-ie[2]),F(I(U(z[1],ie[0]),U(-ie[1],z[0])),Q[2])))),Te=X(J,Me);return Te[Te.length-1]}}function $(I,U,F,X){return function(z,ie,Q,ue,J){var Me=I(I(I(F(I(F(I(U(ue[1],J[0]),U(-J[1],ue[0])),Q[2]),I(F(I(U(Q[1],J[0]),U(-J[1],Q[0])),-ue[2]),F(I(U(Q[1],ue[0]),U(-ue[1],Q[0])),J[2]))),ie[3]),I(F(I(F(I(U(ue[1],J[0]),U(-J[1],ue[0])),ie[2]),I(F(I(U(ie[1],J[0]),U(-J[1],ie[0])),-ue[2]),F(I(U(ie[1],ue[0]),U(-ue[1],ie[0])),J[2]))),-Q[3]),F(I(F(I(U(Q[1],J[0]),U(-J[1],Q[0])),ie[2]),I(F(I(U(ie[1],J[0]),U(-J[1],ie[0])),-Q[2]),F(I(U(ie[1],Q[0]),U(-Q[1],ie[0])),J[2]))),ue[3]))),I(F(I(F(I(U(Q[1],ue[0]),U(-ue[1],Q[0])),ie[2]),I(F(I(U(ie[1],ue[0]),U(-ue[1],ie[0])),-Q[2]),F(I(U(ie[1],Q[0]),U(-Q[1],ie[0])),ue[2]))),-J[3]),I(F(I(F(I(U(ue[1],J[0]),U(-J[1],ue[0])),ie[2]),I(F(I(U(ie[1],J[0]),U(-J[1],ie[0])),-ue[2]),F(I(U(ie[1],ue[0]),U(-ue[1],ie[0])),J[2]))),z[3]),F(I(F(I(U(ue[1],J[0]),U(-J[1],ue[0])),z[2]),I(F(I(U(z[1],J[0]),U(-J[1],z[0])),-ue[2]),F(I(U(z[1],ue[0]),U(-ue[1],z[0])),J[2]))),-ie[3])))),I(I(F(I(F(I(U(ie[1],J[0]),U(-J[1],ie[0])),z[2]),I(F(I(U(z[1],J[0]),U(-J[1],z[0])),-ie[2]),F(I(U(z[1],ie[0]),U(-ie[1],z[0])),J[2]))),ue[3]),I(F(I(F(I(U(ie[1],ue[0]),U(-ue[1],ie[0])),z[2]),I(F(I(U(z[1],ue[0]),U(-ue[1],z[0])),-ie[2]),F(I(U(z[1],ie[0]),U(-ie[1],z[0])),ue[2]))),-J[3]),F(I(F(I(U(Q[1],ue[0]),U(-ue[1],Q[0])),ie[2]),I(F(I(U(ie[1],ue[0]),U(-ue[1],ie[0])),-Q[2]),F(I(U(ie[1],Q[0]),U(-Q[1],ie[0])),ue[2]))),z[3]))),I(F(I(F(I(U(Q[1],ue[0]),U(-ue[1],Q[0])),z[2]),I(F(I(U(z[1],ue[0]),U(-ue[1],z[0])),-Q[2]),F(I(U(z[1],Q[0]),U(-Q[1],z[0])),ue[2]))),-ie[3]),I(F(I(F(I(U(ie[1],ue[0]),U(-ue[1],ie[0])),z[2]),I(F(I(U(z[1],ue[0]),U(-ue[1],z[0])),-ie[2]),F(I(U(z[1],ie[0]),U(-ie[1],z[0])),ue[2]))),Q[3]),F(I(F(I(U(ie[1],Q[0]),U(-Q[1],ie[0])),z[2]),I(F(I(U(z[1],Q[0]),U(-Q[1],z[0])),-ie[2]),F(I(U(z[1],ie[0]),U(-ie[1],z[0])),Q[2]))),-ue[3]))))),Te=I(I(I(F(I(F(I(U(ue[1],J[0]),U(-J[1],ue[0])),Q[2]),I(F(I(U(Q[1],J[0]),U(-J[1],Q[0])),-ue[2]),F(I(U(Q[1],ue[0]),U(-ue[1],Q[0])),J[2]))),z[3]),F(I(F(I(U(ue[1],J[0]),U(-J[1],ue[0])),z[2]),I(F(I(U(z[1],J[0]),U(-J[1],z[0])),-ue[2]),F(I(U(z[1],ue[0]),U(-ue[1],z[0])),J[2]))),-Q[3])),I(F(I(F(I(U(Q[1],J[0]),U(-J[1],Q[0])),z[2]),I(F(I(U(z[1],J[0]),U(-J[1],z[0])),-Q[2]),F(I(U(z[1],Q[0]),U(-Q[1],z[0])),J[2]))),ue[3]),F(I(F(I(U(Q[1],ue[0]),U(-ue[1],Q[0])),z[2]),I(F(I(U(z[1],ue[0]),U(-ue[1],z[0])),-Q[2]),F(I(U(z[1],Q[0]),U(-Q[1],z[0])),ue[2]))),-J[3]))),I(I(F(I(F(I(U(Q[1],J[0]),U(-J[1],Q[0])),ie[2]),I(F(I(U(ie[1],J[0]),U(-J[1],ie[0])),-Q[2]),F(I(U(ie[1],Q[0]),U(-Q[1],ie[0])),J[2]))),z[3]),F(I(F(I(U(Q[1],J[0]),U(-J[1],Q[0])),z[2]),I(F(I(U(z[1],J[0]),U(-J[1],z[0])),-Q[2]),F(I(U(z[1],Q[0]),U(-Q[1],z[0])),J[2]))),-ie[3])),I(F(I(F(I(U(ie[1],J[0]),U(-J[1],ie[0])),z[2]),I(F(I(U(z[1],J[0]),U(-J[1],z[0])),-ie[2]),F(I(U(z[1],ie[0]),U(-ie[1],z[0])),J[2]))),Q[3]),F(I(F(I(U(ie[1],Q[0]),U(-Q[1],ie[0])),z[2]),I(F(I(U(z[1],Q[0]),U(-Q[1],z[0])),-ie[2]),F(I(U(z[1],ie[0]),U(-ie[1],z[0])),Q[2]))),-J[3])))),ge=X(Me,Te);return ge[ge.length-1]}}function te(I){return(3===I?H:4===I?Y:$)(M,P,v,w)}var q=te(3),ne=te(4),N=[function(){return 0},function(){return 0},function(U,F){return F[0]-U[0]},function(U,F,X){var Q,oe=(U[1]-X[1])*(F[0]-X[0]),z=(U[0]-X[0])*(F[1]-X[1]),ie=oe-z;if(oe>0){if(z<=0)return ie;Q=oe+z}else{if(!(oe<0))return ie;if(z>=0)return ie;Q=-(oe+z)}var ue=33306690738754716e-32*Q;return ie>=ue||ie<=-ue?ie:q(U,F,X)},function(U,F,X,oe){var z=U[0]-oe[0],ie=F[0]-oe[0],Q=X[0]-oe[0],ue=U[1]-oe[1],J=F[1]-oe[1],Me=X[1]-oe[1],Te=U[2]-oe[2],ge=F[2]-oe[2],Ee=X[2]-oe[2],ve=ie*Me,he=Q*J,ce=Q*ue,se=z*Me,ke=z*J,pe=ie*ue,Le=Te*(ve-he)+ge*(ce-se)+Ee*(ke-pe),$e=7771561172376103e-31*((Math.abs(ve)+Math.abs(he))*Math.abs(Te)+(Math.abs(ce)+Math.abs(se))*Math.abs(ge)+(Math.abs(ke)+Math.abs(pe))*Math.abs(Ee));return Le>$e||-Le>$e?Le:ne(U,F,X,oe)}];function k(I){var U=N[I.length];return U||(U=N[I.length]=te(I.length)),U.apply(void 0,I)}function O(I,U,F,X,oe,z,ie){return function(ue,J,Me,Te,ge){switch(arguments.length){case 0:case 1:return 0;case 2:return X(ue,J);case 3:return oe(ue,J,Me);case 4:return z(ue,J,Me,Te);case 5:return ie(ue,J,Me,Te,ge)}for(var Ee=new Array(arguments.length),ve=0;ve<arguments.length;++ve)Ee[ve]=arguments[ve];return I(Ee)}}!function B(){for(;N.length<=5;)N.push(te(N.length));Qe.exports=O.apply(void 0,[k].concat(N));for(var I=0;I<=5;++I)Qe.exports[I]=N[I]}()},5077:(Qe,fe,j)=>{Qe.exports=function M(v,w){for(var E=w[0],S=w[1],R=v.length,C=1,H=R,Y=0,$=R-1;Y<H;$=Y++){var te=v[Y],q=v[$],ne=te[1],N=q[1];if(N<ne){if(N<S&&S<ne){if(0===(k=P(te,q,w)))return 0;C^=0<k|0}else if(S===ne&&ne<v[(Y+1)%R][1]){if(0===(k=P(te,q,w)))return 0;C^=0<k|0}}else if(ne<N){if(ne<S&&S<N){if(0===(k=P(te,q,w)))return 0;C^=k<0|0}else if(S===ne&&v[(Y+1)%R][1]<ne){var k;if(0===(k=P(te,q,w)))return 0;C^=k<0|0}}else if(S===ne){var I=Math.min(te[0],q[0]),U=Math.max(te[0],q[0]);if(0===Y){for(;$>0;){var F=($+R-1)%R;if((X=v[F])[1]!==S)break;var oe=X[0];I=Math.min(I,oe),U=Math.max(U,oe),$=F}if(0===$)return I<=E&&E<=U?0:1;H=$+1}for(var z=v[($+R-1)%R][1];Y+1<H;){var X;if((X=v[Y+1])[1]!==S)break;oe=X[0],I=Math.min(I,oe),U=Math.max(U,oe),Y+=1}if(I<=E&&E<=U)return 0;E<I&&z<S!=v[(Y+1)%R][1]<S&&(C^=1)}}return 2*C-1};var P=j(8212)},7563:function(Qe,fe){!function(j){"use strict";function v(q,ne,N,k,O){let B,I,U,F,X=ne[0],oe=k[0],z=0,ie=0;oe>X==oe>-X?(B=X,X=ne[++z]):(B=oe,oe=k[++ie]);let Q=0;if(z<q&&ie<N)for(oe>X==oe>-X?(U=B-((I=X+B)-X),X=ne[++z]):(U=B-((I=oe+B)-oe),oe=k[++ie]),B=I,0!==U&&(O[Q++]=U);z<q&&ie<N;)oe>X==oe>-X?(U=B-((I=B+X)-(F=I-B))+(X-F),X=ne[++z]):(U=B-((I=B+oe)-(F=I-B))+(oe-F),oe=k[++ie]),B=I,0!==U&&(O[Q++]=U);for(;z<q;)U=B-((I=B+X)-(F=I-B))+(X-F),X=ne[++z],B=I,0!==U&&(O[Q++]=U);for(;ie<N;)U=B-((I=B+oe)-(F=I-B))+(oe-F),oe=k[++ie],B=I,0!==U&&(O[Q++]=U);return 0===B&&0!==Q||(O[Q++]=B),Q}function w(q){return new Float64Array(q)}const C=w(4),H=w(8),Y=w(12),$=w(16),te=w(4);j.orient2d=function(q,ne,N,k,O,B){const I=(ne-B)*(N-O),U=(q-O)*(k-B),F=I-U;if(0===I||0===U||I>0!=U>0)return F;const X=Math.abs(I+U);return Math.abs(F)>=33306690738754716e-32*X?F:-function(oe,z,ie,Q,ue,J,Me){let Te,ge,Ee,ve,he,ce,se,ke,pe,Le,Ie,$e,Ke,W,ae,ye,Ae,ze;const Ze=oe-ue,ct=ie-ue,ht=z-J,vt=Q-J;he=(ae=(ke=Ze-(se=(ce=134217729*Ze)-(ce-Ze)))*(Le=vt-(pe=(ce=134217729*vt)-(ce-vt)))-((W=Ze*vt)-se*pe-ke*pe-se*Le))-(Ie=ae-(Ae=(ke=ht-(se=(ce=134217729*ht)-(ce-ht)))*(Le=ct-(pe=(ce=134217729*ct)-(ce-ct)))-((ye=ht*ct)-se*pe-ke*pe-se*Le))),C[0]=ae-(Ie+he)+(he-Ae),he=(Ke=W-(($e=W+Ie)-(he=$e-W))+(Ie-he))-(Ie=Ke-ye),C[1]=Ke-(Ie+he)+(he-ye),he=(ze=$e+Ie)-$e,C[2]=$e-(ze-he)+(Ie-he),C[3]=ze;let qe=function(Ve,Oe){let je=Oe[0];for(let Xe=1;Xe<4;Xe++)je+=Oe[Xe];return je}(0,C),Ce=22204460492503146e-32*Me;if(qe>=Ce||-qe>=Ce||(Te=oe-(Ze+(he=oe-Ze))+(he-ue),Ee=ie-(ct+(he=ie-ct))+(he-ue),ge=z-(ht+(he=z-ht))+(he-J),ve=Q-(vt+(he=Q-vt))+(he-J),0===Te&&0===ge&&0===Ee&&0===ve)||(Ce=11093356479670487e-47*Me+33306690738754706e-32*Math.abs(qe),(qe+=Ze*ve+vt*Te-(ht*Ee+ct*ge))>=Ce||-qe>=Ce))return qe;he=(ae=(ke=Te-(se=(ce=134217729*Te)-(ce-Te)))*(Le=vt-(pe=(ce=134217729*vt)-(ce-vt)))-((W=Te*vt)-se*pe-ke*pe-se*Le))-(Ie=ae-(Ae=(ke=ge-(se=(ce=134217729*ge)-(ce-ge)))*(Le=ct-(pe=(ce=134217729*ct)-(ce-ct)))-((ye=ge*ct)-se*pe-ke*pe-se*Le))),te[0]=ae-(Ie+he)+(he-Ae),he=(Ke=W-(($e=W+Ie)-(he=$e-W))+(Ie-he))-(Ie=Ke-ye),te[1]=Ke-(Ie+he)+(he-ye),he=(ze=$e+Ie)-$e,te[2]=$e-(ze-he)+(Ie-he),te[3]=ze;const we=v(4,C,4,te,H);he=(ae=(ke=Ze-(se=(ce=134217729*Ze)-(ce-Ze)))*(Le=ve-(pe=(ce=134217729*ve)-(ce-ve)))-((W=Ze*ve)-se*pe-ke*pe-se*Le))-(Ie=ae-(Ae=(ke=ht-(se=(ce=134217729*ht)-(ce-ht)))*(Le=Ee-(pe=(ce=134217729*Ee)-(ce-Ee)))-((ye=ht*Ee)-se*pe-ke*pe-se*Le))),te[0]=ae-(Ie+he)+(he-Ae),he=(Ke=W-(($e=W+Ie)-(he=$e-W))+(Ie-he))-(Ie=Ke-ye),te[1]=Ke-(Ie+he)+(he-ye),he=(ze=$e+Ie)-$e,te[2]=$e-(ze-he)+(Ie-he),te[3]=ze;const be=v(we,H,4,te,Y);he=(ae=(ke=Te-(se=(ce=134217729*Te)-(ce-Te)))*(Le=ve-(pe=(ce=134217729*ve)-(ce-ve)))-((W=Te*ve)-se*pe-ke*pe-se*Le))-(Ie=ae-(Ae=(ke=ge-(se=(ce=134217729*ge)-(ce-ge)))*(Le=Ee-(pe=(ce=134217729*Ee)-(ce-Ee)))-((ye=ge*Ee)-se*pe-ke*pe-se*Le))),te[0]=ae-(Ie+he)+(he-Ae),he=(Ke=W-(($e=W+Ie)-(he=$e-W))+(Ie-he))-(Ie=Ke-ye),te[1]=Ke-(Ie+he)+(he-ye),he=(ze=$e+Ie)-$e,te[2]=$e-(ze-he)+(Ie-he),te[3]=ze;const Re=v(be,Y,4,te,$);return $[Re-1]}(q,ne,N,k,O,B,X)},j.orient2dfast=function(q,ne,N,k,O,B){return(ne-B)*(N-O)-(q-O)*(k-B)},Object.defineProperty(j,"__esModule",{value:!0})}(fe)},4060:(Qe,fe,j)=>{"use strict";var P=j(3294),M=j(7448);Qe.exports=function v(w,E){var S=w.length;if(1===S){var R=P(w[0],E);return R[0]?R:[R[1]]}var C=new Array(2*S),H=[.1,.1],Y=[.1,.1],$=0;P(w[0],E,H),H[0]&&(C[$++]=H[0]);for(var te=1;te<S;++te){P(w[te],E,Y),M(H[1],Y[0],H),H[0]&&(C[$++]=H[0]);var ne=Y[1],N=H[1],k=ne+N,B=N-(k-ne);H[1]=k,B&&(C[$++]=B)}return H[1]&&(C[$++]=H[1]),0===$&&(C[$++]=0),C.length=$,C}},3217:Qe=>{"use strict";Qe.exports=function j(P,M){var v=0|P.length,w=0|M.length;if(1===v&&1===w)return function fe(P,M){var v=P+M,w=v-P,C=P-(v-w)+(M-w);return C?[C,v]:[v]}(P[0],-M[0]);var N,k,S=new Array(v+w),R=0,C=0,H=0,Y=Math.abs,$=P[C],te=Y($),q=-M[H],ne=Y(q);te<ne?(k=$,(C+=1)<v&&(te=Y($=P[C]))):(k=q,(H+=1)<w&&(ne=Y(q=-M[H]))),C<v&&te<ne||H>=w?(N=$,(C+=1)<v&&(te=Y($=P[C]))):(N=q,(H+=1)<w&&(ne=Y(q=-M[H])));for(var X,oe,O=N+k,B=O-N,I=k-B,U=I,F=O;C<v&&H<w;)te<ne?(N=$,(C+=1)<v&&(te=Y($=P[C]))):(N=q,(H+=1)<w&&(ne=Y(q=-M[H]))),(I=(k=U)-(B=(O=N+k)-N))&&(S[R++]=I),U=F-((X=F+O)-(oe=X-F))+(O-oe),F=X;for(;C<v;)(I=(k=U)-(B=(O=(N=$)+k)-N))&&(S[R++]=I),U=F-((X=F+O)-(oe=X-F))+(O-oe),F=X,(C+=1)<v&&($=P[C]);for(;H<w;)(I=(k=U)-(B=(O=(N=q)+k)-N))&&(S[R++]=I),U=F-((X=F+O)-(oe=X-F))+(O-oe),F=X,(H+=1)<w&&(q=-M[H]);return U&&(S[R++]=U),F&&(S[R++]=F),R||(S[R++]=0),S.length=R,S}},2903:Qe=>{"use strict";Qe.exports=function j(P,M){var v=0|P.length,w=0|M.length;if(1===v&&1===w)return function fe(P,M){var v=P+M,w=v-P,C=P-(v-w)+(M-w);return C?[C,v]:[v]}(P[0],M[0]);var N,k,S=new Array(v+w),R=0,C=0,H=0,Y=Math.abs,$=P[C],te=Y($),q=M[H],ne=Y(q);te<ne?(k=$,(C+=1)<v&&(te=Y($=P[C]))):(k=q,(H+=1)<w&&(ne=Y(q=M[H]))),C<v&&te<ne||H>=w?(N=$,(C+=1)<v&&(te=Y($=P[C]))):(N=q,(H+=1)<w&&(ne=Y(q=M[H])));for(var X,oe,O=N+k,B=O-N,I=k-B,U=I,F=O;C<v&&H<w;)te<ne?(N=$,(C+=1)<v&&(te=Y($=P[C]))):(N=q,(H+=1)<w&&(ne=Y(q=M[H]))),(I=(k=U)-(B=(O=N+k)-N))&&(S[R++]=I),U=F-((X=F+O)-(oe=X-F))+(O-oe),F=X;for(;C<v;)(I=(k=U)-(B=(O=(N=$)+k)-N))&&(S[R++]=I),U=F-((X=F+O)-(oe=X-F))+(O-oe),F=X,(C+=1)<v&&($=P[C]);for(;H<w;)(I=(k=U)-(B=(O=(N=q)+k)-N))&&(S[R++]=I),U=F-((X=F+O)-(oe=X-F))+(O-oe),F=X,(H+=1)<w&&(q=M[H]);return U&&(S[R++]=U),F&&(S[R++]=F),R||(S[R++]=0),S.length=R,S}},7253:(Qe,fe,j)=>{"use strict";j.r(fe),j.d(fe,{default:()=>P});class P{constructor(w=[],E=M){if(this.data=w,this.length=this.data.length,this.compare=E,this.length>0)for(let S=(this.length>>1)-1;S>=0;S--)this._down(S)}push(w){this.data.push(w),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const w=this.data[0],E=this.data.pop();return this.length--,this.length>0&&(this.data[0]=E,this._down(0)),w}peek(){return this.data[0]}_up(w){const{data:E,compare:S}=this,R=E[w];for(;w>0;){const C=w-1>>1,H=E[C];if(S(R,H)>=0)break;E[w]=H,w=C}E[w]=R}_down(w){const{data:E,compare:S}=this,R=this.length>>1,C=E[w];for(;w<R;){let H=1+(w<<1),Y=E[H];const $=H+1;if($<this.length&&S(E[$],Y)<0&&(H=$,Y=E[$]),S(Y,C)>=0)break;E[w]=Y,w=H}E[w]=C}}function M(v,w){return v<w?-1:v>w?1:0}},770:function(Qe,fe){!function(j){"use strict";function P(){}function M(s){this.message=s||""}function v(s){this.message=s||""}function w(s){this.message=s||""}function E(){}function S(s){return null===s?Gr:s.color}function R(s){return null===s?null:s.parent}function C(s,a){null!==s&&(s.color=a)}function H(s){return null===s?null:s.left}function Y(s){return null===s?null:s.right}function $(){this.root_=null,this.size_=0}function te(){}function q(){this.array_=[],arguments[0]instanceof Ni&&this.addAll(arguments[0])}function ne(){}function N(s){this.message=s||""}function k(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(s){if(null==this)throw new TypeError(this+" is not an object");var a=Object(this),h=Math.max(Math.min(a.length,9007199254740991),0)||0,p=1 in arguments&&parseInt(Number(arguments[1]),10)||0;p=p<0?Math.max(h+p,0):Math.min(p,h);var _=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:h;for(_=_<0?Math.max(h+arguments[2],0):Math.min(_,h);p<_;)a[p]=s,++p;return a},writable:!0}),Number.isFinite=Number.isFinite||function(s){return"number"==typeof s&&isFinite(s)},Number.isInteger=Number.isInteger||function(s){return"number"==typeof s&&isFinite(s)&&Math.floor(s)===s},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(s){return s!=s},Math.trunc=Math.trunc||function(s){return s<0?Math.ceil(s):Math.floor(s)};var O=function(){};O.prototype.interfaces_=function(){return[]},O.prototype.getClass=function(){return O},O.prototype.equalsWithTolerance=function(s,a,h){return Math.abs(s-a)<=h};var B=function(s){function a(h){s.call(this,h),this.name="IllegalArgumentException",this.message=h,this.stack=(new s).stack}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a}(Error),I=function(){},U={MAX_VALUE:{configurable:!0}};I.isNaN=function(s){return Number.isNaN(s)},I.doubleToLongBits=function(s){return s},I.longBitsToDouble=function(s){return s},I.isInfinite=function(s){return!Number.isFinite(s)},U.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(I,U);var F=function(){},X=function(){},oe=function(){},z=function s(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=s.NULL_ORDINATE;else if(1===arguments.length){var a=arguments[0];this.x=a.x,this.y=a.y,this.z=a.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=s.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},ie={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};z.prototype.setOrdinate=function(s,a){switch(s){case z.X:this.x=a;break;case z.Y:this.y=a;break;case z.Z:this.z=a;break;default:throw new B("Invalid ordinate index: "+s)}},z.prototype.equals2D=function(){if(1===arguments.length){var s=arguments[0];return this.x===s.x&&this.y===s.y}if(2===arguments.length){var a=arguments[0],h=arguments[1];return!!O.equalsWithTolerance(this.x,a.x,h)&&!!O.equalsWithTolerance(this.y,a.y,h)}},z.prototype.getOrdinate=function(s){switch(s){case z.X:return this.x;case z.Y:return this.y;case z.Z:return this.z}throw new B("Invalid ordinate index: "+s)},z.prototype.equals3D=function(s){return this.x===s.x&&this.y===s.y&&(this.z===s.z||I.isNaN(this.z))&&I.isNaN(s.z)},z.prototype.equals=function(s){return s instanceof z&&this.equals2D(s)},z.prototype.equalInZ=function(s,a){return O.equalsWithTolerance(this.z,s.z,a)},z.prototype.compareTo=function(s){return this.x<s.x?-1:this.x>s.x?1:this.y<s.y?-1:this.y>s.y?1:0},z.prototype.clone=function(){},z.prototype.copy=function(){return new z(this)},z.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},z.prototype.distance3D=function(s){var a=this.x-s.x,h=this.y-s.y,p=this.z-s.z;return Math.sqrt(a*a+h*h+p*p)},z.prototype.distance=function(s){var a=this.x-s.x,h=this.y-s.y;return Math.sqrt(a*a+h*h)},z.prototype.hashCode=function(){var s=17;return 37*(s=37*s+z.hashCode(this.x))+z.hashCode(this.y)},z.prototype.setCoordinate=function(s){this.x=s.x,this.y=s.y,this.z=s.z},z.prototype.interfaces_=function(){return[F,X,P]},z.prototype.getClass=function(){return z},z.hashCode=function(){if(1===arguments.length){var a=I.doubleToLongBits(arguments[0]);return Math.trunc((a^a)>>>32)}},ie.DimensionalComparator.get=function(){return Q},ie.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},ie.NULL_ORDINATE.get=function(){return I.NaN},ie.X.get=function(){return 0},ie.Y.get=function(){return 1},ie.Z.get=function(){return 2},Object.defineProperties(z,ie);var Q=function(s){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){var a=arguments[0];if(2!==a&&3!==a)throw new B("only 2 or 3 dimensions may be specified");this._dimensionsToTest=a}};Q.prototype.compare=function(s,a){var h=s,p=a,_=Q.compare(h.x,p.x);if(0!==_)return _;var T=Q.compare(h.y,p.y);return 0!==T?T:this._dimensionsToTest<=2?0:Q.compare(h.z,p.z)},Q.prototype.interfaces_=function(){return[oe]},Q.prototype.getClass=function(){return Q},Q.compare=function(s,a){return s<a?-1:s>a?1:I.isNaN(s)?I.isNaN(a)?0:-1:I.isNaN(a)?1:0};var ue=function(){};ue.prototype.create=function(){},ue.prototype.interfaces_=function(){return[]},ue.prototype.getClass=function(){return ue};var J=function(){},Me={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};J.prototype.interfaces_=function(){return[]},J.prototype.getClass=function(){return J},J.toLocationSymbol=function(s){switch(s){case J.EXTERIOR:return"e";case J.BOUNDARY:return"b";case J.INTERIOR:return"i";case J.NONE:return"-"}throw new B("Unknown location value: "+s)},Me.INTERIOR.get=function(){return 0},Me.BOUNDARY.get=function(){return 1},Me.EXTERIOR.get=function(){return 2},Me.NONE.get=function(){return-1},Object.defineProperties(J,Me);var Te=function(s,a){return s.interfaces_&&s.interfaces_().indexOf(a)>-1},ge=function(){},Ee={LOG_10:{configurable:!0}};ge.prototype.interfaces_=function(){return[]},ge.prototype.getClass=function(){return ge},ge.log10=function(s){var a=Math.log(s);return I.isInfinite(a)||I.isNaN(a)?a:a/ge.LOG_10},ge.min=function(s,a,h,p){var _=s;return a<_&&(_=a),h<_&&(_=h),p<_&&(_=p),_},ge.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1],h=arguments[2];return s<a?a:s>h?h:s}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var p=arguments[0],_=arguments[1],T=arguments[2];return p<_?_:p>T?T:p}},ge.wrap=function(s,a){return s<0?a- -s%a:s%a},ge.max=function(){if(3===arguments.length){var a=arguments[1],h=arguments[2],p=arguments[0];return a>p&&(p=a),h>p&&(p=h),p}if(4===arguments.length){var T=arguments[1],G=arguments[2],le=arguments[3],Pe=arguments[0];return T>Pe&&(Pe=T),G>Pe&&(Pe=G),le>Pe&&(Pe=le),Pe}},ge.average=function(s,a){return(s+a)/2},Ee.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(ge,Ee);var ve=function(s){this.str=s};ve.prototype.append=function(s){this.str+=s},ve.prototype.setCharAt=function(s,a){this.str=this.str.substr(0,s)+a+this.str.substr(s+1)},ve.prototype.toString=function(s){return this.str};var he=function(s){this.value=s};he.prototype.intValue=function(){return this.value},he.prototype.compareTo=function(s){return this.value<s?-1:this.value>s?1:0},he.isNaN=function(s){return Number.isNaN(s)};var ce=function(){};ce.isWhitespace=function(s){return s<=32&&s>=0||127===s},ce.toUpperCase=function(s){return s.toUpperCase()};var se=function s(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof s?this.init(arguments[0]):"string"==typeof arguments[0]&&s.call(this,s.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},ke={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};se.prototype.le=function(s){return(this._hi<s._hi||this._hi===s._hi)&&this._lo<=s._lo},se.prototype.extractSignificantDigits=function(s,a){var h=this.abs(),p=se.magnitude(h._hi),_=se.TEN.pow(p);(h=h.divide(_)).gt(se.TEN)?(h=h.divide(se.TEN),p+=1):h.lt(se.ONE)&&(h=h.multiply(se.TEN),p-=1);for(var T=p+1,G=new ve,le=se.MAX_PRINT_DIGITS-1,Pe=0;Pe<=le;Pe++){s&&Pe===T&&G.append(".");var Ue=Math.trunc(h._hi);if(Ue<0)break;var nt=!1,rt=0;Ue>9?(nt=!0,rt="9"):rt="0"+Ue,G.append(rt),h=h.subtract(se.valueOf(Ue)).multiply(se.TEN),nt&&h.selfAdd(se.TEN);var bt=!0,Ct=se.magnitude(h._hi);if(Ct<0&&Math.abs(Ct)>=le-Pe&&(bt=!1),!bt)break}return a[0]=p,G.toString()},se.prototype.sqr=function(){return this.multiply(this)},se.prototype.doubleValue=function(){return this._hi+this._lo},se.prototype.subtract=function(){return arguments[0]instanceof se?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},se.prototype.equals=function(){if(1===arguments.length){var s=arguments[0];return this._hi===s._hi&&this._lo===s._lo}},se.prototype.isZero=function(){return 0===this._hi&&0===this._lo},se.prototype.selfSubtract=function(){if(arguments[0]instanceof se){var s=arguments[0];return this.isNaN()?this:this.selfAdd(-s._hi,-s._lo)}if("number"==typeof arguments[0]){var a=arguments[0];return this.isNaN()?this:this.selfAdd(-a,0)}},se.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},se.prototype.min=function(s){return this.le(s)?this:s},se.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof se){var s=arguments[0];return this.selfDivide(s._hi,s._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var T,le,Pe,nt,h=arguments[0],_=null,G=null,Ue=null,rt=null;return this._hi=rt=(Pe=this._hi/h)+(Ue=(this._hi-(nt=Pe*h)-(rt=(_=(Ue=se.SPLIT*Pe)-(_=Ue-Pe))*(G=(rt=se.SPLIT*h)-(G=rt-h))-nt+_*(le=h-G)+(T=Pe-_)*G+T*le)+this._lo-Pe*arguments[1])/h),this._lo=Pe-rt+Ue,this}},se.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},se.prototype.divide=function(){if(arguments[0]instanceof se){var h,_,T,le,s=arguments[0],a=null,p=null,G=null,Pe=null;return h=(T=this._hi/s._hi)-(a=(G=se.SPLIT*T)-(a=G-T)),Pe=a*(p=(Pe=se.SPLIT*s._hi)-(p=Pe-s._hi))-(le=T*s._hi)+a*(_=s._hi-p)+h*p+h*_,new se(Pe=T+(G=(this._hi-le-Pe+this._lo-T*s._lo)/s._hi),T-Pe+G)}if("number"==typeof arguments[0]){var Ue=arguments[0];return I.isNaN(Ue)?se.createNaN():se.copy(this).selfDivide(Ue,0)}},se.prototype.ge=function(s){return(this._hi>s._hi||this._hi===s._hi)&&this._lo>=s._lo},se.prototype.pow=function(s){if(0===s)return se.valueOf(1);var a=new se(this),h=se.valueOf(1),p=Math.abs(s);if(p>1)for(;p>0;)p%2==1&&h.selfMultiply(a),(p/=2)>0&&(a=a.sqr());else h=a;return s<0?h.reciprocal():h},se.prototype.ceil=function(){if(this.isNaN())return se.NaN;var s=Math.ceil(this._hi),a=0;return s===this._hi&&(a=Math.ceil(this._lo)),new se(s,a)},se.prototype.compareTo=function(s){return this._hi<s._hi?-1:this._hi>s._hi?1:this._lo<s._lo?-1:this._lo>s._lo?1:0},se.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},se.prototype.setValue=function(){return arguments[0]instanceof se||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},se.prototype.max=function(s){return this.ge(s)?this:s},se.prototype.sqrt=function(){if(this.isZero())return se.valueOf(0);if(this.isNegative())return se.NaN;var s=1/Math.sqrt(this._hi),h=se.valueOf(this._hi*s),p=this.subtract(h.sqr())._hi*(.5*s);return h.add(p)},se.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof se){var s=arguments[0];return this.selfAdd(s._hi,s._lo)}if("number"==typeof arguments[0]){var h,p,_,G,le,a=arguments[0];return this._hi=(h=(_=this._hi+a)+(le=a-(G=_-this._hi)+(this._hi-(_-G))+this._lo))+(p=le+(_-h)),this._lo=p+(h-this._hi),this}}else if(2===arguments.length){var nt,rt,Ct,at,Pe=arguments[0],Ue=arguments[1],bt=null,Ot=null,Wt=null;Ot=(Ct=this._hi+Pe)-(Wt=Ct-this._hi),bt=(rt=this._lo+Ue)-(at=rt-this._lo);var en=(nt=Ct+(Wt=(Ot=Pe-Wt+(this._hi-Ot))+rt))+(Wt=(bt=Ue-at+(this._lo-bt))+(Wt+(Ct-nt))),Ai=Wt+(nt-en);return this._hi=en,this._lo=Ai,this}},se.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof se){var s=arguments[0];return this.selfMultiply(s._hi,s._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var T,le,h=arguments[0],_=null,G=null,Pe=null,Ue=null;_=(Pe=se.SPLIT*this._hi)-this._hi,_=Pe-_;var nt=(Pe=this._hi*h)+(Ue=_*(G=(Ue=se.SPLIT*h)-(G=Ue-h))-Pe+_*(le=h-G)+(T=this._hi-_)*G+T*le+(this._hi*arguments[1]+this._lo*h)),rt=Ue+(_=Pe-nt);return this._hi=nt,this._lo=rt,this}},se.prototype.selfSqr=function(){return this.selfMultiply(this)},se.prototype.floor=function(){if(this.isNaN())return se.NaN;var s=Math.floor(this._hi),a=0;return s===this._hi&&(a=Math.floor(this._lo)),new se(s,a)},se.prototype.negate=function(){return this.isNaN()?this:new se(-this._hi,-this._lo)},se.prototype.clone=function(){},se.prototype.multiply=function(){if(arguments[0]instanceof se){var s=arguments[0];return s.isNaN()?se.createNaN():se.copy(this).selfMultiply(s)}if("number"==typeof arguments[0]){var a=arguments[0];return I.isNaN(a)?se.createNaN():se.copy(this).selfMultiply(a,0)}},se.prototype.isNaN=function(){return I.isNaN(this._hi)},se.prototype.intValue=function(){return Math.trunc(this._hi)},se.prototype.toString=function(){var s=se.magnitude(this._hi);return s>=-3&&s<=20?this.toStandardNotation():this.toSciNotation()},se.prototype.toStandardNotation=function(){var s=this.getSpecialNumberString();if(null!==s)return s;var a=new Array(1).fill(null),h=this.extractSignificantDigits(!0,a),p=a[0]+1,_=h;return"."===h.charAt(0)?_="0"+h:p<0?_="0."+se.stringOfChar("0",-p)+h:-1===h.indexOf(".")&&(_=h+se.stringOfChar("0",p-h.length)+".0"),this.isNegative()?"-"+_:_},se.prototype.reciprocal=function(){var a,p,_,G,s=null,h=null,T=null,le=null;a=(_=1/this._hi)-(s=(T=se.SPLIT*_)-(s=T-_)),h=(le=se.SPLIT*this._hi)-this._hi;var Pe=_+(T=(1-(G=_*this._hi)-(le=s*(h=le-h)-G+s*(p=this._hi-h)+a*h+a*p)-_*this._lo)/this._hi);return new se(Pe,_-Pe+T)},se.prototype.toSciNotation=function(){if(this.isZero())return se.SCI_NOT_ZERO;var s=this.getSpecialNumberString();if(null!==s)return s;var a=new Array(1).fill(null),h=this.extractSignificantDigits(!1,a),p=se.SCI_NOT_EXPONENT_CHAR+a[0];if("0"===h.charAt(0))throw new Error("Found leading zero: "+h);var _="";h.length>1&&(_=h.substring(1));var T=h.charAt(0)+"."+_;return this.isNegative()?"-"+T+p:T+p},se.prototype.abs=function(){return this.isNaN()?se.NaN:this.isNegative()?this.negate():new se(this)},se.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},se.prototype.lt=function(s){return(this._hi<s._hi||this._hi===s._hi)&&this._lo<s._lo},se.prototype.add=function(){if(arguments[0]instanceof se){var s=arguments[0];return se.copy(this).selfAdd(s)}if("number"==typeof arguments[0]){var a=arguments[0];return se.copy(this).selfAdd(a)}},se.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof se){var a=arguments[0];this._hi=a._hi,this._lo=a._lo}}else if(2===arguments.length){var p=arguments[1];this._hi=arguments[0],this._lo=p}},se.prototype.gt=function(s){return(this._hi>s._hi||this._hi===s._hi)&&this._lo>s._lo},se.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},se.prototype.trunc=function(){return this.isNaN()?se.NaN:this.isPositive()?this.floor():this.ceil()},se.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},se.prototype.interfaces_=function(){return[P,F,X]},se.prototype.getClass=function(){return se},se.sqr=function(s){return se.valueOf(s).selfMultiply(s)},se.valueOf=function(){return"string"==typeof arguments[0]?se.parse(arguments[0]):"number"==typeof arguments[0]?new se(arguments[0]):void 0},se.sqrt=function(s){return se.valueOf(s).sqrt()},se.parse=function(s){for(var a=0,h=s.length;ce.isWhitespace(s.charAt(a));)a++;var p=!1;if(a<h){var _=s.charAt(a);"-"!==_&&"+"!==_||(a++,"-"===_&&(p=!0))}for(var T=new se,G=0,le=0,Pe=0;!(a>=h);){var Ue=s.charAt(a);if(a++,ce.isDigit(Ue)){var nt=Ue-"0";T.selfMultiply(se.TEN),T.selfAdd(nt),G++}else{if("."!==Ue){if("e"===Ue||"E"===Ue){var rt=s.substring(a);try{Pe=he.parseInt(rt)}catch(at){throw at instanceof Error?new Error("Invalid exponent "+rt+" in string "+s):at}break}throw new Error("Unexpected character '"+Ue+"' at position "+a+" in string "+s)}le=G}}var bt=T,Ct=G-le-Pe;if(0===Ct)bt=T;else if(Ct>0){var Ot=se.TEN.pow(Ct);bt=T.divide(Ot)}else if(Ct<0){var Wt=se.TEN.pow(-Ct);bt=T.multiply(Wt)}return p?bt.negate():bt},se.createNaN=function(){return new se(I.NaN,I.NaN)},se.copy=function(s){return new se(s)},se.magnitude=function(s){var a=Math.abs(s),h=Math.log(a)/Math.log(10),p=Math.trunc(Math.floor(h));return 10*Math.pow(10,p)<=a&&(p+=1),p},se.stringOfChar=function(s,a){for(var h=new ve,p=0;p<a;p++)h.append(s);return h.toString()},ke.PI.get=function(){return new se(3.141592653589793,12246467991473532e-32)},ke.TWO_PI.get=function(){return new se(6.283185307179586,24492935982947064e-32)},ke.PI_2.get=function(){return new se(1.5707963267948966,6123233995736766e-32)},ke.E.get=function(){return new se(2.718281828459045,14456468917292502e-32)},ke.NaN.get=function(){return new se(I.NaN,I.NaN)},ke.EPS.get=function(){return 123259516440783e-46},ke.SPLIT.get=function(){return 134217729},ke.MAX_PRINT_DIGITS.get=function(){return 32},ke.TEN.get=function(){return se.valueOf(10)},ke.ONE.get=function(){return se.valueOf(1)},ke.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},ke.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(se,ke);var pe=function(){},Le={DP_SAFE_EPSILON:{configurable:!0}};pe.prototype.interfaces_=function(){return[]},pe.prototype.getClass=function(){return pe},pe.orientationIndex=function(s,a,h){var p=pe.orientationIndexFilter(s,a,h);if(p<=1)return p;var _=se.valueOf(a.x).selfAdd(-s.x),T=se.valueOf(a.y).selfAdd(-s.y),G=se.valueOf(h.x).selfAdd(-a.x),le=se.valueOf(h.y).selfAdd(-a.y);return _.selfMultiply(le).selfSubtract(T.selfMultiply(G)).signum()},pe.signOfDet2x2=function(s,a,h,p){return s.multiply(p).selfSubtract(a.multiply(h)).signum()},pe.intersection=function(s,a,h,p){var _=se.valueOf(p.y).selfSubtract(h.y).selfMultiply(se.valueOf(a.x).selfSubtract(s.x)),T=se.valueOf(p.x).selfSubtract(h.x).selfMultiply(se.valueOf(a.y).selfSubtract(s.y)),G=_.subtract(T),le=se.valueOf(p.x).selfSubtract(h.x).selfMultiply(se.valueOf(s.y).selfSubtract(h.y)),Pe=se.valueOf(p.y).selfSubtract(h.y).selfMultiply(se.valueOf(s.x).selfSubtract(h.x)),Ue=le.subtract(Pe).selfDivide(G).doubleValue(),nt=se.valueOf(s.x).selfAdd(se.valueOf(a.x).selfSubtract(s.x).selfMultiply(Ue)).doubleValue(),rt=se.valueOf(a.x).selfSubtract(s.x).selfMultiply(se.valueOf(s.y).selfSubtract(h.y)),bt=se.valueOf(a.y).selfSubtract(s.y).selfMultiply(se.valueOf(s.x).selfSubtract(h.x)),Ct=rt.subtract(bt).selfDivide(G).doubleValue(),Ot=se.valueOf(h.y).selfAdd(se.valueOf(p.y).selfSubtract(h.y).selfMultiply(Ct)).doubleValue();return new z(nt,Ot)},pe.orientationIndexFilter=function(s,a,h){var p=null,_=(s.x-h.x)*(a.y-h.y),T=(s.y-h.y)*(a.x-h.x),G=_-T;if(_>0){if(T<=0)return pe.signum(G);p=_+T}else{if(!(_<0)||T>=0)return pe.signum(G);p=-_-T}var le=pe.DP_SAFE_EPSILON*p;return G>=le||-G>=le?pe.signum(G):2},pe.signum=function(s){return s>0?1:s<0?-1:0},Le.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(pe,Le);var Ie=function(){},$e={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};$e.X.get=function(){return 0},$e.Y.get=function(){return 1},$e.Z.get=function(){return 2},$e.M.get=function(){return 3},Ie.prototype.setOrdinate=function(s,a,h){},Ie.prototype.size=function(){},Ie.prototype.getOrdinate=function(s,a){},Ie.prototype.getCoordinate=function(){},Ie.prototype.getCoordinateCopy=function(s){},Ie.prototype.getDimension=function(){},Ie.prototype.getX=function(s){},Ie.prototype.clone=function(){},Ie.prototype.expandEnvelope=function(s){},Ie.prototype.copy=function(){},Ie.prototype.getY=function(s){},Ie.prototype.toCoordinateArray=function(){},Ie.prototype.interfaces_=function(){return[X]},Ie.prototype.getClass=function(){return Ie},Object.defineProperties(Ie,$e);var Ke=function(){},W=function(s){function a(){s.call(this,"Projective point not representable on the Cartesian plane.")}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(Ke),ae=function(){};ae.arraycopy=function(s,a,h,p,_){for(var T=0,G=a;G<a+_;G++)h[p+T]=s[G],T++},ae.getProperty=function(s){return{"line.separator":"\n"}[s]};var ye=function s(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var a=arguments[0];this.x=a.x,this.y=a.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var p=arguments[1];this.x=arguments[0],this.y=p,this.w=1}else if(arguments[0]instanceof s&&arguments[1]instanceof s){var _=arguments[0],T=arguments[1];this.x=_.y*T.w-T.y*_.w,this.y=T.x*_.w-_.x*T.w,this.w=_.x*T.y-T.x*_.y}else if(arguments[0]instanceof z&&arguments[1]instanceof z){var G=arguments[0],le=arguments[1];this.x=G.y-le.y,this.y=le.x-G.x,this.w=G.x*le.y-le.x*G.y}}else if(3===arguments.length){var Ue=arguments[1],nt=arguments[2];this.x=arguments[0],this.y=Ue,this.w=nt}else if(4===arguments.length){var rt=arguments[0],bt=arguments[1],Ct=arguments[2],Ot=arguments[3],Wt=rt.y-bt.y,at=bt.x-rt.x,en=rt.x*bt.y-bt.x*rt.y,Ai=Ct.y-Ot.y,vr=Ot.x-Ct.x,Cr=Ct.x*Ot.y-Ot.x*Ct.y;this.x=at*Cr-vr*en,this.y=Ai*en-Wt*Cr,this.w=Wt*vr-Ai*at}};ye.prototype.getY=function(){var s=this.y/this.w;if(I.isNaN(s)||I.isInfinite(s))throw new W;return s},ye.prototype.getX=function(){var s=this.x/this.w;if(I.isNaN(s)||I.isInfinite(s))throw new W;return s},ye.prototype.getCoordinate=function(){var s=new z;return s.x=this.getX(),s.y=this.getY(),s},ye.prototype.interfaces_=function(){return[]},ye.prototype.getClass=function(){return ye},ye.intersection=function(s,a,h,p){var _=s.y-a.y,T=a.x-s.x,G=s.x*a.y-a.x*s.y,le=h.y-p.y,Pe=p.x-h.x,Ue=h.x*p.y-p.x*h.y,nt=_*Pe-le*T,rt=(T*Ue-Pe*G)/nt,bt=(le*G-_*Ue)/nt;if(I.isNaN(rt)||I.isInfinite(rt)||I.isNaN(bt)||I.isInfinite(bt))throw new W;return new z(rt,bt)};var Ae=function s(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof z){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else arguments[0]instanceof s&&this.init(arguments[0]);else if(2===arguments.length){var p=arguments[0],_=arguments[1];this.init(p.x,_.x,p.y,_.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},ze={serialVersionUID:{configurable:!0}};Ae.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Ae.prototype.equals=function(s){if(!(s instanceof Ae))return!1;var a=s;return this.isNull()?a.isNull():this._maxx===a.getMaxX()&&this._maxy===a.getMaxY()&&this._minx===a.getMinX()&&this._miny===a.getMinY()},Ae.prototype.intersection=function(s){return this.isNull()||s.isNull()||!this.intersects(s)?new Ae:new Ae(this._minx>s._minx?this._minx:s._minx,this._maxx<s._maxx?this._maxx:s._maxx,this._miny>s._miny?this._miny:s._miny,this._maxy<s._maxy?this._maxy:s._maxy)},Ae.prototype.isNull=function(){return this._maxx<this._minx},Ae.prototype.getMaxX=function(){return this._maxx},Ae.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof z){var s=arguments[0];return this.covers(s.x,s.y)}if(arguments[0]instanceof Ae){var a=arguments[0];return!this.isNull()&&!a.isNull()&&a.getMinX()>=this._minx&&a.getMaxX()<=this._maxx&&a.getMinY()>=this._miny&&a.getMaxY()<=this._maxy}}else if(2===arguments.length){var h=arguments[0],p=arguments[1];return!this.isNull()&&h>=this._minx&&h<=this._maxx&&p>=this._miny&&p<=this._maxy}},Ae.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Ae){var s=arguments[0];return!this.isNull()&&!s.isNull()&&!(s._minx>this._maxx||s._maxx<this._minx||s._miny>this._maxy||s._maxy<this._miny)}if(arguments[0]instanceof z){var a=arguments[0];return this.intersects(a.x,a.y)}}else if(2===arguments.length){var h=arguments[0],p=arguments[1];return!this.isNull()&&!(h>this._maxx||h<this._minx||p>this._maxy||p<this._miny)}},Ae.prototype.getMinY=function(){return this._miny},Ae.prototype.getMinX=function(){return this._minx},Ae.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof z){var s=arguments[0];this.expandToInclude(s.x,s.y)}else if(arguments[0]instanceof Ae){var a=arguments[0];if(a.isNull())return null;this.isNull()?(this._minx=a.getMinX(),this._maxx=a.getMaxX(),this._miny=a.getMinY(),this._maxy=a.getMaxY()):(a._minx<this._minx&&(this._minx=a._minx),a._maxx>this._maxx&&(this._maxx=a._maxx),a._miny<this._miny&&(this._miny=a._miny),a._maxy>this._maxy&&(this._maxy=a._maxy))}}else if(2===arguments.length){var h=arguments[0],p=arguments[1];this.isNull()?(this._minx=h,this._maxx=h,this._miny=p,this._maxy=p):(h<this._minx&&(this._minx=h),h>this._maxx&&(this._maxx=h),p<this._miny&&(this._miny=p),p>this._maxy&&(this._maxy=p))}},Ae.prototype.minExtent=function(){if(this.isNull())return 0;var s=this.getWidth(),a=this.getHeight();return s<a?s:a},Ae.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Ae.prototype.compareTo=function(s){var a=s;return this.isNull()?a.isNull()?0:-1:a.isNull()?1:this._minx<a._minx?-1:this._minx>a._minx?1:this._miny<a._miny?-1:this._miny>a._miny?1:this._maxx<a._maxx?-1:this._maxx>a._maxx?1:this._maxy<a._maxy?-1:this._maxy>a._maxy?1:0},Ae.prototype.translate=function(s,a){if(this.isNull())return null;this.init(this.getMinX()+s,this.getMaxX()+s,this.getMinY()+a,this.getMaxY()+a)},Ae.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Ae.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Ae.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Ae.prototype.maxExtent=function(){if(this.isNull())return 0;var s=this.getWidth(),a=this.getHeight();return s>a?s:a},Ae.prototype.expandBy=function(){if(1===arguments.length){var s=arguments[0];this.expandBy(s,s)}else if(2===arguments.length){var a=arguments[0],h=arguments[1];if(this.isNull())return null;this._minx-=a,this._maxx+=a,this._miny-=h,this._maxy+=h,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Ae.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Ae)return this.covers(arguments[0]);if(arguments[0]instanceof z)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},Ae.prototype.centre=function(){return this.isNull()?null:new z((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Ae.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof z){var s=arguments[0];this.init(s.x,s.x,s.y,s.y)}else if(arguments[0]instanceof Ae){var a=arguments[0];this._minx=a._minx,this._maxx=a._maxx,this._miny=a._miny,this._maxy=a._maxy}}else if(2===arguments.length){var h=arguments[0],p=arguments[1];this.init(h.x,p.x,h.y,p.y)}else if(4===arguments.length){var _=arguments[0],T=arguments[1],G=arguments[2],le=arguments[3];_<T?(this._minx=_,this._maxx=T):(this._minx=T,this._maxx=_),G<le?(this._miny=G,this._maxy=le):(this._miny=le,this._maxy=G)}},Ae.prototype.getMaxY=function(){return this._maxy},Ae.prototype.distance=function(s){if(this.intersects(s))return 0;var a=0;this._maxx<s._minx?a=s._minx-this._maxx:this._minx>s._maxx&&(a=this._minx-s._maxx);var h=0;return this._maxy<s._miny?h=s._miny-this._maxy:this._miny>s._maxy&&(h=this._miny-s._maxy),0===a?h:0===h?a:Math.sqrt(a*a+h*h)},Ae.prototype.hashCode=function(){var s=17;return 37*(s=37*(s=37*(s=37*s+z.hashCode(this._minx))+z.hashCode(this._maxx))+z.hashCode(this._miny))+z.hashCode(this._maxy)},Ae.prototype.interfaces_=function(){return[F,P]},Ae.prototype.getClass=function(){return Ae},Ae.intersects=function(){if(3===arguments.length){var s=arguments[0],a=arguments[1],h=arguments[2];return h.x>=(s.x<a.x?s.x:a.x)&&h.x<=(s.x>a.x?s.x:a.x)&&h.y>=(s.y<a.y?s.y:a.y)&&h.y<=(s.y>a.y?s.y:a.y)}if(4===arguments.length){var p=arguments[0],_=arguments[1],T=arguments[2],G=arguments[3],le=Math.min(T.x,G.x),Pe=Math.max(T.x,G.x),Ue=Math.min(p.x,_.x),nt=Math.max(p.x,_.x);return!(Ue>Pe||nt<le||(le=Math.min(T.y,G.y),Pe=Math.max(T.y,G.y),Ue=Math.min(p.y,_.y),nt=Math.max(p.y,_.y),Ue>Pe||nt<le))}},ze.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Ae,ze);var Ze={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},ct=function(s){this.geometryFactory=s||new gt};ct.prototype.read=function(s){var a,h;s=s.replace(/[\n\r]/g," ");var _=Ze.typeStr.exec(s);if(-1!==s.search("EMPTY")&&((_=Ze.emptyTypeStr.exec(s))[2]=void 0),_&&(h=_[1].toLowerCase(),vt[h]&&(a=vt[h].apply(this,[_[2]]))),void 0===a)throw new Error("Could not parse WKT "+s);return a},ct.prototype.write=function(s){return this.extractGeometry(s)},ct.prototype.extractGeometry=function(s){var a=s.getGeometryType().toLowerCase();if(!ht[a])return null;var h=a.toUpperCase();return s.isEmpty()?h+" EMPTY":h+"("+ht[a].apply(this,[s])+")"};var ht={coordinate:function(s){return s.x+" "+s.y},point:function(s){return ht.coordinate.call(this,s._coordinates._coordinates[0])},multipoint:function(s){for(var a=[],h=0,p=s._geometries.length;h<p;++h)a.push("("+ht.point.apply(this,[s._geometries[h]])+")");return a.join(",")},linestring:function(s){for(var a=[],h=0,p=s._points._coordinates.length;h<p;++h)a.push(ht.coordinate.apply(this,[s._points._coordinates[h]]));return a.join(",")},linearring:function(s){for(var a=[],h=0,p=s._points._coordinates.length;h<p;++h)a.push(ht.coordinate.apply(this,[s._points._coordinates[h]]));return a.join(",")},multilinestring:function(s){for(var a=[],h=0,p=s._geometries.length;h<p;++h)a.push("("+ht.linestring.apply(this,[s._geometries[h]])+")");return a.join(",")},polygon:function(s){var a=[];a.push("("+ht.linestring.apply(this,[s._shell])+")");for(var h=0,p=s._holes.length;h<p;++h)a.push("("+ht.linestring.apply(this,[s._holes[h]])+")");return a.join(",")},multipolygon:function(s){for(var a=[],h=0,p=s._geometries.length;h<p;++h)a.push("("+ht.polygon.apply(this,[s._geometries[h]])+")");return a.join(",")},geometrycollection:function(s){for(var a=[],h=0,p=s._geometries.length;h<p;++h)a.push(this.extractGeometry(s._geometries[h]));return a.join(",")}},vt={point:function(s){if(void 0===s)return this.geometryFactory.createPoint();var a=s.trim().split(Ze.spaces);return this.geometryFactory.createPoint(new z(Number.parseFloat(a[0]),Number.parseFloat(a[1])))},multipoint:function(s){if(void 0===s)return this.geometryFactory.createMultiPoint();for(var a,h=s.trim().split(","),p=[],_=0,T=h.length;_<T;++_)a=h[_].replace(Ze.trimParens,"$1"),p.push(vt.point.apply(this,[a]));return this.geometryFactory.createMultiPoint(p)},linestring:function(s){if(void 0===s)return this.geometryFactory.createLineString();for(var a,h=s.trim().split(","),p=[],_=0,T=h.length;_<T;++_)a=h[_].trim().split(Ze.spaces),p.push(new z(Number.parseFloat(a[0]),Number.parseFloat(a[1])));return this.geometryFactory.createLineString(p)},linearring:function(s){if(void 0===s)return this.geometryFactory.createLinearRing();for(var a,h=s.trim().split(","),p=[],_=0,T=h.length;_<T;++_)a=h[_].trim().split(Ze.spaces),p.push(new z(Number.parseFloat(a[0]),Number.parseFloat(a[1])));return this.geometryFactory.createLinearRing(p)},multilinestring:function(s){if(void 0===s)return this.geometryFactory.createMultiLineString();for(var a,h=s.trim().split(Ze.parenComma),p=[],_=0,T=h.length;_<T;++_)a=h[_].replace(Ze.trimParens,"$1"),p.push(vt.linestring.apply(this,[a]));return this.geometryFactory.createMultiLineString(p)},polygon:function(s){if(void 0===s)return this.geometryFactory.createPolygon();for(var a,h,p,_,T=s.trim().split(Ze.parenComma),G=[],le=0,Pe=T.length;le<Pe;++le)a=T[le].replace(Ze.trimParens,"$1"),h=vt.linestring.apply(this,[a]),p=this.geometryFactory.createLinearRing(h._points),0===le?_=p:G.push(p);return this.geometryFactory.createPolygon(_,G)},multipolygon:function(s){if(void 0===s)return this.geometryFactory.createMultiPolygon();for(var a,h=s.trim().split(Ze.doubleParenComma),p=[],_=0,T=h.length;_<T;++_)a=h[_].replace(Ze.trimParens,"$1"),p.push(vt.polygon.apply(this,[a]));return this.geometryFactory.createMultiPolygon(p)},geometrycollection:function(s){if(void 0===s)return this.geometryFactory.createGeometryCollection();for(var a=(s=s.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),h=[],p=0,_=a.length;p<_;++p)h.push(this.read(a[p]));return this.geometryFactory.createGeometryCollection(h)}},qe=function(s){this.parser=new ct(s)};qe.prototype.write=function(s){return this.parser.write(s)},qe.toLineString=function(s,a){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+s.x+" "+s.y+", "+a.x+" "+a.y+" )"};var Ce=function(s){function a(h){s.call(this,h),this.name="RuntimeException",this.message=h,this.stack=(new s).stack}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a}(Error),we=function(s){function a(){s.call(this),0===arguments.length?s.call(this):1===arguments.length&&s.call(this,arguments[0])}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(Ce),be=function(){};be.prototype.interfaces_=function(){return[]},be.prototype.getClass=function(){return be},be.shouldNeverReachHere=function(){if(0===arguments.length)be.shouldNeverReachHere(null);else if(1===arguments.length){var s=arguments[0];throw new we("Should never reach here"+(null!==s?": "+s:""))}},be.isTrue=function(){var a;if(1===arguments.length)be.isTrue(arguments[0],null);else if(2===arguments.length&&(a=arguments[1],!arguments[0]))throw null===a?new we:new we(a)},be.equals=function(){var s,a,h;if(2===arguments.length)be.equals(s=arguments[0],a=arguments[1],null);else if(3===arguments.length&&(h=arguments[2],!(a=arguments[1]).equals(s=arguments[0])))throw new we("Expected "+s+" but encountered "+a+(null!==h?": "+h:""))};var Re=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new z,this._intPt[1]=new z,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Ve={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Re.prototype.getIndexAlongSegment=function(s,a){return this.computeIntLineIndex(),this._intLineIndex[s][a]},Re.prototype.getTopologySummary=function(){var s=new ve;return this.isEndPoint()&&s.append(" endpoint"),this._isProper&&s.append(" proper"),this.isCollinear()&&s.append(" collinear"),s.toString()},Re.prototype.computeIntersection=function(s,a,h,p){this._inputLines[0][0]=s,this._inputLines[0][1]=a,this._inputLines[1][0]=h,this._inputLines[1][1]=p,this._result=this.computeIntersect(s,a,h,p)},Re.prototype.getIntersectionNum=function(){return this._result},Re.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var s=arguments[0];this.getEdgeDistance(s,0)>this.getEdgeDistance(s,1)?(this._intLineIndex[s][0]=0,this._intLineIndex[s][1]=1):(this._intLineIndex[s][0]=1,this._intLineIndex[s][1]=0)}},Re.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Re.prototype.setPrecisionModel=function(s){this._precisionModel=s},Re.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var s=arguments[0],a=0;a<this._result;a++)if(!this._intPt[a].equals2D(this._inputLines[s][0])&&!this._intPt[a].equals2D(this._inputLines[s][1]))return!0;return!1}},Re.prototype.getIntersection=function(s){return this._intPt[s]},Re.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Re.prototype.hasIntersection=function(){return this._result!==Re.NO_INTERSECTION},Re.prototype.getEdgeDistance=function(s,a){return Re.computeEdgeDistance(this._intPt[a],this._inputLines[s][0],this._inputLines[s][1])},Re.prototype.isCollinear=function(){return this._result===Re.COLLINEAR_INTERSECTION},Re.prototype.toString=function(){return qe.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+qe.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Re.prototype.getEndpoint=function(s,a){return this._inputLines[s][a]},Re.prototype.isIntersection=function(s){for(var a=0;a<this._result;a++)if(this._intPt[a].equals2D(s))return!0;return!1},Re.prototype.getIntersectionAlongSegment=function(s,a){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[s][a]]},Re.prototype.interfaces_=function(){return[]},Re.prototype.getClass=function(){return Re},Re.computeEdgeDistance=function(s,a,h){var p=Math.abs(h.x-a.x),_=Math.abs(h.y-a.y),T=-1;if(s.equals(a))T=0;else if(s.equals(h))T=p>_?p:_;else{var G=Math.abs(s.x-a.x),le=Math.abs(s.y-a.y);0!==(T=p>_?G:le)||s.equals(a)||(T=Math.max(G,le))}return be.isTrue(!(0===T&&!s.equals(a)),"Bad distance calculation"),T},Re.nonRobustComputeEdgeDistance=function(s,a,h){var p=s.x-a.x,_=s.y-a.y,T=Math.sqrt(p*p+_*_);return be.isTrue(!(0===T&&!s.equals(a)),"Invalid distance calculation"),T},Ve.DONT_INTERSECT.get=function(){return 0},Ve.DO_INTERSECT.get=function(){return 1},Ve.COLLINEAR.get=function(){return 2},Ve.NO_INTERSECTION.get=function(){return 0},Ve.POINT_INTERSECTION.get=function(){return 1},Ve.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Re,Ve);var Oe=function(s){function a(){s.apply(this,arguments)}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.isInSegmentEnvelopes=function(h){var p=new Ae(this._inputLines[0][0],this._inputLines[0][1]),_=new Ae(this._inputLines[1][0],this._inputLines[1][1]);return p.contains(h)&&_.contains(h)},a.prototype.computeIntersection=function(){if(3!==arguments.length)return s.prototype.computeIntersection.apply(this,arguments);var h=arguments[0],p=arguments[1],_=arguments[2];if(this._isProper=!1,Ae.intersects(p,_,h)&&0===Ge.orientationIndex(p,_,h)&&0===Ge.orientationIndex(_,p,h))return this._isProper=!0,(h.equals(p)||h.equals(_))&&(this._isProper=!1),this._result=s.POINT_INTERSECTION,null;this._result=s.NO_INTERSECTION},a.prototype.normalizeToMinimum=function(h,p,_,T,G){G.x=this.smallestInAbsValue(h.x,p.x,_.x,T.x),G.y=this.smallestInAbsValue(h.y,p.y,_.y,T.y),h.x-=G.x,h.y-=G.y,p.x-=G.x,p.y-=G.y,_.x-=G.x,_.y-=G.y,T.x-=G.x,T.y-=G.y},a.prototype.safeHCoordinateIntersection=function(h,p,_,T){var G=null;try{G=ye.intersection(h,p,_,T)}catch(le){if(!(le instanceof W))throw le;G=a.nearestEndpoint(h,p,_,T)}return G},a.prototype.intersection=function(h,p,_,T){var G=this.intersectionWithNormalization(h,p,_,T);return this.isInSegmentEnvelopes(G)||(G=new z(a.nearestEndpoint(h,p,_,T))),null!==this._precisionModel&&this._precisionModel.makePrecise(G),G},a.prototype.smallestInAbsValue=function(h,p,_,T){var G=h,le=Math.abs(G);return Math.abs(p)<le&&(G=p,le=Math.abs(p)),Math.abs(_)<le&&(G=_,le=Math.abs(_)),Math.abs(T)<le&&(G=T),G},a.prototype.checkDD=function(h,p,_,T,G){var le=pe.intersection(h,p,_,T),Pe=this.isInSegmentEnvelopes(le);ae.out.println("DD in env = "+Pe+"  --------------------- "+le),G.distance(le)>1e-4&&ae.out.println("Distance = "+G.distance(le))},a.prototype.intersectionWithNormalization=function(h,p,_,T){var G=new z(h),le=new z(p),Pe=new z(_),Ue=new z(T),nt=new z;this.normalizeToEnvCentre(G,le,Pe,Ue,nt);var rt=this.safeHCoordinateIntersection(G,le,Pe,Ue);return rt.x+=nt.x,rt.y+=nt.y,rt},a.prototype.computeCollinearIntersection=function(h,p,_,T){var G=Ae.intersects(h,p,_),le=Ae.intersects(h,p,T),Pe=Ae.intersects(_,T,h),Ue=Ae.intersects(_,T,p);return G&&le?(this._intPt[0]=_,this._intPt[1]=T,s.COLLINEAR_INTERSECTION):Pe&&Ue?(this._intPt[0]=h,this._intPt[1]=p,s.COLLINEAR_INTERSECTION):G&&Pe?(this._intPt[0]=_,this._intPt[1]=h,!_.equals(h)||le||Ue?s.COLLINEAR_INTERSECTION:s.POINT_INTERSECTION):G&&Ue?(this._intPt[0]=_,this._intPt[1]=p,!_.equals(p)||le||Pe?s.COLLINEAR_INTERSECTION:s.POINT_INTERSECTION):le&&Pe?(this._intPt[0]=T,this._intPt[1]=h,!T.equals(h)||G||Ue?s.COLLINEAR_INTERSECTION:s.POINT_INTERSECTION):le&&Ue?(this._intPt[0]=T,this._intPt[1]=p,!T.equals(p)||G||Pe?s.COLLINEAR_INTERSECTION:s.POINT_INTERSECTION):s.NO_INTERSECTION},a.prototype.normalizeToEnvCentre=function(h,p,_,T,G){var le=h.x<p.x?h.x:p.x,Pe=h.y<p.y?h.y:p.y,Ue=h.x>p.x?h.x:p.x,nt=h.y>p.y?h.y:p.y,rt=_.x<T.x?_.x:T.x,bt=_.y<T.y?_.y:T.y,Ct=_.x>T.x?_.x:T.x,Ot=_.y>T.y?_.y:T.y,at=((Pe>bt?Pe:bt)+(nt<Ot?nt:Ot))/2;G.x=((le>rt?le:rt)+(Ue<Ct?Ue:Ct))/2,G.y=at,h.x-=G.x,h.y-=G.y,p.x-=G.x,p.y-=G.y,_.x-=G.x,_.y-=G.y,T.x-=G.x,T.y-=G.y},a.prototype.computeIntersect=function(h,p,_,T){if(this._isProper=!1,!Ae.intersects(h,p,_,T))return s.NO_INTERSECTION;var G=Ge.orientationIndex(h,p,_),le=Ge.orientationIndex(h,p,T);if(G>0&&le>0||G<0&&le<0)return s.NO_INTERSECTION;var Pe=Ge.orientationIndex(_,T,h),Ue=Ge.orientationIndex(_,T,p);return Pe>0&&Ue>0||Pe<0&&Ue<0?s.NO_INTERSECTION:0===G&&0===le&&0===Pe&&0===Ue?this.computeCollinearIntersection(h,p,_,T):(0===G||0===le||0===Pe||0===Ue?(this._isProper=!1,h.equals2D(_)||h.equals2D(T)?this._intPt[0]=h:p.equals2D(_)||p.equals2D(T)?this._intPt[0]=p:0===G?this._intPt[0]=new z(_):0===le?this._intPt[0]=new z(T):0===Pe?this._intPt[0]=new z(h):0===Ue&&(this._intPt[0]=new z(p))):(this._isProper=!0,this._intPt[0]=this.intersection(h,p,_,T)),s.POINT_INTERSECTION)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.nearestEndpoint=function(h,p,_,T){var G=h,le=Ge.distancePointLine(h,_,T),Pe=Ge.distancePointLine(p,_,T);return Pe<le&&(le=Pe,G=p),(Pe=Ge.distancePointLine(_,h,p))<le&&(le=Pe,G=_),(Pe=Ge.distancePointLine(T,h,p))<le&&(le=Pe,G=T),G},a}(Re),je=function(){};je.prototype.interfaces_=function(){return[]},je.prototype.getClass=function(){return je},je.orientationIndex=function(s,a,h){return je.signOfDet2x2(a.x-s.x,a.y-s.y,h.x-a.x,h.y-a.y)},je.signOfDet2x2=function(s,a,h,p){var _=null,T=null,G=null;if(_=1,0===s||0===p)return 0===a||0===h?0:a>0?h>0?-_:_:h>0?_:-_;if(0===a||0===h)return p>0?s>0?_:-_:s>0?-_:_;if(a>0?p>0?a<=p||(_=-_,T=s,s=h,h=T,T=a,a=p,p=T):a<=-p?(_=-_,h=-h,p=-p):(T=s,s=-h,h=T,T=a,a=-p,p=T):p>0?-a<=p?(_=-_,s=-s,a=-a):(T=-s,s=h,h=T,T=-a,a=p,p=T):a>=p?(s=-s,a=-a,h=-h,p=-p):(_=-_,T=-s,s=-h,h=T,T=-a,a=-p,p=T),s>0){if(!(h>0&&s<=h))return _}else{if(h>0||!(s>=h))return-_;_=-_,s=-s,h=-h}for(;;){if((p-=(G=Math.floor(h/s))*a)<0)return-_;if(p>a)return _;if(s>(h-=G*s)+h){if(a<p+p)return _}else{if(a>p+p)return-_;h=s-h,p=a-p,_=-_}if(0===p)return 0===h?0:-_;if(0===h||(s-=(G=Math.floor(s/h))*h,(a-=G*p)<0))return _;if(a>p)return-_;if(h>s+s){if(p<a+a)return-_}else{if(p>a+a)return _;s=h-s,a=p-a,_=-_}if(0===a)return 0===s?0:_;if(0===s)return-_}};var Xe=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};Xe.prototype.countSegment=function(s,a){if(s.x<this._p.x&&a.x<this._p.x)return null;if(this._p.x===a.x&&this._p.y===a.y)return this._isPointOnSegment=!0,null;if(s.y===this._p.y&&a.y===this._p.y){var h=s.x,p=a.x;return h>p&&(h=a.x,p=s.x),this._p.x>=h&&this._p.x<=p&&(this._isPointOnSegment=!0),null}if(s.y>this._p.y&&a.y<=this._p.y||a.y>this._p.y&&s.y<=this._p.y){var T=s.y-this._p.y,le=a.y-this._p.y,Pe=je.signOfDet2x2(s.x-this._p.x,T,a.x-this._p.x,le);if(0===Pe)return this._isPointOnSegment=!0,null;le<T&&(Pe=-Pe),Pe>0&&this._crossingCount++}},Xe.prototype.isPointInPolygon=function(){return this.getLocation()!==J.EXTERIOR},Xe.prototype.getLocation=function(){return this._isPointOnSegment?J.BOUNDARY:this._crossingCount%2==1?J.INTERIOR:J.EXTERIOR},Xe.prototype.isOnSegment=function(){return this._isPointOnSegment},Xe.prototype.interfaces_=function(){return[]},Xe.prototype.getClass=function(){return Xe},Xe.locatePointInRing=function(){if(arguments[0]instanceof z&&Te(arguments[1],Ie)){for(var a=arguments[1],h=new Xe(arguments[0]),p=new z,_=new z,T=1;T<a.size();T++)if(a.getCoordinate(T,p),a.getCoordinate(T-1,_),h.countSegment(p,_),h.isOnSegment())return h.getLocation();return h.getLocation()}if(arguments[0]instanceof z&&arguments[1]instanceof Array){for(var le=arguments[1],Pe=new Xe(arguments[0]),Ue=1;Ue<le.length;Ue++)if(Pe.countSegment(le[Ue],le[Ue-1]),Pe.isOnSegment())return Pe.getLocation();return Pe.getLocation()}};var Ge=function(){},mt={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Ge.prototype.interfaces_=function(){return[]},Ge.prototype.getClass=function(){return Ge},Ge.orientationIndex=function(s,a,h){return pe.orientationIndex(s,a,h)},Ge.signedArea=function(){if(arguments[0]instanceof Array){var s=arguments[0];if(s.length<3)return 0;for(var a=0,h=s[0].x,p=1;p<s.length-1;p++)a+=(s[p].x-h)*(s[p-1].y-s[p+1].y);return a/2}if(Te(arguments[0],Ie)){var G=arguments[0],le=G.size();if(le<3)return 0;var Pe=new z,Ue=new z,nt=new z;G.getCoordinate(0,Ue),G.getCoordinate(1,nt);var rt=Ue.x;nt.x-=rt;for(var bt=0,Ct=1;Ct<le-1;Ct++)Pe.y=Ue.y,Ue.x=nt.x,Ue.y=nt.y,G.getCoordinate(Ct+1,nt),nt.x-=rt,bt+=Ue.x*(Pe.y-nt.y);return bt/2}},Ge.distanceLineLine=function(s,a,h,p){if(s.equals(a))return Ge.distancePointLine(s,h,p);if(h.equals(p))return Ge.distancePointLine(p,s,a);var _=!1;if(Ae.intersects(s,a,h,p)){var T=(a.x-s.x)*(p.y-h.y)-(a.y-s.y)*(p.x-h.x);if(0===T)_=!0;else{var le=((s.y-h.y)*(a.x-s.x)-(s.x-h.x)*(a.y-s.y))/T,Pe=((s.y-h.y)*(p.x-h.x)-(s.x-h.x)*(p.y-h.y))/T;(Pe<0||Pe>1||le<0||le>1)&&(_=!0)}}else _=!0;return _?ge.min(Ge.distancePointLine(s,h,p),Ge.distancePointLine(a,h,p),Ge.distancePointLine(h,s,a),Ge.distancePointLine(p,s,a)):0},Ge.isPointInRing=function(s,a){return Ge.locatePointInRing(s,a)!==J.EXTERIOR},Ge.computeLength=function(s){var a=s.size();if(a<=1)return 0;var h=0,p=new z;s.getCoordinate(0,p);for(var _=p.x,T=p.y,G=1;G<a;G++){s.getCoordinate(G,p);var le=p.x,Pe=p.y,Ue=le-_,nt=Pe-T;h+=Math.sqrt(Ue*Ue+nt*nt),_=le,T=Pe}return h},Ge.isCCW=function(s){var a=s.length-1;if(a<3)throw new B("Ring has fewer than 4 points, so orientation cannot be determined");for(var h=s[0],p=0,_=1;_<=a;_++){var T=s[_];T.y>h.y&&(h=T,p=_)}var G=p;do{(G-=1)<0&&(G=a)}while(s[G].equals2D(h)&&G!==p);var le=p;do{le=(le+1)%a}while(s[le].equals2D(h)&&le!==p);var Pe=s[G],Ue=s[le];if(Pe.equals2D(h)||Ue.equals2D(h)||Pe.equals2D(Ue))return!1;var nt=Ge.computeOrientation(Pe,h,Ue);return 0===nt?Pe.x>Ue.x:nt>0},Ge.locatePointInRing=function(s,a){return Xe.locatePointInRing(s,a)},Ge.distancePointLinePerpendicular=function(s,a,h){var p=(h.x-a.x)*(h.x-a.x)+(h.y-a.y)*(h.y-a.y);return Math.abs(((a.y-s.y)*(h.x-a.x)-(a.x-s.x)*(h.y-a.y))/p)*Math.sqrt(p)},Ge.computeOrientation=function(s,a,h){return Ge.orientationIndex(s,a,h)},Ge.distancePointLine=function(){if(2===arguments.length){var s=arguments[0],a=arguments[1];if(0===a.length)throw new B("Line array must contain at least one vertex");for(var h=s.distance(a[0]),p=0;p<a.length-1;p++){var _=Ge.distancePointLine(s,a[p],a[p+1]);_<h&&(h=_)}return h}if(3===arguments.length){var T=arguments[0],G=arguments[1],le=arguments[2];if(G.x===le.x&&G.y===le.y)return T.distance(G);var Pe=(le.x-G.x)*(le.x-G.x)+(le.y-G.y)*(le.y-G.y),Ue=((T.x-G.x)*(le.x-G.x)+(T.y-G.y)*(le.y-G.y))/Pe;return Ue<=0?T.distance(G):Ue>=1?T.distance(le):Math.abs(((G.y-T.y)*(le.x-G.x)-(G.x-T.x)*(le.y-G.y))/Pe)*Math.sqrt(Pe)}},Ge.isOnLine=function(s,a){for(var h=new Oe,p=1;p<a.length;p++)if(h.computeIntersection(s,a[p-1],a[p]),h.hasIntersection())return!0;return!1},mt.CLOCKWISE.get=function(){return-1},mt.RIGHT.get=function(){return Ge.CLOCKWISE},mt.COUNTERCLOCKWISE.get=function(){return 1},mt.LEFT.get=function(){return Ge.COUNTERCLOCKWISE},mt.COLLINEAR.get=function(){return 0},mt.STRAIGHT.get=function(){return Ge.COLLINEAR},Object.defineProperties(Ge,mt);var yt=function(){};yt.prototype.filter=function(s){},yt.prototype.interfaces_=function(){return[]},yt.prototype.getClass=function(){return yt};var it=function(){var s=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=s,this._SRID=s.getSRID()},Et={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};it.prototype.isGeometryCollection=function(){return this.getSortIndex()===it.SORTINDEX_GEOMETRYCOLLECTION},it.prototype.getFactory=function(){return this._factory},it.prototype.getGeometryN=function(s){return this},it.prototype.getArea=function(){return 0},it.prototype.isRectangle=function(){return!1},it.prototype.equals=function(){if(arguments[0]instanceof it){var s=arguments[0];return null!==s&&this.equalsTopo(s)}if(arguments[0]instanceof Object){var a=arguments[0];return a instanceof it&&this.equalsExact(a)}},it.prototype.equalsExact=function(s){return this===s||this.equalsExact(s,0)},it.prototype.geometryChanged=function(){this.apply(it.geometryChangedFilter)},it.prototype.geometryChangedAction=function(){this._envelope=null},it.prototype.equalsNorm=function(s){return null!==s&&this.norm().equalsExact(s.norm())},it.prototype.getLength=function(){return 0},it.prototype.getNumGeometries=function(){return 1},it.prototype.compareTo=function(){if(1===arguments.length){var s=arguments[0],a=s;return this.getSortIndex()!==a.getSortIndex()?this.getSortIndex()-a.getSortIndex():this.isEmpty()&&a.isEmpty()?0:this.isEmpty()?-1:a.isEmpty()?1:this.compareToSameClass(s)}if(2===arguments.length){var h=arguments[0],p=arguments[1];return this.getSortIndex()!==h.getSortIndex()?this.getSortIndex()-h.getSortIndex():this.isEmpty()&&h.isEmpty()?0:this.isEmpty()?-1:h.isEmpty()?1:this.compareToSameClass(h,p)}},it.prototype.getUserData=function(){return this._userData},it.prototype.getSRID=function(){return this._SRID},it.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},it.prototype.checkNotGeometryCollection=function(s){if(s.getSortIndex()===it.SORTINDEX_GEOMETRYCOLLECTION)throw new B("This method does not support GeometryCollection arguments")},it.prototype.equal=function(s,a,h){return 0===h?s.equals(a):s.distance(a)<=h},it.prototype.norm=function(){var s=this.copy();return s.normalize(),s},it.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},it.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Ae(this._envelope)},it.prototype.setSRID=function(s){this._SRID=s},it.prototype.setUserData=function(s){this._userData=s},it.prototype.compare=function(s,a){for(var h=s.iterator(),p=a.iterator();h.hasNext()&&p.hasNext();){var _=h.next(),T=p.next(),G=_.compareTo(T);if(0!==G)return G}return h.hasNext()?1:p.hasNext()?-1:0},it.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},it.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===it.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===it.SORTINDEX_MULTIPOINT||this.getSortIndex()===it.SORTINDEX_MULTILINESTRING||this.getSortIndex()===it.SORTINDEX_MULTIPOLYGON},it.prototype.interfaces_=function(){return[X,F,P]},it.prototype.getClass=function(){return it},it.hasNonEmptyElements=function(s){for(var a=0;a<s.length;a++)if(!s[a].isEmpty())return!0;return!1},it.hasNullElements=function(s){for(var a=0;a<s.length;a++)if(null===s[a])return!0;return!1},Et.serialVersionUID.get=function(){return 0x799ea46522854c00},Et.SORTINDEX_POINT.get=function(){return 0},Et.SORTINDEX_MULTIPOINT.get=function(){return 1},Et.SORTINDEX_LINESTRING.get=function(){return 2},Et.SORTINDEX_LINEARRING.get=function(){return 3},Et.SORTINDEX_MULTILINESTRING.get=function(){return 4},Et.SORTINDEX_POLYGON.get=function(){return 5},Et.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Et.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Et.geometryChangedFilter.get=function(){return pn},Object.defineProperties(it,Et);var pn=function(){};pn.interfaces_=function(){return[yt]},pn.filter=function(s){s.geometryChangedAction()};var Ut=function(){};Ut.prototype.filter=function(s){},Ut.prototype.interfaces_=function(){return[]},Ut.prototype.getClass=function(){return Ut};var bn=function(){},Dn={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};bn.prototype.isInBoundary=function(s){},bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn},Dn.Mod2BoundaryNodeRule.get=function(){return xi},Dn.EndPointBoundaryNodeRule.get=function(){return Ki},Dn.MultiValentEndPointBoundaryNodeRule.get=function(){return Sr},Dn.MonoValentEndPointBoundaryNodeRule.get=function(){return bo},Dn.MOD2_BOUNDARY_RULE.get=function(){return new xi},Dn.ENDPOINT_BOUNDARY_RULE.get=function(){return new Ki},Dn.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Sr},Dn.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new bo},Dn.OGC_SFS_BOUNDARY_RULE.get=function(){return bn.MOD2_BOUNDARY_RULE},Object.defineProperties(bn,Dn);var xi=function(){};xi.prototype.isInBoundary=function(s){return s%2==1},xi.prototype.interfaces_=function(){return[bn]},xi.prototype.getClass=function(){return xi};var Ki=function(){};Ki.prototype.isInBoundary=function(s){return s>0},Ki.prototype.interfaces_=function(){return[bn]},Ki.prototype.getClass=function(){return Ki};var Sr=function(){};Sr.prototype.isInBoundary=function(s){return s>1},Sr.prototype.interfaces_=function(){return[bn]},Sr.prototype.getClass=function(){return Sr};var bo=function(){};bo.prototype.isInBoundary=function(s){return 1===s},bo.prototype.interfaces_=function(){return[bn]},bo.prototype.getClass=function(){return bo};var Ni=function(){};Ni.prototype.add=function(){},Ni.prototype.addAll=function(){},Ni.prototype.isEmpty=function(){},Ni.prototype.iterator=function(){},Ni.prototype.size=function(){},Ni.prototype.toArray=function(){},Ni.prototype.remove=function(){},(M.prototype=new Error).name="IndexOutOfBoundsException";var jo=function(){};jo.prototype.hasNext=function(){},jo.prototype.next=function(){},jo.prototype.remove=function(){};var cr=function(s){function a(){s.apply(this,arguments)}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.get=function(){},a.prototype.set=function(){},a.prototype.isEmpty=function(){},a}(Ni);(v.prototype=new Error).name="NoSuchElementException";var pt=function(s){function a(){s.call(this),this.array_=[],arguments[0]instanceof Ni&&this.addAll(arguments[0])}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.ensureCapacity=function(){},a.prototype.interfaces_=function(){return[s,Ni]},a.prototype.add=function(h){return 1===arguments.length?this.array_.push(h):this.array_.splice(arguments[0],arguments[1]),!0},a.prototype.clear=function(){this.array_=[]},a.prototype.addAll=function(h){for(var p=h.iterator();p.hasNext();)this.add(p.next());return!0},a.prototype.set=function(h,p){var _=this.array_[h];return this.array_[h]=p,_},a.prototype.iterator=function(){return new Ma(this)},a.prototype.get=function(h){if(h<0||h>=this.size())throw new M;return this.array_[h]},a.prototype.isEmpty=function(){return 0===this.array_.length},a.prototype.size=function(){return this.array_.length},a.prototype.toArray=function(){for(var h=[],p=0,_=this.array_.length;p<_;p++)h.push(this.array_[p]);return h},a.prototype.remove=function(h){for(var p=!1,_=0,T=this.array_.length;_<T;_++)if(this.array_[_]===h){this.array_.splice(_,1),p=!0;break}return p},a}(cr),Ma=function(s){function a(h){s.call(this),this.arrayList_=h,this.position_=0}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new v;return this.arrayList_.get(this.position_++)},a.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},a.prototype.set=function(h){return this.arrayList_.set(this.position_-1,h)},a.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},a}(jo),Uo=function(s){function a(){if(s.call(this),0!==arguments.length)if(1===arguments.length){var p=arguments[0];this.ensureCapacity(p.length),this.add(p,!0)}else if(2===arguments.length){var _=arguments[0],T=arguments[1];this.ensureCapacity(_.length),this.add(_,T)}}s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a;var h={coordArrayType:{configurable:!0}};return h.coordArrayType.get=function(){return new Array(0).fill(null)},a.prototype.getCoordinate=function(p){return this.get(p)},a.prototype.addAll=function(){if(2===arguments.length){for(var _=arguments[1],T=!1,G=arguments[0].iterator();G.hasNext();)this.add(G.next(),_),T=!0;return T}return s.prototype.addAll.apply(this,arguments)},a.prototype.clone=function(){for(var p=s.prototype.clone.call(this),_=0;_<this.size();_++)p.add(_,this.get(_).copy());return p},a.prototype.toCoordinateArray=function(){return this.toArray(a.coordArrayType)},a.prototype.add=function(){if(1===arguments.length)s.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof z&&"boolean"==typeof arguments[1]){var G=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(G))return null;s.prototype.add.call(this,G)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var Ue=arguments[0],nt=arguments[1];if(arguments[2])for(var rt=0;rt<Ue.length;rt++)this.add(Ue[rt],nt);else for(var bt=Ue.length-1;bt>=0;bt--)this.add(Ue[bt],nt);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof z){var Ct=arguments[0],Ot=arguments[1];if(!arguments[2]){var Wt=this.size();if(Wt>0&&(Ct>0&&this.get(Ct-1).equals2D(Ot)||Ct<Wt&&this.get(Ct).equals2D(Ot)))return null}s.prototype.add.call(this,Ct,Ot)}}else if(4===arguments.length){var at=arguments[0],en=arguments[1],Ai=arguments[2],vr=arguments[3],Cr=1;Ai>vr&&(Cr=-1);for(var dc=Ai;dc!==vr;dc+=Cr)this.add(at[dc],en);return!0}},a.prototype.closeRing=function(){this.size()>0&&this.add(new z(this.get(0)),!1)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},Object.defineProperties(a,h),a}(pt),ln=function(){},qs={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};qs.ForwardComparator.get=function(){return gs},qs.BidirectionalComparator.get=function(){return is},qs.coordArrayType.get=function(){return new Array(0).fill(null)},ln.prototype.interfaces_=function(){return[]},ln.prototype.getClass=function(){return ln},ln.isRing=function(s){return!(s.length<4||!s[0].equals2D(s[s.length-1]))},ln.ptNotInList=function(s,a){for(var h=0;h<s.length;h++){var p=s[h];if(ln.indexOf(p,a)<0)return p}return null},ln.scroll=function(s,a){var h=ln.indexOf(a,s);if(h<0)return null;var p=new Array(s.length).fill(null);ae.arraycopy(s,h,p,0,s.length-h),ae.arraycopy(s,0,p,s.length-h,h),ae.arraycopy(p,0,s,0,s.length)},ln.equals=function(){if(2===arguments.length){var s=arguments[0],a=arguments[1];if(s===a)return!0;if(null===s||null===a||s.length!==a.length)return!1;for(var h=0;h<s.length;h++)if(!s[h].equals(a[h]))return!1;return!0}if(3===arguments.length){var p=arguments[0],_=arguments[1],T=arguments[2];if(p===_)return!0;if(null===p||null===_||p.length!==_.length)return!1;for(var G=0;G<p.length;G++)if(0!==T.compare(p[G],_[G]))return!1;return!0}},ln.intersection=function(s,a){for(var h=new Uo,p=0;p<s.length;p++)a.intersects(s[p])&&h.add(s[p],!0);return h.toCoordinateArray()},ln.hasRepeatedPoints=function(s){for(var a=1;a<s.length;a++)if(s[a-1].equals(s[a]))return!0;return!1},ln.removeRepeatedPoints=function(s){return ln.hasRepeatedPoints(s)?new Uo(s,!1).toCoordinateArray():s},ln.reverse=function(s){for(var a=s.length-1,h=Math.trunc(a/2),p=0;p<=h;p++){var _=s[p];s[p]=s[a-p],s[a-p]=_}},ln.removeNull=function(s){for(var a=0,h=0;h<s.length;h++)null!==s[h]&&a++;var p=new Array(a).fill(null);if(0===a)return p;for(var _=0,T=0;T<s.length;T++)null!==s[T]&&(p[_++]=s[T]);return p},ln.copyDeep=function(){if(1===arguments.length){for(var s=arguments[0],a=new Array(s.length).fill(null),h=0;h<s.length;h++)a[h]=new z(s[h]);return a}if(5===arguments.length)for(var p=arguments[0],_=arguments[1],T=arguments[2],G=arguments[3],le=arguments[4],Pe=0;Pe<le;Pe++)T[G+Pe]=new z(p[_+Pe])},ln.isEqualReversed=function(s,a){for(var h=0;h<s.length;h++)if(0!==s[h].compareTo(a[s.length-h-1]))return!1;return!0},ln.envelope=function(s){for(var a=new Ae,h=0;h<s.length;h++)a.expandToInclude(s[h]);return a},ln.toCoordinateArray=function(s){return s.toArray(ln.coordArrayType)},ln.atLeastNCoordinatesOrNothing=function(s,a){return a.length>=s?a:[]},ln.indexOf=function(s,a){for(var h=0;h<a.length;h++)if(s.equals(a[h]))return h;return-1},ln.increasingDirection=function(s){for(var a=0;a<Math.trunc(s.length/2);a++){var p=s[a].compareTo(s[s.length-1-a]);if(0!==p)return p}return 1},ln.compare=function(s,a){for(var h=0;h<s.length&&h<a.length;){var p=s[h].compareTo(a[h]);if(0!==p)return p;h++}return h<a.length?-1:h<s.length?1:0},ln.minCoordinate=function(s){for(var a=null,h=0;h<s.length;h++)(null===a||a.compareTo(s[h])>0)&&(a=s[h]);return a},ln.extract=function(s,a,h){a=ge.clamp(a,0,s.length);var p=(h=ge.clamp(h,-1,s.length))-a+1;h<0&&(p=0),a>=s.length&&(p=0),h<a&&(p=0);var _=new Array(p).fill(null);if(0===p)return _;for(var T=0,G=a;G<=h;G++)_[T++]=s[G];return _},Object.defineProperties(ln,qs);var gs=function(){};gs.prototype.compare=function(s,a){return ln.compare(s,a)},gs.prototype.interfaces_=function(){return[oe]},gs.prototype.getClass=function(){return gs};var is=function(){};is.prototype.compare=function(s,a){var h=s,p=a;if(h.length<p.length)return-1;if(h.length>p.length)return 1;if(0===h.length)return 0;var _=ln.compare(h,p);return ln.isEqualReversed(h,p)?0:_},is.prototype.OLDcompare=function(s,a){var h=s,p=a;if(h.length<p.length)return-1;if(h.length>p.length)return 1;if(0===h.length)return 0;for(var _=ln.increasingDirection(h),T=ln.increasingDirection(p),G=_>0?0:h.length-1,le=T>0?0:h.length-1,Pe=0;Pe<h.length;Pe++){var Ue=h[G].compareTo(p[le]);if(0!==Ue)return Ue;G+=_,le+=T}return 0},is.prototype.interfaces_=function(){return[oe]},is.prototype.getClass=function(){return is};var Pa=function(){};Pa.prototype.get=function(){},Pa.prototype.put=function(){},Pa.prototype.size=function(){},Pa.prototype.values=function(){},Pa.prototype.entrySet=function(){};var cc=function(s){function a(){s.apply(this,arguments)}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a}(Pa);(w.prototype=new Error).name="OperationNotSupported",(E.prototype=new Ni).contains=function(){};var Lo=function(s){function a(){s.call(this),this.array_=[],arguments[0]instanceof Ni&&this.addAll(arguments[0])}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.contains=function(h){for(var p=0,_=this.array_.length;p<_;p++)if(this.array_[p]===h)return!0;return!1},a.prototype.add=function(h){return!this.contains(h)&&(this.array_.push(h),!0)},a.prototype.addAll=function(h){for(var p=h.iterator();p.hasNext();)this.add(p.next());return!0},a.prototype.remove=function(h){throw new Error},a.prototype.size=function(){return this.array_.length},a.prototype.isEmpty=function(){return 0===this.array_.length},a.prototype.toArray=function(){for(var h=[],p=0,_=this.array_.length;p<_;p++)h.push(this.array_[p]);return h},a.prototype.iterator=function(){return new yh(this)},a}(E),yh=function(s){function a(h){s.call(this),this.hashSet_=h,this.position_=0}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new v;return this.hashSet_.array_[this.position_++]},a.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},a.prototype.remove=function(){throw new w},a}(jo),Gr=0;($.prototype=new cc).get=function(s){for(var a=this.root_;null!==a;){var h=s.compareTo(a.key);if(h<0)a=a.left;else{if(!(h>0))return a.value;a=a.right}}return null},$.prototype.put=function(s,a){if(null===this.root_)return this.root_={key:s,value:a,left:null,right:null,parent:null,color:Gr,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var h,p,_=this.root_;do{if(h=_,(p=s.compareTo(_.key))<0)_=_.left;else{if(!(p>0)){var T=_.value;return _.value=a,T}_=_.right}}while(null!==_);var G={key:s,left:null,right:null,value:a,parent:h,color:Gr,getValue:function(){return this.value},getKey:function(){return this.key}};return p<0?h.left=G:h.right=G,this.fixAfterInsertion(G),this.size_++,null},$.prototype.fixAfterInsertion=function(s){for(s.color=1;null!=s&&s!==this.root_&&1===s.parent.color;)if(R(s)===H(R(R(s)))){var a=Y(R(R(s)));1===S(a)?(C(R(s),Gr),C(a,Gr),C(R(R(s)),1),s=R(R(s))):(s===Y(R(s))&&(s=R(s),this.rotateLeft(s)),C(R(s),Gr),C(R(R(s)),1),this.rotateRight(R(R(s))))}else{var h=H(R(R(s)));1===S(h)?(C(R(s),Gr),C(h,Gr),C(R(R(s)),1),s=R(R(s))):(s===H(R(s))&&(s=R(s),this.rotateRight(s)),C(R(s),Gr),C(R(R(s)),1),this.rotateLeft(R(R(s))))}this.root_.color=Gr},$.prototype.values=function(){var s=new pt,a=this.getFirstEntry();if(null!==a)for(s.add(a.value);null!==(a=$.successor(a));)s.add(a.value);return s},$.prototype.entrySet=function(){var s=new Lo,a=this.getFirstEntry();if(null!==a)for(s.add(a);null!==(a=$.successor(a));)s.add(a);return s},$.prototype.rotateLeft=function(s){if(null!=s){var a=s.right;s.right=a.left,null!=a.left&&(a.left.parent=s),a.parent=s.parent,null===s.parent?this.root_=a:s.parent.left===s?s.parent.left=a:s.parent.right=a,a.left=s,s.parent=a}},$.prototype.rotateRight=function(s){if(null!=s){var a=s.left;s.left=a.right,null!=a.right&&(a.right.parent=s),a.parent=s.parent,null===s.parent?this.root_=a:s.parent.right===s?s.parent.right=a:s.parent.left=a,a.right=s,s.parent=a}},$.prototype.getFirstEntry=function(){var s=this.root_;if(null!=s)for(;null!=s.left;)s=s.left;return s},$.successor=function(s){if(null===s)return null;if(null!==s.right){for(var a=s.right;null!==a.left;)a=a.left;return a}for(var h=s.parent,p=s;null!==h&&p===h.right;)p=h,h=h.parent;return h},$.prototype.size=function(){return this.size_};var $t=function(){};$t.prototype.interfaces_=function(){return[]},$t.prototype.getClass=function(){return $t},te.prototype=new E,(q.prototype=new te).contains=function(s){for(var a=0,h=this.array_.length;a<h;a++)if(0===this.array_[a].compareTo(s))return!0;return!1},q.prototype.add=function(s){if(this.contains(s))return!1;for(var a=0,h=this.array_.length;a<h;a++)if(1===this.array_[a].compareTo(s))return this.array_.splice(a,0,s),!0;return this.array_.push(s),!0},q.prototype.addAll=function(s){for(var a=s.iterator();a.hasNext();)this.add(a.next());return!0},q.prototype.remove=function(s){throw new w},q.prototype.size=function(){return this.array_.length},q.prototype.isEmpty=function(){return 0===this.array_.length},q.prototype.toArray=function(){for(var s=[],a=0,h=this.array_.length;a<h;a++)s.push(this.array_[a]);return s},q.prototype.iterator=function(){return new Nu(this)};var Nu=function(s){this.treeSet_=s,this.position_=0};Nu.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new v;return this.treeSet_.array_[this.position_++]},Nu.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Nu.prototype.remove=function(){throw new w};var $s=function(){};$s.sort=function(){var s,a,h,_=arguments[0];if(1===arguments.length)_.sort(function(G,le){return G.compareTo(le)});else if(2===arguments.length)h=arguments[1],_.sort(function(G,le){return h.compare(G,le)});else if(3===arguments.length){(a=_.slice(arguments[1],arguments[2])).sort();var T=_.slice(0,arguments[1]).concat(a,_.slice(arguments[2],_.length));for(_.splice(0,_.length),s=0;s<T.length;s++)_.push(T[s])}else if(4===arguments.length)for(a=_.slice(arguments[1],arguments[2]),h=arguments[3],a.sort(function(G,le){return h.compare(G,le)}),T=_.slice(0,arguments[1]).concat(a,_.slice(arguments[2],_.length)),_.splice(0,_.length),s=0;s<T.length;s++)_.push(T[s])},$s.asList=function(s){for(var a=new pt,h=0,p=s.length;h<p;h++)a.add(s[h]);return a};var In=function(){},Go={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Go.P.get=function(){return 0},Go.L.get=function(){return 1},Go.A.get=function(){return 2},Go.FALSE.get=function(){return-1},Go.TRUE.get=function(){return-2},Go.DONTCARE.get=function(){return-3},Go.SYM_FALSE.get=function(){return"F"},Go.SYM_TRUE.get=function(){return"T"},Go.SYM_DONTCARE.get=function(){return"*"},Go.SYM_P.get=function(){return"0"},Go.SYM_L.get=function(){return"1"},Go.SYM_A.get=function(){return"2"},In.prototype.interfaces_=function(){return[]},In.prototype.getClass=function(){return In},In.toDimensionSymbol=function(s){switch(s){case In.FALSE:return In.SYM_FALSE;case In.TRUE:return In.SYM_TRUE;case In.DONTCARE:return In.SYM_DONTCARE;case In.P:return In.SYM_P;case In.L:return In.SYM_L;case In.A:return In.SYM_A}throw new B("Unknown dimension value: "+s)},In.toDimensionValue=function(s){switch(ce.toUpperCase(s)){case In.SYM_FALSE:return In.FALSE;case In.SYM_TRUE:return In.TRUE;case In.SYM_DONTCARE:return In.DONTCARE;case In.SYM_P:return In.P;case In.SYM_L:return In.L;case In.SYM_A:return In.A}throw new B("Unknown dimension symbol: "+s)},Object.defineProperties(In,Go);var Dr=function(){};Dr.prototype.filter=function(s){},Dr.prototype.interfaces_=function(){return[]},Dr.prototype.getClass=function(){return Dr};var qo=function(){};qo.prototype.filter=function(s,a){},qo.prototype.isDone=function(){},qo.prototype.isGeometryChanged=function(){},qo.prototype.interfaces_=function(){return[]},qo.prototype.getClass=function(){return qo};var Gi=function(s){function a(p,_){if(s.call(this,_),this._geometries=p||[],s.hasNullElements(this._geometries))throw new B("geometries must not contain null elements")}s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a;var h={serialVersionUID:{configurable:!0}};return a.prototype.computeEnvelopeInternal=function(){for(var p=new Ae,_=0;_<this._geometries.length;_++)p.expandToInclude(this._geometries[_].getEnvelopeInternal());return p},a.prototype.getGeometryN=function(p){return this._geometries[p]},a.prototype.getSortIndex=function(){return s.SORTINDEX_GEOMETRYCOLLECTION},a.prototype.getCoordinates=function(){for(var p=new Array(this.getNumPoints()).fill(null),_=-1,T=0;T<this._geometries.length;T++)for(var G=this._geometries[T].getCoordinates(),le=0;le<G.length;le++)p[++_]=G[le];return p},a.prototype.getArea=function(){for(var p=0,_=0;_<this._geometries.length;_++)p+=this._geometries[_].getArea();return p},a.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],_=arguments[1];if(!this.isEquivalentClass(p))return!1;var T=p;if(this._geometries.length!==T._geometries.length)return!1;for(var G=0;G<this._geometries.length;G++)if(!this._geometries[G].equalsExact(T._geometries[G],_))return!1;return!0}return s.prototype.equalsExact.apply(this,arguments)},a.prototype.normalize=function(){for(var p=0;p<this._geometries.length;p++)this._geometries[p].normalize();$s.sort(this._geometries)},a.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},a.prototype.getBoundaryDimension=function(){for(var p=In.FALSE,_=0;_<this._geometries.length;_++)p=Math.max(p,this._geometries[_].getBoundaryDimension());return p},a.prototype.getDimension=function(){for(var p=In.FALSE,_=0;_<this._geometries.length;_++)p=Math.max(p,this._geometries[_].getDimension());return p},a.prototype.getLength=function(){for(var p=0,_=0;_<this._geometries.length;_++)p+=this._geometries[_].getLength();return p},a.prototype.getNumPoints=function(){for(var p=0,_=0;_<this._geometries.length;_++)p+=this._geometries[_].getNumPoints();return p},a.prototype.getNumGeometries=function(){return this._geometries.length},a.prototype.reverse=function(){for(var _=new Array(this._geometries.length).fill(null),T=0;T<this._geometries.length;T++)_[T]=this._geometries[T].reverse();return this.getFactory().createGeometryCollection(_)},a.prototype.compareToSameClass=function(){if(1===arguments.length){var p=arguments[0],_=new q($s.asList(this._geometries)),T=new q($s.asList(p._geometries));return this.compare(_,T)}if(2===arguments.length){for(var le=arguments[1],Pe=arguments[0],Ue=this.getNumGeometries(),nt=Pe.getNumGeometries(),rt=0;rt<Ue&&rt<nt;){var bt=this.getGeometryN(rt),Ct=Pe.getGeometryN(rt),Ot=bt.compareToSameClass(Ct,le);if(0!==Ot)return Ot;rt++}return rt<Ue?1:rt<nt?-1:0}},a.prototype.apply=function(){if(Te(arguments[0],Ut))for(var p=arguments[0],_=0;_<this._geometries.length;_++)this._geometries[_].apply(p);else if(Te(arguments[0],qo)){var T=arguments[0];if(0===this._geometries.length)return null;for(var G=0;G<this._geometries.length&&(this._geometries[G].apply(T),!T.isDone());G++);T.isGeometryChanged()&&this.geometryChanged()}else if(Te(arguments[0],Dr)){var le=arguments[0];le.filter(this);for(var Pe=0;Pe<this._geometries.length;Pe++)this._geometries[Pe].apply(le)}else if(Te(arguments[0],yt)){var Ue=arguments[0];Ue.filter(this);for(var nt=0;nt<this._geometries.length;nt++)this._geometries[nt].apply(Ue)}},a.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),be.shouldNeverReachHere(),null},a.prototype.clone=function(){var p=s.prototype.clone.call(this);p._geometries=new Array(this._geometries.length).fill(null);for(var _=0;_<this._geometries.length;_++)p._geometries[_]=this._geometries[_].clone();return p},a.prototype.getGeometryType=function(){return"GeometryCollection"},a.prototype.copy=function(){for(var p=new Array(this._geometries.length).fill(null),_=0;_<p.length;_++)p[_]=this._geometries[_].copy();return new a(p,this._factory)},a.prototype.isEmpty=function(){for(var p=0;p<this._geometries.length;p++)if(!this._geometries[p].isEmpty())return!1;return!0},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},h.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(a,h),a}(it),Ws=function(s){function a(){s.apply(this,arguments)}s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a;var h={serialVersionUID:{configurable:!0}};return a.prototype.getSortIndex=function(){return it.SORTINDEX_MULTILINESTRING},a.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],_=arguments[1];return!!this.isEquivalentClass(p)&&s.prototype.equalsExact.call(this,p,_)}return s.prototype.equalsExact.apply(this,arguments)},a.prototype.getBoundaryDimension=function(){return this.isClosed()?In.FALSE:0},a.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var p=0;p<this._geometries.length;p++)if(!this._geometries[p].isClosed())return!1;return!0},a.prototype.getDimension=function(){return 1},a.prototype.reverse=function(){for(var p=this._geometries.length,_=new Array(p).fill(null),T=0;T<this._geometries.length;T++)_[p-1-T]=this._geometries[T].reverse();return this.getFactory().createMultiLineString(_)},a.prototype.getBoundary=function(){return new ao(this).getBoundary()},a.prototype.getGeometryType=function(){return"MultiLineString"},a.prototype.copy=function(){for(var p=new Array(this._geometries.length).fill(null),_=0;_<p.length;_++)p[_]=this._geometries[_].copy();return new a(p,this._factory)},a.prototype.interfaces_=function(){return[$t]},a.prototype.getClass=function(){return a},h.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(a,h),a}(Gi),ao=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var s=arguments[0],a=bn.MOD2_BOUNDARY_RULE;this._geom=s,this._geomFact=s.getFactory(),this._bnRule=a}else if(2===arguments.length){var h=arguments[0],p=arguments[1];this._geom=h,this._geomFact=h.getFactory(),this._bnRule=p}};ao.prototype.boundaryMultiLineString=function(s){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var a=this.computeBoundaryCoordinates(s);return 1===a.length?this._geomFact.createPoint(a[0]):this._geomFact.createMultiPointFromCoords(a)},ao.prototype.getBoundary=function(){return this._geom instanceof qi?this.boundaryLineString(this._geom):this._geom instanceof Ws?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},ao.prototype.boundaryLineString=function(s){return this._geom.isEmpty()?this.getEmptyMultiPoint():s.isClosed()?this._bnRule.isInBoundary(2)?s.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([s.getStartPoint(),s.getEndPoint()])},ao.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},ao.prototype.computeBoundaryCoordinates=function(s){var a=new pt;this._endpointMap=new $;for(var h=0;h<s.getNumGeometries();h++){var p=s.getGeometryN(h);0!==p.getNumPoints()&&(this.addEndpoint(p.getCoordinateN(0)),this.addEndpoint(p.getCoordinateN(p.getNumPoints()-1)))}for(var _=this._endpointMap.entrySet().iterator();_.hasNext();){var T=_.next(),G=T.getValue().count;this._bnRule.isInBoundary(G)&&a.add(T.getKey())}return ln.toCoordinateArray(a)},ao.prototype.addEndpoint=function(s){var a=this._endpointMap.get(s);null===a&&(a=new Dl,this._endpointMap.put(s,a)),a.count++},ao.prototype.interfaces_=function(){return[]},ao.prototype.getClass=function(){return ao},ao.getBoundary=function(){return 1===arguments.length?new ao(arguments[0]).getBoundary():2===arguments.length?new ao(arguments[0],arguments[1]).getBoundary():void 0};var Dl=function(){this.count=null};Dl.prototype.interfaces_=function(){return[]},Dl.prototype.getClass=function(){return Dl};var $o=function(){},ul={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};$o.prototype.interfaces_=function(){return[]},$o.prototype.getClass=function(){return $o},$o.chars=function(s,a){for(var h=new Array(a).fill(null),p=0;p<a;p++)h[p]=s;return String(h)},$o.getStackTrace=function(){if(1===arguments.length){var s=arguments[0],a=new function(){},h=new function(){}(a);return s.printStackTrace(h),a.toString()}if(2===arguments.length){for(var _=arguments[1],T="",G=new function(){}(new function(){}($o.getStackTrace(arguments[0]))),le=0;le<_;le++)try{T+=G.readLine()+$o.NEWLINE}catch(Pe){if(!(Pe instanceof ne))throw Pe;be.shouldNeverReachHere()}return T}},$o.split=function(s,a){for(var h=a.length,p=new pt,_=""+s,T=_.indexOf(a);T>=0;){var G=_.substring(0,T);p.add(G),T=(_=_.substring(T+h)).indexOf(a)}_.length>0&&p.add(_);for(var le=new Array(p.size()).fill(null),Pe=0;Pe<le.length;Pe++)le[Pe]=p.get(Pe);return le},$o.toString=function(){if(1===arguments.length)return $o.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},$o.spaces=function(s){return $o.chars(" ",s)},ul.NEWLINE.get=function(){return ae.getProperty("line.separator")},ul.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties($o,ul);var Hi=function(){};Hi.prototype.interfaces_=function(){return[]},Hi.prototype.getClass=function(){return Hi},Hi.copyCoord=function(s,a,h,p){for(var _=Math.min(s.getDimension(),h.getDimension()),T=0;T<_;T++)h.setOrdinate(p,T,s.getOrdinate(a,T))},Hi.isRing=function(s){var a=s.size();return 0===a||!(a<=3)&&s.getOrdinate(0,Ie.X)===s.getOrdinate(a-1,Ie.X)&&s.getOrdinate(0,Ie.Y)===s.getOrdinate(a-1,Ie.Y)},Hi.isEqual=function(s,a){var h=s.size();if(h!==a.size())return!1;for(var p=Math.min(s.getDimension(),a.getDimension()),_=0;_<h;_++)for(var T=0;T<p;T++){var G=s.getOrdinate(_,T),le=a.getOrdinate(_,T);if(!(s.getOrdinate(_,T)===a.getOrdinate(_,T)||I.isNaN(G)&&I.isNaN(le)))return!1}return!0},Hi.extend=function(s,a,h){var p=s.create(h,a.getDimension()),_=a.size();if(Hi.copy(a,0,p,0,_),_>0)for(var T=_;T<h;T++)Hi.copy(a,_-1,p,T,1);return p},Hi.reverse=function(s){for(var a=s.size()-1,h=Math.trunc(a/2),p=0;p<=h;p++)Hi.swap(s,p,a-p)},Hi.swap=function(s,a,h){if(a===h)return null;for(var p=0;p<s.getDimension();p++){var _=s.getOrdinate(a,p);s.setOrdinate(a,p,s.getOrdinate(h,p)),s.setOrdinate(h,p,_)}},Hi.copy=function(s,a,h,p,_){for(var T=0;T<_;T++)Hi.copyCoord(s,a+T,h,p+T)},Hi.toString=function(){if(1===arguments.length){var s=arguments[0],a=s.size();if(0===a)return"()";var h=s.getDimension(),p=new ve;p.append("(");for(var _=0;_<a;_++){_>0&&p.append(" ");for(var T=0;T<h;T++)T>0&&p.append(","),p.append($o.toString(s.getOrdinate(_,T)))}return p.append(")"),p.toString()}},Hi.ensureValidRing=function(s,a){var h=a.size();return 0===h?a:h<=3?Hi.createClosedRing(s,a,4):a.getOrdinate(0,Ie.X)===a.getOrdinate(h-1,Ie.X)&&a.getOrdinate(0,Ie.Y)===a.getOrdinate(h-1,Ie.Y)?a:Hi.createClosedRing(s,a,h+1)},Hi.createClosedRing=function(s,a,h){var p=s.create(h,a.getDimension()),_=a.size();Hi.copy(a,0,p,0,_);for(var T=_;T<h;T++)Hi.copy(a,0,p,T,1);return p};var qi=function(s){function a(p,_){s.call(this,_),this._points=null,this.init(p)}s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a;var h={serialVersionUID:{configurable:!0}};return a.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Ae:this._points.expandEnvelope(new Ae)},a.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},a.prototype.getSortIndex=function(){return s.SORTINDEX_LINESTRING},a.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},a.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],_=arguments[1];if(!this.isEquivalentClass(p))return!1;var T=p;if(this._points.size()!==T._points.size())return!1;for(var G=0;G<this._points.size();G++)if(!this.equal(this._points.getCoordinate(G),T._points.getCoordinate(G),_))return!1;return!0}return s.prototype.equalsExact.apply(this,arguments)},a.prototype.normalize=function(){for(var p=0;p<Math.trunc(this._points.size()/2);p++){var _=this._points.size()-1-p;if(!this._points.getCoordinate(p).equals(this._points.getCoordinate(_)))return this._points.getCoordinate(p).compareTo(this._points.getCoordinate(_))>0&&Hi.reverse(this._points),null}},a.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},a.prototype.getBoundaryDimension=function(){return this.isClosed()?In.FALSE:0},a.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},a.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},a.prototype.getDimension=function(){return 1},a.prototype.getLength=function(){return Ge.computeLength(this._points)},a.prototype.getNumPoints=function(){return this._points.size()},a.prototype.reverse=function(){var p=this._points.copy();return Hi.reverse(p),this.getFactory().createLineString(p)},a.prototype.compareToSameClass=function(){if(1===arguments.length){for(var p=arguments[0],_=0,T=0;_<this._points.size()&&T<p._points.size();){var G=this._points.getCoordinate(_).compareTo(p._points.getCoordinate(T));if(0!==G)return G;_++,T++}return _<this._points.size()?1:T<p._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},a.prototype.apply=function(){if(Te(arguments[0],Ut))for(var p=arguments[0],_=0;_<this._points.size();_++)p.filter(this._points.getCoordinate(_));else if(Te(arguments[0],qo)){var T=arguments[0];if(0===this._points.size())return null;for(var G=0;G<this._points.size()&&(T.filter(this._points,G),!T.isDone());G++);T.isGeometryChanged()&&this.geometryChanged()}else(Te(arguments[0],Dr)||Te(arguments[0],yt))&&arguments[0].filter(this)},a.prototype.getBoundary=function(){return new ao(this).getBoundary()},a.prototype.isEquivalentClass=function(p){return p instanceof a},a.prototype.clone=function(){var p=s.prototype.clone.call(this);return p._points=this._points.clone(),p},a.prototype.getCoordinateN=function(p){return this._points.getCoordinate(p)},a.prototype.getGeometryType=function(){return"LineString"},a.prototype.copy=function(){return new a(this._points.copy(),this._factory)},a.prototype.getCoordinateSequence=function(){return this._points},a.prototype.isEmpty=function(){return 0===this._points.size()},a.prototype.init=function(p){if(null===p&&(p=this.getFactory().getCoordinateSequenceFactory().create([])),1===p.size())throw new B("Invalid number of points in LineString (found "+p.size()+" - must be 0 or >= 2)");this._points=p},a.prototype.isCoordinate=function(p){for(var _=0;_<this._points.size();_++)if(this._points.getCoordinate(_).equals(p))return!0;return!1},a.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},a.prototype.getPointN=function(p){return this.getFactory().createPoint(this._points.getCoordinate(p))},a.prototype.interfaces_=function(){return[$t]},a.prototype.getClass=function(){return a},h.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(a,h),a}(it),ms=function(){};ms.prototype.interfaces_=function(){return[]},ms.prototype.getClass=function(){return ms};var wo=function(s){function a(p,_){s.call(this,_),this._coordinates=p||null,this.init(this._coordinates)}s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a;var h={serialVersionUID:{configurable:!0}};return a.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Ae;var p=new Ae;return p.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),p},a.prototype.getSortIndex=function(){return s.SORTINDEX_POINT},a.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},a.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],_=arguments[1];return!!this.isEquivalentClass(p)&&(!(!this.isEmpty()||!p.isEmpty())||this.isEmpty()===p.isEmpty()&&this.equal(p.getCoordinate(),this.getCoordinate(),_))}return s.prototype.equalsExact.apply(this,arguments)},a.prototype.normalize=function(){},a.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},a.prototype.getBoundaryDimension=function(){return In.FALSE},a.prototype.getDimension=function(){return 0},a.prototype.getNumPoints=function(){return this.isEmpty()?0:1},a.prototype.reverse=function(){return this.copy()},a.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},a.prototype.compareToSameClass=function(){if(1===arguments.length){var p=arguments[0];return this.getCoordinate().compareTo(p.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},a.prototype.apply=function(){if(Te(arguments[0],Ut)){var p=arguments[0];if(this.isEmpty())return null;p.filter(this.getCoordinate())}else if(Te(arguments[0],qo)){var _=arguments[0];if(this.isEmpty())return null;_.filter(this._coordinates,0),_.isGeometryChanged()&&this.geometryChanged()}else(Te(arguments[0],Dr)||Te(arguments[0],yt))&&arguments[0].filter(this)},a.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},a.prototype.clone=function(){var p=s.prototype.clone.call(this);return p._coordinates=this._coordinates.clone(),p},a.prototype.getGeometryType=function(){return"Point"},a.prototype.copy=function(){return new a(this._coordinates.copy(),this._factory)},a.prototype.getCoordinateSequence=function(){return this._coordinates},a.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},a.prototype.isEmpty=function(){return 0===this._coordinates.size()},a.prototype.init=function(p){null===p&&(p=this.getFactory().getCoordinateSequenceFactory().create([])),be.isTrue(p.size()<=1),this._coordinates=p},a.prototype.isSimple=function(){return!0},a.prototype.interfaces_=function(){return[ms]},a.prototype.getClass=function(){return a},h.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(a,h),a}(it),Zs=function(){};Zs.prototype.interfaces_=function(){return[]},Zs.prototype.getClass=function(){return Zs};var hr=function(s){function a(p,_,T){if(s.call(this,T),this._shell=null,this._holes=null,null===p&&(p=this.getFactory().createLinearRing()),null===_&&(_=[]),s.hasNullElements(_))throw new B("holes must not contain null elements");if(p.isEmpty()&&s.hasNonEmptyElements(_))throw new B("shell is empty but holes are not");this._shell=p,this._holes=_}s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a;var h={serialVersionUID:{configurable:!0}};return a.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},a.prototype.getSortIndex=function(){return s.SORTINDEX_POLYGON},a.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var p=new Array(this.getNumPoints()).fill(null),_=-1,T=this._shell.getCoordinates(),G=0;G<T.length;G++)p[++_]=T[G];for(var le=0;le<this._holes.length;le++)for(var Pe=this._holes[le].getCoordinates(),Ue=0;Ue<Pe.length;Ue++)p[++_]=Pe[Ue];return p},a.prototype.getArea=function(){var p=0;p+=Math.abs(Ge.signedArea(this._shell.getCoordinateSequence()));for(var _=0;_<this._holes.length;_++)p-=Math.abs(Ge.signedArea(this._holes[_].getCoordinateSequence()));return p},a.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var p=this._shell.getCoordinateSequence(),_=this.getEnvelopeInternal(),T=0;T<5;T++){var G=p.getX(T);if(G!==_.getMinX()&&G!==_.getMaxX())return!1;var le=p.getY(T);if(le!==_.getMinY()&&le!==_.getMaxY())return!1}for(var Pe=p.getX(0),Ue=p.getY(0),nt=1;nt<=4;nt++){var rt=p.getX(nt),bt=p.getY(nt);if(rt!==Pe==(bt!==Ue))return!1;Pe=rt,Ue=bt}return!0},a.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],_=arguments[1];if(!this.isEquivalentClass(p))return!1;var T=p;if(!this._shell.equalsExact(T._shell,_)||this._holes.length!==T._holes.length)return!1;for(var Pe=0;Pe<this._holes.length;Pe++)if(!this._holes[Pe].equalsExact(T._holes[Pe],_))return!1;return!0}return s.prototype.equalsExact.apply(this,arguments)},a.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var p=0;p<this._holes.length;p++)this.normalize(this._holes[p],!1);$s.sort(this._holes)}else if(2===arguments.length){var _=arguments[0],T=arguments[1];if(_.isEmpty())return null;var G=new Array(_.getCoordinates().length-1).fill(null);ae.arraycopy(_.getCoordinates(),0,G,0,G.length);var le=ln.minCoordinate(_.getCoordinates());ln.scroll(G,le),ae.arraycopy(G,0,_.getCoordinates(),0,G.length),_.getCoordinates()[G.length]=G[0],Ge.isCCW(_.getCoordinates())===T&&ln.reverse(_.getCoordinates())}},a.prototype.getCoordinate=function(){return this._shell.getCoordinate()},a.prototype.getNumInteriorRing=function(){return this._holes.length},a.prototype.getBoundaryDimension=function(){return 1},a.prototype.getDimension=function(){return 2},a.prototype.getLength=function(){var p=0;p+=this._shell.getLength();for(var _=0;_<this._holes.length;_++)p+=this._holes[_].getLength();return p},a.prototype.getNumPoints=function(){for(var p=this._shell.getNumPoints(),_=0;_<this._holes.length;_++)p+=this._holes[_].getNumPoints();return p},a.prototype.reverse=function(){var p=this.copy();p._shell=this._shell.copy().reverse(),p._holes=new Array(this._holes.length).fill(null);for(var _=0;_<this._holes.length;_++)p._holes[_]=this._holes[_].copy().reverse();return p},a.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},a.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var le=arguments[1],Pe=arguments[0],rt=this._shell.compareToSameClass(Pe._shell,le);if(0!==rt)return rt;for(var bt=this.getNumInteriorRing(),Ct=Pe.getNumInteriorRing(),Ot=0;Ot<bt&&Ot<Ct;){var Wt=this.getInteriorRingN(Ot),at=Pe.getInteriorRingN(Ot),en=Wt.compareToSameClass(at,le);if(0!==en)return en;Ot++}return Ot<bt?1:Ot<Ct?-1:0}},a.prototype.apply=function(p){if(Te(p,Ut)){this._shell.apply(p);for(var _=0;_<this._holes.length;_++)this._holes[_].apply(p)}else if(Te(p,qo)){if(this._shell.apply(p),!p.isDone())for(var T=0;T<this._holes.length&&(this._holes[T].apply(p),!p.isDone());T++);p.isGeometryChanged()&&this.geometryChanged()}else if(Te(p,Dr))p.filter(this);else if(Te(p,yt)){p.filter(this),this._shell.apply(p);for(var G=0;G<this._holes.length;G++)this._holes[G].apply(p)}},a.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var p=new Array(this._holes.length+1).fill(null);p[0]=this._shell;for(var _=0;_<this._holes.length;_++)p[_+1]=this._holes[_];return p.length<=1?this.getFactory().createLinearRing(p[0].getCoordinateSequence()):this.getFactory().createMultiLineString(p)},a.prototype.clone=function(){var p=s.prototype.clone.call(this);p._shell=this._shell.clone(),p._holes=new Array(this._holes.length).fill(null);for(var _=0;_<this._holes.length;_++)p._holes[_]=this._holes[_].clone();return p},a.prototype.getGeometryType=function(){return"Polygon"},a.prototype.copy=function(){for(var p=this._shell.copy(),_=new Array(this._holes.length).fill(null),T=0;T<_.length;T++)_[T]=this._holes[T].copy();return new a(p,_,this._factory)},a.prototype.getExteriorRing=function(){return this._shell},a.prototype.isEmpty=function(){return this._shell.isEmpty()},a.prototype.getInteriorRingN=function(p){return this._holes[p]},a.prototype.interfaces_=function(){return[Zs]},a.prototype.getClass=function(){return a},h.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(a,h),a}(it),cu=function(s){function a(){s.apply(this,arguments)}s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a;var h={serialVersionUID:{configurable:!0}};return a.prototype.getSortIndex=function(){return it.SORTINDEX_MULTIPOINT},a.prototype.isValid=function(){return!0},a.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],_=arguments[1];return!!this.isEquivalentClass(p)&&s.prototype.equalsExact.call(this,p,_)}return s.prototype.equalsExact.apply(this,arguments)},a.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():s.prototype.getCoordinate.apply(this,arguments)},a.prototype.getBoundaryDimension=function(){return In.FALSE},a.prototype.getDimension=function(){return 0},a.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},a.prototype.getGeometryType=function(){return"MultiPoint"},a.prototype.copy=function(){for(var p=new Array(this._geometries.length).fill(null),_=0;_<p.length;_++)p[_]=this._geometries[_].copy();return new a(p,this._factory)},a.prototype.interfaces_=function(){return[ms]},a.prototype.getClass=function(){return a},h.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(a,h),a}(Gi),Ps=function(s){function a(p,_){p instanceof z&&_ instanceof gt&&(p=_.getCoordinateSequenceFactory().create(p)),s.call(this,p,_),this.validateConstruction()}s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a;var h={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return a.prototype.getSortIndex=function(){return it.SORTINDEX_LINEARRING},a.prototype.getBoundaryDimension=function(){return In.FALSE},a.prototype.isClosed=function(){return!!this.isEmpty()||s.prototype.isClosed.call(this)},a.prototype.reverse=function(){var p=this._points.copy();return Hi.reverse(p),this.getFactory().createLinearRing(p)},a.prototype.validateConstruction=function(){if(!this.isEmpty()&&!s.prototype.isClosed.call(this))throw new B("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<a.MINIMUM_VALID_SIZE)throw new B("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},a.prototype.getGeometryType=function(){return"LinearRing"},a.prototype.copy=function(){return new a(this._points.copy(),this._factory)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},h.MINIMUM_VALID_SIZE.get=function(){return 4},h.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(a,h),a}(qi),rs=function(s){function a(){s.apply(this,arguments)}s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a;var h={serialVersionUID:{configurable:!0}};return a.prototype.getSortIndex=function(){return it.SORTINDEX_MULTIPOLYGON},a.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],_=arguments[1];return!!this.isEquivalentClass(p)&&s.prototype.equalsExact.call(this,p,_)}return s.prototype.equalsExact.apply(this,arguments)},a.prototype.getBoundaryDimension=function(){return 1},a.prototype.getDimension=function(){return 2},a.prototype.reverse=function(){for(var _=new Array(this._geometries.length).fill(null),T=0;T<this._geometries.length;T++)_[T]=this._geometries[T].reverse();return this.getFactory().createMultiPolygon(_)},a.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var p=new pt,_=0;_<this._geometries.length;_++)for(var T=this._geometries[_].getBoundary(),G=0;G<T.getNumGeometries();G++)p.add(T.getGeometryN(G));var le=new Array(p.size()).fill(null);return this.getFactory().createMultiLineString(p.toArray(le))},a.prototype.getGeometryType=function(){return"MultiPolygon"},a.prototype.copy=function(){for(var p=new Array(this._geometries.length).fill(null),_=0;_<p.length;_++)p[_]=this._geometries[_].copy();return new a(p,this._factory)},a.prototype.interfaces_=function(){return[Zs]},a.prototype.getClass=function(){return a},h.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(a,h),a}(Gi),Qr=function(s){this._factory=s||null,this._isUserDataCopied=!1},hu={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Qr.prototype.setCopyUserData=function(s){this._isUserDataCopied=s},Qr.prototype.edit=function(s,a){if(null===s)return null;var h=this.editInternal(s,a);return this._isUserDataCopied&&h.setUserData(s.getUserData()),h},Qr.prototype.editInternal=function(s,a){return null===this._factory&&(this._factory=s.getFactory()),s instanceof Gi?this.editGeometryCollection(s,a):s instanceof hr?this.editPolygon(s,a):s instanceof wo||s instanceof qi?a.edit(s,this._factory):(be.shouldNeverReachHere("Unsupported Geometry class: "+s.getClass().getName()),null)},Qr.prototype.editGeometryCollection=function(s,a){for(var h=a.edit(s,this._factory),p=new pt,_=0;_<h.getNumGeometries();_++){var T=this.edit(h.getGeometryN(_),a);null===T||T.isEmpty()||p.add(T)}return h.getClass()===cu?this._factory.createMultiPoint(p.toArray([])):h.getClass()===Ws?this._factory.createMultiLineString(p.toArray([])):h.getClass()===rs?this._factory.createMultiPolygon(p.toArray([])):this._factory.createGeometryCollection(p.toArray([]))},Qr.prototype.editPolygon=function(s,a){var h=a.edit(s,this._factory);if(null===h&&(h=this._factory.createPolygon(null)),h.isEmpty())return h;var p=this.edit(h.getExteriorRing(),a);if(null===p||p.isEmpty())return this._factory.createPolygon();for(var _=new pt,T=0;T<h.getNumInteriorRing();T++){var G=this.edit(h.getInteriorRingN(T),a);null===G||G.isEmpty()||_.add(G)}return this._factory.createPolygon(p,_.toArray([]))},Qr.prototype.interfaces_=function(){return[]},Qr.prototype.getClass=function(){return Qr},Qr.GeometryEditorOperation=function(){},hu.NoOpGeometryOperation.get=function(){return fu},hu.CoordinateOperation.get=function(){return ca},hu.CoordinateSequenceOperation.get=function(){return En},Object.defineProperties(Qr,hu);var fu=function(){};fu.prototype.edit=function(s,a){return s},fu.prototype.interfaces_=function(){return[Qr.GeometryEditorOperation]},fu.prototype.getClass=function(){return fu};var ca=function(){};ca.prototype.edit=function(s,a){var h=this.editCoordinates(s.getCoordinates(),s);return null===h?s:s instanceof Ps?a.createLinearRing(h):s instanceof qi?a.createLineString(h):s instanceof wo?h.length>0?a.createPoint(h[0]):a.createPoint():s},ca.prototype.interfaces_=function(){return[Qr.GeometryEditorOperation]},ca.prototype.getClass=function(){return ca};var En=function(){};En.prototype.edit=function(s,a){return s instanceof Ps?a.createLinearRing(this.edit(s.getCoordinateSequence(),s)):s instanceof qi?a.createLineString(this.edit(s.getCoordinateSequence(),s)):s instanceof wo?a.createPoint(this.edit(s.getCoordinateSequence(),s)):s},En.prototype.interfaces_=function(){return[Qr.GeometryEditorOperation]},En.prototype.getClass=function(){return En};var sn=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var s=arguments[0];this._coordinates=new Array(s).fill(null);for(var a=0;a<s;a++)this._coordinates[a]=new z}else if(Te(arguments[0],Ie)){var h=arguments[0];if(null===h)return this._coordinates=new Array(0).fill(null),null;this._dimension=h.getDimension(),this._coordinates=new Array(h.size()).fill(null);for(var p=0;p<this._coordinates.length;p++)this._coordinates[p]=h.getCoordinateCopy(p)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var _=arguments[0],T=arguments[1];this._coordinates=_,this._dimension=T,null===_&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var G=arguments[0],le=arguments[1];this._coordinates=new Array(G).fill(null),this._dimension=le;for(var Pe=0;Pe<G;Pe++)this._coordinates[Pe]=new z}},du={serialVersionUID:{configurable:!0}};sn.prototype.setOrdinate=function(s,a,h){switch(a){case Ie.X:this._coordinates[s].x=h;break;case Ie.Y:this._coordinates[s].y=h;break;case Ie.Z:this._coordinates[s].z=h;break;default:throw new B("invalid ordinateIndex")}},sn.prototype.size=function(){return this._coordinates.length},sn.prototype.getOrdinate=function(s,a){switch(a){case Ie.X:return this._coordinates[s].x;case Ie.Y:return this._coordinates[s].y;case Ie.Z:return this._coordinates[s].z}return I.NaN},sn.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var a=arguments[0],h=arguments[1];h.x=this._coordinates[a].x,h.y=this._coordinates[a].y,h.z=this._coordinates[a].z}},sn.prototype.getCoordinateCopy=function(s){return new z(this._coordinates[s])},sn.prototype.getDimension=function(){return this._dimension},sn.prototype.getX=function(s){return this._coordinates[s].x},sn.prototype.clone=function(){for(var s=new Array(this.size()).fill(null),a=0;a<this._coordinates.length;a++)s[a]=this._coordinates[a].clone();return new sn(s,this._dimension)},sn.prototype.expandEnvelope=function(s){for(var a=0;a<this._coordinates.length;a++)s.expandToInclude(this._coordinates[a]);return s},sn.prototype.copy=function(){for(var s=new Array(this.size()).fill(null),a=0;a<this._coordinates.length;a++)s[a]=this._coordinates[a].copy();return new sn(s,this._dimension)},sn.prototype.toString=function(){if(this._coordinates.length>0){var s=new ve(17*this._coordinates.length);s.append("("),s.append(this._coordinates[0]);for(var a=1;a<this._coordinates.length;a++)s.append(", "),s.append(this._coordinates[a]);return s.append(")"),s.toString()}return"()"},sn.prototype.getY=function(s){return this._coordinates[s].y},sn.prototype.toCoordinateArray=function(){return this._coordinates},sn.prototype.interfaces_=function(){return[Ie,P]},sn.prototype.getClass=function(){return sn},du.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(sn,du);var Jr=function(){},di={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Jr.prototype.readResolve=function(){return Jr.instance()},Jr.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new sn(arguments[0]);if(Te(arguments[0],Ie))return new sn(arguments[0])}else if(2===arguments.length){var h=arguments[0],p=arguments[1];return p>3&&(p=3),p<2?new sn(h):new sn(h,p)}},Jr.prototype.interfaces_=function(){return[ue,P]},Jr.prototype.getClass=function(){return Jr},Jr.instance=function(){return Jr.instanceObject},di.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},di.instanceObject.get=function(){return new Jr},Object.defineProperties(Jr,di);var pu=function(s){function a(){s.call(this),this.map_=new Map}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.get=function(h){return this.map_.get(h)||null},a.prototype.put=function(h,p){return this.map_.set(h,p),p},a.prototype.values=function(){for(var h=new pt,p=this.map_.values(),_=p.next();!_.done;)h.add(_.value),_=p.next();return h},a.prototype.entrySet=function(){var h=new Lo;return this.map_.entries().forEach(function(p){return h.add(p)}),h},a.prototype.size=function(){return this.map_.size()},a}(Pa),_t=function s(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=s.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Wo){var a=arguments[0];this._modelType=a,a===s.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var h=arguments[0];this._modelType=s.FIXED,this.setScale(h)}else if(arguments[0]instanceof s){var p=arguments[0];this._modelType=p._modelType,this._scale=p._scale}},tr={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};_t.prototype.equals=function(s){return s instanceof _t&&this._modelType===s._modelType&&this._scale===s._scale},_t.prototype.compareTo=function(s){var a=s,h=this.getMaximumSignificantDigits(),p=a.getMaximumSignificantDigits();return new he(h).compareTo(new he(p))},_t.prototype.getScale=function(){return this._scale},_t.prototype.isFloating=function(){return this._modelType===_t.FLOATING||this._modelType===_t.FLOATING_SINGLE},_t.prototype.getType=function(){return this._modelType},_t.prototype.toString=function(){var s="UNKNOWN";return this._modelType===_t.FLOATING?s="Floating":this._modelType===_t.FLOATING_SINGLE?s="Floating-Single":this._modelType===_t.FIXED&&(s="Fixed (Scale="+this.getScale()+")"),s},_t.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var s=arguments[0];return I.isNaN(s)||this._modelType===_t.FLOATING_SINGLE?s:this._modelType===_t.FIXED?Math.round(s*this._scale)/this._scale:s}if(arguments[0]instanceof z){var a=arguments[0];if(this._modelType===_t.FLOATING)return null;a.x=this.makePrecise(a.x),a.y=this.makePrecise(a.y)}},_t.prototype.getMaximumSignificantDigits=function(){var s=16;return this._modelType===_t.FLOATING?s=16:this._modelType===_t.FLOATING_SINGLE?s=6:this._modelType===_t.FIXED&&(s=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),s},_t.prototype.setScale=function(s){this._scale=Math.abs(s)},_t.prototype.interfaces_=function(){return[P,F]},_t.prototype.getClass=function(){return _t},_t.mostPrecise=function(s,a){return s.compareTo(a)>=0?s:a},tr.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},tr.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(_t,tr);var Wo=function s(a){this._name=a||null,s.nameToTypeMap.put(a,this)},Si={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Wo.prototype.readResolve=function(){return Wo.nameToTypeMap.get(this._name)},Wo.prototype.toString=function(){return this._name},Wo.prototype.interfaces_=function(){return[P]},Wo.prototype.getClass=function(){return Wo},Si.serialVersionUID.get=function(){return-552860263173159e4},Si.nameToTypeMap.get=function(){return new pu},Object.defineProperties(Wo,Si),_t.Type=Wo,_t.FIXED=new Wo("FIXED"),_t.FLOATING=new Wo("FLOATING"),_t.FLOATING_SINGLE=new Wo("FLOATING SINGLE");var gt=function s(){this._precisionModel=new _t,this._SRID=0,this._coordinateSequenceFactory=s.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Te(arguments[0],ue)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof _t&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},ll={serialVersionUID:{configurable:!0}};gt.prototype.toGeometry=function(s){return s.isNull()?this.createPoint(null):s.getMinX()===s.getMaxX()&&s.getMinY()===s.getMaxY()?this.createPoint(new z(s.getMinX(),s.getMinY())):s.getMinX()===s.getMaxX()||s.getMinY()===s.getMaxY()?this.createLineString([new z(s.getMinX(),s.getMinY()),new z(s.getMaxX(),s.getMaxY())]):this.createPolygon(this.createLinearRing([new z(s.getMinX(),s.getMinY()),new z(s.getMinX(),s.getMaxY()),new z(s.getMaxX(),s.getMaxY()),new z(s.getMaxX(),s.getMinY()),new z(s.getMinX(),s.getMinY())]),null)},gt.prototype.createLineString=function(s){return s?s instanceof Array?new qi(this.getCoordinateSequenceFactory().create(s),this):Te(s,Ie)?new qi(s,this):void 0:new qi(this.getCoordinateSequenceFactory().create([]),this)},gt.prototype.createMultiLineString=function(){return 0===arguments.length?new Ws(null,this):1===arguments.length?new Ws(arguments[0],this):void 0},gt.prototype.buildGeometry=function(s){for(var a=null,h=!1,p=!1,_=s.iterator();_.hasNext();){var T=_.next(),G=T.getClass();null===a&&(a=G),G!==a&&(h=!0),T.isGeometryCollectionOrDerived()&&(p=!0)}if(null===a)return this.createGeometryCollection();if(h||p)return this.createGeometryCollection(gt.toGeometryArray(s));var le=s.iterator().next();if(s.size()>1){if(le instanceof hr)return this.createMultiPolygon(gt.toPolygonArray(s));if(le instanceof qi)return this.createMultiLineString(gt.toLineStringArray(s));if(le instanceof wo)return this.createMultiPoint(gt.toPointArray(s));be.shouldNeverReachHere("Unhandled class: "+le.getClass().getName())}return le},gt.prototype.createMultiPointFromCoords=function(s){return this.createMultiPoint(null!==s?this.getCoordinateSequenceFactory().create(s):null)},gt.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof z){var s=arguments[0];return this.createPoint(null!==s?this.getCoordinateSequenceFactory().create([s]):null)}if(Te(arguments[0],Ie))return new wo(arguments[0],this)}},gt.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},gt.prototype.createPolygon=function(){if(0===arguments.length)return new hr(null,null,this);if(1===arguments.length){if(Te(arguments[0],Ie))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Ps)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new hr(arguments[0],arguments[1],this)},gt.prototype.getSRID=function(){return this._SRID},gt.prototype.createGeometryCollection=function(){return 0===arguments.length?new Gi(null,this):1===arguments.length?new Gi(arguments[0],this):void 0},gt.prototype.createGeometry=function(s){return new Qr(this).edit(s,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},gt.prototype.getPrecisionModel=function(){return this._precisionModel},gt.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var s=arguments[0];return this.createLinearRing(null!==s?this.getCoordinateSequenceFactory().create(s):null)}if(Te(arguments[0],Ie))return new Ps(arguments[0],this)}},gt.prototype.createMultiPolygon=function(){return 0===arguments.length?new rs(null,this):1===arguments.length?new rs(arguments[0],this):void 0},gt.prototype.createMultiPoint=function(){if(0===arguments.length)return new cu(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new cu(arguments[0],this);if(arguments[0]instanceof Array){var a=arguments[0];return this.createMultiPoint(null!==a?this.getCoordinateSequenceFactory().create(a):null)}if(Te(arguments[0],Ie)){var h=arguments[0];if(null===h)return this.createMultiPoint(new Array(0).fill(null));for(var p=new Array(h.size()).fill(null),_=0;_<h.size();_++){var T=this.getCoordinateSequenceFactory().create(1,h.getDimension());Hi.copy(h,_,T,0,1),p[_]=this.createPoint(T)}return this.createMultiPoint(p)}}},gt.prototype.interfaces_=function(){return[P]},gt.prototype.getClass=function(){return gt},gt.toMultiPolygonArray=function(s){var a=new Array(s.size()).fill(null);return s.toArray(a)},gt.toGeometryArray=function(s){if(null===s)return null;var a=new Array(s.size()).fill(null);return s.toArray(a)},gt.getDefaultCoordinateSequenceFactory=function(){return Jr.instance()},gt.toMultiLineStringArray=function(s){var a=new Array(s.size()).fill(null);return s.toArray(a)},gt.toLineStringArray=function(s){var a=new Array(s.size()).fill(null);return s.toArray(a)},gt.toMultiPointArray=function(s){var a=new Array(s.size()).fill(null);return s.toArray(a)},gt.toLinearRingArray=function(s){var a=new Array(s.size()).fill(null);return s.toArray(a)},gt.toPointArray=function(s){var a=new Array(s.size()).fill(null);return s.toArray(a)},gt.toPolygonArray=function(s){var a=new Array(s.size()).fill(null);return s.toArray(a)},gt.createPointFromInternalCoord=function(s,a){return a.getPrecisionModel().makePrecise(s),a.getFactory().createPoint(s)},ll.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(gt,ll);var gu=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],ha=function(s){this.geometryFactory=s||new gt};ha.prototype.read=function(s){var a,h=(a="string"==typeof s?JSON.parse(s):s).type;if(!gi[h])throw new Error("Unknown GeoJSON type: "+a.type);return-1!==gu.indexOf(h)?gi[h].apply(this,[a.coordinates]):gi[h].apply(this,"GeometryCollection"===h?[a.geometries]:[a])},ha.prototype.write=function(s){var a=s.getGeometryType();if(!ft[a])throw new Error("Geometry is not supported");return ft[a].apply(this,[s])};var gi={Feature:function(s){var a={};for(var h in s)a[h]=s[h];if(s.geometry){if(!gi[s.geometry.type])throw new Error("Unknown GeoJSON type: "+s.type);a.geometry=this.read(s.geometry)}return s.bbox&&(a.bbox=gi.bbox.apply(this,[s.bbox])),a},FeatureCollection:function(s){var a={};if(s.features){a.features=[];for(var h=0;h<s.features.length;++h)a.features.push(this.read(s.features[h]))}return s.bbox&&(a.bbox=this.parse.bbox.apply(this,[s.bbox])),a},coordinates:function(s){for(var a=[],h=0;h<s.length;++h){var p=s[h];a.push(new z(p[0],p[1]))}return a},bbox:function(s){return this.geometryFactory.createLinearRing([new z(s[0],s[1]),new z(s[2],s[1]),new z(s[2],s[3]),new z(s[0],s[3]),new z(s[0],s[1])])},Point:function(s){var a=new z(s[0],s[1]);return this.geometryFactory.createPoint(a)},MultiPoint:function(s){for(var a=[],h=0;h<s.length;++h)a.push(gi.Point.apply(this,[s[h]]));return this.geometryFactory.createMultiPoint(a)},LineString:function(s){var a=gi.coordinates.apply(this,[s]);return this.geometryFactory.createLineString(a)},MultiLineString:function(s){for(var a=[],h=0;h<s.length;++h)a.push(gi.LineString.apply(this,[s[h]]));return this.geometryFactory.createMultiLineString(a)},Polygon:function(s){for(var a=gi.coordinates.apply(this,[s[0]]),h=this.geometryFactory.createLinearRing(a),p=[],_=1;_<s.length;++_){var G=gi.coordinates.apply(this,[s[_]]),le=this.geometryFactory.createLinearRing(G);p.push(le)}return this.geometryFactory.createPolygon(h,p)},MultiPolygon:function(s){for(var a=[],h=0;h<s.length;++h)a.push(gi.Polygon.apply(this,[s[h]]));return this.geometryFactory.createMultiPolygon(a)},GeometryCollection:function(s){for(var a=[],h=0;h<s.length;++h)a.push(this.read(s[h]));return this.geometryFactory.createGeometryCollection(a)}},ft={coordinate:function(s){return[s.x,s.y]},Point:function(s){return{type:"Point",coordinates:ft.coordinate.apply(this,[s.getCoordinate()])}},MultiPoint:function(s){for(var a=[],h=0;h<s._geometries.length;++h){var _=ft.Point.apply(this,[s._geometries[h]]);a.push(_.coordinates)}return{type:"MultiPoint",coordinates:a}},LineString:function(s){for(var a=[],h=s.getCoordinates(),p=0;p<h.length;++p)a.push(ft.coordinate.apply(this,[h[p]]));return{type:"LineString",coordinates:a}},MultiLineString:function(s){for(var a=[],h=0;h<s._geometries.length;++h){var _=ft.LineString.apply(this,[s._geometries[h]]);a.push(_.coordinates)}return{type:"MultiLineString",coordinates:a}},Polygon:function(s){var a=[],h=ft.LineString.apply(this,[s._shell]);a.push(h.coordinates);for(var p=0;p<s._holes.length;++p){var T=ft.LineString.apply(this,[s._holes[p]]);a.push(T.coordinates)}return{type:"Polygon",coordinates:a}},MultiPolygon:function(s){for(var a=[],h=0;h<s._geometries.length;++h){var _=ft.Polygon.apply(this,[s._geometries[h]]);a.push(_.coordinates)}return{type:"MultiPolygon",coordinates:a}},GeometryCollection:function(s){for(var a=[],h=0;h<s._geometries.length;++h){var p=s._geometries[h],_=p.getGeometryType();a.push(ft[_].apply(this,[p]))}return{type:"GeometryCollection",geometries:a}}},Ys=function(s){this.geometryFactory=s||new gt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new ha(this.geometryFactory)};Ys.prototype.read=function(s){var a=this.parser.read(s);return this.precisionModel.getType()===_t.FIXED&&this.reducePrecision(a),a},Ys.prototype.reducePrecision=function(s){var a,h;if(s.coordinate)this.precisionModel.makePrecise(s.coordinate);else if(s.points)for(a=0,h=s.points.length;a<h;a++)this.precisionModel.makePrecise(s.points[a]);else if(s.geometries)for(a=0,h=s.geometries.length;a<h;a++)this.reducePrecision(s.geometries[a])};var cn=function(){this.parser=new ha(this.geometryFactory)};cn.prototype.write=function(s){return this.parser.write(s)};var ut=function(){},Ia={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};ut.prototype.interfaces_=function(){return[]},ut.prototype.getClass=function(){return ut},ut.opposite=function(s){return s===ut.LEFT?ut.RIGHT:s===ut.RIGHT?ut.LEFT:s},Ia.ON.get=function(){return 0},Ia.LEFT.get=function(){return 1},Ia.RIGHT.get=function(){return 2},Object.defineProperties(ut,Ia),(N.prototype=new Error).name="EmptyStackException",(k.prototype=new cr).add=function(s){return this.array_.push(s),!0},k.prototype.get=function(s){if(s<0||s>=this.size())throw new Error;return this.array_[s]},k.prototype.push=function(s){return this.array_.push(s),s},k.prototype.pop=function(s){if(0===this.array_.length)throw new N;return this.array_.pop()},k.prototype.peek=function(){if(0===this.array_.length)throw new N;return this.array_[this.array_.length-1]},k.prototype.empty=function(){return 0===this.array_.length},k.prototype.isEmpty=function(){return this.empty()},k.prototype.search=function(s){return this.array_.indexOf(s)},k.prototype.size=function(){return this.array_.length},k.prototype.toArray=function(){for(var s=[],a=0,h=this.array_.length;a<h;a++)s.push(this.array_[a]);return s};var os=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};os.prototype.getCoordinate=function(){return this._minCoord},os.prototype.getRightmostSide=function(s,a){var h=this.getRightmostSideOfSegment(s,a);return h<0&&(h=this.getRightmostSideOfSegment(s,a-1)),h<0&&(this._minCoord=null,this.checkForRightmostCoordinate(s)),h},os.prototype.findRightmostEdgeAtVertex=function(){var s=this._minDe.getEdge().getCoordinates();be.isTrue(this._minIndex>0&&this._minIndex<s.length,"rightmost point expected to be interior vertex of edge");var a=s[this._minIndex-1],h=s[this._minIndex+1],p=Ge.computeOrientation(this._minCoord,h,a),_=!1;(a.y<this._minCoord.y&&h.y<this._minCoord.y&&p===Ge.COUNTERCLOCKWISE||a.y>this._minCoord.y&&h.y>this._minCoord.y&&p===Ge.CLOCKWISE)&&(_=!0),_&&(this._minIndex=this._minIndex-1)},os.prototype.getRightmostSideOfSegment=function(s,a){var h=s.getEdge().getCoordinates();if(a<0||a+1>=h.length||h[a].y===h[a+1].y)return-1;var p=ut.LEFT;return h[a].y<h[a+1].y&&(p=ut.RIGHT),p},os.prototype.getEdge=function(){return this._orientedDe},os.prototype.checkForRightmostCoordinate=function(s){for(var a=s.getEdge().getCoordinates(),h=0;h<a.length-1;h++)(null===this._minCoord||a[h].x>this._minCoord.x)&&(this._minDe=s,this._minIndex=h,this._minCoord=a[h])},os.prototype.findRightmostEdgeAtNode=function(){var s=this._minDe.getNode().getEdges();this._minDe=s.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},os.prototype.findEdge=function(s){for(var a=s.iterator();a.hasNext();){var h=a.next();h.isForward()&&this.checkForRightmostCoordinate(h)}be.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===ut.LEFT&&(this._orientedDe=this._minDe.getSym())},os.prototype.interfaces_=function(){return[]},os.prototype.getClass=function(){return os};var _s=function(s){function a(h,p){s.call(this,a.msgWithCoord(h,p)),this.pt=p?new z(p):null,this.name="TopologyException"}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.getCoordinate=function(){return this.pt},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.msgWithCoord=function(h,p){return p?h:h+" [ "+p+" ]"},a}(Ce),Xs=function(){this.array_=[]};Xs.prototype.addLast=function(s){this.array_.push(s)},Xs.prototype.removeFirst=function(){return this.array_.shift()},Xs.prototype.isEmpty=function(){return 0===this.array_.length};var Mi=function(){this._finder=null,this._dirEdgeList=new pt,this._nodes=new pt,this._rightMostCoord=null,this._env=null,this._finder=new os};Mi.prototype.clearVisitedEdges=function(){for(var s=this._dirEdgeList.iterator();s.hasNext();)s.next().setVisited(!1)},Mi.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Mi.prototype.computeNodeDepth=function(s){for(var a=null,h=s.getEdges().iterator();h.hasNext();){var p=h.next();if(p.isVisited()||p.getSym().isVisited()){a=p;break}}if(null===a)throw new _s("unable to find edge to compute depths at "+s.getCoordinate());s.getEdges().computeDepths(a);for(var _=s.getEdges().iterator();_.hasNext();){var T=_.next();T.setVisited(!0),this.copySymDepths(T)}},Mi.prototype.computeDepth=function(s){this.clearVisitedEdges();var a=this._finder.getEdge();a.setEdgeDepths(ut.RIGHT,s),this.copySymDepths(a),this.computeDepths(a)},Mi.prototype.create=function(s){this.addReachable(s),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Mi.prototype.findResultEdges=function(){for(var s=this._dirEdgeList.iterator();s.hasNext();){var a=s.next();a.getDepth(ut.RIGHT)>=1&&a.getDepth(ut.LEFT)<=0&&!a.isInteriorAreaEdge()&&a.setInResult(!0)}},Mi.prototype.computeDepths=function(s){var a=new Lo,h=new Xs,p=s.getNode();for(h.addLast(p),a.add(p),s.setVisited(!0);!h.isEmpty();){var _=h.removeFirst();a.add(_),this.computeNodeDepth(_);for(var T=_.getEdges().iterator();T.hasNext();){var G=T.next().getSym();if(!G.isVisited()){var le=G.getNode();a.contains(le)||(h.addLast(le),a.add(le))}}}},Mi.prototype.compareTo=function(s){return this._rightMostCoord.x<s._rightMostCoord.x?-1:this._rightMostCoord.x>s._rightMostCoord.x?1:0},Mi.prototype.getEnvelope=function(){if(null===this._env){for(var s=new Ae,a=this._dirEdgeList.iterator();a.hasNext();)for(var h=a.next().getEdge().getCoordinates(),p=0;p<h.length-1;p++)s.expandToInclude(h[p]);this._env=s}return this._env},Mi.prototype.addReachable=function(s){var a=new k;for(a.add(s);!a.empty();){var h=a.pop();this.add(h,a)}},Mi.prototype.copySymDepths=function(s){var a=s.getSym();a.setDepth(ut.LEFT,s.getDepth(ut.RIGHT)),a.setDepth(ut.RIGHT,s.getDepth(ut.LEFT))},Mi.prototype.add=function(s,a){s.setVisited(!0),this._nodes.add(s);for(var h=s.getEdges().iterator();h.hasNext();){var p=h.next();this._dirEdgeList.add(p);var _=p.getSym().getNode();_.isVisited()||a.push(_)}},Mi.prototype.getNodes=function(){return this._nodes},Mi.prototype.getDirectedEdges=function(){return this._dirEdgeList},Mi.prototype.interfaces_=function(){return[F]},Mi.prototype.getClass=function(){return Mi};var Pi=function s(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var h=arguments[0];this.init(1),this.location[ut.ON]=h}else if(arguments[0]instanceof s){var p=arguments[0];if(this.init(p.location.length),null!==p)for(var _=0;_<this.location.length;_++)this.location[_]=p.location[_]}}else if(3===arguments.length){var T=arguments[0],G=arguments[1],le=arguments[2];this.init(3),this.location[ut.ON]=T,this.location[ut.LEFT]=G,this.location[ut.RIGHT]=le}};Pi.prototype.setAllLocations=function(s){for(var a=0;a<this.location.length;a++)this.location[a]=s},Pi.prototype.isNull=function(){for(var s=0;s<this.location.length;s++)if(this.location[s]!==J.NONE)return!1;return!0},Pi.prototype.setAllLocationsIfNull=function(s){for(var a=0;a<this.location.length;a++)this.location[a]===J.NONE&&(this.location[a]=s)},Pi.prototype.isLine=function(){return 1===this.location.length},Pi.prototype.merge=function(s){if(s.location.length>this.location.length){var a=new Array(3).fill(null);a[ut.ON]=this.location[ut.ON],a[ut.LEFT]=J.NONE,a[ut.RIGHT]=J.NONE,this.location=a}for(var h=0;h<this.location.length;h++)this.location[h]===J.NONE&&h<s.location.length&&(this.location[h]=s.location[h])},Pi.prototype.getLocations=function(){return this.location},Pi.prototype.flip=function(){if(this.location.length<=1)return null;var s=this.location[ut.LEFT];this.location[ut.LEFT]=this.location[ut.RIGHT],this.location[ut.RIGHT]=s},Pi.prototype.toString=function(){var s=new ve;return this.location.length>1&&s.append(J.toLocationSymbol(this.location[ut.LEFT])),s.append(J.toLocationSymbol(this.location[ut.ON])),this.location.length>1&&s.append(J.toLocationSymbol(this.location[ut.RIGHT])),s.toString()},Pi.prototype.setLocations=function(s,a,h){this.location[ut.ON]=s,this.location[ut.LEFT]=a,this.location[ut.RIGHT]=h},Pi.prototype.get=function(s){return s<this.location.length?this.location[s]:J.NONE},Pi.prototype.isArea=function(){return this.location.length>1},Pi.prototype.isAnyNull=function(){for(var s=0;s<this.location.length;s++)if(this.location[s]===J.NONE)return!0;return!1},Pi.prototype.setLocation=function(){1===arguments.length?this.setLocation(ut.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},Pi.prototype.init=function(s){this.location=new Array(s).fill(null),this.setAllLocations(J.NONE)},Pi.prototype.isEqualOnSide=function(s,a){return this.location[a]===s.location[a]},Pi.prototype.allPositionsEqual=function(s){for(var a=0;a<this.location.length;a++)if(this.location[a]!==s)return!1;return!0},Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi};var Tn=function s(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var a=arguments[0];this.elt[0]=new Pi(a),this.elt[1]=new Pi(a)}else if(arguments[0]instanceof s){var h=arguments[0];this.elt[0]=new Pi(h.elt[0]),this.elt[1]=new Pi(h.elt[1])}}else if(2===arguments.length){var p=arguments[0],_=arguments[1];this.elt[0]=new Pi(J.NONE),this.elt[1]=new Pi(J.NONE),this.elt[p].setLocation(_)}else if(3===arguments.length){var T=arguments[0],G=arguments[1],le=arguments[2];this.elt[0]=new Pi(T,G,le),this.elt[1]=new Pi(T,G,le)}else if(4===arguments.length){var Pe=arguments[0],Ue=arguments[1],nt=arguments[2],rt=arguments[3];this.elt[0]=new Pi(J.NONE,J.NONE,J.NONE),this.elt[1]=new Pi(J.NONE,J.NONE,J.NONE),this.elt[Pe].setLocations(Ue,nt,rt)}};Tn.prototype.getGeometryCount=function(){var s=0;return this.elt[0].isNull()||s++,this.elt[1].isNull()||s++,s},Tn.prototype.setAllLocations=function(s,a){this.elt[s].setAllLocations(a)},Tn.prototype.isNull=function(s){return this.elt[s].isNull()},Tn.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var s=arguments[0];this.setAllLocationsIfNull(0,s),this.setAllLocationsIfNull(1,s)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},Tn.prototype.isLine=function(s){return this.elt[s].isLine()},Tn.prototype.merge=function(s){for(var a=0;a<2;a++)null===this.elt[a]&&null!==s.elt[a]?this.elt[a]=new Pi(s.elt[a]):this.elt[a].merge(s.elt[a])},Tn.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Tn.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(ut.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},Tn.prototype.toString=function(){var s=new ve;return null!==this.elt[0]&&(s.append("A:"),s.append(this.elt[0].toString())),null!==this.elt[1]&&(s.append(" B:"),s.append(this.elt[1].toString())),s.toString()},Tn.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},Tn.prototype.isAnyNull=function(s){return this.elt[s].isAnyNull()},Tn.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(ut.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},Tn.prototype.isEqualOnSide=function(s,a){return this.elt[0].isEqualOnSide(s.elt[0],a)&&this.elt[1].isEqualOnSide(s.elt[1],a)},Tn.prototype.allPositionsEqual=function(s,a){return this.elt[s].allPositionsEqual(a)},Tn.prototype.toLine=function(s){this.elt[s].isArea()&&(this.elt[s]=new Pi(this.elt[s].location[0]))},Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},Tn.toLineLabel=function(s){for(var a=new Tn(J.NONE),h=0;h<2;h++)a.setLocation(h,s.getLocation(h));return a};var fr=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new pt,this._pts=new pt,this._label=new Tn(J.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new pt,this._geometryFactory=null;var s=arguments[0];this._geometryFactory=arguments[1],this.computePoints(s),this.computeRing()};fr.prototype.computeRing=function(){if(null!==this._ring)return null;for(var s=new Array(this._pts.size()).fill(null),a=0;a<this._pts.size();a++)s[a]=this._pts.get(a);this._ring=this._geometryFactory.createLinearRing(s),this._isHole=Ge.isCCW(this._ring.getCoordinates())},fr.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},fr.prototype.computePoints=function(s){this._startDe=s;var a=s,h=!0;do{if(null===a)throw new _s("Found null DirectedEdge");if(a.getEdgeRing()===this)throw new _s("Directed Edge visited twice during ring-building at "+a.getCoordinate());this._edges.add(a);var p=a.getLabel();be.isTrue(p.isArea()),this.mergeLabel(p),this.addPoints(a.getEdge(),a.isForward(),h),h=!1,this.setEdgeRing(a,this),a=this.getNext(a)}while(a!==this._startDe)},fr.prototype.getLinearRing=function(){return this._ring},fr.prototype.getCoordinate=function(s){return this._pts.get(s)},fr.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var s=this._startDe;do{var a=s.getNode().getEdges().getOutgoingDegree(this);a>this._maxNodeDegree&&(this._maxNodeDegree=a),s=this.getNext(s)}while(s!==this._startDe);this._maxNodeDegree*=2},fr.prototype.addPoints=function(s,a,h){var p=s.getCoordinates();if(a){var _=1;h&&(_=0);for(var T=_;T<p.length;T++)this._pts.add(p[T])}else{var G=p.length-2;h&&(G=p.length-1);for(var le=G;le>=0;le--)this._pts.add(p[le])}},fr.prototype.isHole=function(){return this._isHole},fr.prototype.setInResult=function(){var s=this._startDe;do{s.getEdge().setInResult(!0),s=s.getNext()}while(s!==this._startDe)},fr.prototype.containsPoint=function(s){var a=this.getLinearRing();if(!a.getEnvelopeInternal().contains(s)||!Ge.isPointInRing(s,a.getCoordinates()))return!1;for(var h=this._holes.iterator();h.hasNext();)if(h.next().containsPoint(s))return!1;return!0},fr.prototype.addHole=function(s){this._holes.add(s)},fr.prototype.isShell=function(){return null===this._shell},fr.prototype.getLabel=function(){return this._label},fr.prototype.getEdges=function(){return this._edges},fr.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},fr.prototype.getShell=function(){return this._shell},fr.prototype.mergeLabel=function(){if(1===arguments.length){var s=arguments[0];this.mergeLabel(s,0),this.mergeLabel(s,1)}else if(2===arguments.length){var h=arguments[1],p=arguments[0].getLocation(h,ut.RIGHT);if(p===J.NONE)return null;if(this._label.getLocation(h)===J.NONE)return this._label.setLocation(h,p),null}},fr.prototype.setShell=function(s){this._shell=s,null!==s&&s.addHole(this)},fr.prototype.toPolygon=function(s){for(var a=new Array(this._holes.size()).fill(null),h=0;h<this._holes.size();h++)a[h]=this._holes.get(h).getLinearRing();return s.createPolygon(this.getLinearRing(),a)},fr.prototype.interfaces_=function(){return[]},fr.prototype.getClass=function(){return fr};var Ks=function(s){function a(){s.call(this,arguments[0],arguments[1])}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.setEdgeRing=function(h,p){h.setMinEdgeRing(p)},a.prototype.getNext=function(h){return h.getNextMin()},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(fr),Kf=function(s){function a(){s.call(this,arguments[0],arguments[1])}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.buildMinimalRings=function(){var h=new pt,p=this._startDe;do{if(null===p.getMinEdgeRing()){var _=new Ks(p,this._geometryFactory);h.add(_)}p=p.getNext()}while(p!==this._startDe);return h},a.prototype.setEdgeRing=function(h,p){h.setEdgeRing(p)},a.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var h=this._startDe;do{h.getNode().getEdges().linkMinimalDirectedEdges(this),h=h.getNext()}while(h!==this._startDe)},a.prototype.getNext=function(h){return h.getNext()},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(fr),Qt=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};Qt.prototype.setVisited=function(s){this._isVisited=s},Qt.prototype.setInResult=function(s){this._isInResult=s},Qt.prototype.isCovered=function(){return this._isCovered},Qt.prototype.isCoveredSet=function(){return this._isCoveredSet},Qt.prototype.setLabel=function(s){this._label=s},Qt.prototype.getLabel=function(){return this._label},Qt.prototype.setCovered=function(s){this._isCovered=s,this._isCoveredSet=!0},Qt.prototype.updateIM=function(s){be.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(s)},Qt.prototype.isInResult=function(){return this._isInResult},Qt.prototype.isVisited=function(){return this._isVisited},Qt.prototype.interfaces_=function(){return[]},Qt.prototype.getClass=function(){return Qt};var ys=function(s){function a(){s.call(this),this._coord=null,this._edges=null;var p=arguments[1];this._coord=arguments[0],this._edges=p,this._label=new Tn(0,J.NONE)}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.isIncidentEdgeInResult=function(){for(var h=this.getEdges().getEdges().iterator();h.hasNext();)if(h.next().getEdge().isInResult())return!0;return!1},a.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},a.prototype.getCoordinate=function(){return this._coord},a.prototype.print=function(h){h.println("node "+this._coord+" lbl: "+this._label)},a.prototype.computeIM=function(h){},a.prototype.computeMergedLocation=function(h,p){var _=J.NONE;if(_=this._label.getLocation(p),!h.isNull(p)){var T=h.getLocation(p);_!==J.BOUNDARY&&(_=T)}return _},a.prototype.setLabel=function(){if(2!==arguments.length)return s.prototype.setLabel.apply(this,arguments);var h=arguments[0],p=arguments[1];null===this._label?this._label=new Tn(h,p):this._label.setLocation(h,p)},a.prototype.getEdges=function(){return this._edges},a.prototype.mergeLabel=function(){if(arguments[0]instanceof a)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof Tn)for(var p=arguments[0],_=0;_<2;_++){var T=this.computeMergedLocation(p,_);this._label.getLocation(_)===J.NONE&&this._label.setLocation(_,T)}},a.prototype.add=function(h){this._edges.insert(h),h.setNode(this)},a.prototype.setLabelBoundary=function(h){if(null===this._label)return null;var p=J.NONE;null!==this._label&&(p=this._label.getLocation(h)),this._label.setLocation(h,p===J.BOUNDARY?J.INTERIOR:J.BOUNDARY)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(Qt),Nn=function(){this.nodeMap=new $,this.nodeFact=null,this.nodeFact=arguments[0]};Nn.prototype.find=function(s){return this.nodeMap.get(s)},Nn.prototype.addNode=function(){if(arguments[0]instanceof z){var s=arguments[0],a=this.nodeMap.get(s);return null===a&&(a=this.nodeFact.createNode(s),this.nodeMap.put(s,a)),a}if(arguments[0]instanceof ys){var h=arguments[0],p=this.nodeMap.get(h.getCoordinate());return null===p?(this.nodeMap.put(h.getCoordinate(),h),h):(p.mergeLabel(h),p)}},Nn.prototype.print=function(s){for(var a=this.iterator();a.hasNext();)a.next().print(s)},Nn.prototype.iterator=function(){return this.nodeMap.values().iterator()},Nn.prototype.values=function(){return this.nodeMap.values()},Nn.prototype.getBoundaryNodes=function(s){for(var a=new pt,h=this.iterator();h.hasNext();){var p=h.next();p.getLabel().getLocation(s)===J.BOUNDARY&&a.add(p)}return a},Nn.prototype.add=function(s){var a=s.getCoordinate();this.addNode(a).add(s)},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn};var mi=function(){},mu={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};mi.prototype.interfaces_=function(){return[]},mi.prototype.getClass=function(){return mi},mi.isNorthern=function(s){return s===mi.NE||s===mi.NW},mi.isOpposite=function(s,a){return s!==a&&(s-a+4)%4==2},mi.commonHalfPlane=function(s,a){if(s===a)return s;if((s-a+4)%4==2)return-1;var h=s<a?s:a;return 0===h&&3===(s>a?s:a)?3:h},mi.isInHalfPlane=function(s,a){return a===mi.SE?s===mi.SE||s===mi.SW:s===a||s===a+1},mi.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1];if(0===s&&0===a)throw new B("Cannot compute the quadrant for point ( "+s+", "+a+" )");return s>=0?a>=0?mi.NE:mi.SE:a>=0?mi.NW:mi.SW}if(arguments[0]instanceof z&&arguments[1]instanceof z){var h=arguments[0],p=arguments[1];if(p.x===h.x&&p.y===h.y)throw new B("Cannot compute the quadrant for two identical points "+h);return p.x>=h.x?p.y>=h.y?mi.NE:mi.SE:p.y>=h.y?mi.NW:mi.SW}},mu.NE.get=function(){return 0},mu.NW.get=function(){return 1},mu.SW.get=function(){return 2},mu.SE.get=function(){return 3},Object.defineProperties(mi,mu);var Ar=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var h=arguments[1],p=arguments[2];this._edge=arguments[0],this.init(h,p),this._label=null}else if(4===arguments.length){var T=arguments[1],G=arguments[2],le=arguments[3];this._edge=arguments[0],this.init(T,G),this._label=le}};Ar.prototype.compareDirection=function(s){return this._dx===s._dx&&this._dy===s._dy?0:this._quadrant>s._quadrant?1:this._quadrant<s._quadrant?-1:Ge.computeOrientation(s._p0,s._p1,this._p1)},Ar.prototype.getDy=function(){return this._dy},Ar.prototype.getCoordinate=function(){return this._p0},Ar.prototype.setNode=function(s){this._node=s},Ar.prototype.print=function(s){var a=Math.atan2(this._dy,this._dx),h=this.getClass().getName(),p=h.lastIndexOf("."),_=h.substring(p+1);s.print("  "+_+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+a+"   "+this._label)},Ar.prototype.compareTo=function(s){return this.compareDirection(s)},Ar.prototype.getDirectedCoordinate=function(){return this._p1},Ar.prototype.getDx=function(){return this._dx},Ar.prototype.getLabel=function(){return this._label},Ar.prototype.getEdge=function(){return this._edge},Ar.prototype.getQuadrant=function(){return this._quadrant},Ar.prototype.getNode=function(){return this._node},Ar.prototype.toString=function(){var s=Math.atan2(this._dy,this._dx),a=this.getClass().getName(),h=a.lastIndexOf(".");return"  "+a.substring(h+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+s+"   "+this._label},Ar.prototype.computeLabel=function(s){},Ar.prototype.init=function(s,a){this._p0=s,this._p1=a,this._dx=a.x-s.x,this._dy=a.y-s.y,this._quadrant=mi.quadrant(this._dx,this._dy),be.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Ar.prototype.interfaces_=function(){return[F]},Ar.prototype.getClass=function(){return Ar};var cl=function(s){function a(){var h=arguments[0],p=arguments[1];if(s.call(this,h),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=p,p)this.init(h.getCoordinate(0),h.getCoordinate(1));else{var _=h.getNumPoints()-1;this.init(h.getCoordinate(_),h.getCoordinate(_-1))}this.computeDirectedLabel()}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.getNextMin=function(){return this._nextMin},a.prototype.getDepth=function(h){return this._depth[h]},a.prototype.setVisited=function(h){this._isVisited=h},a.prototype.computeDirectedLabel=function(){this._label=new Tn(this._edge.getLabel()),this._isForward||this._label.flip()},a.prototype.getNext=function(){return this._next},a.prototype.setDepth=function(h,p){if(-999!==this._depth[h]&&this._depth[h]!==p)throw new _s("assigned depths do not match",this.getCoordinate());this._depth[h]=p},a.prototype.isInteriorAreaEdge=function(){for(var h=!0,p=0;p<2;p++)this._label.isArea(p)&&this._label.getLocation(p,ut.LEFT)===J.INTERIOR&&this._label.getLocation(p,ut.RIGHT)===J.INTERIOR||(h=!1);return h},a.prototype.setNextMin=function(h){this._nextMin=h},a.prototype.print=function(h){s.prototype.print.call(this,h),h.print(" "+this._depth[ut.LEFT]+"/"+this._depth[ut.RIGHT]),h.print(" ("+this.getDepthDelta()+")"),this._isInResult&&h.print(" inResult")},a.prototype.setMinEdgeRing=function(h){this._minEdgeRing=h},a.prototype.isLineEdge=function(){var h=this._label.isLine(0)||this._label.isLine(1),p=!this._label.isArea(0)||this._label.allPositionsEqual(0,J.EXTERIOR),_=!this._label.isArea(1)||this._label.allPositionsEqual(1,J.EXTERIOR);return h&&p&&_},a.prototype.setEdgeRing=function(h){this._edgeRing=h},a.prototype.getMinEdgeRing=function(){return this._minEdgeRing},a.prototype.getDepthDelta=function(){var h=this._edge.getDepthDelta();return this._isForward||(h=-h),h},a.prototype.setInResult=function(h){this._isInResult=h},a.prototype.getSym=function(){return this._sym},a.prototype.isForward=function(){return this._isForward},a.prototype.getEdge=function(){return this._edge},a.prototype.printEdge=function(h){this.print(h),h.print(" "),this._isForward?this._edge.print(h):this._edge.printReverse(h)},a.prototype.setSym=function(h){this._sym=h},a.prototype.setVisitedEdge=function(h){this.setVisited(h),this._sym.setVisited(h)},a.prototype.setEdgeDepths=function(h,p){var _=this.getEdge().getDepthDelta();this._isForward||(_=-_);var T=1;h===ut.LEFT&&(T=-1);var G=ut.opposite(h),le=p+_*T;this.setDepth(h,p),this.setDepth(G,le)},a.prototype.getEdgeRing=function(){return this._edgeRing},a.prototype.isInResult=function(){return this._isInResult},a.prototype.setNext=function(h){this._next=h},a.prototype.isVisited=function(){return this._isVisited},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.depthFactor=function(h,p){return h===J.EXTERIOR&&p===J.INTERIOR?1:h===J.INTERIOR&&p===J.EXTERIOR?-1:0},a}(Ar),wr=function(){};wr.prototype.createNode=function(s){return new ys(s,null)},wr.prototype.interfaces_=function(){return[]},wr.prototype.getClass=function(){return wr};var Yt=function(){this._edges=new pt,this._nodes=null,this._edgeEndList=new pt,0===arguments.length?this._nodes=new Nn(new wr):1===arguments.length&&(this._nodes=new Nn(arguments[0]))};Yt.prototype.printEdges=function(s){s.println("Edges:");for(var a=0;a<this._edges.size();a++){s.println("edge "+a+":");var h=this._edges.get(a);h.print(s),h.eiList.print(s)}},Yt.prototype.find=function(s){return this._nodes.find(s)},Yt.prototype.addNode=function(){return arguments[0]instanceof ys||arguments[0]instanceof z?this._nodes.addNode(arguments[0]):void 0},Yt.prototype.getNodeIterator=function(){return this._nodes.iterator()},Yt.prototype.linkResultDirectedEdges=function(){for(var s=this._nodes.iterator();s.hasNext();)s.next().getEdges().linkResultDirectedEdges()},Yt.prototype.debugPrintln=function(s){ae.out.println(s)},Yt.prototype.isBoundaryNode=function(s,a){var h=this._nodes.find(a);if(null===h)return!1;var p=h.getLabel();return null!==p&&p.getLocation(s)===J.BOUNDARY},Yt.prototype.linkAllDirectedEdges=function(){for(var s=this._nodes.iterator();s.hasNext();)s.next().getEdges().linkAllDirectedEdges()},Yt.prototype.matchInSameDirection=function(s,a,h,p){return!!s.equals(h)&&Ge.computeOrientation(s,a,p)===Ge.COLLINEAR&&mi.quadrant(s,a)===mi.quadrant(h,p)},Yt.prototype.getEdgeEnds=function(){return this._edgeEndList},Yt.prototype.debugPrint=function(s){ae.out.print(s)},Yt.prototype.getEdgeIterator=function(){return this._edges.iterator()},Yt.prototype.findEdgeInSameDirection=function(s,a){for(var h=0;h<this._edges.size();h++){var p=this._edges.get(h),_=p.getCoordinates();if(this.matchInSameDirection(s,a,_[0],_[1])||this.matchInSameDirection(s,a,_[_.length-1],_[_.length-2]))return p}return null},Yt.prototype.insertEdge=function(s){this._edges.add(s)},Yt.prototype.findEdgeEnd=function(s){for(var a=this.getEdgeEnds().iterator();a.hasNext();){var h=a.next();if(h.getEdge()===s)return h}return null},Yt.prototype.addEdges=function(s){for(var a=s.iterator();a.hasNext();){var h=a.next();this._edges.add(h);var p=new cl(h,!0),_=new cl(h,!1);p.setSym(_),_.setSym(p),this.add(p),this.add(_)}},Yt.prototype.add=function(s){this._nodes.add(s),this._edgeEndList.add(s)},Yt.prototype.getNodes=function(){return this._nodes.values()},Yt.prototype.findEdge=function(s,a){for(var h=0;h<this._edges.size();h++){var p=this._edges.get(h),_=p.getCoordinates();if(s.equals(_[0])&&a.equals(_[1]))return p}return null},Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt},Yt.linkResultDirectedEdges=function(s){for(var a=s.iterator();a.hasNext();)a.next().getEdges().linkResultDirectedEdges()};var qr=function(){this._geometryFactory=null,this._shellList=new pt,this._geometryFactory=arguments[0]};qr.prototype.sortShellsAndHoles=function(s,a,h){for(var p=s.iterator();p.hasNext();){var _=p.next();_.isHole()?h.add(_):a.add(_)}},qr.prototype.computePolygons=function(s){for(var a=new pt,h=s.iterator();h.hasNext();){var p=h.next().toPolygon(this._geometryFactory);a.add(p)}return a},qr.prototype.placeFreeHoles=function(s,a){for(var h=a.iterator();h.hasNext();){var p=h.next();if(null===p.getShell()){var _=this.findEdgeRingContaining(p,s);if(null===_)throw new _s("unable to assign hole to a shell",p.getCoordinate(0));p.setShell(_)}}},qr.prototype.buildMinimalEdgeRings=function(s,a,h){for(var p=new pt,_=s.iterator();_.hasNext();){var T=_.next();if(T.getMaxNodeDegree()>2){T.linkDirectedEdgesForMinimalEdgeRings();var G=T.buildMinimalRings(),le=this.findShell(G);null!==le?(this.placePolygonHoles(le,G),a.add(le)):h.addAll(G)}else p.add(T)}return p},qr.prototype.containsPoint=function(s){for(var a=this._shellList.iterator();a.hasNext();)if(a.next().containsPoint(s))return!0;return!1},qr.prototype.buildMaximalEdgeRings=function(s){for(var a=new pt,h=s.iterator();h.hasNext();){var p=h.next();if(p.isInResult()&&p.getLabel().isArea()&&null===p.getEdgeRing()){var _=new Kf(p,this._geometryFactory);a.add(_),_.setInResult()}}return a},qr.prototype.placePolygonHoles=function(s,a){for(var h=a.iterator();h.hasNext();){var p=h.next();p.isHole()&&p.setShell(s)}},qr.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},qr.prototype.findEdgeRingContaining=function(s,a){for(var h=s.getLinearRing(),p=h.getEnvelopeInternal(),_=h.getCoordinateN(0),T=null,G=null,le=a.iterator();le.hasNext();){var Pe=le.next(),Ue=Pe.getLinearRing(),nt=Ue.getEnvelopeInternal();null!==T&&(G=T.getLinearRing().getEnvelopeInternal());var rt=!1;nt.contains(p)&&Ge.isPointInRing(_,Ue.getCoordinates())&&(rt=!0),rt&&(null===T||G.contains(nt))&&(T=Pe)}return T},qr.prototype.findShell=function(s){for(var a=0,h=null,p=s.iterator();p.hasNext();){var _=p.next();_.isHole()||(h=_,a++)}return be.isTrue(a<=1,"found two shells in MinimalEdgeRing list"),h},qr.prototype.add=function(){if(1===arguments.length){var s=arguments[0];this.add(s.getEdgeEnds(),s.getNodes())}else if(2===arguments.length){var a=arguments[0];Yt.linkResultDirectedEdges(arguments[1]);var p=this.buildMaximalEdgeRings(a),_=new pt,T=this.buildMinimalEdgeRings(p,this._shellList,_);this.sortShellsAndHoles(T,this._shellList,_),this.placeFreeHoles(this._shellList,_)}},qr.prototype.interfaces_=function(){return[]},qr.prototype.getClass=function(){return qr};var Lr=function(){};Lr.prototype.getBounds=function(){},Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr};var eo=function(){this._bounds=null,this._item=null;var a=arguments[1];this._bounds=arguments[0],this._item=a};eo.prototype.getItem=function(){return this._item},eo.prototype.getBounds=function(){return this._bounds},eo.prototype.interfaces_=function(){return[Lr,P]},eo.prototype.getClass=function(){return eo};var Mt=function(){this._size=null,this._items=null,this._size=0,this._items=new pt,this._items.add(null)};Mt.prototype.poll=function(){if(this.isEmpty())return null;var s=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),s},Mt.prototype.size=function(){return this._size},Mt.prototype.reorder=function(s){for(var a=null,h=this._items.get(s);2*s<=this._size&&((a=2*s)!==this._size&&this._items.get(a+1).compareTo(this._items.get(a))<0&&a++,this._items.get(a).compareTo(h)<0);s=a)this._items.set(s,this._items.get(a));this._items.set(s,h)},Mt.prototype.clear=function(){this._size=0,this._items.clear()},Mt.prototype.isEmpty=function(){return 0===this._size},Mt.prototype.add=function(s){this._items.add(null),this._size+=1;var a=this._size;for(this._items.set(0,s);s.compareTo(this._items.get(Math.trunc(a/2)))<0;a/=2)this._items.set(a,this._items.get(Math.trunc(a/2)));this._items.set(a,s)},Mt.prototype.interfaces_=function(){return[]},Mt.prototype.getClass=function(){return Mt};var fa=function(){};fa.prototype.visitItem=function(s){},fa.prototype.interfaces_=function(){return[]},fa.prototype.getClass=function(){return fa};var An=function(){};An.prototype.insert=function(s,a){},An.prototype.remove=function(s,a){},An.prototype.query=function(){},An.prototype.interfaces_=function(){return[]},An.prototype.getClass=function(){return An};var $i=function(){this._childBoundables=new pt,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])},Ml={serialVersionUID:{configurable:!0}};$i.prototype.getLevel=function(){return this._level},$i.prototype.size=function(){return this._childBoundables.size()},$i.prototype.getChildBoundables=function(){return this._childBoundables},$i.prototype.addChildBoundable=function(s){be.isTrue(null===this._bounds),this._childBoundables.add(s)},$i.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},$i.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},$i.prototype.interfaces_=function(){return[Lr,P]},$i.prototype.getClass=function(){return $i},Ml.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties($i,Ml);var Zo=function(){};Zo.reverseOrder=function(){return{compare:function(s,a){return a.compareTo(s)}}},Zo.min=function(s){return Zo.sort(s),s.get(0)},Zo.sort=function(s,a){var h=s.toArray();a?$s.sort(h,a):$s.sort(h);for(var p=s.iterator(),_=0,T=h.length;_<T;_++)p.next(),p.set(h[_])},Zo.singletonList=function(s){var a=new pt;return a.add(s),a};var nr=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var a=arguments[1],h=arguments[2];this._boundable1=arguments[0],this._boundable2=a,this._itemDistance=h,this._distance=this.distance()};nr.prototype.expandToQueue=function(s,a){var h=nr.isComposite(this._boundable1),p=nr.isComposite(this._boundable2);if(h&&p)return nr.area(this._boundable1)>nr.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,s,a),null):(this.expand(this._boundable2,this._boundable1,s,a),null);if(h)return this.expand(this._boundable1,this._boundable2,s,a),null;if(p)return this.expand(this._boundable2,this._boundable1,s,a),null;throw new B("neither boundable is composite")},nr.prototype.isLeaves=function(){return!(nr.isComposite(this._boundable1)||nr.isComposite(this._boundable2))},nr.prototype.compareTo=function(s){return this._distance<s._distance?-1:this._distance>s._distance?1:0},nr.prototype.expand=function(s,a,h,p){for(var _=s.getChildBoundables().iterator();_.hasNext();){var T=_.next(),G=new nr(T,a,this._itemDistance);G.getDistance()<p&&h.add(G)}},nr.prototype.getBoundable=function(s){return 0===s?this._boundable1:this._boundable2},nr.prototype.getDistance=function(){return this._distance},nr.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},nr.prototype.interfaces_=function(){return[F]},nr.prototype.getClass=function(){return nr},nr.area=function(s){return s.getBounds().getArea()},nr.isComposite=function(s){return s instanceof $i};var Jt=function s(){if(this._root=null,this._built=!1,this._itemBoundables=new pt,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=s.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var h=arguments[0];be.isTrue(h>1,"Node capacity must be greater than 1"),this._nodeCapacity=h}},Za={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Jt.prototype.getNodeCapacity=function(){return this._nodeCapacity},Jt.prototype.lastNode=function(s){return s.get(s.size()-1)},Jt.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var s=0,a=arguments[0].getChildBoundables().iterator();a.hasNext();){var h=a.next();h instanceof $i?s+=this.size(h):h instanceof eo&&(s+=1)}return s}},Jt.prototype.removeItem=function(s,a){for(var h=null,p=s.getChildBoundables().iterator();p.hasNext();){var _=p.next();_ instanceof eo&&_.getItem()===a&&(h=_)}return null!==h&&(s.getChildBoundables().remove(h),!0)},Jt.prototype.itemsTree=function(){if(0===arguments.length){this.build();var s=this.itemsTree(this._root);return null===s?new pt:s}if(1===arguments.length){for(var a=arguments[0],h=new pt,p=a.getChildBoundables().iterator();p.hasNext();){var _=p.next();if(_ instanceof $i){var T=this.itemsTree(_);null!==T&&h.add(T)}else _ instanceof eo?h.add(_.getItem()):be.shouldNeverReachHere()}return h.size()<=0?null:h}},Jt.prototype.insert=function(s,a){be.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new eo(s,a))},Jt.prototype.boundablesAtLevel=function(){if(1===arguments.length){var s=arguments[0],a=new pt;return this.boundablesAtLevel(s,this._root,a),a}if(3===arguments.length){var h=arguments[0],p=arguments[1],_=arguments[2];if(be.isTrue(h>-2),p.getLevel()===h)return _.add(p),null;for(var T=p.getChildBoundables().iterator();T.hasNext();){var G=T.next();G instanceof $i?this.boundablesAtLevel(h,G,_):(be.isTrue(G instanceof eo),-1===h&&_.add(G))}return null}},Jt.prototype.query=function(){if(1===arguments.length){var s=arguments[0];this.build();var a=new pt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),s)&&this.query(s,this._root,a),a}if(2===arguments.length){var h=arguments[0],p=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),h)&&this.query(h,this._root,p)}else if(3===arguments.length)if(Te(arguments[2],fa)&&arguments[0]instanceof Object&&arguments[1]instanceof $i)for(var _=arguments[0],G=arguments[2],le=arguments[1].getChildBoundables(),Pe=0;Pe<le.size();Pe++){var Ue=le.get(Pe);this.getIntersectsOp().intersects(Ue.getBounds(),_)&&(Ue instanceof $i?this.query(_,Ue,G):Ue instanceof eo?G.visitItem(Ue.getItem()):be.shouldNeverReachHere())}else if(Te(arguments[2],cr)&&arguments[0]instanceof Object&&arguments[1]instanceof $i)for(var nt=arguments[0],bt=arguments[2],Ct=arguments[1].getChildBoundables(),Ot=0;Ot<Ct.size();Ot++){var Wt=Ct.get(Ot);this.getIntersectsOp().intersects(Wt.getBounds(),nt)&&(Wt instanceof $i?this.query(nt,Wt,bt):Wt instanceof eo?bt.add(Wt.getItem()):be.shouldNeverReachHere())}},Jt.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Jt.prototype.getRoot=function(){return this.build(),this._root},Jt.prototype.remove=function(){if(2===arguments.length){var s=arguments[0],a=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),s)&&this.remove(s,this._root,a)}if(3===arguments.length){var h=arguments[0],p=arguments[1],_=arguments[2],T=this.removeItem(p,_);if(T)return!0;for(var G=null,le=p.getChildBoundables().iterator();le.hasNext();){var Pe=le.next();if(this.getIntersectsOp().intersects(Pe.getBounds(),h)&&Pe instanceof $i&&(T=this.remove(h,Pe,_))){G=Pe;break}}return null!==G&&G.getChildBoundables().isEmpty()&&p.getChildBoundables().remove(G),T}},Jt.prototype.createHigherLevels=function(s,a){be.isTrue(!s.isEmpty());var h=this.createParentBoundables(s,a+1);return 1===h.size()?h.get(0):this.createHigherLevels(h,a+1)},Jt.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var s=0,a=arguments[0].getChildBoundables().iterator();a.hasNext();){var h=a.next();if(h instanceof $i){var p=this.depth(h);p>s&&(s=p)}}return s+1}},Jt.prototype.createParentBoundables=function(s,a){be.isTrue(!s.isEmpty());var h=new pt;h.add(this.createNode(a));var p=new pt(s);Zo.sort(p,this.getComparator());for(var _=p.iterator();_.hasNext();){var T=_.next();this.lastNode(h).getChildBoundables().size()===this.getNodeCapacity()&&h.add(this.createNode(a)),this.lastNode(h).addChildBoundable(T)}return h},Jt.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Jt.prototype.interfaces_=function(){return[P]},Jt.prototype.getClass=function(){return Jt},Jt.compareDoubles=function(s,a){return s>a?1:s<a?-1:0},Za.IntersectsOp.get=function(){return ss},Za.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Za.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Jt,Za);var ss=function(){},Is=function(){};Is.prototype.distance=function(s,a){},Is.prototype.interfaces_=function(){return[]},Is.prototype.getClass=function(){return Is};var Pl=function(s){function a(p){s.call(this,p=p||a.DEFAULT_NODE_CAPACITY)}s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a;var h={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return a.prototype.createParentBoundablesFromVerticalSlices=function(p,_){be.isTrue(p.length>0);for(var T=new pt,G=0;G<p.length;G++)T.addAll(this.createParentBoundablesFromVerticalSlice(p[G],_));return T},a.prototype.createNode=function(p){return new gn(p)},a.prototype.size=function(){return 0===arguments.length?s.prototype.size.call(this):s.prototype.size.apply(this,arguments)},a.prototype.insert=function(){if(2!==arguments.length)return s.prototype.insert.apply(this,arguments);var p=arguments[0],_=arguments[1];if(p.isNull())return null;s.prototype.insert.call(this,p,_)},a.prototype.getIntersectsOp=function(){return a.intersectsOp},a.prototype.verticalSlices=function(p,_){for(var T=Math.trunc(Math.ceil(p.size()/_)),G=new Array(_).fill(null),le=p.iterator(),Pe=0;Pe<_;Pe++){G[Pe]=new pt;for(var Ue=0;le.hasNext()&&Ue<T;){var nt=le.next();G[Pe].add(nt),Ue++}}return G},a.prototype.query=function(){if(1===arguments.length)return s.prototype.query.call(this,arguments[0]);2===arguments.length?s.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(Te(arguments[2],fa)&&arguments[0]instanceof Object&&arguments[1]instanceof $i||Te(arguments[2],cr)&&arguments[0]instanceof Object&&arguments[1]instanceof $i)&&s.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},a.prototype.getComparator=function(){return a.yComparator},a.prototype.createParentBoundablesFromVerticalSlice=function(p,_){return s.prototype.createParentBoundables.call(this,p,_)},a.prototype.remove=function(){return 2===arguments.length?s.prototype.remove.call(this,arguments[0],arguments[1]):s.prototype.remove.apply(this,arguments)},a.prototype.depth=function(){return 0===arguments.length?s.prototype.depth.call(this):s.prototype.depth.apply(this,arguments)},a.prototype.createParentBoundables=function(p,_){be.isTrue(!p.isEmpty());var T=Math.trunc(Math.ceil(p.size()/this.getNodeCapacity())),G=new pt(p);Zo.sort(G,a.xComparator);var le=this.verticalSlices(G,Math.trunc(Math.ceil(Math.sqrt(T))));return this.createParentBoundablesFromVerticalSlices(le,_)},a.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Te(arguments[0],Is)){var p=arguments[0],_=new nr(this.getRoot(),this.getRoot(),p);return this.nearestNeighbour(_)}if(arguments[0]instanceof nr)return this.nearestNeighbour(arguments[0],I.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof a&&Te(arguments[1],Is)){var G=arguments[0],le=arguments[1],Pe=new nr(this.getRoot(),G.getRoot(),le);return this.nearestNeighbour(Pe)}if(arguments[0]instanceof nr&&"number"==typeof arguments[1]){var Ue=arguments[0],nt=arguments[1],rt=null,bt=new Mt;for(bt.add(Ue);!bt.isEmpty()&&nt>0;){var Ct=bt.poll(),Ot=Ct.getDistance();if(Ot>=nt)break;Ct.isLeaves()?(nt=Ot,rt=Ct):Ct.expandToQueue(bt,nt)}return[rt.getBoundable(0).getItem(),rt.getBoundable(1).getItem()]}}else if(3===arguments.length){var en=arguments[2],Ai=new eo(arguments[0],arguments[1]),vr=new nr(this.getRoot(),Ai,en);return this.nearestNeighbour(vr)[0]}},a.prototype.interfaces_=function(){return[An,P]},a.prototype.getClass=function(){return a},a.centreX=function(p){return a.avg(p.getMinX(),p.getMaxX())},a.avg=function(p,_){return(p+_)/2},a.centreY=function(p){return a.avg(p.getMinY(),p.getMaxY())},h.STRtreeNode.get=function(){return gn},h.serialVersionUID.get=function(){return 0x39920f7d5f261e0},h.xComparator.get=function(){return{interfaces_:function(){return[oe]},compare:function(p,_){return s.compareDoubles(a.centreX(p.getBounds()),a.centreX(_.getBounds()))}}},h.yComparator.get=function(){return{interfaces_:function(){return[oe]},compare:function(p,_){return s.compareDoubles(a.centreY(p.getBounds()),a.centreY(_.getBounds()))}}},h.intersectsOp.get=function(){return{interfaces_:function(){return[s.IntersectsOp]},intersects:function(p,_){return p.intersects(_)}}},h.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(a,h),a}(Jt),gn=function(s){function a(){s.call(this,arguments[0])}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.computeBounds=function(){for(var h=null,p=this.getChildBoundables().iterator();p.hasNext();){var _=p.next();null===h?h=new Ae(_.getBounds()):h.expandToInclude(_.getBounds())}return h},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}($i),Or=function(){};Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or},Or.relativeSign=function(s,a){return s<a?-1:s>a?1:0},Or.compare=function(s,a,h){if(a.equals2D(h))return 0;var p=Or.relativeSign(a.x,h.x),_=Or.relativeSign(a.y,h.y);switch(s){case 0:return Or.compareValue(p,_);case 1:return Or.compareValue(_,p);case 2:return Or.compareValue(_,-p);case 3:return Or.compareValue(-p,_);case 4:return Or.compareValue(-p,-_);case 5:return Or.compareValue(-_,-p);case 6:return Or.compareValue(-_,p);case 7:return Or.compareValue(p,-_)}return be.shouldNeverReachHere("invalid octant value"),0},Or.compareValue=function(s,a){return s<0?-1:s>0?1:a<0?-1:a>0?1:0};var da=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var s=arguments[0],a=arguments[1],h=arguments[2],p=arguments[3];this._segString=s,this.coord=new z(a),this.segmentIndex=h,this._segmentOctant=p,this._isInterior=!a.equals2D(s.getCoordinate(h))};da.prototype.getCoordinate=function(){return this.coord},da.prototype.print=function(s){s.print(this.coord),s.print(" seg # = "+this.segmentIndex)},da.prototype.compareTo=function(s){var a=s;return this.segmentIndex<a.segmentIndex?-1:this.segmentIndex>a.segmentIndex?1:this.coord.equals2D(a.coord)?0:Or.compare(this._segmentOctant,this.coord,a.coord)},da.prototype.isEndPoint=function(s){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===s},da.prototype.isInterior=function(){return this._isInterior},da.prototype.interfaces_=function(){return[F]},da.prototype.getClass=function(){return da};var ki=function(){this._nodeMap=new $,this._edge=null,this._edge=arguments[0]};ki.prototype.getSplitCoordinates=function(){var s=new Uo;this.addEndpoints();for(var a=this.iterator(),h=a.next();a.hasNext();){var p=a.next();this.addEdgeCoordinates(h,p,s),h=p}return s.toCoordinateArray()},ki.prototype.addCollapsedNodes=function(){var s=new pt;this.findCollapsesFromInsertedNodes(s),this.findCollapsesFromExistingVertices(s);for(var a=s.iterator();a.hasNext();){var h=a.next().intValue();this.add(this._edge.getCoordinate(h),h)}},ki.prototype.print=function(s){s.println("Intersections:");for(var a=this.iterator();a.hasNext();)a.next().print(s)},ki.prototype.findCollapsesFromExistingVertices=function(s){for(var a=0;a<this._edge.size()-2;a++){var h=this._edge.getCoordinate(a),p=this._edge.getCoordinate(a+2);h.equals2D(p)&&s.add(new he(a+1))}},ki.prototype.addEdgeCoordinates=function(s,a,h){var p=this._edge.getCoordinate(a.segmentIndex),_=a.isInterior()||!a.coord.equals2D(p);h.add(new z(s.coord),!1);for(var T=s.segmentIndex+1;T<=a.segmentIndex;T++)h.add(this._edge.getCoordinate(T));_&&h.add(new z(a.coord))},ki.prototype.iterator=function(){return this._nodeMap.values().iterator()},ki.prototype.addSplitEdges=function(s){this.addEndpoints(),this.addCollapsedNodes();for(var a=this.iterator(),h=a.next();a.hasNext();){var p=a.next(),_=this.createSplitEdge(h,p);s.add(_),h=p}},ki.prototype.findCollapseIndex=function(s,a,h){if(!s.coord.equals2D(a.coord))return!1;var p=a.segmentIndex-s.segmentIndex;return a.isInterior()||p--,1===p&&(h[0]=s.segmentIndex+1,!0)},ki.prototype.findCollapsesFromInsertedNodes=function(s){for(var a=new Array(1).fill(null),h=this.iterator(),p=h.next();h.hasNext();){var _=h.next();this.findCollapseIndex(p,_,a)&&s.add(new he(a[0])),p=_}},ki.prototype.getEdge=function(){return this._edge},ki.prototype.addEndpoints=function(){var s=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(s),s)},ki.prototype.createSplitEdge=function(s,a){var h=a.segmentIndex-s.segmentIndex+2,p=this._edge.getCoordinate(a.segmentIndex),_=a.isInterior()||!a.coord.equals2D(p);_||h--;var T=new Array(h).fill(null),G=0;T[G++]=new z(s.coord);for(var le=s.segmentIndex+1;le<=a.segmentIndex;le++)T[G++]=this._edge.getCoordinate(le);return _&&(T[G]=new z(a.coord)),new dr(T,this._edge.getData())},ki.prototype.add=function(s,a){var h=new da(this._edge,s,a,this._edge.getSegmentOctant(a)),p=this._nodeMap.get(h);return null!==p?(be.isTrue(p.coord.equals2D(s),"Found equal nodes with different coordinates"),p):(this._nodeMap.put(h,h),h)},ki.prototype.checkSplitEdgesCorrectness=function(s){var a=this._edge.getCoordinates(),h=s.get(0).getCoordinate(0);if(!h.equals2D(a[0]))throw new Ce("bad split edge start point at "+h);var p=s.get(s.size()-1).getCoordinates(),_=p[p.length-1];if(!_.equals2D(a[a.length-1]))throw new Ce("bad split edge end point at "+_)},ki.prototype.interfaces_=function(){return[]},ki.prototype.getClass=function(){return ki};var Ta=function(){};Ta.prototype.interfaces_=function(){return[]},Ta.prototype.getClass=function(){return Ta},Ta.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1];if(0===s&&0===a)throw new B("Cannot compute the octant for point ( "+s+", "+a+" )");var h=Math.abs(s),p=Math.abs(a);return s>=0?a>=0?h>=p?0:1:h>=p?7:6:a>=0?h>=p?3:2:h>=p?4:5}if(arguments[0]instanceof z&&arguments[1]instanceof z){var _=arguments[0],T=arguments[1],G=T.x-_.x,le=T.y-_.y;if(0===G&&0===le)throw new B("Cannot compute the octant for two identical points "+_);return Ta.octant(G,le)}};var Qs=function(){};Qs.prototype.getCoordinates=function(){},Qs.prototype.size=function(){},Qs.prototype.getCoordinate=function(s){},Qs.prototype.isClosed=function(){},Qs.prototype.setData=function(s){},Qs.prototype.getData=function(){},Qs.prototype.interfaces_=function(){return[]},Qs.prototype.getClass=function(){return Qs};var Ti=function(){};Ti.prototype.addIntersection=function(s,a){},Ti.prototype.interfaces_=function(){return[Qs]},Ti.prototype.getClass=function(){return Ti};var dr=function(){this._nodeList=new ki(this),this._pts=null,this._data=null;var a=arguments[1];this._pts=arguments[0],this._data=a};dr.prototype.getCoordinates=function(){return this._pts},dr.prototype.size=function(){return this._pts.length},dr.prototype.getCoordinate=function(s){return this._pts[s]},dr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},dr.prototype.getSegmentOctant=function(s){return s===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(s),this.getCoordinate(s+1))},dr.prototype.setData=function(s){this._data=s},dr.prototype.safeOctant=function(s,a){return s.equals2D(a)?0:Ta.octant(s,a)},dr.prototype.getData=function(){return this._data},dr.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var p=arguments[1],T=new z(arguments[0].getIntersection(arguments[3]));this.addIntersection(T,p)}},dr.prototype.toString=function(){return qe.toLineString(new sn(this._pts))},dr.prototype.getNodeList=function(){return this._nodeList},dr.prototype.addIntersectionNode=function(s,a){var h=a,p=h+1;return p<this._pts.length&&s.equals2D(this._pts[p])&&(h=p),this._nodeList.add(s,h)},dr.prototype.addIntersections=function(s,a,h){for(var p=0;p<s.getIntersectionNum();p++)this.addIntersection(s,a,h,p)},dr.prototype.interfaces_=function(){return[Ti]},dr.prototype.getClass=function(){return dr},dr.getNodedSubstrings=function(){if(1===arguments.length){var s=arguments[0],a=new pt;return dr.getNodedSubstrings(s,a),a}if(2===arguments.length)for(var p=arguments[1],_=arguments[0].iterator();_.hasNext();)_.next().getNodeList().addSplitEdges(p)};var Tt=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new z,this.p1=new z;else if(1===arguments.length){var s=arguments[0];this.p0=new z(s.p0),this.p1=new z(s.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var p=arguments[2],_=arguments[3];this.p0=new z(arguments[0],arguments[1]),this.p1=new z(p,_)}},vh={serialVersionUID:{configurable:!0}};Tt.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Tt.prototype.orientationIndex=function(){if(arguments[0]instanceof Tt){var s=arguments[0],a=Ge.orientationIndex(this.p0,this.p1,s.p0),h=Ge.orientationIndex(this.p0,this.p1,s.p1);return a>=0&&h>=0||a<=0&&h<=0?Math.max(a,h):0}if(arguments[0]instanceof z)return Ge.orientationIndex(this.p0,this.p1,arguments[0])},Tt.prototype.toGeometry=function(s){return s.createLineString([this.p0,this.p1])},Tt.prototype.isVertical=function(){return this.p0.x===this.p1.x},Tt.prototype.equals=function(s){if(!(s instanceof Tt))return!1;var a=s;return this.p0.equals(a.p0)&&this.p1.equals(a.p1)},Tt.prototype.intersection=function(s){var a=new Oe;return a.computeIntersection(this.p0,this.p1,s.p0,s.p1),a.hasIntersection()?a.getIntersection(0):null},Tt.prototype.project=function(){if(arguments[0]instanceof z){var s=arguments[0];if(s.equals(this.p0)||s.equals(this.p1))return new z(s);var a=this.projectionFactor(s),h=new z;return h.x=this.p0.x+a*(this.p1.x-this.p0.x),h.y=this.p0.y+a*(this.p1.y-this.p0.y),h}if(arguments[0]instanceof Tt){var p=arguments[0],_=this.projectionFactor(p.p0),T=this.projectionFactor(p.p1);if(_>=1&&T>=1||_<=0&&T<=0)return null;var G=this.project(p.p0);_<0&&(G=this.p0),_>1&&(G=this.p1);var le=this.project(p.p1);return T<0&&(le=this.p0),T>1&&(le=this.p1),new Tt(G,le)}},Tt.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Tt.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Tt.prototype.getCoordinate=function(s){return 0===s?this.p0:this.p1},Tt.prototype.distancePerpendicular=function(s){return Ge.distancePointLinePerpendicular(s,this.p0,this.p1)},Tt.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Tt.prototype.midPoint=function(){return Tt.midPoint(this.p0,this.p1)},Tt.prototype.projectionFactor=function(s){if(s.equals(this.p0))return 0;if(s.equals(this.p1))return 1;var a=this.p1.x-this.p0.x,h=this.p1.y-this.p0.y,p=a*a+h*h;return p<=0?I.NaN:((s.x-this.p0.x)*a+(s.y-this.p0.y)*h)/p},Tt.prototype.closestPoints=function(s){var a=this.intersection(s);if(null!==a)return[a,a];var h=new Array(2).fill(null),p=I.MAX_VALUE,_=null,T=this.closestPoint(s.p0);p=T.distance(s.p0),h[0]=T,h[1]=s.p0;var G=this.closestPoint(s.p1);(_=G.distance(s.p1))<p&&(p=_,h[0]=G,h[1]=s.p1);var le=s.closestPoint(this.p0);(_=le.distance(this.p0))<p&&(p=_,h[0]=this.p0,h[1]=le);var Pe=s.closestPoint(this.p1);return(_=Pe.distance(this.p1))<p&&(p=_,h[0]=this.p1,h[1]=Pe),h},Tt.prototype.closestPoint=function(s){var a=this.projectionFactor(s);return a>0&&a<1?this.project(s):this.p0.distance(s)<this.p1.distance(s)?this.p0:this.p1},Tt.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Tt.prototype.getLength=function(){return this.p0.distance(this.p1)},Tt.prototype.compareTo=function(s){var a=s,h=this.p0.compareTo(a.p0);return 0!==h?h:this.p1.compareTo(a.p1)},Tt.prototype.reverse=function(){var s=this.p0;this.p0=this.p1,this.p1=s},Tt.prototype.equalsTopo=function(s){return this.p0.equals(s.p0)&&(this.p1.equals(s.p1)||this.p0.equals(s.p1))&&this.p1.equals(s.p0)},Tt.prototype.lineIntersection=function(s){try{return ye.intersection(this.p0,this.p1,s.p0,s.p1)}catch(a){if(!(a instanceof W))throw a}return null},Tt.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Tt.prototype.pointAlongOffset=function(s,a){var h=this.p0.x+s*(this.p1.x-this.p0.x),p=this.p0.y+s*(this.p1.y-this.p0.y),_=this.p1.x-this.p0.x,T=this.p1.y-this.p0.y,G=Math.sqrt(_*_+T*T),le=0,Pe=0;if(0!==a){if(G<=0)throw new Error("Cannot compute offset from zero-length line segment");le=a*_/G,Pe=a*T/G}return new z(h-Pe,p+le)},Tt.prototype.setCoordinates=function(){if(1===arguments.length){var s=arguments[0];this.setCoordinates(s.p0,s.p1)}else if(2===arguments.length){var a=arguments[0],h=arguments[1];this.p0.x=a.x,this.p0.y=a.y,this.p1.x=h.x,this.p1.y=h.y}},Tt.prototype.segmentFraction=function(s){var a=this.projectionFactor(s);return a<0?a=0:(a>1||I.isNaN(a))&&(a=1),a},Tt.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Tt.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Tt.prototype.distance=function(){if(arguments[0]instanceof Tt){var s=arguments[0];return Ge.distanceLineLine(this.p0,this.p1,s.p0,s.p1)}if(arguments[0]instanceof z)return Ge.distancePointLine(arguments[0],this.p0,this.p1)},Tt.prototype.pointAlong=function(s){var a=new z;return a.x=this.p0.x+s*(this.p1.x-this.p0.x),a.y=this.p0.y+s*(this.p1.y-this.p0.y),a},Tt.prototype.hashCode=function(){var s=I.doubleToLongBits(this.p0.x);s^=31*I.doubleToLongBits(this.p0.y);var a=Math.trunc(s)^Math.trunc(s>>32),h=I.doubleToLongBits(this.p1.x);return h^=31*I.doubleToLongBits(this.p1.y),a^Math.trunc(h)^Math.trunc(h>>32)},Tt.prototype.interfaces_=function(){return[F,P]},Tt.prototype.getClass=function(){return Tt},Tt.midPoint=function(s,a){return new z((s.x+a.x)/2,(s.y+a.y)/2)},vh.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Tt,vh);var Js=function(){this.tempEnv1=new Ae,this.tempEnv2=new Ae,this._overlapSeg1=new Tt,this._overlapSeg2=new Tt};Js.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var h=arguments[2],p=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),h.getLineSegment(p,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Js.prototype.interfaces_=function(){return[]},Js.prototype.getClass=function(){return Js};var ir=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var a=arguments[1],h=arguments[2],p=arguments[3];this._pts=arguments[0],this._start=a,this._end=h,this._context=p};ir.prototype.getLineSegment=function(s,a){a.p0=this._pts[s],a.p1=this._pts[s+1]},ir.prototype.computeSelect=function(s,a,h,p){if(p.tempEnv1.init(this._pts[a],this._pts[h]),h-a==1)return p.select(this,a),null;if(!s.intersects(p.tempEnv1))return null;var G=Math.trunc((a+h)/2);a<G&&this.computeSelect(s,a,G,p),G<h&&this.computeSelect(s,G,h,p)},ir.prototype.getCoordinates=function(){for(var s=new Array(this._end-this._start+1).fill(null),a=0,h=this._start;h<=this._end;h++)s[a++]=this._pts[h];return s},ir.prototype.computeOverlaps=function(s,a){this.computeOverlapsInternal(this._start,this._end,s,s._start,s._end,a)},ir.prototype.setId=function(s){this._id=s},ir.prototype.select=function(s,a){this.computeSelect(s,this._start,this._end,a)},ir.prototype.getEnvelope=function(){return null===this._env&&(this._env=new Ae(this._pts[this._start],this._pts[this._end])),this._env},ir.prototype.getEndIndex=function(){return this._end},ir.prototype.getStartIndex=function(){return this._start},ir.prototype.getContext=function(){return this._context},ir.prototype.getId=function(){return this._id},ir.prototype.computeOverlapsInternal=function(s,a,h,p,_,T){var G=this._pts[s],le=this._pts[a],Pe=h._pts[p],Ue=h._pts[_];if(a-s==1&&_-p==1)return T.overlap(this,s,h,p),null;if(T.tempEnv1.init(G,le),T.tempEnv2.init(Pe,Ue),!T.tempEnv1.intersects(T.tempEnv2))return null;var nt=Math.trunc((s+a)/2),rt=Math.trunc((p+_)/2);s<nt&&(p<rt&&this.computeOverlapsInternal(s,nt,h,p,rt,T),rt<_&&this.computeOverlapsInternal(s,nt,h,rt,_,T)),nt<a&&(p<rt&&this.computeOverlapsInternal(nt,a,h,p,rt,T),rt<_&&this.computeOverlapsInternal(nt,a,h,rt,_,T))},ir.prototype.interfaces_=function(){return[]},ir.prototype.getClass=function(){return ir};var Co=function(){};Co.prototype.interfaces_=function(){return[]},Co.prototype.getClass=function(){return Co},Co.getChainStartIndices=function(s){var a=0,h=new pt;h.add(new he(a));do{var p=Co.findChainEnd(s,a);h.add(new he(p)),a=p}while(a<s.length-1);return Co.toIntArray(h)},Co.findChainEnd=function(s,a){for(var h=a;h<s.length-1&&s[h].equals2D(s[h+1]);)h++;if(h>=s.length-1)return s.length-1;for(var p=mi.quadrant(s[h],s[h+1]),_=a+1;_<s.length&&(s[_-1].equals2D(s[_])||mi.quadrant(s[_-1],s[_])===p);)_++;return _-1},Co.getChains=function(){if(1===arguments.length)return Co.getChains(arguments[0],null);if(2===arguments.length){for(var a=arguments[0],h=arguments[1],p=new pt,_=Co.getChainStartIndices(a),T=0;T<_.length-1;T++){var G=new ir(a,_[T],_[T+1],h);p.add(G)}return p}},Co.toIntArray=function(s){for(var a=new Array(s.size()).fill(null),h=0;h<a.length;h++)a[h]=s.get(h).intValue();return a};var pa=function(){};pa.prototype.computeNodes=function(s){},pa.prototype.getNodedSubstrings=function(){},pa.prototype.interfaces_=function(){return[]},pa.prototype.getClass=function(){return pa};var Fu=function(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};Fu.prototype.setSegmentIntersector=function(s){this._segInt=s},Fu.prototype.interfaces_=function(){return[pa]},Fu.prototype.getClass=function(){return Fu};var Il=function(s){function a(p){p?s.call(this,p):s.call(this),this._monoChains=new pt,this._index=new Pl,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a;var h={SegmentOverlapAction:{configurable:!0}};return a.prototype.getMonotoneChains=function(){return this._monoChains},a.prototype.getNodedSubstrings=function(){return dr.getNodedSubstrings(this._nodedSegStrings)},a.prototype.getIndex=function(){return this._index},a.prototype.add=function(p){for(var _=Co.getChains(p.getCoordinates(),p).iterator();_.hasNext();){var T=_.next();T.setId(this._idCounter++),this._index.insert(T.getEnvelope(),T),this._monoChains.add(T)}},a.prototype.computeNodes=function(p){this._nodedSegStrings=p;for(var _=p.iterator();_.hasNext();)this.add(_.next());this.intersectChains()},a.prototype.intersectChains=function(){for(var p=new Bu(this._segInt),_=this._monoChains.iterator();_.hasNext();)for(var T=_.next(),G=this._index.query(T.getEnvelope()).iterator();G.hasNext();){var le=G.next();if(le.getId()>T.getId()&&(T.computeOverlaps(le,p),this._nOverlaps++),this._segInt.isDone())return null}},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},h.SegmentOverlapAction.get=function(){return Bu},Object.defineProperties(a,h),a}(Fu),Bu=function(s){function a(){s.call(this),this._si=null,this._si=arguments[0]}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.overlap=function(){if(4!==arguments.length)return s.prototype.overlap.apply(this,arguments);var p=arguments[1],_=arguments[2],T=arguments[3],G=arguments[0].getContext(),le=_.getContext();this._si.processIntersections(G,p,le,T)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(Js),xn=function s(){if(this._quadrantSegments=s.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=s.CAP_ROUND,this._joinStyle=s.JOIN_ROUND,this._mitreLimit=s.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=s.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var p=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(p)}else if(4===arguments.length){var T=arguments[1],G=arguments[2],le=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(T),this.setJoinStyle(G),this.setMitreLimit(le)}},Eo={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};xn.prototype.getEndCapStyle=function(){return this._endCapStyle},xn.prototype.isSingleSided=function(){return this._isSingleSided},xn.prototype.setQuadrantSegments=function(s){this._quadrantSegments=s,0===this._quadrantSegments&&(this._joinStyle=xn.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=xn.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),s<=0&&(this._quadrantSegments=1),this._joinStyle!==xn.JOIN_ROUND&&(this._quadrantSegments=xn.DEFAULT_QUADRANT_SEGMENTS)},xn.prototype.getJoinStyle=function(){return this._joinStyle},xn.prototype.setJoinStyle=function(s){this._joinStyle=s},xn.prototype.setSimplifyFactor=function(s){this._simplifyFactor=s<0?0:s},xn.prototype.getSimplifyFactor=function(){return this._simplifyFactor},xn.prototype.getQuadrantSegments=function(){return this._quadrantSegments},xn.prototype.setEndCapStyle=function(s){this._endCapStyle=s},xn.prototype.getMitreLimit=function(){return this._mitreLimit},xn.prototype.setMitreLimit=function(s){this._mitreLimit=s},xn.prototype.setSingleSided=function(s){this._isSingleSided=s},xn.prototype.interfaces_=function(){return[]},xn.prototype.getClass=function(){return xn},xn.bufferDistanceError=function(s){var a=Math.PI/2/s;return 1-Math.cos(a/2)},Eo.CAP_ROUND.get=function(){return 1},Eo.CAP_FLAT.get=function(){return 2},Eo.CAP_SQUARE.get=function(){return 3},Eo.JOIN_ROUND.get=function(){return 1},Eo.JOIN_MITRE.get=function(){return 2},Eo.JOIN_BEVEL.get=function(){return 3},Eo.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Eo.DEFAULT_MITRE_LIMIT.get=function(){return 5},Eo.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(xn,Eo);var Wi=function(s){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Ge.COUNTERCLOCKWISE,this._inputLine=s||null},st={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Wi.prototype.isDeletable=function(s,a,h,p){var _=this._inputLine[s],T=this._inputLine[a],G=this._inputLine[h];return!!this.isConcave(_,T,G)&&!!this.isShallow(_,T,G,p)&&this.isShallowSampled(_,T,s,h,p)},Wi.prototype.deleteShallowConcavities=function(){for(var s=1,a=this.findNextNonDeletedIndex(s),h=this.findNextNonDeletedIndex(a),p=!1;h<this._inputLine.length;){var _=!1;this.isDeletable(s,a,h,this._distanceTol)&&(this._isDeleted[a]=Wi.DELETE,_=!0,p=!0),a=this.findNextNonDeletedIndex(s=_?h:a),h=this.findNextNonDeletedIndex(a)}return p},Wi.prototype.isShallowConcavity=function(s,a,h,p){return Ge.computeOrientation(s,a,h)===this._angleOrientation&&Ge.distancePointLine(a,s,h)<p},Wi.prototype.isShallowSampled=function(s,a,h,p,_){var T=Math.trunc((p-h)/Wi.NUM_PTS_TO_CHECK);T<=0&&(T=1);for(var G=h;G<p;G+=T)if(!this.isShallow(s,a,this._inputLine[G],_))return!1;return!0},Wi.prototype.isConcave=function(s,a,h){return Ge.computeOrientation(s,a,h)===this._angleOrientation},Wi.prototype.simplify=function(s){this._distanceTol=Math.abs(s),s<0&&(this._angleOrientation=Ge.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var a=!1;do{a=this.deleteShallowConcavities()}while(a);return this.collapseLine()},Wi.prototype.findNextNonDeletedIndex=function(s){for(var a=s+1;a<this._inputLine.length&&this._isDeleted[a]===Wi.DELETE;)a++;return a},Wi.prototype.isShallow=function(s,a,h,p){return Ge.distancePointLine(a,s,h)<p},Wi.prototype.collapseLine=function(){for(var s=new Uo,a=0;a<this._inputLine.length;a++)this._isDeleted[a]!==Wi.DELETE&&s.add(this._inputLine[a]);return s.toCoordinateArray()},Wi.prototype.interfaces_=function(){return[]},Wi.prototype.getClass=function(){return Wi},Wi.simplify=function(s,a){return new Wi(s).simplify(a)},st.INIT.get=function(){return 0},st.DELETE.get=function(){return 1},st.KEEP.get=function(){return 1},st.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Wi,st);var Mr=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new pt},Yo={COORDINATE_ARRAY_TYPE:{configurable:!0}};Mr.prototype.getCoordinates=function(){return this._ptList.toArray(Mr.COORDINATE_ARRAY_TYPE)},Mr.prototype.setPrecisionModel=function(s){this._precisionModel=s},Mr.prototype.addPt=function(s){var a=new z(s);if(this._precisionModel.makePrecise(a),this.isRedundant(a))return null;this._ptList.add(a)},Mr.prototype.revere=function(){},Mr.prototype.addPts=function(s,a){if(a)for(var h=0;h<s.length;h++)this.addPt(s[h]);else for(var p=s.length-1;p>=0;p--)this.addPt(s[p])},Mr.prototype.isRedundant=function(s){if(this._ptList.size()<1)return!1;var a=this._ptList.get(this._ptList.size()-1);return s.distance(a)<this._minimimVertexDistance},Mr.prototype.toString=function(){return(new gt).createLineString(this.getCoordinates()).toString()},Mr.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var s=new z(this._ptList.get(0)),a=this._ptList.get(this._ptList.size()-1);if(s.equals(a))return null;this._ptList.add(s)},Mr.prototype.setMinimumVertexDistance=function(s){this._minimimVertexDistance=s},Mr.prototype.interfaces_=function(){return[]},Mr.prototype.getClass=function(){return Mr},Yo.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Mr,Yo);var mn=function(){},Hr={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn},mn.toDegrees=function(s){return 180*s/Math.PI},mn.normalize=function(s){for(;s>Math.PI;)s-=mn.PI_TIMES_2;for(;s<=-Math.PI;)s+=mn.PI_TIMES_2;return s},mn.angle=function(){if(1===arguments.length){var s=arguments[0];return Math.atan2(s.y,s.x)}if(2===arguments.length){var a=arguments[0],h=arguments[1];return Math.atan2(h.y-a.y,h.x-a.x)}},mn.isAcute=function(s,a,h){return(s.x-a.x)*(h.x-a.x)+(s.y-a.y)*(h.y-a.y)>0},mn.isObtuse=function(s,a,h){return(s.x-a.x)*(h.x-a.x)+(s.y-a.y)*(h.y-a.y)<0},mn.interiorAngle=function(s,a,h){var p=mn.angle(a,s),_=mn.angle(a,h);return Math.abs(_-p)},mn.normalizePositive=function(s){if(s<0){for(;s<0;)s+=mn.PI_TIMES_2;s>=mn.PI_TIMES_2&&(s=0)}else{for(;s>=mn.PI_TIMES_2;)s-=mn.PI_TIMES_2;s<0&&(s=0)}return s},mn.angleBetween=function(s,a,h){var p=mn.angle(a,s),_=mn.angle(a,h);return mn.diff(p,_)},mn.diff=function(s,a){var h=null;return(h=s<a?a-s:s-a)>Math.PI&&(h=2*Math.PI-h),h},mn.toRadians=function(s){return s*Math.PI/180},mn.getTurn=function(s,a){var h=Math.sin(a-s);return h>0?mn.COUNTERCLOCKWISE:h<0?mn.CLOCKWISE:mn.NONE},mn.angleBetweenOriented=function(s,a,h){var p=mn.angle(a,s),_=mn.angle(a,h)-p;return _<=-Math.PI?_+mn.PI_TIMES_2:_>Math.PI?_-mn.PI_TIMES_2:_},Hr.PI_TIMES_2.get=function(){return 2*Math.PI},Hr.PI_OVER_2.get=function(){return Math.PI/2},Hr.PI_OVER_4.get=function(){return Math.PI/4},Hr.COUNTERCLOCKWISE.get=function(){return Ge.COUNTERCLOCKWISE},Hr.CLOCKWISE.get=function(){return Ge.CLOCKWISE},Hr.NONE.get=function(){return Ge.COLLINEAR},Object.defineProperties(mn,Hr);var _i=function s(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Tt,this._seg1=new Tt,this._offset0=new Tt,this._offset1=new Tt,this._side=0,this._hasNarrowConcaveAngle=!1;var h=arguments[1],p=arguments[2];this._precisionModel=arguments[0],this._bufParams=h,this._li=new Oe,this._filletAngleQuantum=Math.PI/2/h.getQuadrantSegments(),h.getQuadrantSegments()>=8&&h.getJoinStyle()===xn.JOIN_ROUND&&(this._closingSegLengthFactor=s.MAX_CLOSING_SEG_LEN_FACTOR),this.init(p)},_u={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};_i.prototype.addNextSegment=function(s,a){if(this._s0=this._s1,this._s1=this._s2,this._s2=s,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var h=Ge.computeOrientation(this._s0,this._s1,this._s2),p=h===Ge.CLOCKWISE&&this._side===ut.LEFT||h===Ge.COUNTERCLOCKWISE&&this._side===ut.RIGHT;0===h?this.addCollinear(a):p?this.addOutsideTurn(h,a):this.addInsideTurn(h,a)},_i.prototype.addLineEndCap=function(s,a){var h=new Tt(s,a),p=new Tt;this.computeOffsetSegment(h,ut.LEFT,this._distance,p);var _=new Tt;this.computeOffsetSegment(h,ut.RIGHT,this._distance,_);var le=Math.atan2(a.y-s.y,a.x-s.x);switch(this._bufParams.getEndCapStyle()){case xn.CAP_ROUND:this._segList.addPt(p.p1),this.addFilletArc(a,le+Math.PI/2,le-Math.PI/2,Ge.CLOCKWISE,this._distance),this._segList.addPt(_.p1);break;case xn.CAP_FLAT:this._segList.addPt(p.p1),this._segList.addPt(_.p1);break;case xn.CAP_SQUARE:var Pe=new z;Pe.x=Math.abs(this._distance)*Math.cos(le),Pe.y=Math.abs(this._distance)*Math.sin(le);var Ue=new z(p.p1.x+Pe.x,p.p1.y+Pe.y),nt=new z(_.p1.x+Pe.x,_.p1.y+Pe.y);this._segList.addPt(Ue),this._segList.addPt(nt)}},_i.prototype.getCoordinates=function(){return this._segList.getCoordinates()},_i.prototype.addMitreJoin=function(s,a,h,p){var _=!0,T=null;try{T=ye.intersection(a.p0,a.p1,h.p0,h.p1),(p<=0?1:T.distance(s)/Math.abs(p))>this._bufParams.getMitreLimit()&&(_=!1)}catch(G){if(!(G instanceof W))throw G;T=new z(0,0),_=!1}_?this._segList.addPt(T):this.addLimitedMitreJoin(a,h,p,this._bufParams.getMitreLimit())},_i.prototype.addFilletCorner=function(s,a,h,p,_){var le=Math.atan2(a.y-s.y,a.x-s.x),nt=Math.atan2(h.y-s.y,h.x-s.x);p===Ge.CLOCKWISE?le<=nt&&(le+=2*Math.PI):le>=nt&&(le-=2*Math.PI),this._segList.addPt(a),this.addFilletArc(s,le,nt,p,_),this._segList.addPt(h)},_i.prototype.addOutsideTurn=function(s,a){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*_i.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===xn.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===xn.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(a&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,s,this._distance),this._segList.addPt(this._offset1.p0))},_i.prototype.createSquare=function(s){this._segList.addPt(new z(s.x+this._distance,s.y+this._distance)),this._segList.addPt(new z(s.x+this._distance,s.y-this._distance)),this._segList.addPt(new z(s.x-this._distance,s.y-this._distance)),this._segList.addPt(new z(s.x-this._distance,s.y+this._distance)),this._segList.closeRing()},_i.prototype.addSegments=function(s,a){this._segList.addPts(s,a)},_i.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},_i.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},_i.prototype.initSideSegments=function(s,a,h){this._s1=s,this._s2=a,this._side=h,this._seg1.setCoordinates(s,a),this.computeOffsetSegment(this._seg1,h,this._distance,this._offset1)},_i.prototype.addLimitedMitreJoin=function(s,a,h,p){var _=this._seg0.p1,T=mn.angle(_,this._seg0.p0),G=mn.angleBetweenOriented(this._seg0.p0,_,this._seg1.p1)/2,le=mn.normalize(T+G),Pe=mn.normalize(le+Math.PI),Ue=p*h,nt=h-Ue*Math.abs(Math.sin(G)),rt=_.x+Ue*Math.cos(Pe),bt=_.y+Ue*Math.sin(Pe),Ct=new z(rt,bt),Ot=new Tt(_,Ct),Wt=Ot.pointAlongOffset(1,nt),at=Ot.pointAlongOffset(1,-nt);this._side===ut.LEFT?(this._segList.addPt(Wt),this._segList.addPt(at)):(this._segList.addPt(at),this._segList.addPt(Wt))},_i.prototype.computeOffsetSegment=function(s,a,h,p){var _=a===ut.LEFT?1:-1,T=s.p1.x-s.p0.x,G=s.p1.y-s.p0.y,le=Math.sqrt(T*T+G*G),Pe=_*h*T/le,Ue=_*h*G/le;p.p0.x=s.p0.x-Ue,p.p0.y=s.p0.y+Pe,p.p1.x=s.p1.x-Ue,p.p1.y=s.p1.y+Pe},_i.prototype.addFilletArc=function(s,a,h,p,_){var T=p===Ge.CLOCKWISE?-1:1,G=Math.abs(a-h),le=Math.trunc(G/this._filletAngleQuantum+.5);if(le<1)return null;for(var Pe=G/le,Ue=0,nt=new z;Ue<G;){var rt=a+T*Ue;nt.x=s.x+_*Math.cos(rt),nt.y=s.y+_*Math.sin(rt),this._segList.addPt(nt),Ue+=Pe}},_i.prototype.addInsideTurn=function(s,a){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*_i.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var h=new z((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(h);var p=new z((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(p)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},_i.prototype.createCircle=function(s){var a=new z(s.x+this._distance,s.y);this._segList.addPt(a),this.addFilletArc(s,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},_i.prototype.addBevelJoin=function(s,a){this._segList.addPt(s.p1),this._segList.addPt(a.p0)},_i.prototype.init=function(s){this._distance=s,this._maxCurveSegmentError=s*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Mr,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(s*_i.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},_i.prototype.addCollinear=function(s){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===xn.JOIN_BEVEL||this._bufParams.getJoinStyle()===xn.JOIN_MITRE?(s&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Ge.CLOCKWISE,this._distance))},_i.prototype.closeRing=function(){this._segList.closeRing()},_i.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},_i.prototype.interfaces_=function(){return[]},_i.prototype.getClass=function(){return _i},_u.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},_u.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},_u.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},_u.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(_i,_u);var uo=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var a=arguments[1];this._precisionModel=arguments[0],this._bufParams=a};uo.prototype.getOffsetCurve=function(s,a){if(this._distance=a,0===a)return null;var h=a<0,p=Math.abs(a),_=this.getSegGen(p);s.length<=1?this.computePointCurve(s[0],_):this.computeOffsetCurve(s,h,_);var T=_.getCoordinates();return h&&ln.reverse(T),T},uo.prototype.computeSingleSidedBufferCurve=function(s,a,h){var p=this.simplifyTolerance(this._distance);if(a){h.addSegments(s,!0);var _=Wi.simplify(s,-p),T=_.length-1;h.initSideSegments(_[T],_[T-1],ut.LEFT),h.addFirstSegment();for(var G=T-2;G>=0;G--)h.addNextSegment(_[G],!0)}else{h.addSegments(s,!1);var le=Wi.simplify(s,p),Pe=le.length-1;h.initSideSegments(le[0],le[1],ut.LEFT),h.addFirstSegment();for(var Ue=2;Ue<=Pe;Ue++)h.addNextSegment(le[Ue],!0)}h.addLastSegment(),h.closeRing()},uo.prototype.computeRingBufferCurve=function(s,a,h){var p=this.simplifyTolerance(this._distance);a===ut.RIGHT&&(p=-p);var _=Wi.simplify(s,p),T=_.length-1;h.initSideSegments(_[T-1],_[0],a);for(var G=1;G<=T;G++)h.addNextSegment(_[G],1!==G);h.closeRing()},uo.prototype.computeLineBufferCurve=function(s,a){var h=this.simplifyTolerance(this._distance),p=Wi.simplify(s,h),_=p.length-1;a.initSideSegments(p[0],p[1],ut.LEFT);for(var T=2;T<=_;T++)a.addNextSegment(p[T],!0);a.addLastSegment(),a.addLineEndCap(p[_-1],p[_]);var G=Wi.simplify(s,-h),le=G.length-1;a.initSideSegments(G[le],G[le-1],ut.LEFT);for(var Pe=le-2;Pe>=0;Pe--)a.addNextSegment(G[Pe],!0);a.addLastSegment(),a.addLineEndCap(G[1],G[0]),a.closeRing()},uo.prototype.computePointCurve=function(s,a){switch(this._bufParams.getEndCapStyle()){case xn.CAP_ROUND:a.createCircle(s);break;case xn.CAP_SQUARE:a.createSquare(s)}},uo.prototype.getLineCurve=function(s,a){if(this._distance=a,a<0&&!this._bufParams.isSingleSided()||0===a)return null;var h=Math.abs(a),p=this.getSegGen(h);return s.length<=1?this.computePointCurve(s[0],p):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(s,a<0,p):this.computeLineBufferCurve(s,p),p.getCoordinates()},uo.prototype.getBufferParameters=function(){return this._bufParams},uo.prototype.simplifyTolerance=function(s){return s*this._bufParams.getSimplifyFactor()},uo.prototype.getRingCurve=function(s,a,h){if(this._distance=h,s.length<=2)return this.getLineCurve(s,h);if(0===h)return uo.copyCoordinates(s);var p=this.getSegGen(h);return this.computeRingBufferCurve(s,a,p),p.getCoordinates()},uo.prototype.computeOffsetCurve=function(s,a,h){var p=this.simplifyTolerance(this._distance);if(a){var _=Wi.simplify(s,-p),T=_.length-1;h.initSideSegments(_[T],_[T-1],ut.LEFT),h.addFirstSegment();for(var G=T-2;G>=0;G--)h.addNextSegment(_[G],!0)}else{var le=Wi.simplify(s,p),Pe=le.length-1;h.initSideSegments(le[0],le[1],ut.LEFT),h.addFirstSegment();for(var Ue=2;Ue<=Pe;Ue++)h.addNextSegment(le[Ue],!0)}h.addLastSegment()},uo.prototype.getSegGen=function(s){return new _i(this._precisionModel,this._bufParams,s)},uo.prototype.interfaces_=function(){return[]},uo.prototype.getClass=function(){return uo},uo.copyCoordinates=function(s){for(var a=new Array(s.length).fill(null),h=0;h<a.length;h++)a[h]=new z(s[h]);return a};var Aa=function(){this._subgraphs=null,this._seg=new Tt,this._cga=new Ge,this._subgraphs=arguments[0]},Ts={DepthSegment:{configurable:!0}};Aa.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var s=arguments[0],a=new pt,h=this._subgraphs.iterator();h.hasNext();){var p=h.next(),_=p.getEnvelope();s.y<_.getMinY()||s.y>_.getMaxY()||this.findStabbedSegments(s,p.getDirectedEdges(),a)}return a}if(3===arguments.length)if(Te(arguments[2],cr)&&arguments[0]instanceof z&&arguments[1]instanceof cl){for(var T=arguments[0],G=arguments[1],le=arguments[2],Pe=G.getEdge().getCoordinates(),Ue=0;Ue<Pe.length-1;Ue++)if(this._seg.p0=Pe[Ue],this._seg.p1=Pe[Ue+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<T.x||this._seg.isHorizontal()||T.y<this._seg.p0.y||T.y>this._seg.p1.y||Ge.computeOrientation(this._seg.p0,this._seg.p1,T)===Ge.RIGHT)){var nt=G.getDepth(ut.LEFT);this._seg.p0.equals(Pe[Ue])||(nt=G.getDepth(ut.RIGHT));var rt=new lo(this._seg,nt);le.add(rt)}}else if(Te(arguments[2],cr)&&arguments[0]instanceof z&&Te(arguments[1],cr))for(var bt=arguments[0],Ot=arguments[2],Wt=arguments[1].iterator();Wt.hasNext();){var at=Wt.next();at.isForward()&&this.findStabbedSegments(bt,at,Ot)}},Aa.prototype.getDepth=function(s){var a=this.findStabbedSegments(s);return 0===a.size()?0:Zo.min(a)._leftDepth},Aa.prototype.interfaces_=function(){return[]},Aa.prototype.getClass=function(){return Aa},Ts.DepthSegment.get=function(){return lo},Object.defineProperties(Aa,Ts);var lo=function(){this._upwardSeg=null,this._leftDepth=null;var a=arguments[1];this._upwardSeg=new Tt(arguments[0]),this._leftDepth=a};lo.prototype.compareTo=function(s){var a=s;if(this._upwardSeg.minX()>=a._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=a._upwardSeg.minX())return-1;var h=this._upwardSeg.orientationIndex(a._upwardSeg);return 0!==h||0!=(h=-1*a._upwardSeg.orientationIndex(this._upwardSeg))?h:this._upwardSeg.compareTo(a._upwardSeg)},lo.prototype.compareX=function(s,a){var h=s.p0.compareTo(a.p0);return 0!==h?h:s.p1.compareTo(a.p1)},lo.prototype.toString=function(){return this._upwardSeg.toString()},lo.prototype.interfaces_=function(){return[F]},lo.prototype.getClass=function(){return lo};var hn=function(s,a,h){this.p0=s||null,this.p1=a||null,this.p2=h||null};hn.prototype.area=function(){return hn.area(this.p0,this.p1,this.p2)},hn.prototype.signedArea=function(){return hn.signedArea(this.p0,this.p1,this.p2)},hn.prototype.interpolateZ=function(s){if(null===s)throw new B("Supplied point is null.");return hn.interpolateZ(s,this.p0,this.p1,this.p2)},hn.prototype.longestSideLength=function(){return hn.longestSideLength(this.p0,this.p1,this.p2)},hn.prototype.isAcute=function(){return hn.isAcute(this.p0,this.p1,this.p2)},hn.prototype.circumcentre=function(){return hn.circumcentre(this.p0,this.p1,this.p2)},hn.prototype.area3D=function(){return hn.area3D(this.p0,this.p1,this.p2)},hn.prototype.centroid=function(){return hn.centroid(this.p0,this.p1,this.p2)},hn.prototype.inCentre=function(){return hn.inCentre(this.p0,this.p1,this.p2)},hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn},hn.area=function(s,a,h){return Math.abs(((h.x-s.x)*(a.y-s.y)-(a.x-s.x)*(h.y-s.y))/2)},hn.signedArea=function(s,a,h){return((h.x-s.x)*(a.y-s.y)-(a.x-s.x)*(h.y-s.y))/2},hn.det=function(s,a,h,p){return s*p-a*h},hn.interpolateZ=function(s,a,h,p){var _=a.x,T=a.y,G=h.x-_,le=p.x-_,Pe=h.y-T,Ue=p.y-T,nt=G*Ue-le*Pe,rt=s.x-_,bt=s.y-T;return a.z+(Ue*rt-le*bt)/nt*(h.z-a.z)+(-Pe*rt+G*bt)/nt*(p.z-a.z)},hn.longestSideLength=function(s,a,h){var p=s.distance(a),_=a.distance(h),T=h.distance(s),G=p;return _>G&&(G=_),T>G&&(G=T),G},hn.isAcute=function(s,a,h){return!!mn.isAcute(s,a,h)&&!!mn.isAcute(a,h,s)&&!!mn.isAcute(h,s,a)},hn.circumcentre=function(s,a,h){var p=h.x,_=h.y,T=s.x-p,G=s.y-_,le=a.x-p,Pe=a.y-_,Ue=2*hn.det(T,G,le,Pe),nt=hn.det(G,T*T+G*G,Pe,le*le+Pe*Pe),rt=hn.det(T,T*T+G*G,le,le*le+Pe*Pe);return new z(p-nt/Ue,_+rt/Ue)},hn.perpendicularBisector=function(s,a){var h=a.x-s.x,p=a.y-s.y,_=new ye(s.x+h/2,s.y+p/2,1),T=new ye(s.x-p+h/2,s.y+h+p/2,1);return new ye(_,T)},hn.angleBisector=function(s,a,h){var p=a.distance(s),_=p/(p+a.distance(h));return new z(s.x+_*(h.x-s.x),s.y+_*(h.y-s.y))},hn.area3D=function(s,a,h){var p=a.x-s.x,_=a.y-s.y,T=a.z-s.z,G=h.x-s.x,le=h.y-s.y,Pe=h.z-s.z,Ue=_*Pe-T*le,nt=T*G-p*Pe,rt=p*le-_*G;return Math.sqrt(Ue*Ue+nt*nt+rt*rt)/2},hn.centroid=function(s,a,h){return new z((s.x+a.x+h.x)/3,(s.y+a.y+h.y)/3)},hn.inCentre=function(s,a,h){var p=a.distance(h),_=s.distance(h),T=s.distance(a),G=p+_+T;return new z((p*s.x+_*a.x+T*h.x)/G,(p*s.y+_*a.y+T*h.y)/G)};var pr=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new pt;var a=arguments[1],h=arguments[2];this._inputGeom=arguments[0],this._distance=a,this._curveBuilder=h};pr.prototype.addPoint=function(s){if(this._distance<=0)return null;var a=s.getCoordinates(),h=this._curveBuilder.getLineCurve(a,this._distance);this.addCurve(h,J.EXTERIOR,J.INTERIOR)},pr.prototype.addPolygon=function(s){var a=this._distance,h=ut.LEFT;this._distance<0&&(a=-this._distance,h=ut.RIGHT);var p=s.getExteriorRing(),_=ln.removeRepeatedPoints(p.getCoordinates());if(this._distance<0&&this.isErodedCompletely(p,this._distance)||this._distance<=0&&_.length<3)return null;this.addPolygonRing(_,a,h,J.EXTERIOR,J.INTERIOR);for(var T=0;T<s.getNumInteriorRing();T++){var G=s.getInteriorRingN(T),le=ln.removeRepeatedPoints(G.getCoordinates());this._distance>0&&this.isErodedCompletely(G,-this._distance)||this.addPolygonRing(le,a,ut.opposite(h),J.INTERIOR,J.EXTERIOR)}},pr.prototype.isTriangleErodedCompletely=function(s,a){var h=new hn(s[0],s[1],s[2]),p=h.inCentre();return Ge.distancePointLine(p,h.p0,h.p1)<Math.abs(a)},pr.prototype.addLineString=function(s){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var a=ln.removeRepeatedPoints(s.getCoordinates()),h=this._curveBuilder.getLineCurve(a,this._distance);this.addCurve(h,J.EXTERIOR,J.INTERIOR)},pr.prototype.addCurve=function(s,a,h){if(null===s||s.length<2)return null;var p=new dr(s,new Tn(0,J.BOUNDARY,a,h));this._curveList.add(p)},pr.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},pr.prototype.addPolygonRing=function(s,a,h,p,_){if(0===a&&s.length<Ps.MINIMUM_VALID_SIZE)return null;var T=p,G=_;s.length>=Ps.MINIMUM_VALID_SIZE&&Ge.isCCW(s)&&(T=_,G=p,h=ut.opposite(h));var le=this._curveBuilder.getRingCurve(s,h,a);this.addCurve(le,T,G)},pr.prototype.add=function(s){if(s.isEmpty())return null;s instanceof hr?this.addPolygon(s):s instanceof qi?this.addLineString(s):s instanceof wo?this.addPoint(s):(s instanceof cu||s instanceof Ws||s instanceof rs||s instanceof Gi)&&this.addCollection(s)},pr.prototype.isErodedCompletely=function(s,a){var h=s.getCoordinates();if(h.length<4)return a<0;if(4===h.length)return this.isTriangleErodedCompletely(h,a);var p=s.getEnvelopeInternal(),_=Math.min(p.getHeight(),p.getWidth());return a<0&&2*Math.abs(a)>_},pr.prototype.addCollection=function(s){for(var a=0;a<s.getNumGeometries();a++){var h=s.getGeometryN(a);this.add(h)}},pr.prototype.interfaces_=function(){return[]},pr.prototype.getClass=function(){return pr};var Fn=function(){};Fn.prototype.locate=function(s){},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn};var Xo=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var s=arguments[0];this._parent=s,this._atStart=!0,this._index=0,this._max=s.getNumGeometries()};Xo.prototype.next=function(){if(this._atStart)return this._atStart=!1,Xo.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new v;var s=this._parent.getGeometryN(this._index++);return s instanceof Gi?(this._subcollectionIterator=new Xo(s),this._subcollectionIterator.next()):s},Xo.prototype.remove=function(){throw new Error(this.getClass().getName())},Xo.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Xo.prototype.interfaces_=function(){return[jo]},Xo.prototype.getClass=function(){return Xo},Xo.isAtomic=function(s){return!(s instanceof Gi)};var to=function(){this._geom=null,this._geom=arguments[0]};to.prototype.locate=function(s){return to.locate(s,this._geom)},to.prototype.interfaces_=function(){return[Fn]},to.prototype.getClass=function(){return to},to.isPointInRing=function(s,a){return!!a.getEnvelopeInternal().intersects(s)&&Ge.isPointInRing(s,a.getCoordinates())},to.containsPointInPolygon=function(s,a){if(a.isEmpty())return!1;var h=a.getExteriorRing();if(!to.isPointInRing(s,h))return!1;for(var p=0;p<a.getNumInteriorRing();p++){var _=a.getInteriorRingN(p);if(to.isPointInRing(s,_))return!1}return!0},to.containsPoint=function(s,a){if(a instanceof hr)return to.containsPointInPolygon(s,a);if(a instanceof Gi)for(var h=new Xo(a);h.hasNext();){var p=h.next();if(p!==a&&to.containsPoint(s,p))return!0}return!1},to.locate=function(s,a){return a.isEmpty()?J.EXTERIOR:to.containsPoint(s,a)?J.INTERIOR:J.EXTERIOR};var kr=function(){this._edgeMap=new $,this._edgeList=null,this._ptInAreaLocation=[J.NONE,J.NONE]};kr.prototype.getNextCW=function(s){this.getEdges();var a=this._edgeList.indexOf(s),h=a-1;return 0===a&&(h=this._edgeList.size()-1),this._edgeList.get(h)},kr.prototype.propagateSideLabels=function(s){for(var a=J.NONE,h=this.iterator();h.hasNext();){var p=h.next().getLabel();p.isArea(s)&&p.getLocation(s,ut.LEFT)!==J.NONE&&(a=p.getLocation(s,ut.LEFT))}if(a===J.NONE)return null;for(var _=a,T=this.iterator();T.hasNext();){var G=T.next(),le=G.getLabel();if(le.getLocation(s,ut.ON)===J.NONE&&le.setLocation(s,ut.ON,_),le.isArea(s)){var Pe=le.getLocation(s,ut.LEFT),Ue=le.getLocation(s,ut.RIGHT);if(Ue!==J.NONE){if(Ue!==_)throw new _s("side location conflict",G.getCoordinate());Pe===J.NONE&&be.shouldNeverReachHere("found single null side (at "+G.getCoordinate()+")"),_=Pe}else be.isTrue(le.getLocation(s,ut.LEFT)===J.NONE,"found single null side"),le.setLocation(s,ut.RIGHT,_),le.setLocation(s,ut.LEFT,_)}}},kr.prototype.getCoordinate=function(){var s=this.iterator();return s.hasNext()?s.next().getCoordinate():null},kr.prototype.print=function(s){ae.out.println("EdgeEndStar:   "+this.getCoordinate());for(var a=this.iterator();a.hasNext();)a.next().print(s)},kr.prototype.isAreaLabelsConsistent=function(s){return this.computeEdgeEndLabels(s.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},kr.prototype.checkAreaLabelsConsistent=function(s){var a=this.getEdges();if(a.size()<=0)return!0;var h=a.size()-1,p=a.get(h).getLabel().getLocation(s,ut.LEFT);be.isTrue(p!==J.NONE,"Found unlabelled area edge");for(var _=p,T=this.iterator();T.hasNext();){var G=T.next().getLabel();be.isTrue(G.isArea(s),"Found non-area edge");var le=G.getLocation(s,ut.LEFT),Pe=G.getLocation(s,ut.RIGHT);if(le===Pe||Pe!==_)return!1;_=le}return!0},kr.prototype.findIndex=function(s){this.iterator();for(var a=0;a<this._edgeList.size();a++)if(this._edgeList.get(a)===s)return a;return-1},kr.prototype.iterator=function(){return this.getEdges().iterator()},kr.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new pt(this._edgeMap.values())),this._edgeList},kr.prototype.getLocation=function(s,a,h){return this._ptInAreaLocation[s]===J.NONE&&(this._ptInAreaLocation[s]=to.locate(a,h[s].getGeometry())),this._ptInAreaLocation[s]},kr.prototype.toString=function(){var s=new ve;s.append("EdgeEndStar:   "+this.getCoordinate()),s.append("\n");for(var a=this.iterator();a.hasNext();){var h=a.next();s.append(h),s.append("\n")}return s.toString()},kr.prototype.computeEdgeEndLabels=function(s){for(var a=this.iterator();a.hasNext();)a.next().computeLabel(s)},kr.prototype.computeLabelling=function(s){this.computeEdgeEndLabels(s[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var a=[!1,!1],h=this.iterator();h.hasNext();)for(var p=h.next().getLabel(),_=0;_<2;_++)p.isLine(_)&&p.getLocation(_)===J.BOUNDARY&&(a[_]=!0);for(var T=this.iterator();T.hasNext();)for(var G=T.next(),le=G.getLabel(),Pe=0;Pe<2;Pe++)if(le.isAnyNull(Pe)){var Ue=J.NONE;if(a[Pe])Ue=J.EXTERIOR;else{var nt=G.getCoordinate();Ue=this.getLocation(Pe,nt,s)}le.setAllLocationsIfNull(Pe,Ue)}},kr.prototype.getDegree=function(){return this._edgeMap.size()},kr.prototype.insertEdgeEnd=function(s,a){this._edgeMap.put(s,a),this._edgeList=null},kr.prototype.interfaces_=function(){return[]},kr.prototype.getClass=function(){return kr};var vs=function(s){function a(){s.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var h=null,p=null,_=this._SCANNING_FOR_INCOMING,T=0;T<this._resultAreaEdgeList.size();T++){var G=this._resultAreaEdgeList.get(T),le=G.getSym();if(G.getLabel().isArea())switch(null===h&&G.isInResult()&&(h=G),_){case this._SCANNING_FOR_INCOMING:if(!le.isInResult())continue;p=le,_=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!G.isInResult())continue;p.setNext(G),_=this._SCANNING_FOR_INCOMING}}if(_===this._LINKING_TO_OUTGOING){if(null===h)throw new _s("no outgoing dirEdge found",this.getCoordinate());be.isTrue(h.isInResult(),"unable to link last incoming dirEdge"),p.setNext(h)}},a.prototype.insert=function(h){this.insertEdgeEnd(h,h)},a.prototype.getRightmostEdge=function(){var h=this.getEdges(),p=h.size();if(p<1)return null;var _=h.get(0);if(1===p)return _;var T=h.get(p-1),G=_.getQuadrant(),le=T.getQuadrant();return mi.isNorthern(G)&&mi.isNorthern(le)?_:mi.isNorthern(G)||mi.isNorthern(le)?0!==_.getDy()?_:0!==T.getDy()?T:(be.shouldNeverReachHere("found two horizontal edges incident on node"),null):T},a.prototype.print=function(h){ae.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var p=this.iterator();p.hasNext();){var _=p.next();h.print("out "),_.print(h),h.println(),h.print("in "),_.getSym().print(h),h.println()}},a.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new pt;for(var h=this.iterator();h.hasNext();){var p=h.next();(p.isInResult()||p.getSym().isInResult())&&this._resultAreaEdgeList.add(p)}return this._resultAreaEdgeList},a.prototype.updateLabelling=function(h){for(var p=this.iterator();p.hasNext();){var _=p.next().getLabel();_.setAllLocationsIfNull(0,h.getLocation(0)),_.setAllLocationsIfNull(1,h.getLocation(1))}},a.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var h=null,p=null,_=this._edgeList.size()-1;_>=0;_--){var T=this._edgeList.get(_),G=T.getSym();null===p&&(p=G),null!==h&&G.setNext(h),h=T}p.setNext(h)},a.prototype.computeDepths=function(){if(1===arguments.length){var h=arguments[0],p=this.findIndex(h),_=h.getDepth(ut.LEFT),T=h.getDepth(ut.RIGHT),G=this.computeDepths(p+1,this._edgeList.size(),_);if(this.computeDepths(0,p,G)!==T)throw new _s("depth mismatch at "+h.getCoordinate())}else if(3===arguments.length){for(var Pe=arguments[1],Ue=arguments[2],nt=arguments[0];nt<Pe;nt++){var rt=this._edgeList.get(nt);rt.setEdgeDepths(ut.RIGHT,Ue),Ue=rt.getDepth(ut.LEFT)}return Ue}},a.prototype.mergeSymLabels=function(){for(var h=this.iterator();h.hasNext();){var p=h.next();p.getLabel().merge(p.getSym().getLabel())}},a.prototype.linkMinimalDirectedEdges=function(h){for(var p=null,_=null,T=this._SCANNING_FOR_INCOMING,G=this._resultAreaEdgeList.size()-1;G>=0;G--){var le=this._resultAreaEdgeList.get(G),Pe=le.getSym();switch(null===p&&le.getEdgeRing()===h&&(p=le),T){case this._SCANNING_FOR_INCOMING:if(Pe.getEdgeRing()!==h)continue;_=Pe,T=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(le.getEdgeRing()!==h)continue;_.setNextMin(le),T=this._SCANNING_FOR_INCOMING}}T===this._LINKING_TO_OUTGOING&&(be.isTrue(null!==p,"found null for first outgoing dirEdge"),be.isTrue(p.getEdgeRing()===h,"unable to link last incoming dirEdge"),_.setNextMin(p))},a.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var h=0,p=this.iterator();p.hasNext();)p.next().isInResult()&&h++;return h}if(1===arguments.length){for(var _=arguments[0],T=0,G=this.iterator();G.hasNext();)G.next().getEdgeRing()===_&&T++;return T}},a.prototype.getLabel=function(){return this._label},a.prototype.findCoveredLineEdges=function(){for(var h=J.NONE,p=this.iterator();p.hasNext();){var _=p.next(),T=_.getSym();if(!_.isLineEdge()){if(_.isInResult()){h=J.INTERIOR;break}if(T.isInResult()){h=J.EXTERIOR;break}}}if(h===J.NONE)return null;for(var G=h,le=this.iterator();le.hasNext();){var Pe=le.next(),Ue=Pe.getSym();Pe.isLineEdge()?Pe.getEdge().setCovered(G===J.INTERIOR):(Pe.isInResult()&&(G=J.EXTERIOR),Ue.isInResult()&&(G=J.INTERIOR))}},a.prototype.computeLabelling=function(h){s.prototype.computeLabelling.call(this,h),this._label=new Tn(J.NONE);for(var p=this.iterator();p.hasNext();)for(var _=p.next().getEdge().getLabel(),T=0;T<2;T++){var G=_.getLocation(T);G!==J.INTERIOR&&G!==J.BOUNDARY||this._label.setLocation(T,J.INTERIOR)}},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(kr),Oo=function(s){function a(){s.apply(this,arguments)}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.createNode=function(h){return new ys(h,new vs)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(wr),as=function s(){this._pts=null,this._orientation=null;var a=arguments[0];this._pts=a,this._orientation=s.orientation(a)};as.prototype.compareTo=function(s){return as.compareOriented(this._pts,this._orientation,s._pts,s._orientation)},as.prototype.interfaces_=function(){return[F]},as.prototype.getClass=function(){return as},as.orientation=function(s){return 1===ln.increasingDirection(s)},as.compareOriented=function(s,a,h,p){for(var _=a?1:-1,T=p?1:-1,G=a?s.length:-1,le=p?h.length:-1,Pe=a?0:s.length-1,Ue=p?0:h.length-1;;){var nt=s[Pe].compareTo(h[Ue]);if(0!==nt)return nt;var rt=(Pe+=_)===G,bt=(Ue+=T)===le;if(rt&&!bt)return-1;if(!rt&&bt)return 1;if(rt&&bt)return 0}};var Rr=function(){this._edges=new pt,this._ocaMap=new $};Rr.prototype.print=function(s){s.print("MULTILINESTRING ( ");for(var a=0;a<this._edges.size();a++){var h=this._edges.get(a);a>0&&s.print(","),s.print("(");for(var p=h.getCoordinates(),_=0;_<p.length;_++)_>0&&s.print(","),s.print(p[_].x+" "+p[_].y);s.println(")")}s.print(")  ")},Rr.prototype.addAll=function(s){for(var a=s.iterator();a.hasNext();)this.add(a.next())},Rr.prototype.findEdgeIndex=function(s){for(var a=0;a<this._edges.size();a++)if(this._edges.get(a).equals(s))return a;return-1},Rr.prototype.iterator=function(){return this._edges.iterator()},Rr.prototype.getEdges=function(){return this._edges},Rr.prototype.get=function(s){return this._edges.get(s)},Rr.prototype.findEqualEdge=function(s){var a=new as(s.getCoordinates());return this._ocaMap.get(a)},Rr.prototype.add=function(s){this._edges.add(s);var a=new as(s.getCoordinates());this._ocaMap.put(a,s)},Rr.prototype.interfaces_=function(){return[]},Rr.prototype.getClass=function(){return Rr};var Pr=function(){};Pr.prototype.processIntersections=function(s,a,h,p){},Pr.prototype.isDone=function(){},Pr.prototype.interfaces_=function(){return[]},Pr.prototype.getClass=function(){return Pr};var Nr=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};Nr.prototype.isTrivialIntersection=function(s,a,h,p){if(s===h&&1===this._li.getIntersectionNum()){if(Nr.isAdjacentSegments(a,p))return!0;if(s.isClosed()){var _=s.size()-1;if(0===a&&p===_||0===p&&a===_)return!0}}return!1},Nr.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Nr.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Nr.prototype.getLineIntersector=function(){return this._li},Nr.prototype.hasProperIntersection=function(){return this._hasProper},Nr.prototype.processIntersections=function(s,a,h,p){if(s===h&&a===p)return null;this.numTests++;var _=s.getCoordinates()[a],T=s.getCoordinates()[a+1],G=h.getCoordinates()[p],le=h.getCoordinates()[p+1];this._li.computeIntersection(_,T,G,le),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(s,a,h,p)||(this._hasIntersection=!0,s.addIntersections(this._li,a,0),h.addIntersections(this._li,p,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Nr.prototype.hasIntersection=function(){return this._hasIntersection},Nr.prototype.isDone=function(){return!1},Nr.prototype.hasInteriorIntersection=function(){return this._hasInterior},Nr.prototype.interfaces_=function(){return[Pr]},Nr.prototype.getClass=function(){return Nr},Nr.isAdjacentSegments=function(s,a){return 1===Math.abs(s-a)};var bs=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var a=arguments[1],h=arguments[2];this.coord=new z(arguments[0]),this.segmentIndex=a,this.dist=h};bs.prototype.getSegmentIndex=function(){return this.segmentIndex},bs.prototype.getCoordinate=function(){return this.coord},bs.prototype.print=function(s){s.print(this.coord),s.print(" seg # = "+this.segmentIndex),s.println(" dist = "+this.dist)},bs.prototype.compareTo=function(s){return this.compare(s.segmentIndex,s.dist)},bs.prototype.isEndPoint=function(s){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===s},bs.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},bs.prototype.getDistance=function(){return this.dist},bs.prototype.compare=function(s,a){return this.segmentIndex<s?-1:this.segmentIndex>s?1:this.dist<a?-1:this.dist>a?1:0},bs.prototype.interfaces_=function(){return[F]},bs.prototype.getClass=function(){return bs};var ko=function(){this._nodeMap=new $,this.edge=null,this.edge=arguments[0]};ko.prototype.print=function(s){s.println("Intersections:");for(var a=this.iterator();a.hasNext();)a.next().print(s)},ko.prototype.iterator=function(){return this._nodeMap.values().iterator()},ko.prototype.addSplitEdges=function(s){this.addEndpoints();for(var a=this.iterator(),h=a.next();a.hasNext();){var p=a.next(),_=this.createSplitEdge(h,p);s.add(_),h=p}},ko.prototype.addEndpoints=function(){var s=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[s],s,0)},ko.prototype.createSplitEdge=function(s,a){var h=a.segmentIndex-s.segmentIndex+2,_=a.dist>0||!a.coord.equals2D(this.edge.pts[a.segmentIndex]);_||h--;var T=new Array(h).fill(null),G=0;T[G++]=new z(s.coord);for(var le=s.segmentIndex+1;le<=a.segmentIndex;le++)T[G++]=this.edge.pts[le];return _&&(T[G]=a.coord),new jr(T,new Tn(this.edge._label))},ko.prototype.add=function(s,a,h){var p=new bs(s,a,h),_=this._nodeMap.get(p);return null!==_?_:(this._nodeMap.put(p,p),p)},ko.prototype.isIntersection=function(s){for(var a=this.iterator();a.hasNext();)if(a.next().coord.equals(s))return!0;return!1},ko.prototype.interfaces_=function(){return[]},ko.prototype.getClass=function(){return ko};var Mn=function(){};Mn.prototype.getChainStartIndices=function(s){var a=0,h=new pt;h.add(new he(a));do{var p=this.findChainEnd(s,a);h.add(new he(p)),a=p}while(a<s.length-1);return Mn.toIntArray(h)},Mn.prototype.findChainEnd=function(s,a){for(var h=mi.quadrant(s[a],s[a+1]),p=a+1;p<s.length&&mi.quadrant(s[p-1],s[p])===h;)p++;return p-1},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn},Mn.toIntArray=function(s){for(var a=new Array(s.size()).fill(null),h=0;h<a.length;h++)a[h]=s.get(h).intValue();return a};var us=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Ae,this.env2=new Ae;var s=arguments[0];this.e=s,this.pts=s.getCoordinates();var a=new Mn;this.startIndex=a.getChainStartIndices(this.pts)};us.prototype.getCoordinates=function(){return this.pts},us.prototype.getMaxX=function(s){var a=this.pts[this.startIndex[s]].x,h=this.pts[this.startIndex[s+1]].x;return a>h?a:h},us.prototype.getMinX=function(s){var a=this.pts[this.startIndex[s]].x,h=this.pts[this.startIndex[s+1]].x;return a<h?a:h},us.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var s=arguments[0],a=arguments[1],h=arguments[2];this.computeIntersectsForChain(this.startIndex[s],this.startIndex[s+1],a,a.startIndex[h],a.startIndex[h+1],arguments[3])}else if(6===arguments.length){var _=arguments[0],T=arguments[1],G=arguments[2],le=arguments[3],Pe=arguments[4],Ue=arguments[5],nt=this.pts[_],rt=this.pts[T],bt=G.pts[le],Ct=G.pts[Pe];if(T-_==1&&Pe-le==1)return Ue.addIntersections(this.e,_,G.e,le),null;if(this.env1.init(nt,rt),this.env2.init(bt,Ct),!this.env1.intersects(this.env2))return null;var Ot=Math.trunc((_+T)/2),Wt=Math.trunc((le+Pe)/2);_<Ot&&(le<Wt&&this.computeIntersectsForChain(_,Ot,G,le,Wt,Ue),Wt<Pe&&this.computeIntersectsForChain(_,Ot,G,Wt,Pe,Ue)),Ot<T&&(le<Wt&&this.computeIntersectsForChain(Ot,T,G,le,Wt,Ue),Wt<Pe&&this.computeIntersectsForChain(Ot,T,G,Wt,Pe,Ue))}},us.prototype.getStartIndexes=function(){return this.startIndex},us.prototype.computeIntersects=function(s,a){for(var h=0;h<this.startIndex.length-1;h++)for(var p=0;p<s.startIndex.length-1;p++)this.computeIntersectsForChain(h,s,p,a)},us.prototype.interfaces_=function(){return[]},us.prototype.getClass=function(){return us};var Fr=function s(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var a=0;a<2;a++)for(var h=0;h<3;h++)this._depth[a][h]=s.NULL_VALUE},Nt={NULL_VALUE:{configurable:!0}};Fr.prototype.getDepth=function(s,a){return this._depth[s][a]},Fr.prototype.setDepth=function(s,a,h){this._depth[s][a]=h},Fr.prototype.isNull=function(){if(0===arguments.length){for(var s=0;s<2;s++)for(var a=0;a<3;a++)if(this._depth[s][a]!==Fr.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===Fr.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===Fr.NULL_VALUE:void 0},Fr.prototype.normalize=function(){for(var s=0;s<2;s++)if(!this.isNull(s)){var a=this._depth[s][1];this._depth[s][2]<a&&(a=this._depth[s][2]),a<0&&(a=0);for(var h=1;h<3;h++){var p=0;this._depth[s][h]>a&&(p=1),this._depth[s][h]=p}}},Fr.prototype.getDelta=function(s){return this._depth[s][ut.RIGHT]-this._depth[s][ut.LEFT]},Fr.prototype.getLocation=function(s,a){return this._depth[s][a]<=0?J.EXTERIOR:J.INTERIOR},Fr.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Fr.prototype.add=function(){if(1===arguments.length)for(var s=arguments[0],a=0;a<2;a++)for(var h=1;h<3;h++){var p=s.getLocation(a,h);p!==J.EXTERIOR&&p!==J.INTERIOR||(this.isNull(a,h)?this._depth[a][h]=Fr.depthAtLocation(p):this._depth[a][h]+=Fr.depthAtLocation(p))}else 3===arguments.length&&arguments[2]===J.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},Fr.prototype.interfaces_=function(){return[]},Fr.prototype.getClass=function(){return Fr},Fr.depthAtLocation=function(s){return s===J.EXTERIOR?0:s===J.INTERIOR?1:Fr.NULL_VALUE},Nt.NULL_VALUE.get=function(){return-1},Object.defineProperties(Fr,Nt);var jr=function(s){function a(){if(s.call(this),this.pts=null,this._env=null,this.eiList=new ko(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Fr,this._depthDelta=0,1===arguments.length)a.call(this,arguments[0],null);else if(2===arguments.length){var _=arguments[1];this.pts=arguments[0],this._label=_}}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.getDepth=function(){return this._depth},a.prototype.getCollapsedEdge=function(){var h=new Array(2).fill(null);return h[0]=this.pts[0],h[1]=this.pts[1],new a(h,Tn.toLineLabel(this._label))},a.prototype.isIsolated=function(){return this._isIsolated},a.prototype.getCoordinates=function(){return this.pts},a.prototype.setIsolated=function(h){this._isIsolated=h},a.prototype.setName=function(h){this._name=h},a.prototype.equals=function(h){if(!(h instanceof a))return!1;var p=h;if(this.pts.length!==p.pts.length)return!1;for(var _=!0,T=!0,G=this.pts.length,le=0;le<this.pts.length;le++)if(this.pts[le].equals2D(p.pts[le])||(_=!1),this.pts[le].equals2D(p.pts[--G])||(T=!1),!_&&!T)return!1;return!0},a.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},a.prototype.print=function(h){h.print("edge "+this._name+": "),h.print("LINESTRING (");for(var p=0;p<this.pts.length;p++)p>0&&h.print(","),h.print(this.pts[p].x+" "+this.pts[p].y);h.print(")  "+this._label+" "+this._depthDelta)},a.prototype.computeIM=function(h){a.updateIM(this._label,h)},a.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},a.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},a.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},a.prototype.getDepthDelta=function(){return this._depthDelta},a.prototype.getNumPoints=function(){return this.pts.length},a.prototype.printReverse=function(h){h.print("edge "+this._name+": ");for(var p=this.pts.length-1;p>=0;p--)h.print(this.pts[p]+" ");h.println("")},a.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new us(this)),this._mce},a.prototype.getEnvelope=function(){if(null===this._env){this._env=new Ae;for(var h=0;h<this.pts.length;h++)this._env.expandToInclude(this.pts[h])}return this._env},a.prototype.addIntersection=function(h,p,_,T){var G=new z(h.getIntersection(T)),le=p,Pe=h.getEdgeDistance(_,T),Ue=le+1;Ue<this.pts.length&&G.equals2D(this.pts[Ue])&&(le=Ue,Pe=0),this.eiList.add(G,le,Pe)},a.prototype.toString=function(){var h=new ve;h.append("edge "+this._name+": "),h.append("LINESTRING (");for(var p=0;p<this.pts.length;p++)p>0&&h.append(","),h.append(this.pts[p].x+" "+this.pts[p].y);return h.append(")  "+this._label+" "+this._depthDelta),h.toString()},a.prototype.isPointwiseEqual=function(h){if(this.pts.length!==h.pts.length)return!1;for(var p=0;p<this.pts.length;p++)if(!this.pts[p].equals2D(h.pts[p]))return!1;return!0},a.prototype.setDepthDelta=function(h){this._depthDelta=h},a.prototype.getEdgeIntersectionList=function(){return this.eiList},a.prototype.addIntersections=function(h,p,_){for(var T=0;T<h.getIntersectionNum();T++)this.addIntersection(h,p,_,T)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.updateIM=function(){if(2!==arguments.length)return s.prototype.updateIM.apply(this,arguments);var h=arguments[0],p=arguments[1];p.setAtLeastIfValid(h.getLocation(0,ut.ON),h.getLocation(1,ut.ON),1),h.isArea()&&(p.setAtLeastIfValid(h.getLocation(0,ut.LEFT),h.getLocation(1,ut.LEFT),2),p.setAtLeastIfValid(h.getLocation(0,ut.RIGHT),h.getLocation(1,ut.RIGHT),2))},a}(Qt),_n=function(s){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Rr,this._bufParams=s||null};_n.prototype.setWorkingPrecisionModel=function(s){this._workingPrecisionModel=s},_n.prototype.insertUniqueEdge=function(s){var a=this._edgeList.findEqualEdge(s);if(null!==a){var h=a.getLabel(),p=s.getLabel();a.isPointwiseEqual(s)||(p=new Tn(s.getLabel())).flip(),h.merge(p);var _=_n.depthDelta(p),T=a.getDepthDelta()+_;a.setDepthDelta(T)}else this._edgeList.add(s),s.setDepthDelta(_n.depthDelta(s.getLabel()))},_n.prototype.buildSubgraphs=function(s,a){for(var h=new pt,p=s.iterator();p.hasNext();){var _=p.next(),T=_.getRightmostCoordinate(),G=new Aa(h).getDepth(T);_.computeDepth(G),_.findResultEdges(),h.add(_),a.add(_.getDirectedEdges(),_.getNodes())}},_n.prototype.createSubgraphs=function(s){for(var a=new pt,h=s.getNodes().iterator();h.hasNext();){var p=h.next();if(!p.isVisited()){var _=new Mi;_.create(p),a.add(_)}}return Zo.sort(a,Zo.reverseOrder()),a},_n.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},_n.prototype.getNoder=function(s){if(null!==this._workingNoder)return this._workingNoder;var a=new Il,h=new Oe;return h.setPrecisionModel(s),a.setSegmentIntersector(new Nr(h)),a},_n.prototype.buffer=function(s,a){var h=this._workingPrecisionModel;null===h&&(h=s.getPrecisionModel()),this._geomFact=s.getFactory();var p=new uo(h,this._bufParams),_=new pr(s,a,p).getCurves();if(_.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(_,h),this._graph=new Yt(new Oo),this._graph.addEdges(this._edgeList.getEdges());var T=this.createSubgraphs(this._graph),G=new qr(this._geomFact);this.buildSubgraphs(T,G);var le=G.getPolygons();return le.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(le)},_n.prototype.computeNodedEdges=function(s,a){var h=this.getNoder(a);h.computeNodes(s);for(var p=h.getNodedSubstrings().iterator();p.hasNext();){var _=p.next(),T=_.getCoordinates();if(2!==T.length||!T[0].equals2D(T[1])){var G=_.getData(),le=new jr(_.getCoordinates(),new Tn(G));this.insertUniqueEdge(le)}}},_n.prototype.setNoder=function(s){this._workingNoder=s},_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n},_n.depthDelta=function(s){var a=s.getLocation(0,ut.LEFT),h=s.getLocation(0,ut.RIGHT);return a===J.INTERIOR&&h===J.EXTERIOR?1:a===J.EXTERIOR&&h===J.INTERIOR?-1:0},_n.convertSegStrings=function(s){for(var a=new gt,h=new pt;s.hasNext();){var p=s.next(),_=a.createLineString(p.getCoordinates());h.add(_)}return a.buildGeometry(h)};var Qi=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var a=arguments[1];this._noder=arguments[0],this._scaleFactor=a,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var p=arguments[1],_=arguments[2],T=arguments[3];this._noder=arguments[0],this._scaleFactor=p,this._offsetX=_,this._offsetY=T,this._isScaled=!this.isIntegerPrecision()}};Qi.prototype.rescale=function(){if(Te(arguments[0],Ni))for(var s=arguments[0].iterator();s.hasNext();){var a=s.next();this.rescale(a.getCoordinates())}else if(arguments[0]instanceof Array){for(var h=arguments[0],p=0;p<h.length;p++)h[p].x=h[p].x/this._scaleFactor+this._offsetX,h[p].y=h[p].y/this._scaleFactor+this._offsetY;2===h.length&&h[0].equals2D(h[1])&&ae.out.println(h)}},Qi.prototype.scale=function(){if(Te(arguments[0],Ni)){for(var s=arguments[0],a=new pt,h=s.iterator();h.hasNext();){var p=h.next();a.add(new dr(this.scale(p.getCoordinates()),p.getData()))}return a}if(arguments[0]instanceof Array){for(var _=arguments[0],T=new Array(_.length).fill(null),G=0;G<_.length;G++)T[G]=new z(Math.round((_[G].x-this._offsetX)*this._scaleFactor),Math.round((_[G].y-this._offsetY)*this._scaleFactor),_[G].z);return ln.removeRepeatedPoints(T)}},Qi.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Qi.prototype.getNodedSubstrings=function(){var s=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(s),s},Qi.prototype.computeNodes=function(s){var a=s;this._isScaled&&(a=this.scale(s)),this._noder.computeNodes(a)},Qi.prototype.interfaces_=function(){return[pa]},Qi.prototype.getClass=function(){return Qi};var rr=function(){this._li=new Oe,this._segStrings=null,this._segStrings=arguments[0]},Ko={fact:{configurable:!0}};rr.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var s=this._segStrings.iterator();s.hasNext();){var a=s.next().getCoordinates();this.checkEndPtVertexIntersections(a[0],this._segStrings),this.checkEndPtVertexIntersections(a[a.length-1],this._segStrings)}else if(2===arguments.length)for(var h=arguments[0],p=arguments[1].iterator();p.hasNext();)for(var _=p.next().getCoordinates(),T=1;T<_.length-1;T++)if(_[T].equals(h))throw new Ce("found endpt/interior pt intersection at index "+T+" :pt "+h)},rr.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var s=this._segStrings.iterator();s.hasNext();)for(var a=s.next(),h=this._segStrings.iterator();h.hasNext();){var p=h.next();this.checkInteriorIntersections(a,p)}else if(2===arguments.length)for(var _=arguments[0],T=arguments[1],G=_.getCoordinates(),le=T.getCoordinates(),Pe=0;Pe<G.length-1;Pe++)for(var Ue=0;Ue<le.length-1;Ue++)this.checkInteriorIntersections(_,Pe,T,Ue);else if(4===arguments.length){var nt=arguments[0],rt=arguments[1],bt=arguments[2],Ct=arguments[3];if(nt===bt&&rt===Ct)return null;var Ot=nt.getCoordinates()[rt],Wt=nt.getCoordinates()[rt+1],at=bt.getCoordinates()[Ct],en=bt.getCoordinates()[Ct+1];if(this._li.computeIntersection(Ot,Wt,at,en),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Ot,Wt)||this.hasInteriorIntersection(this._li,at,en)))throw new Ce("found non-noded intersection at "+Ot+"-"+Wt+" and "+at+"-"+en)}},rr.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},rr.prototype.checkCollapses=function(){if(0===arguments.length)for(var s=this._segStrings.iterator();s.hasNext();){var a=s.next();this.checkCollapses(a)}else if(1===arguments.length)for(var h=arguments[0].getCoordinates(),p=0;p<h.length-2;p++)this.checkCollapse(h[p],h[p+1],h[p+2])},rr.prototype.hasInteriorIntersection=function(s,a,h){for(var p=0;p<s.getIntersectionNum();p++){var _=s.getIntersection(p);if(!_.equals(a)&&!_.equals(h))return!0}return!1},rr.prototype.checkCollapse=function(s,a,h){if(s.equals(h))throw new Ce("found non-noded collapse at "+rr.fact.createLineString([s,a,h]))},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},Ko.fact.get=function(){return new gt},Object.defineProperties(rr,Ko);var Fi=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var s=arguments[0],a=arguments[1],h=arguments[2];if(this._originalPt=s,this._pt=s,this._scaleFactor=a,this._li=h,a<=0)throw new B("Scale factor must be non-zero");1!==a&&(this._pt=new z(this.scale(s.x),this.scale(s.y)),this._p0Scaled=new z,this._p1Scaled=new z),this.initCorners(this._pt)},La={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Fi.prototype.intersectsScaled=function(s,a){var h=Math.min(s.x,a.x),p=Math.max(s.x,a.x),_=Math.min(s.y,a.y),T=Math.max(s.y,a.y),G=this._maxx<h||this._minx>p||this._maxy<_||this._miny>T;if(G)return!1;var le=this.intersectsToleranceSquare(s,a);return be.isTrue(!(G&&le),"Found bad envelope test"),le},Fi.prototype.initCorners=function(s){this._minx=s.x-.5,this._maxx=s.x+.5,this._miny=s.y-.5,this._maxy=s.y+.5,this._corner[0]=new z(this._maxx,this._maxy),this._corner[1]=new z(this._minx,this._maxy),this._corner[2]=new z(this._minx,this._miny),this._corner[3]=new z(this._maxx,this._miny)},Fi.prototype.intersects=function(s,a){return 1===this._scaleFactor?this.intersectsScaled(s,a):(this.copyScaled(s,this._p0Scaled),this.copyScaled(a,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Fi.prototype.scale=function(s){return Math.round(s*this._scaleFactor)},Fi.prototype.getCoordinate=function(){return this._originalPt},Fi.prototype.copyScaled=function(s,a){a.x=this.scale(s.x),a.y=this.scale(s.y)},Fi.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var s=Fi.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Ae(this._originalPt.x-s,this._originalPt.x+s,this._originalPt.y-s,this._originalPt.y+s)}return this._safeEnv},Fi.prototype.intersectsPixelClosure=function(s,a){return this._li.computeIntersection(s,a,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(s,a,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(s,a,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(s,a,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Fi.prototype.intersectsToleranceSquare=function(s,a){var h=!1,p=!1;return this._li.computeIntersection(s,a,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(s,a,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(h=!0),this._li.computeIntersection(s,a,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(p=!0),this._li.computeIntersection(s,a,this._corner[3],this._corner[0]),this._li.isProper()||h&&p||s.equals(this._pt)||a.equals(this._pt)))))},Fi.prototype.addSnappedNode=function(s,a){var h=s.getCoordinate(a),p=s.getCoordinate(a+1);return!!this.intersects(h,p)&&(s.addIntersection(this.getCoordinate(),a),!0)},Fi.prototype.interfaces_=function(){return[]},Fi.prototype.getClass=function(){return Fi},La.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Fi,La);var yu=function(){this.tempEnv1=new Ae,this.selectedSegment=new Tt};yu.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},yu.prototype.interfaces_=function(){return[]},yu.prototype.getClass=function(){return yu};var co=function(){this._index=null,this._index=arguments[0]},ls={HotPixelSnapAction:{configurable:!0}};co.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var a=arguments[0],h=arguments[1],p=arguments[2],_=a.getSafeEnvelope(),T=new kt(a,h,p);return this._index.query(_,{interfaces_:function(){return[fa]},visitItem:function(G){G.select(_,T)}}),T.isNodeAdded()}},co.prototype.interfaces_=function(){return[]},co.prototype.getClass=function(){return co},ls.HotPixelSnapAction.get=function(){return kt},Object.defineProperties(co,ls);var kt=function(s){function a(){s.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var p=arguments[1],_=arguments[2];this._hotPixel=arguments[0],this._parentEdge=p,this._hotPixelVertexIndex=_}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.isNodeAdded=function(){return this._isNodeAdded},a.prototype.select=function(){if(2!==arguments.length)return s.prototype.select.apply(this,arguments);var p=arguments[1],_=arguments[0].getContext();if(null!==this._parentEdge&&_===this._parentEdge&&p===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(_,p)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(yu),fn=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new pt};fn.prototype.processIntersections=function(s,a,h,p){if(s===h&&a===p)return null;var _=s.getCoordinates()[a],T=s.getCoordinates()[a+1],G=h.getCoordinates()[p],le=h.getCoordinates()[p+1];if(this._li.computeIntersection(_,T,G,le),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var Pe=0;Pe<this._li.getIntersectionNum();Pe++)this._interiorIntersections.add(this._li.getIntersection(Pe));s.addIntersections(this._li,a,0),h.addIntersections(this._li,p,1)}},fn.prototype.isDone=function(){return!1},fn.prototype.getInteriorIntersections=function(){return this._interiorIntersections},fn.prototype.interfaces_=function(){return[Pr]},fn.prototype.getClass=function(){return fn};var zn=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var s=arguments[0];this._pm=s,this._li=new Oe,this._li.setPrecisionModel(s),this._scaleFactor=s.getScale()};zn.prototype.checkCorrectness=function(s){var a=dr.getNodedSubstrings(s),h=new rr(a);try{h.checkValid()}catch(p){if(!(p instanceof Ke))throw p;p.printStackTrace()}},zn.prototype.getNodedSubstrings=function(){return dr.getNodedSubstrings(this._nodedSegStrings)},zn.prototype.snapRound=function(s,a){var h=this.findInteriorIntersections(s,a);this.computeIntersectionSnaps(h),this.computeVertexSnaps(s)},zn.prototype.findInteriorIntersections=function(s,a){var h=new fn(a);return this._noder.setSegmentIntersector(h),this._noder.computeNodes(s),h.getInteriorIntersections()},zn.prototype.computeVertexSnaps=function(){if(Te(arguments[0],Ni))for(var s=arguments[0].iterator();s.hasNext();){var a=s.next();this.computeVertexSnaps(a)}else if(arguments[0]instanceof dr)for(var h=arguments[0],p=h.getCoordinates(),_=0;_<p.length;_++){var T=new Fi(p[_],this._scaleFactor,this._li);this._pointSnapper.snap(T,h,_)&&h.addIntersection(p[_],_)}},zn.prototype.computeNodes=function(s){this._nodedSegStrings=s,this._noder=new Il,this._pointSnapper=new co(this._noder.getIndex()),this.snapRound(s,this._li)},zn.prototype.computeIntersectionSnaps=function(s){for(var a=s.iterator();a.hasNext();){var h=a.next(),p=new Fi(h,this._scaleFactor,this._li);this._pointSnapper.snap(p)}},zn.prototype.interfaces_=function(){return[pa]},zn.prototype.getClass=function(){return zn};var Ii=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new xn,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var h=arguments[1];this._argGeom=arguments[0],this._bufParams=h}},Ro={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Ii.prototype.bufferFixedPrecision=function(s){var a=new Qi(new zn(new _t(1)),s.getScale()),h=new _n(this._bufParams);h.setWorkingPrecisionModel(s),h.setNoder(a),this._resultGeometry=h.buffer(this._argGeom,this._distance)},Ii.prototype.bufferReducedPrecision=function(){var s=this;if(0===arguments.length){for(var a=Ii.MAX_PRECISION_DIGITS;a>=0;a--){try{s.bufferReducedPrecision(a)}catch(T){if(!(T instanceof _s))throw T;s._saveException=T}if(null!==s._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var p=Ii.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),_=new _t(p);this.bufferFixedPrecision(_)}},Ii.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var s=this._argGeom.getFactory().getPrecisionModel();s.getType()===_t.FIXED?this.bufferFixedPrecision(s):this.bufferReducedPrecision()},Ii.prototype.setQuadrantSegments=function(s){this._bufParams.setQuadrantSegments(s)},Ii.prototype.bufferOriginalPrecision=function(){try{var s=new _n(this._bufParams);this._resultGeometry=s.buffer(this._argGeom,this._distance)}catch(a){if(!(a instanceof Ce))throw a;this._saveException=a}},Ii.prototype.getResultGeometry=function(s){return this._distance=s,this.computeGeometry(),this._resultGeometry},Ii.prototype.setEndCapStyle=function(s){this._bufParams.setEndCapStyle(s)},Ii.prototype.interfaces_=function(){return[]},Ii.prototype.getClass=function(){return Ii},Ii.bufferOp=function(){if(2===arguments.length){var a=arguments[1];return new Ii(arguments[0]).getResultGeometry(a)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof it&&"number"==typeof arguments[1]){var p=arguments[1],_=arguments[2],T=new Ii(arguments[0]);return T.setQuadrantSegments(_),T.getResultGeometry(p)}if(arguments[2]instanceof xn&&arguments[0]instanceof it&&"number"==typeof arguments[1]){var le=arguments[1];return new Ii(arguments[0],arguments[2]).getResultGeometry(le)}}else if(4===arguments.length){var nt=arguments[1],rt=arguments[2],bt=arguments[3],Ct=new Ii(arguments[0]);return Ct.setQuadrantSegments(rt),Ct.setEndCapStyle(bt),Ct.getResultGeometry(nt)}},Ii.precisionScaleFactor=function(s,a,h){var p=s.getEnvelopeInternal(),_=ge.max(Math.abs(p.getMaxX()),Math.abs(p.getMaxY()),Math.abs(p.getMinX()),Math.abs(p.getMinY()))+2*(a>0?a:0),T=h-Math.trunc(Math.log(_)/Math.log(10)+1);return Math.pow(10,T)},Ro.CAP_ROUND.get=function(){return xn.CAP_ROUND},Ro.CAP_BUTT.get=function(){return xn.CAP_FLAT},Ro.CAP_FLAT.get=function(){return xn.CAP_FLAT},Ro.CAP_SQUARE.get=function(){return xn.CAP_SQUARE},Ro.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Ii,Ro);var Ln=function(){this._pt=[new z,new z],this._distance=I.NaN,this._isNull=!0};Ln.prototype.getCoordinates=function(){return this._pt},Ln.prototype.getCoordinate=function(s){return this._pt[s]},Ln.prototype.setMinimum=function(){if(1===arguments.length){var s=arguments[0];this.setMinimum(s._pt[0],s._pt[1])}else if(2===arguments.length){var a=arguments[0],h=arguments[1];if(this._isNull)return this.initialize(a,h),null;var p=a.distance(h);p<this._distance&&this.initialize(a,h,p)}},Ln.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var s=arguments[0],a=arguments[1];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(a),this._distance=s.distance(a),this._isNull=!1}else if(3===arguments.length){var p=arguments[1],_=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(p),this._distance=_,this._isNull=!1}},Ln.prototype.getDistance=function(){return this._distance},Ln.prototype.setMaximum=function(){if(1===arguments.length){var s=arguments[0];this.setMaximum(s._pt[0],s._pt[1])}else if(2===arguments.length){var a=arguments[0],h=arguments[1];if(this._isNull)return this.initialize(a,h),null;var p=a.distance(h);p>this._distance&&this.initialize(a,h,p)}},Ln.prototype.interfaces_=function(){return[]},Ln.prototype.getClass=function(){return Ln};var $r=function(){};$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r},$r.computeDistance=function(){if(arguments[2]instanceof Ln&&arguments[0]instanceof qi&&arguments[1]instanceof z)for(var a=arguments[1],h=arguments[2],p=arguments[0].getCoordinates(),_=new Tt,T=0;T<p.length-1;T++){_.setCoordinates(p[T],p[T+1]);var G=_.closestPoint(a);h.setMinimum(G,a)}else if(arguments[2]instanceof Ln&&arguments[0]instanceof hr&&arguments[1]instanceof z){var le=arguments[0],Pe=arguments[1],Ue=arguments[2];$r.computeDistance(le.getExteriorRing(),Pe,Ue);for(var nt=0;nt<le.getNumInteriorRing();nt++)$r.computeDistance(le.getInteriorRingN(nt),Pe,Ue)}else if(arguments[2]instanceof Ln&&arguments[0]instanceof it&&arguments[1]instanceof z){var rt=arguments[0],bt=arguments[1],Ct=arguments[2];if(rt instanceof qi)$r.computeDistance(rt,bt,Ct);else if(rt instanceof hr)$r.computeDistance(rt,bt,Ct);else if(rt instanceof Gi)for(var Ot=rt,Wt=0;Wt<Ot.getNumGeometries();Wt++){var at=Ot.getGeometryN(Wt);$r.computeDistance(at,bt,Ct)}else Ct.setMinimum(rt.getCoordinate(),bt)}else if(arguments[2]instanceof Ln&&arguments[0]instanceof Tt&&arguments[1]instanceof z){var Ai=arguments[1],vr=arguments[2],Cr=arguments[0].closestPoint(Ai);vr.setMinimum(Cr,Ai)}};var Ri=function(s){this._maxPtDist=new Ln,this._inputGeom=s||null},Ya={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Ri.prototype.computeMaxMidpointDistance=function(s){var a=new on(this._inputGeom);s.apply(a),this._maxPtDist.setMaximum(a.getMaxPointDistance())},Ri.prototype.computeMaxVertexDistance=function(s){var a=new ea(this._inputGeom);s.apply(a),this._maxPtDist.setMaximum(a.getMaxPointDistance())},Ri.prototype.findDistance=function(s){return this.computeMaxVertexDistance(s),this.computeMaxMidpointDistance(s),this._maxPtDist.getDistance()},Ri.prototype.getDistancePoints=function(){return this._maxPtDist},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri},Ya.MaxPointDistanceFilter.get=function(){return ea},Ya.MaxMidpointDistanceFilter.get=function(){return on},Object.defineProperties(Ri,Ya);var ea=function(s){this._maxPtDist=new Ln,this._minPtDist=new Ln,this._geom=s||null};ea.prototype.filter=function(s){this._minPtDist.initialize(),$r.computeDistance(this._geom,s,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},ea.prototype.getMaxPointDistance=function(){return this._maxPtDist},ea.prototype.interfaces_=function(){return[Ut]},ea.prototype.getClass=function(){return ea};var on=function(s){this._maxPtDist=new Ln,this._minPtDist=new Ln,this._geom=s||null};on.prototype.filter=function(s,a){if(0===a)return null;var h=s.getCoordinate(a-1),p=s.getCoordinate(a),_=new z((h.x+p.x)/2,(h.y+p.y)/2);this._minPtDist.initialize(),$r.computeDistance(this._geom,_,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},on.prototype.isDone=function(){return!1},on.prototype.isGeometryChanged=function(){return!1},on.prototype.getMaxPointDistance=function(){return this._maxPtDist},on.prototype.interfaces_=function(){return[qo]},on.prototype.getClass=function(){return on};var ws=function(s){this._comps=s||null};ws.prototype.filter=function(s){s instanceof hr&&this._comps.add(s)},ws.prototype.interfaces_=function(){return[Dr]},ws.prototype.getClass=function(){return ws},ws.getPolygons=function(){if(1===arguments.length)return ws.getPolygons(arguments[0],new pt);if(2===arguments.length){var a=arguments[0],h=arguments[1];return a instanceof hr?h.add(a):a instanceof Gi&&a.apply(new ws(h)),h}};var or=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var h=arguments[1];this._lines=arguments[0],this._isForcedToLineString=h}};or.prototype.filter=function(s){if(this._isForcedToLineString&&s instanceof Ps){var a=s.getFactory().createLineString(s.getCoordinateSequence());return this._lines.add(a),null}s instanceof qi&&this._lines.add(s)},or.prototype.setForceToLineString=function(s){this._isForcedToLineString=s},or.prototype.interfaces_=function(){return[yt]},or.prototype.getClass=function(){return or},or.getGeometry=function(){if(1===arguments.length){var s=arguments[0];return s.getFactory().buildGeometry(or.getLines(s))}if(2===arguments.length){var a=arguments[0],h=arguments[1];return a.getFactory().buildGeometry(or.getLines(a,h))}},or.getLines=function(){if(1===arguments.length)return or.getLines(arguments[0],!1);if(2===arguments.length){if(Te(arguments[0],Ni)&&Te(arguments[1],Ni)){for(var h=arguments[1],p=arguments[0].iterator();p.hasNext();){var _=p.next();or.getLines(_,h)}return h}if(arguments[0]instanceof it&&"boolean"==typeof arguments[1]){var T=arguments[0],G=arguments[1],le=new pt;return T.apply(new or(le,G)),le}if(arguments[0]instanceof it&&Te(arguments[1],Ni)){var Pe=arguments[0],Ue=arguments[1];return Pe instanceof qi?Ue.add(Pe):Pe.apply(new or(Ue)),Ue}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Te(arguments[0],Ni)&&Te(arguments[1],Ni)){for(var rt=arguments[1],bt=arguments[2],Ct=arguments[0].iterator();Ct.hasNext();){var Ot=Ct.next();or.getLines(Ot,rt,bt)}return rt}if("boolean"==typeof arguments[2]&&arguments[0]instanceof it&&Te(arguments[1],Ni)){var at=arguments[1];return arguments[0].apply(new or(at,arguments[2])),at}}};var Qo=function(){if(this._boundaryRule=bn.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var s=arguments[0];if(null===s)throw new B("Rule must be non-null");this._boundaryRule=s}};Qo.prototype.locateInternal=function(){if(arguments[0]instanceof z&&arguments[1]instanceof hr){var s=arguments[0],a=arguments[1];if(a.isEmpty())return J.EXTERIOR;var h=a.getExteriorRing(),p=this.locateInPolygonRing(s,h);if(p===J.EXTERIOR)return J.EXTERIOR;if(p===J.BOUNDARY)return J.BOUNDARY;for(var _=0;_<a.getNumInteriorRing();_++){var T=a.getInteriorRingN(_),G=this.locateInPolygonRing(s,T);if(G===J.INTERIOR)return J.EXTERIOR;if(G===J.BOUNDARY)return J.BOUNDARY}return J.INTERIOR}if(arguments[0]instanceof z&&arguments[1]instanceof qi){var le=arguments[0],Pe=arguments[1];if(!Pe.getEnvelopeInternal().intersects(le))return J.EXTERIOR;var Ue=Pe.getCoordinates();return Pe.isClosed()||!le.equals(Ue[0])&&!le.equals(Ue[Ue.length-1])?Ge.isOnLine(le,Ue)?J.INTERIOR:J.EXTERIOR:J.BOUNDARY}if(arguments[0]instanceof z&&arguments[1]instanceof wo){var nt=arguments[0];return arguments[1].getCoordinate().equals2D(nt)?J.INTERIOR:J.EXTERIOR}},Qo.prototype.locateInPolygonRing=function(s,a){return a.getEnvelopeInternal().intersects(s)?Ge.locatePointInRing(s,a.getCoordinates()):J.EXTERIOR},Qo.prototype.intersects=function(s,a){return this.locate(s,a)!==J.EXTERIOR},Qo.prototype.updateLocationInfo=function(s){s===J.INTERIOR&&(this._isIn=!0),s===J.BOUNDARY&&this._numBoundaries++},Qo.prototype.computeLocation=function(s,a){if(a instanceof wo&&this.updateLocationInfo(this.locateInternal(s,a)),a instanceof qi)this.updateLocationInfo(this.locateInternal(s,a));else if(a instanceof hr)this.updateLocationInfo(this.locateInternal(s,a));else if(a instanceof Ws)for(var h=a,p=0;p<h.getNumGeometries();p++){var _=h.getGeometryN(p);this.updateLocationInfo(this.locateInternal(s,_))}else if(a instanceof rs)for(var T=a,G=0;G<T.getNumGeometries();G++){var le=T.getGeometryN(G);this.updateLocationInfo(this.locateInternal(s,le))}else if(a instanceof Gi)for(var Pe=new Xo(a);Pe.hasNext();){var Ue=Pe.next();Ue!==a&&this.computeLocation(s,Ue)}},Qo.prototype.locate=function(s,a){return a.isEmpty()?J.EXTERIOR:a instanceof qi||a instanceof hr?this.locateInternal(s,a):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(s,a),this._boundaryRule.isInBoundary(this._numBoundaries)?J.BOUNDARY:this._numBoundaries>0||this._isIn?J.INTERIOR:J.EXTERIOR)},Qo.prototype.interfaces_=function(){return[]},Qo.prototype.getClass=function(){return Qo};var gr=function s(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)s.call(this,arguments[0],s.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var _=arguments[1],T=arguments[2];this._component=arguments[0],this._segIndex=_,this._pt=T}},ho={INSIDE_AREA:{configurable:!0}};gr.prototype.isInsideArea=function(){return this._segIndex===gr.INSIDE_AREA},gr.prototype.getCoordinate=function(){return this._pt},gr.prototype.getGeometryComponent=function(){return this._component},gr.prototype.getSegmentIndex=function(){return this._segIndex},gr.prototype.interfaces_=function(){return[]},gr.prototype.getClass=function(){return gr},ho.INSIDE_AREA.get=function(){return-1},Object.defineProperties(gr,ho);var Ir=function(s){this._pts=s||null};Ir.prototype.filter=function(s){s instanceof wo&&this._pts.add(s)},Ir.prototype.interfaces_=function(){return[Dr]},Ir.prototype.getClass=function(){return Ir},Ir.getPoints=function(){if(1===arguments.length){var s=arguments[0];return s instanceof wo?Zo.singletonList(s):Ir.getPoints(s,new pt)}if(2===arguments.length){var a=arguments[0],h=arguments[1];return a instanceof wo?h.add(a):a instanceof Gi&&a.apply(new Ir(h)),h}};var No=function(){this._locations=null,this._locations=arguments[0]};No.prototype.filter=function(s){(s instanceof wo||s instanceof qi||s instanceof hr)&&this._locations.add(new gr(s,0,s.getCoordinate()))},No.prototype.interfaces_=function(){return[Dr]},No.prototype.getClass=function(){return No},No.getLocations=function(s){var a=new pt;return s.apply(new No(a)),a};var Bi=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Qo,this._minDistanceLocation=null,this._minDistance=I.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var h=arguments[0],p=arguments[1],_=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=h,this._geom[1]=p,this._terminateDistance=_}};Bi.prototype.computeContainmentDistance=function(){if(0===arguments.length){var s=new Array(2).fill(null);if(this.computeContainmentDistance(0,s),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,s)}else if(2===arguments.length){var a=arguments[0],h=arguments[1],p=1-a,_=ws.getPolygons(this._geom[a]);if(_.size()>0){var T=No.getLocations(this._geom[p]);if(this.computeContainmentDistance(T,_,h),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[p]=h[0],this._minDistanceLocation[a]=h[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Te(arguments[0],cr)&&Te(arguments[1],cr)){for(var G=arguments[0],le=arguments[1],Pe=arguments[2],Ue=0;Ue<G.size();Ue++)for(var nt=G.get(Ue),rt=0;rt<le.size();rt++)if(this.computeContainmentDistance(nt,le.get(rt),Pe),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof gr&&arguments[1]instanceof hr){var bt=arguments[0],Ct=arguments[1],Ot=arguments[2],Wt=bt.getCoordinate();if(J.EXTERIOR!==this._ptLocator.locate(Wt,Ct))return this._minDistance=0,Ot[0]=bt,Ot[1]=new gr(Ct,Wt),null}},Bi.prototype.computeMinDistanceLinesPoints=function(s,a,h){for(var p=0;p<s.size();p++)for(var _=s.get(p),T=0;T<a.size();T++){var G=a.get(T);if(this.computeMinDistance(_,G,h),this._minDistance<=this._terminateDistance)return null}},Bi.prototype.computeFacetDistance=function(){var s=new Array(2).fill(null),a=or.getLines(this._geom[0]),h=or.getLines(this._geom[1]),p=Ir.getPoints(this._geom[0]),_=Ir.getPoints(this._geom[1]);return this.computeMinDistanceLines(a,h,s),this.updateMinDistance(s,!1),this._minDistance<=this._terminateDistance?null:(s[0]=null,s[1]=null,this.computeMinDistanceLinesPoints(a,_,s),this.updateMinDistance(s,!1),this._minDistance<=this._terminateDistance?null:(s[0]=null,s[1]=null,this.computeMinDistanceLinesPoints(h,p,s),this.updateMinDistance(s,!0),this._minDistance<=this._terminateDistance?null:(s[0]=null,s[1]=null,this.computeMinDistancePoints(p,_,s),void this.updateMinDistance(s,!1))))},Bi.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Bi.prototype.updateMinDistance=function(s,a){if(null===s[0])return null;a?(this._minDistanceLocation[0]=s[1],this._minDistanceLocation[1]=s[0]):(this._minDistanceLocation[0]=s[0],this._minDistanceLocation[1]=s[1])},Bi.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Bi.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof qi&&arguments[1]instanceof wo){var s=arguments[0],a=arguments[1],h=arguments[2];if(s.getEnvelopeInternal().distance(a.getEnvelopeInternal())>this._minDistance)return null;for(var p=s.getCoordinates(),_=a.getCoordinate(),T=0;T<p.length-1;T++){var G=Ge.distancePointLine(_,p[T],p[T+1]);if(G<this._minDistance){this._minDistance=G;var le=new Tt(p[T],p[T+1]).closestPoint(_);h[0]=new gr(s,T,le),h[1]=new gr(a,0,_)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof qi&&arguments[1]instanceof qi){var Pe=arguments[0],Ue=arguments[1],nt=arguments[2];if(Pe.getEnvelopeInternal().distance(Ue.getEnvelopeInternal())>this._minDistance)return null;for(var rt=Pe.getCoordinates(),bt=Ue.getCoordinates(),Ct=0;Ct<rt.length-1;Ct++)for(var Ot=0;Ot<bt.length-1;Ot++){var Wt=Ge.distanceLineLine(rt[Ct],rt[Ct+1],bt[Ot],bt[Ot+1]);if(Wt<this._minDistance){this._minDistance=Wt;var at=new Tt(rt[Ct],rt[Ct+1]),en=new Tt(bt[Ot],bt[Ot+1]),Ai=at.closestPoints(en);nt[0]=new gr(Pe,Ct,Ai[0]),nt[1]=new gr(Ue,Ot,Ai[1])}if(this._minDistance<=this._terminateDistance)return null}}},Bi.prototype.computeMinDistancePoints=function(s,a,h){for(var p=0;p<s.size();p++)for(var _=s.get(p),T=0;T<a.size();T++){var G=a.get(T),le=_.getCoordinate().distance(G.getCoordinate());if(le<this._minDistance&&(this._minDistance=le,h[0]=new gr(_,0,_.getCoordinate()),h[1]=new gr(G,0,G.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Bi.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new B("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Bi.prototype.computeMinDistanceLines=function(s,a,h){for(var p=0;p<s.size();p++)for(var _=s.get(p),T=0;T<a.size();T++){var G=a.get(T);if(this.computeMinDistance(_,G,h),this._minDistance<=this._terminateDistance)return null}},Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi},Bi.distance=function(s,a){return new Bi(s,a).distance()},Bi.isWithinDistance=function(s,a,h){return new Bi(s,a,h).distance()<=h},Bi.nearestPoints=function(s,a){return new Bi(s,a).nearestPoints()};var Ji=function(){this._pt=[new z,new z],this._distance=I.NaN,this._isNull=!0};Ji.prototype.getCoordinates=function(){return this._pt},Ji.prototype.getCoordinate=function(s){return this._pt[s]},Ji.prototype.setMinimum=function(){if(1===arguments.length){var s=arguments[0];this.setMinimum(s._pt[0],s._pt[1])}else if(2===arguments.length){var a=arguments[0],h=arguments[1];if(this._isNull)return this.initialize(a,h),null;var p=a.distance(h);p<this._distance&&this.initialize(a,h,p)}},Ji.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var s=arguments[0],a=arguments[1];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(a),this._distance=s.distance(a),this._isNull=!1}else if(3===arguments.length){var p=arguments[1],_=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(p),this._distance=_,this._isNull=!1}},Ji.prototype.toString=function(){return qe.toLineString(this._pt[0],this._pt[1])},Ji.prototype.getDistance=function(){return this._distance},Ji.prototype.setMaximum=function(){if(1===arguments.length){var s=arguments[0];this.setMaximum(s._pt[0],s._pt[1])}else if(2===arguments.length){var a=arguments[0],h=arguments[1];if(this._isNull)return this.initialize(a,h),null;var p=a.distance(h);p>this._distance&&this.initialize(a,h,p)}},Ji.prototype.interfaces_=function(){return[]},Ji.prototype.getClass=function(){return Ji};var cs=function(){};cs.prototype.interfaces_=function(){return[]},cs.prototype.getClass=function(){return cs},cs.computeDistance=function(){if(arguments[2]instanceof Ji&&arguments[0]instanceof qi&&arguments[1]instanceof z)for(var s=arguments[0],a=arguments[1],h=arguments[2],p=new Tt,_=s.getCoordinates(),T=0;T<_.length-1;T++){p.setCoordinates(_[T],_[T+1]);var G=p.closestPoint(a);h.setMinimum(G,a)}else if(arguments[2]instanceof Ji&&arguments[0]instanceof hr&&arguments[1]instanceof z){var le=arguments[0],Pe=arguments[1],Ue=arguments[2];cs.computeDistance(le.getExteriorRing(),Pe,Ue);for(var nt=0;nt<le.getNumInteriorRing();nt++)cs.computeDistance(le.getInteriorRingN(nt),Pe,Ue)}else if(arguments[2]instanceof Ji&&arguments[0]instanceof it&&arguments[1]instanceof z){var rt=arguments[0],bt=arguments[1],Ct=arguments[2];if(rt instanceof qi)cs.computeDistance(rt,bt,Ct);else if(rt instanceof hr)cs.computeDistance(rt,bt,Ct);else if(rt instanceof Gi)for(var Ot=rt,Wt=0;Wt<Ot.getNumGeometries();Wt++){var at=Ot.getGeometryN(Wt);cs.computeDistance(at,bt,Ct)}else Ct.setMinimum(rt.getCoordinate(),bt)}else if(arguments[2]instanceof Ji&&arguments[0]instanceof Tt&&arguments[1]instanceof z){var Ai=arguments[1],vr=arguments[2],Cr=arguments[0].closestPoint(Ai);vr.setMinimum(Cr,Ai)}};var Pn=function(){this._g0=null,this._g1=null,this._ptDist=new Ji,this._densifyFrac=0;var a=arguments[1];this._g0=arguments[0],this._g1=a},hc={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Pn.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Pn.prototype.setDensifyFraction=function(s){if(s>1||s<=0)throw new B("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=s},Pn.prototype.compute=function(s,a){this.computeOrientedDistance(s,a,this._ptDist),this.computeOrientedDistance(a,s,this._ptDist)},Pn.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Pn.prototype.computeOrientedDistance=function(s,a,h){var p=new hs(a);if(s.apply(p),h.setMaximum(p.getMaxPointDistance()),this._densifyFrac>0){var _=new ta(a,this._densifyFrac);s.apply(_),h.setMaximum(_.getMaxPointDistance())}},Pn.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Pn.prototype.interfaces_=function(){return[]},Pn.prototype.getClass=function(){return Pn},Pn.distance=function(){if(2===arguments.length)return new Pn(arguments[0],arguments[1]).distance();if(3===arguments.length){var _=arguments[2],T=new Pn(arguments[0],arguments[1]);return T.setDensifyFraction(_),T.distance()}},hc.MaxPointDistanceFilter.get=function(){return hs},hc.MaxDensifiedByFractionDistanceFilter.get=function(){return ta},Object.defineProperties(Pn,hc);var hs=function(){this._maxPtDist=new Ji,this._minPtDist=new Ji,this._euclideanDist=new cs,this._geom=null,this._geom=arguments[0]};hs.prototype.filter=function(s){this._minPtDist.initialize(),cs.computeDistance(this._geom,s,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},hs.prototype.getMaxPointDistance=function(){return this._maxPtDist},hs.prototype.interfaces_=function(){return[Ut]},hs.prototype.getClass=function(){return hs};var ta=function(){this._maxPtDist=new Ji,this._minPtDist=new Ji,this._geom=null,this._numSubSegs=0;var a=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/a))};ta.prototype.filter=function(s,a){if(0===a)return null;for(var h=s.getCoordinate(a-1),p=s.getCoordinate(a),_=(p.x-h.x)/this._numSubSegs,T=(p.y-h.y)/this._numSubSegs,G=0;G<this._numSubSegs;G++){var Ue=new z(h.x+G*_,h.y+G*T);this._minPtDist.initialize(),cs.computeDistance(this._geom,Ue,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},ta.prototype.isDone=function(){return!1},ta.prototype.isGeometryChanged=function(){return!1},ta.prototype.getMaxPointDistance=function(){return this._maxPtDist},ta.prototype.interfaces_=function(){return[qo]},ta.prototype.getClass=function(){return ta};var mr=function(s,a,h){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=s||null,this._bufDistance=a||null,this._result=h||null},Xa={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};mr.prototype.checkMaximumDistance=function(s,a,h){var p=new Pn(a,s);if(p.setDensifyFraction(.25),this._maxDistanceFound=p.orientedDistance(),this._maxDistanceFound>h){this._isValid=!1;var _=p.getCoordinates();this._errorLocation=_[1],this._errorIndicator=s.getFactory().createLineString(_),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+qe.toLineString(_[0],_[1])+")"}},mr.prototype.isValid=function(){var s=Math.abs(this._bufDistance),a=mr.MAX_DISTANCE_DIFF_FRAC*s;return this._minValidDistance=s-a,this._maxValidDistance=s+a,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),mr.VERBOSE&&ae.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},mr.prototype.checkNegativeValid=function(){if(!(this._input instanceof hr||this._input instanceof rs||this._input instanceof Gi))return null;var s=this.getPolygonLines(this._input);if(this.checkMinimumDistance(s,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(s,this._result,this._maxValidDistance)},mr.prototype.getErrorIndicator=function(){return this._errorIndicator},mr.prototype.checkMinimumDistance=function(s,a,h){var p=new Bi(s,a,h);if(this._minDistanceFound=p.distance(),this._minDistanceFound<h){this._isValid=!1;var _=p.nearestPoints();this._errorLocation=p.nearestPoints()[1],this._errorIndicator=s.getFactory().createLineString(_),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+qe.toLineString(_[0],_[1])+" )"}},mr.prototype.checkPositiveValid=function(){var s=this._result.getBoundary();if(this.checkMinimumDistance(this._input,s,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,s,this._maxValidDistance)},mr.prototype.getErrorLocation=function(){return this._errorLocation},mr.prototype.getPolygonLines=function(s){for(var a=new pt,h=new or(a),p=ws.getPolygons(s).iterator();p.hasNext();)p.next().apply(h);return s.getFactory().buildGeometry(a)},mr.prototype.getErrorMessage=function(){return this._errMsg},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr},Xa.VERBOSE.get=function(){return!1},Xa.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(mr,Xa);var er=function(s,a,h){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=s||null,this._distance=a||null,this._result=h||null},fo={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};er.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},er.prototype.checkEnvelope=function(){if(this._distance<0)return null;var s=this._distance*er.MAX_ENV_DIFF_FRAC;0===s&&(s=.001);var a=new Ae(this._input.getEnvelopeInternal());a.expandBy(this._distance);var h=new Ae(this._result.getEnvelopeInternal());h.expandBy(s),h.contains(a)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(h)),this.report("Envelope")},er.prototype.checkDistance=function(){var s=new mr(this._input,this._distance,this._result);s.isValid()||(this._isValid=!1,this._errorMsg=s.getErrorMessage(),this._errorLocation=s.getErrorLocation(),this._errorIndicator=s.getErrorIndicator()),this.report("Distance")},er.prototype.checkArea=function(){var s=this._input.getArea(),a=this._result.getArea();this._distance>0&&s>a&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&s<a&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},er.prototype.checkPolygonal=function(){this._result instanceof hr||this._result instanceof rs||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},er.prototype.getErrorIndicator=function(){return this._errorIndicator},er.prototype.getErrorLocation=function(){return this._errorLocation},er.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},er.prototype.report=function(s){if(!er.VERBOSE)return null;ae.out.println("Check "+s+": "+(this._isValid?"passed":"FAILED"))},er.prototype.getErrorMessage=function(){return this._errorMsg},er.prototype.interfaces_=function(){return[]},er.prototype.getClass=function(){return er},er.isValidMsg=function(s,a,h){var p=new er(s,a,h);return p.isValid()?null:p.getErrorMessage()},er.isValid=function(s,a,h){return!!new er(s,a,h).isValid()},fo.VERBOSE.get=function(){return!1},fo.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(er,fo);var Wr=function(){this._pts=null,this._data=null;var a=arguments[1];this._pts=arguments[0],this._data=a};Wr.prototype.getCoordinates=function(){return this._pts},Wr.prototype.size=function(){return this._pts.length},Wr.prototype.getCoordinate=function(s){return this._pts[s]},Wr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Wr.prototype.getSegmentOctant=function(s){return s===this._pts.length-1?-1:Ta.octant(this.getCoordinate(s),this.getCoordinate(s+1))},Wr.prototype.setData=function(s){this._data=s},Wr.prototype.getData=function(){return this._data},Wr.prototype.toString=function(){return qe.toLineString(new sn(this._pts))},Wr.prototype.interfaces_=function(){return[Qs]},Wr.prototype.getClass=function(){return Wr};var yi=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new pt,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};yi.prototype.getInteriorIntersection=function(){return this._interiorIntersection},yi.prototype.setCheckEndSegmentsOnly=function(s){this._isCheckEndSegmentsOnly=s},yi.prototype.getIntersectionSegments=function(){return this._intSegments},yi.prototype.count=function(){return this._intersectionCount},yi.prototype.getIntersections=function(){return this._intersections},yi.prototype.setFindAllIntersections=function(s){this._findAllIntersections=s},yi.prototype.setKeepIntersections=function(s){this._keepIntersections=s},yi.prototype.processIntersections=function(s,a,h,p){if(!this._findAllIntersections&&this.hasIntersection()||s===h&&a===p||this._isCheckEndSegmentsOnly&&!this.isEndSegment(s,a)&&!this.isEndSegment(h,p))return null;var _=s.getCoordinates()[a],T=s.getCoordinates()[a+1],G=h.getCoordinates()[p],le=h.getCoordinates()[p+1];this._li.computeIntersection(_,T,G,le),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=_,this._intSegments[1]=T,this._intSegments[2]=G,this._intSegments[3]=le,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},yi.prototype.isEndSegment=function(s,a){return 0===a||a>=s.size()-2},yi.prototype.hasIntersection=function(){return null!==this._interiorIntersection},yi.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},yi.prototype.interfaces_=function(){return[Pr]},yi.prototype.getClass=function(){return yi},yi.createAllIntersectionsFinder=function(s){var a=new yi(s);return a.setFindAllIntersections(!0),a},yi.createAnyIntersectionFinder=function(s){return new yi(s)},yi.createIntersectionCounter=function(s){var a=new yi(s);return a.setFindAllIntersections(!0),a.setKeepIntersections(!1),a};var _r=function(){this._li=new Oe,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};_r.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},_r.prototype.getIntersections=function(){return this._segInt.getIntersections()},_r.prototype.isValid=function(){return this.execute(),this._isValid},_r.prototype.setFindAllIntersections=function(s){this._findAllIntersections=s},_r.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new yi(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var s=new Il;if(s.setSegmentIntersector(this._segInt),s.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},_r.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new _s(this.getErrorMessage(),this._segInt.getInteriorIntersection())},_r.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var s=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+qe.toLineString(s[0],s[1])+" and "+qe.toLineString(s[2],s[3])},_r.prototype.interfaces_=function(){return[]},_r.prototype.getClass=function(){return _r},_r.computeIntersections=function(s){var a=new _r(s);return a.setFindAllIntersections(!0),a.isValid(),a.getIntersections()};var Jo=function s(){this._nv=null,this._nv=new _r(s.toSegmentStrings(arguments[0]))};Jo.prototype.checkValid=function(){this._nv.checkValid()},Jo.prototype.interfaces_=function(){return[]},Jo.prototype.getClass=function(){return Jo},Jo.toSegmentStrings=function(s){for(var a=new pt,h=s.iterator();h.hasNext();){var p=h.next();a.add(new Wr(p.getCoordinates(),p))}return a},Jo.checkValid=function(s){new Jo(s).checkValid()};var As=function(s){this._mapOp=s};As.prototype.map=function(s){for(var a=new pt,h=0;h<s.getNumGeometries();h++){var p=this._mapOp.map(s.getGeometryN(h));p.isEmpty()||a.add(p)}return s.getFactory().createGeometryCollection(gt.toGeometryArray(a))},As.prototype.interfaces_=function(){return[]},As.prototype.getClass=function(){return As},As.map=function(s,a){return new As(a).map(s)};var no=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new pt,this._resultLineList=new pt;var a=arguments[1],h=arguments[2];this._op=arguments[0],this._geometryFactory=a,this._ptLocator=h};no.prototype.collectLines=function(s){for(var a=this._op.getGraph().getEdgeEnds().iterator();a.hasNext();){var h=a.next();this.collectLineEdge(h,s,this._lineEdgesList),this.collectBoundaryTouchEdge(h,s,this._lineEdgesList)}},no.prototype.labelIsolatedLine=function(s,a){var h=this._ptLocator.locate(s.getCoordinate(),this._op.getArgGeometry(a));s.getLabel().setLocation(a,h)},no.prototype.build=function(s){return this.findCoveredLineEdges(),this.collectLines(s),this.buildLines(s),this._resultLineList},no.prototype.collectLineEdge=function(s,a,h){var p=s.getLabel(),_=s.getEdge();s.isLineEdge()&&(s.isVisited()||!qt.isResultOfOp(p,a)||_.isCovered()||(h.add(_),s.setVisitedEdge(!0)))},no.prototype.findCoveredLineEdges=function(){for(var s=this._op.getGraph().getNodes().iterator();s.hasNext();)s.next().getEdges().findCoveredLineEdges();for(var a=this._op.getGraph().getEdgeEnds().iterator();a.hasNext();){var h=a.next(),p=h.getEdge();if(h.isLineEdge()&&!p.isCoveredSet()){var _=this._op.isCoveredByA(h.getCoordinate());p.setCovered(_)}}},no.prototype.labelIsolatedLines=function(s){for(var a=s.iterator();a.hasNext();){var h=a.next(),p=h.getLabel();h.isIsolated()&&(p.isNull(0)?this.labelIsolatedLine(h,0):this.labelIsolatedLine(h,1))}},no.prototype.buildLines=function(s){for(var a=this._lineEdgesList.iterator();a.hasNext();){var h=a.next(),p=this._geometryFactory.createLineString(h.getCoordinates());this._resultLineList.add(p),h.setInResult(!0)}},no.prototype.collectBoundaryTouchEdge=function(s,a,h){var p=s.getLabel();return s.isLineEdge()||s.isVisited()||s.isInteriorAreaEdge()||s.getEdge().isInResult()?null:(be.isTrue(!(s.isInResult()||s.getSym().isInResult())||!s.getEdge().isInResult()),void(qt.isResultOfOp(p,a)&&a===qt.INTERSECTION&&(h.add(s.getEdge()),s.setVisitedEdge(!0))))},no.prototype.interfaces_=function(){return[]},no.prototype.getClass=function(){return no};var Br=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new pt;var a=arguments[1];this._op=arguments[0],this._geometryFactory=a};Br.prototype.filterCoveredNodeToPoint=function(s){var a=s.getCoordinate();if(!this._op.isCoveredByLA(a)){var h=this._geometryFactory.createPoint(a);this._resultPointList.add(h)}},Br.prototype.extractNonCoveredResultNodes=function(s){for(var a=this._op.getGraph().getNodes().iterator();a.hasNext();){var h=a.next();if(!(h.isInResult()||h.isIncidentEdgeInResult()||0!==h.getEdges().getDegree()&&s!==qt.INTERSECTION)){var p=h.getLabel();qt.isResultOfOp(p,s)&&this.filterCoveredNodeToPoint(h)}}},Br.prototype.build=function(s){return this.extractNonCoveredResultNodes(s),this._resultPointList},Br.prototype.interfaces_=function(){return[]},Br.prototype.getClass=function(){return Br};var io=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};io.prototype.transformPoint=function(s,a){return this._factory.createPoint(this.transformCoordinates(s.getCoordinateSequence(),s))},io.prototype.transformPolygon=function(s,a){var h=!0,p=this.transformLinearRing(s.getExteriorRing(),s);null!==p&&p instanceof Ps&&!p.isEmpty()||(h=!1);for(var _=new pt,T=0;T<s.getNumInteriorRing();T++){var G=this.transformLinearRing(s.getInteriorRingN(T),s);null===G||G.isEmpty()||(G instanceof Ps||(h=!1),_.add(G))}if(h)return this._factory.createPolygon(p,_.toArray([]));var le=new pt;return null!==p&&le.add(p),le.addAll(_),this._factory.buildGeometry(le)},io.prototype.createCoordinateSequence=function(s){return this._factory.getCoordinateSequenceFactory().create(s)},io.prototype.getInputGeometry=function(){return this._inputGeom},io.prototype.transformMultiLineString=function(s,a){for(var h=new pt,p=0;p<s.getNumGeometries();p++){var _=this.transformLineString(s.getGeometryN(p),s);null!==_&&(_.isEmpty()||h.add(_))}return this._factory.buildGeometry(h)},io.prototype.transformCoordinates=function(s,a){return this.copy(s)},io.prototype.transformLineString=function(s,a){return this._factory.createLineString(this.transformCoordinates(s.getCoordinateSequence(),s))},io.prototype.transformMultiPoint=function(s,a){for(var h=new pt,p=0;p<s.getNumGeometries();p++){var _=this.transformPoint(s.getGeometryN(p),s);null!==_&&(_.isEmpty()||h.add(_))}return this._factory.buildGeometry(h)},io.prototype.transformMultiPolygon=function(s,a){for(var h=new pt,p=0;p<s.getNumGeometries();p++){var _=this.transformPolygon(s.getGeometryN(p),s);null!==_&&(_.isEmpty()||h.add(_))}return this._factory.buildGeometry(h)},io.prototype.copy=function(s){return s.copy()},io.prototype.transformGeometryCollection=function(s,a){for(var h=new pt,p=0;p<s.getNumGeometries();p++){var _=this.transform(s.getGeometryN(p));null!==_&&(this._pruneEmptyGeometry&&_.isEmpty()||h.add(_))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(gt.toGeometryArray(h)):this._factory.buildGeometry(h)},io.prototype.transform=function(s){if(this._inputGeom=s,this._factory=s.getFactory(),s instanceof wo)return this.transformPoint(s,null);if(s instanceof cu)return this.transformMultiPoint(s,null);if(s instanceof Ps)return this.transformLinearRing(s,null);if(s instanceof qi)return this.transformLineString(s,null);if(s instanceof Ws)return this.transformMultiLineString(s,null);if(s instanceof hr)return this.transformPolygon(s,null);if(s instanceof rs)return this.transformMultiPolygon(s,null);if(s instanceof Gi)return this.transformGeometryCollection(s,null);throw new B("Unknown Geometry subtype: "+s.getClass().getName())},io.prototype.transformLinearRing=function(s,a){var h=this.transformCoordinates(s.getCoordinateSequence(),s);if(null===h)return this._factory.createLinearRing(null);var p=h.size();return p>0&&p<4&&!this._preserveType?this._factory.createLineString(h):this._factory.createLinearRing(h)},io.prototype.interfaces_=function(){return[]},io.prototype.getClass=function(){return io};var Ls=function s(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Tt,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof qi&&"number"==typeof arguments[1]){var h=arguments[1];s.call(this,arguments[0].getCoordinates(),h)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var p=arguments[0],_=arguments[1];this._srcPts=p,this._isClosed=s.isClosed(p),this._snapTolerance=_}};Ls.prototype.snapVertices=function(s,a){for(var h=this._isClosed?s.size()-1:s.size(),p=0;p<h;p++){var _=s.get(p),T=this.findSnapForVertex(_,a);null!==T&&(s.set(p,new z(T)),0===p&&this._isClosed&&s.set(s.size()-1,new z(T)))}},Ls.prototype.findSnapForVertex=function(s,a){for(var h=0;h<a.length;h++){if(s.equals2D(a[h]))return null;if(s.distance(a[h])<this._snapTolerance)return a[h]}return null},Ls.prototype.snapTo=function(s){var a=new Uo(this._srcPts);return this.snapVertices(a,s),this.snapSegments(a,s),a.toCoordinateArray()},Ls.prototype.snapSegments=function(s,a){if(0===a.length)return null;var h=a.length;a[0].equals2D(a[a.length-1])&&(h=a.length-1);for(var p=0;p<h;p++){var _=a[p],T=this.findSegmentIndexToSnap(_,s);T>=0&&s.add(T+1,new z(_),!1)}},Ls.prototype.findSegmentIndexToSnap=function(s,a){for(var h=I.MAX_VALUE,p=-1,_=0;_<a.size()-1;_++){if(this._seg.p0=a.get(_),this._seg.p1=a.get(_+1),this._seg.p0.equals2D(s)||this._seg.p1.equals2D(s)){if(this._allowSnappingToSourceVertices)continue;return-1}var T=this._seg.distance(s);T<this._snapTolerance&&T<h&&(h=T,p=_)}return p},Ls.prototype.setAllowSnappingToSourceVertices=function(s){this._allowSnappingToSourceVertices=s},Ls.prototype.interfaces_=function(){return[]},Ls.prototype.getClass=function(){return Ls},Ls.isClosed=function(s){return!(s.length<=1)&&s[0].equals2D(s[s.length-1])};var sr=function(s){this._srcGeom=s||null},Tl={SNAP_PRECISION_FACTOR:{configurable:!0}};sr.prototype.snapTo=function(s,a){var h=this.extractTargetCoordinates(s);return new fc(a,h).transform(this._srcGeom)},sr.prototype.snapToSelf=function(s,a){var h=this.extractTargetCoordinates(this._srcGeom),p=new fc(s,h,!0).transform(this._srcGeom),_=p;return a&&Te(_,Zs)&&(_=p.buffer(0)),_},sr.prototype.computeSnapTolerance=function(s){return this.computeMinimumSegmentLength(s)/10},sr.prototype.extractTargetCoordinates=function(s){for(var a=new q,h=s.getCoordinates(),p=0;p<h.length;p++)a.add(h[p]);return a.toArray(new Array(0).fill(null))},sr.prototype.computeMinimumSegmentLength=function(s){for(var a=I.MAX_VALUE,h=0;h<s.length-1;h++){var p=s[h].distance(s[h+1]);p<a&&(a=p)}return a},sr.prototype.interfaces_=function(){return[]},sr.prototype.getClass=function(){return sr},sr.snap=function(s,a,h){var p=new Array(2).fill(null),_=new sr(s);p[0]=_.snapTo(a,h);var T=new sr(a);return p[1]=T.snapTo(p[0],h),p},sr.computeOverlaySnapTolerance=function(){if(1===arguments.length){var s=arguments[0],a=sr.computeSizeBasedSnapTolerance(s),h=s.getPrecisionModel();if(h.getType()===_t.FIXED){var p=1/h.getScale()*2/1.415;p>a&&(a=p)}return a}if(2===arguments.length){var T=arguments[1];return Math.min(sr.computeOverlaySnapTolerance(arguments[0]),sr.computeOverlaySnapTolerance(T))}},sr.computeSizeBasedSnapTolerance=function(s){var a=s.getEnvelopeInternal();return Math.min(a.getHeight(),a.getWidth())*sr.SNAP_PRECISION_FACTOR},sr.snapToSelf=function(s,a,h){return new sr(s).snapToSelf(a,h)},Tl.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(sr,Tl);var fc=function(s){function a(h,p,_){s.call(this),this._snapTolerance=h||null,this._snapPts=p||null,this._isSelfSnap=void 0!==_&&_}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.snapLine=function(h,p){var _=new Ls(h,this._snapTolerance);return _.setAllowSnappingToSourceVertices(this._isSelfSnap),_.snapTo(p)},a.prototype.transformCoordinates=function(h,p){var _=h.toCoordinateArray(),T=this.snapLine(_,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(T)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(io),ro=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};ro.prototype.getCommon=function(){return I.longBitsToDouble(this._commonBits)},ro.prototype.add=function(s){var a=I.doubleToLongBits(s);return this._isFirst?(this._commonBits=a,this._commonSignExp=ro.signExpBits(this._commonBits),this._isFirst=!1,null):ro.signExpBits(a)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=ro.numCommonMostSigMantissaBits(this._commonBits,a),void(this._commonBits=ro.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},ro.prototype.toString=function(){if(1===arguments.length){var s=arguments[0],a=I.longBitsToDouble(s),h="0000000000000000000000000000000000000000000000000000000000000000"+I.toBinaryString(s),p=h.substring(h.length-64);return p.substring(0,1)+"  "+p.substring(1,12)+"(exp) "+p.substring(12)+" [ "+a+" ]"}},ro.prototype.interfaces_=function(){return[]},ro.prototype.getClass=function(){return ro},ro.getBit=function(s,a){return s&1<<a?1:0},ro.signExpBits=function(s){return s>>52},ro.zeroLowerBits=function(s,a){return s&~((1<<a)-1)},ro.numCommonMostSigMantissaBits=function(s,a){for(var h=0,p=52;p>=0;p--){if(ro.getBit(s,p)!==ro.getBit(a,p))return h;h++}return 52};var ga=function(){this._commonCoord=null,this._ccFilter=new vu},Al={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};ga.prototype.addCommonBits=function(s){var a=new ma(this._commonCoord);s.apply(a),s.geometryChanged()},ga.prototype.removeCommonBits=function(s){if(0===this._commonCoord.x&&0===this._commonCoord.y)return s;var a=new z(this._commonCoord);a.x=-a.x,a.y=-a.y;var h=new ma(a);return s.apply(h),s.geometryChanged(),s},ga.prototype.getCommonCoordinate=function(){return this._commonCoord},ga.prototype.add=function(s){s.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},ga.prototype.interfaces_=function(){return[]},ga.prototype.getClass=function(){return ga},Al.CommonCoordinateFilter.get=function(){return vu},Al.Translater.get=function(){return ma},Object.defineProperties(ga,Al);var vu=function(){this._commonBitsX=new ro,this._commonBitsY=new ro};vu.prototype.filter=function(s){this._commonBitsX.add(s.x),this._commonBitsY.add(s.y)},vu.prototype.getCommonCoordinate=function(){return new z(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},vu.prototype.interfaces_=function(){return[Ut]},vu.prototype.getClass=function(){return vu};var ma=function(){this.trans=null,this.trans=arguments[0]};ma.prototype.filter=function(s,a){var h=s.getOrdinate(a,0)+this.trans.x,p=s.getOrdinate(a,1)+this.trans.y;s.setOrdinate(a,0,h),s.setOrdinate(a,1,p)},ma.prototype.isDone=function(){return!1},ma.prototype.isGeometryChanged=function(){return!0},ma.prototype.interfaces_=function(){return[qo]},ma.prototype.getClass=function(){return ma};var Vr=function(s,a){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=s,this._geom[1]=a,this.computeSnapTolerance()};Vr.prototype.selfSnap=function(s){return new sr(s).snapTo(s,this._snapTolerance)},Vr.prototype.removeCommonBits=function(s){this._cbr=new ga,this._cbr.add(s[0]),this._cbr.add(s[1]);var a=new Array(2).fill(null);return a[0]=this._cbr.removeCommonBits(s[0].copy()),a[1]=this._cbr.removeCommonBits(s[1].copy()),a},Vr.prototype.prepareResult=function(s){return this._cbr.addCommonBits(s),s},Vr.prototype.getResultGeometry=function(s){var a=this.snap(this._geom),h=qt.overlayOp(a[0],a[1],s);return this.prepareResult(h)},Vr.prototype.checkValid=function(s){s.isValid()||ae.out.println("Snapped geometry is invalid")},Vr.prototype.computeSnapTolerance=function(){this._snapTolerance=sr.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Vr.prototype.snap=function(s){var a=this.removeCommonBits(s);return sr.snap(a[0],a[1],this._snapTolerance)},Vr.prototype.interfaces_=function(){return[]},Vr.prototype.getClass=function(){return Vr},Vr.overlayOp=function(s,a,h){return new Vr(s,a).getResultGeometry(h)},Vr.union=function(s,a){return Vr.overlayOp(s,a,qt.UNION)},Vr.intersection=function(s,a){return Vr.overlayOp(s,a,qt.INTERSECTION)},Vr.symDifference=function(s,a){return Vr.overlayOp(s,a,qt.SYMDIFFERENCE)},Vr.difference=function(s,a){return Vr.overlayOp(s,a,qt.DIFFERENCE)};var po=function(s,a){this._geom=new Array(2).fill(null),this._geom[0]=s,this._geom[1]=a};po.prototype.getResultGeometry=function(s){var a=null,h=!1,p=null;try{a=qt.overlayOp(this._geom[0],this._geom[1],s),h=!0}catch(_){if(!(_ instanceof Ce))throw _;p=_}if(!h)try{a=Vr.overlayOp(this._geom[0],this._geom[1],s)}catch(_){throw _ instanceof Ce?p:_}return a},po.prototype.interfaces_=function(){return[]},po.prototype.getClass=function(){return po},po.overlayOp=function(s,a,h){return new po(s,a).getResultGeometry(h)},po.union=function(s,a){return po.overlayOp(s,a,qt.UNION)},po.intersection=function(s,a){return po.overlayOp(s,a,qt.INTERSECTION)},po.symDifference=function(s,a){return po.overlayOp(s,a,qt.SYMDIFFERENCE)},po.difference=function(s,a){return po.overlayOp(s,a,qt.DIFFERENCE)};var l=function(){this.mce=null,this.chainIndex=null;var a=arguments[1];this.mce=arguments[0],this.chainIndex=a};l.prototype.computeIntersections=function(s,a){this.mce.computeIntersectsForChain(this.chainIndex,s.mce,s.chainIndex,a)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l};var g=function s(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var a=arguments[0],h=arguments[1];this._eventType=s.DELETE,this._xValue=a,this._insertEvent=h}else if(3===arguments.length){var p=arguments[0],_=arguments[1],T=arguments[2];this._eventType=s.INSERT,this._label=p,this._xValue=_,this._obj=T}},x={INSERT:{configurable:!0},DELETE:{configurable:!0}};g.prototype.isDelete=function(){return this._eventType===g.DELETE},g.prototype.setDeleteEventIndex=function(s){this._deleteEventIndex=s},g.prototype.getObject=function(){return this._obj},g.prototype.compareTo=function(s){return this._xValue<s._xValue?-1:this._xValue>s._xValue?1:this._eventType<s._eventType?-1:this._eventType>s._eventType?1:0},g.prototype.getInsertEvent=function(){return this._insertEvent},g.prototype.isInsert=function(){return this._eventType===g.INSERT},g.prototype.isSameLabel=function(s){return null!==this._label&&this._label===s._label},g.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},g.prototype.interfaces_=function(){return[F]},g.prototype.getClass=function(){return g},x.INSERT.get=function(){return 1},x.DELETE.get=function(){return 2},Object.defineProperties(g,x);var V=function(){};V.prototype.interfaces_=function(){return[]},V.prototype.getClass=function(){return V};var re=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var a=arguments[1],h=arguments[2];this._li=arguments[0],this._includeProper=a,this._recordIsolated=h};re.prototype.isTrivialIntersection=function(s,a,h,p){if(s===h&&1===this._li.getIntersectionNum()){if(re.isAdjacentSegments(a,p))return!0;if(s.isClosed()){var _=s.getNumPoints()-1;if(0===a&&p===_||0===p&&a===_)return!0}}return!1},re.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},re.prototype.setIsDoneIfProperInt=function(s){this._isDoneWhenProperInt=s},re.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},re.prototype.isBoundaryPointInternal=function(s,a){for(var h=a.iterator();h.hasNext();){var p=h.next().getCoordinate();if(s.isIntersection(p))return!0}return!1},re.prototype.hasProperIntersection=function(){return this._hasProper},re.prototype.hasIntersection=function(){return this._hasIntersection},re.prototype.isDone=function(){return this._isDone},re.prototype.isBoundaryPoint=function(s,a){return!(null===a||!this.isBoundaryPointInternal(s,a[0])&&!this.isBoundaryPointInternal(s,a[1]))},re.prototype.setBoundaryNodes=function(s,a){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=s,this._bdyNodes[1]=a},re.prototype.addIntersections=function(s,a,h,p){if(s===h&&a===p)return null;this.numTests++;var _=s.getCoordinates()[a],T=s.getCoordinates()[a+1],G=h.getCoordinates()[p],le=h.getCoordinates()[p+1];this._li.computeIntersection(_,T,G,le),this._li.hasIntersection()&&(this._recordIsolated&&(s.setIsolated(!1),h.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(s,a,h,p)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(s.addIntersections(this._li,a,0),h.addIntersections(this._li,p,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},re.prototype.interfaces_=function(){return[]},re.prototype.getClass=function(){return re},re.isAdjacentSegments=function(s,a){return 1===Math.abs(s-a)};var De=function(s){function a(){s.call(this),this.events=new pt,this.nOverlaps=null}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.prepareEvents=function(){Zo.sort(this.events);for(var h=0;h<this.events.size();h++){var p=this.events.get(h);p.isDelete()&&p.getInsertEvent().setDeleteEventIndex(h)}},a.prototype.computeIntersections=function(){if(1===arguments.length){var h=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var p=0;p<this.events.size();p++){var _=this.events.get(p);if(_.isInsert()&&this.processOverlaps(p,_.getDeleteEventIndex(),_,h),h.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof re&&Te(arguments[0],cr)&&Te(arguments[1],cr)){var T=arguments[0],G=arguments[1],le=arguments[2];this.addEdges(T,T),this.addEdges(G,G),this.computeIntersections(le)}else if("boolean"==typeof arguments[2]&&Te(arguments[0],cr)&&arguments[1]instanceof re){var Pe=arguments[0],Ue=arguments[1];arguments[2]?this.addEdges(Pe,null):this.addEdges(Pe),this.computeIntersections(Ue)}},a.prototype.addEdge=function(h,p){for(var _=h.getMonotoneChainEdge(),T=_.getStartIndexes(),G=0;G<T.length-1;G++){var le=new l(_,G),Pe=new g(p,_.getMinX(G),le);this.events.add(Pe),this.events.add(new g(_.getMaxX(G),Pe))}},a.prototype.processOverlaps=function(h,p,_,T){for(var G=_.getObject(),le=h;le<p;le++){var Pe=this.events.get(le);if(Pe.isInsert()){var Ue=Pe.getObject();_.isSameLabel(Pe)||(G.computeIntersections(Ue,T),this.nOverlaps++)}}},a.prototype.addEdges=function(){if(1===arguments.length)for(var h=arguments[0].iterator();h.hasNext();){var p=h.next();this.addEdge(p,p)}else if(2===arguments.length)for(var T=arguments[1],G=arguments[0].iterator();G.hasNext();){var le=G.next();this.addEdge(le,T)}},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(V),He=function(){this._min=I.POSITIVE_INFINITY,this._max=I.NEGATIVE_INFINITY},tt={NodeComparator:{configurable:!0}};He.prototype.getMin=function(){return this._min},He.prototype.intersects=function(s,a){return!(this._min>a||this._max<s)},He.prototype.getMax=function(){return this._max},He.prototype.toString=function(){return qe.toLineString(new z(this._min,0),new z(this._max,0))},He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He},tt.NodeComparator.get=function(){return ot},Object.defineProperties(He,tt);var ot=function(){};ot.prototype.compare=function(s,a){var _=(s._min+s._max)/2,T=(a._min+a._max)/2;return _<T?-1:_>T?1:0},ot.prototype.interfaces_=function(){return[oe]},ot.prototype.getClass=function(){return ot};var dt=function(s){function a(){s.call(this),this._item=null;var p=arguments[1],_=arguments[2];this._min=arguments[0],this._max=p,this._item=_}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.query=function(h,p,_){if(!this.intersects(h,p))return null;_.visitItem(this._item)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(He),Lt=function(s){function a(){s.call(this),this._node1=null,this._node2=null;var p=arguments[1];this._node1=arguments[0],this._node2=p,this.buildExtent(this._node1,this._node2)}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.buildExtent=function(h,p){this._min=Math.min(h._min,p._min),this._max=Math.max(h._max,p._max)},a.prototype.query=function(h,p,_){if(!this.intersects(h,p))return null;null!==this._node1&&this._node1.query(h,p,_),null!==this._node2&&this._node2.query(h,p,_)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(He),jt=function(){this._leaves=new pt,this._root=null,this._level=0};jt.prototype.buildTree=function(){Zo.sort(this._leaves,new He.NodeComparator);for(var s=this._leaves,a=null,h=new pt;;){if(this.buildLevel(s,h),1===h.size())return h.get(0);a=s,s=h,h=a}},jt.prototype.insert=function(s,a,h){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new dt(s,a,h))},jt.prototype.query=function(s,a,h){this.init(),this._root.query(s,a,h)},jt.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},jt.prototype.printNode=function(s){ae.out.println(qe.toLineString(new z(s._min,this._level),new z(s._max,this._level)))},jt.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},jt.prototype.buildLevel=function(s,a){this._level++,a.clear();for(var h=0;h<s.size();h+=2){var p=s.get(h);if(null===(h+1<s.size()?s.get(h):null))a.add(p);else{var _=new Lt(s.get(h),s.get(h+1));a.add(_)}}},jt.prototype.interfaces_=function(){return[]},jt.prototype.getClass=function(){return jt};var Cn=function(){this._items=new pt};Cn.prototype.visitItem=function(s){this._items.add(s)},Cn.prototype.getItems=function(){return this._items},Cn.prototype.interfaces_=function(){return[fa]},Cn.prototype.getClass=function(){return Cn};var go=function(){this._index=null;var s=arguments[0];if(!Te(s,Zs))throw new B("Argument must be Polygonal");this._index=new xo(s)},_a={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};go.prototype.locate=function(s){var a=new Xe(s),h=new na(a);return this._index.query(s.y,s.y,h),a.getLocation()},go.prototype.interfaces_=function(){return[Fn]},go.prototype.getClass=function(){return go},_a.SegmentVisitor.get=function(){return na},_a.IntervalIndexedGeometry.get=function(){return xo},Object.defineProperties(go,_a);var na=function(){this._counter=null,this._counter=arguments[0]};na.prototype.visitItem=function(s){var a=s;this._counter.countSegment(a.getCoordinate(0),a.getCoordinate(1))},na.prototype.interfaces_=function(){return[fa]},na.prototype.getClass=function(){return na};var xo=function(){this._index=new jt,this.init(arguments[0])};xo.prototype.init=function(s){for(var a=or.getLines(s).iterator();a.hasNext();){var h=a.next().getCoordinates();this.addLine(h)}},xo.prototype.addLine=function(s){for(var a=1;a<s.length;a++){var h=new Tt(s[a-1],s[a]),p=Math.min(h.p0.y,h.p1.y),_=Math.max(h.p0.y,h.p1.y);this._index.insert(p,_,h)}},xo.prototype.query=function(){if(2===arguments.length){var s=arguments[0],a=arguments[1],h=new Cn;return this._index.query(s,a,h),h.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},xo.prototype.interfaces_=function(){return[]},xo.prototype.getClass=function(){return xo};var Ka=function(s){function a(){if(s.call(this),this._parentGeom=null,this._lineEdgeMap=new pu,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Qo,2===arguments.length){var p=arguments[1],_=bn.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=p,this._boundaryNodeRule=_,null!==p&&this.add(p)}else if(3===arguments.length){var G=arguments[1],le=arguments[2];this._argIndex=arguments[0],this._parentGeom=G,this._boundaryNodeRule=le,null!==G&&this.add(G)}}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.insertBoundaryPoint=function(h,p){var _=this._nodes.addNode(p).getLabel(),T=1;_.getLocation(h,ut.ON)===J.BOUNDARY&&T++;var G=a.determineBoundary(this._boundaryNodeRule,T);_.setLocation(h,G)},a.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var T=arguments[1],G=arguments[2],le=new re(arguments[0],!0,!1);return le.setIsDoneIfProperInt(G),this.createEdgeSetIntersector().computeIntersections(this._edges,le,T||!(this._parentGeom instanceof Ps||this._parentGeom instanceof hr||this._parentGeom instanceof rs)),this.addSelfIntersectionNodes(this._argIndex),le}},a.prototype.computeSplitEdges=function(h){for(var p=this._edges.iterator();p.hasNext();)p.next().eiList.addSplitEdges(h)},a.prototype.computeEdgeIntersections=function(h,p,_){var T=new re(p,_,!0);return T.setBoundaryNodes(this.getBoundaryNodes(),h.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,h._edges,T),T},a.prototype.getGeometry=function(){return this._parentGeom},a.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},a.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},a.prototype.addPoint=function(){if(arguments[0]instanceof wo){var h=arguments[0].getCoordinate();this.insertPoint(this._argIndex,h,J.INTERIOR)}else arguments[0]instanceof z&&this.insertPoint(this._argIndex,arguments[0],J.INTERIOR)},a.prototype.addPolygon=function(h){this.addPolygonRing(h.getExteriorRing(),J.EXTERIOR,J.INTERIOR);for(var p=0;p<h.getNumInteriorRing();p++){var _=h.getInteriorRingN(p);this.addPolygonRing(_,J.INTERIOR,J.EXTERIOR)}},a.prototype.addEdge=function(h){this.insertEdge(h);var p=h.getCoordinates();this.insertPoint(this._argIndex,p[0],J.BOUNDARY),this.insertPoint(this._argIndex,p[p.length-1],J.BOUNDARY)},a.prototype.addLineString=function(h){var p=ln.removeRepeatedPoints(h.getCoordinates());if(p.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=p[0],null;var _=new jr(p,new Tn(this._argIndex,J.INTERIOR));this._lineEdgeMap.put(h,_),this.insertEdge(_),be.isTrue(p.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,p[0]),this.insertBoundaryPoint(this._argIndex,p[p.length-1])},a.prototype.getInvalidPoint=function(){return this._invalidPoint},a.prototype.getBoundaryPoints=function(){for(var h=this.getBoundaryNodes(),p=new Array(h.size()).fill(null),_=0,T=h.iterator();T.hasNext();){var G=T.next();p[_++]=G.getCoordinate().copy()}return p},a.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},a.prototype.addSelfIntersectionNode=function(h,p,_){if(this.isBoundaryNode(h,p))return null;_===J.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(h,p):this.insertPoint(h,p,_)},a.prototype.addPolygonRing=function(h,p,_){if(h.isEmpty())return null;var T=ln.removeRepeatedPoints(h.getCoordinates());if(T.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=T[0],null;var G=p,le=_;Ge.isCCW(T)&&(G=_,le=p);var Pe=new jr(T,new Tn(this._argIndex,J.BOUNDARY,G,le));this._lineEdgeMap.put(h,Pe),this.insertEdge(Pe),this.insertPoint(this._argIndex,T[0],J.BOUNDARY)},a.prototype.insertPoint=function(h,p,_){var T=this._nodes.addNode(p),G=T.getLabel();null===G?T._label=new Tn(h,_):G.setLocation(h,_)},a.prototype.createEdgeSetIntersector=function(){return new De},a.prototype.addSelfIntersectionNodes=function(h){for(var p=this._edges.iterator();p.hasNext();)for(var _=p.next(),T=_.getLabel().getLocation(h),G=_.eiList.iterator();G.hasNext();){var le=G.next();this.addSelfIntersectionNode(h,le.coord,T)}},a.prototype.add=function(){if(1!==arguments.length)return s.prototype.add.apply(this,arguments);var h=arguments[0];if(h.isEmpty())return null;if(h instanceof rs&&(this._useBoundaryDeterminationRule=!1),h instanceof hr)this.addPolygon(h);else if(h instanceof qi)this.addLineString(h);else if(h instanceof wo)this.addPoint(h);else if(h instanceof cu)this.addCollection(h);else if(h instanceof Ws)this.addCollection(h);else if(h instanceof rs)this.addCollection(h);else{if(!(h instanceof Gi))throw new Error(h.getClass().getName());this.addCollection(h)}},a.prototype.addCollection=function(h){for(var p=0;p<h.getNumGeometries();p++){var _=h.getGeometryN(p);this.add(_)}},a.prototype.locate=function(h){return Te(this._parentGeom,Zs)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new go(this._parentGeom)),this._areaPtLocator.locate(h)):this._ptLocator.locate(h,this._parentGeom)},a.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):s.prototype.findEdge.apply(this,arguments)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.determineBoundary=function(h,p){return h.isInBoundary(p)?J.BOUNDARY:J.INTERIOR},a}(Yt),Oa=function(){if(this._li=new Oe,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var s=arguments[0];this.setComputationPrecision(s.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Ka(0,s)}else if(2===arguments.length){var a=arguments[0],h=arguments[1],p=bn.OGC_SFS_BOUNDARY_RULE;a.getPrecisionModel().compareTo(h.getPrecisionModel())>=0?this.setComputationPrecision(a.getPrecisionModel()):this.setComputationPrecision(h.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Ka(0,a,p),this._arg[1]=new Ka(1,h,p)}else if(3===arguments.length){var _=arguments[0],T=arguments[1],G=arguments[2];_.getPrecisionModel().compareTo(T.getPrecisionModel())>=0?this.setComputationPrecision(_.getPrecisionModel()):this.setComputationPrecision(T.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Ka(0,_,G),this._arg[1]=new Ka(1,T,G)}};Oa.prototype.getArgGeometry=function(s){return this._arg[s].getGeometry()},Oa.prototype.setComputationPrecision=function(s){this._resultPrecisionModel=s,this._li.setPrecisionModel(this._resultPrecisionModel)},Oa.prototype.interfaces_=function(){return[]},Oa.prototype.getClass=function(){return Oa};var ka=function(){};ka.prototype.interfaces_=function(){return[]},ka.prototype.getClass=function(){return ka},ka.map=function(){if(arguments[0]instanceof it&&Te(arguments[1],ka.MapOp)){for(var s=arguments[0],a=arguments[1],h=new pt,p=0;p<s.getNumGeometries();p++){var _=a.map(s.getGeometryN(p));null!==_&&h.add(_)}return s.getFactory().buildGeometry(h)}if(Te(arguments[0],Ni)&&Te(arguments[1],ka.MapOp)){for(var T=arguments[0],G=arguments[1],le=new pt,Pe=T.iterator();Pe.hasNext();){var Ue=Pe.next(),nt=G.map(Ue);null!==nt&&le.add(nt)}return le}},ka.MapOp=function(){};var qt=function(s){function a(){var h=arguments[0];s.call(this,h,arguments[1]),this._ptLocator=new Qo,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Rr,this._resultPolyList=new pt,this._resultLineList=new pt,this._resultPointList=new pt,this._graph=new Yt(new Oo),this._geomFact=h.getFactory()}return s&&(a.__proto__=s),(a.prototype=Object.create(s&&s.prototype)).constructor=a,a.prototype.insertUniqueEdge=function(h){var p=this._edgeList.findEqualEdge(h);if(null!==p){var _=p.getLabel(),T=h.getLabel();p.isPointwiseEqual(h)||(T=new Tn(h.getLabel())).flip();var G=p.getDepth();G.isNull()&&G.add(_),G.add(T),_.merge(T)}else this._edgeList.add(h)},a.prototype.getGraph=function(){return this._graph},a.prototype.cancelDuplicateResultEdges=function(){for(var h=this._graph.getEdgeEnds().iterator();h.hasNext();){var p=h.next(),_=p.getSym();p.isInResult()&&_.isInResult()&&(p.setInResult(!1),_.setInResult(!1))}},a.prototype.isCoveredByLA=function(h){return!!this.isCovered(h,this._resultLineList)||!!this.isCovered(h,this._resultPolyList)},a.prototype.computeGeometry=function(h,p,_,T){var G=new pt;return G.addAll(h),G.addAll(p),G.addAll(_),G.isEmpty()?a.createEmptyResult(T,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(G)},a.prototype.mergeSymLabels=function(){for(var h=this._graph.getNodes().iterator();h.hasNext();)h.next().getEdges().mergeSymLabels()},a.prototype.isCovered=function(h,p){for(var _=p.iterator();_.hasNext();){var T=_.next();if(this._ptLocator.locate(h,T)!==J.EXTERIOR)return!0}return!1},a.prototype.replaceCollapsedEdges=function(){for(var h=new pt,p=this._edgeList.iterator();p.hasNext();){var _=p.next();_.isCollapsed()&&(p.remove(),h.add(_.getCollapsedEdge()))}this._edgeList.addAll(h)},a.prototype.updateNodeLabelling=function(){for(var h=this._graph.getNodes().iterator();h.hasNext();){var p=h.next(),_=p.getEdges().getLabel();p.getLabel().merge(_)}},a.prototype.getResultGeometry=function(h){return this.computeOverlay(h),this._resultGeom},a.prototype.insertUniqueEdges=function(h){for(var p=h.iterator();p.hasNext();){var _=p.next();this.insertUniqueEdge(_)}},a.prototype.computeOverlay=function(h){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var p=new pt;this._arg[0].computeSplitEdges(p),this._arg[1].computeSplitEdges(p),this.insertUniqueEdges(p),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Jo.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(h),this.cancelDuplicateResultEdges();var _=new qr(this._geomFact);_.add(this._graph),this._resultPolyList=_.getPolygons();var T=new no(this,this._geomFact,this._ptLocator);this._resultLineList=T.build(h);var G=new Br(this,this._geomFact,this._ptLocator);this._resultPointList=G.build(h),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,h)},a.prototype.labelIncompleteNode=function(h,p){var _=this._ptLocator.locate(h.getCoordinate(),this._arg[p].getGeometry());h.getLabel().setLocation(p,_)},a.prototype.copyPoints=function(h){for(var p=this._arg[h].getNodeIterator();p.hasNext();){var _=p.next();this._graph.addNode(_.getCoordinate()).setLabel(h,_.getLabel().getLocation(h))}},a.prototype.findResultAreaEdges=function(h){for(var p=this._graph.getEdgeEnds().iterator();p.hasNext();){var _=p.next(),T=_.getLabel();T.isArea()&&!_.isInteriorAreaEdge()&&a.isResultOfOp(T.getLocation(0,ut.RIGHT),T.getLocation(1,ut.RIGHT),h)&&_.setInResult(!0)}},a.prototype.computeLabelsFromDepths=function(){for(var h=this._edgeList.iterator();h.hasNext();){var p=h.next(),_=p.getLabel(),T=p.getDepth();if(!T.isNull()){T.normalize();for(var G=0;G<2;G++)_.isNull(G)||!_.isArea()||T.isNull(G)||(0===T.getDelta(G)?_.toLine(G):(be.isTrue(!T.isNull(G,ut.LEFT),"depth of LEFT side has not been initialized"),_.setLocation(G,ut.LEFT,T.getLocation(G,ut.LEFT)),be.isTrue(!T.isNull(G,ut.RIGHT),"depth of RIGHT side has not been initialized"),_.setLocation(G,ut.RIGHT,T.getLocation(G,ut.RIGHT))))}}},a.prototype.computeLabelling=function(){for(var h=this._graph.getNodes().iterator();h.hasNext();)h.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},a.prototype.labelIncompleteNodes=function(){for(var h=this._graph.getNodes().iterator();h.hasNext();){var p=h.next(),_=p.getLabel();p.isIsolated()&&(_.isNull(0)?this.labelIncompleteNode(p,0):this.labelIncompleteNode(p,1)),p.getEdges().updateLabelling(_)}},a.prototype.isCoveredByA=function(h){return!!this.isCovered(h,this._resultPolyList)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(Oa);qt.overlayOp=function(s,a,h){return new qt(s,a).getResultGeometry(h)},qt.intersection=function(s,a){if(s.isEmpty()||a.isEmpty())return qt.createEmptyResult(qt.INTERSECTION,s,a,s.getFactory());if(s.isGeometryCollection()){var h=a;return As.map(s,{interfaces_:function(){return[ka.MapOp]},map:function(p){return p.intersection(h)}})}return s.checkNotGeometryCollection(s),s.checkNotGeometryCollection(a),po.overlayOp(s,a,qt.INTERSECTION)},qt.symDifference=function(s,a){if(s.isEmpty()||a.isEmpty()){if(s.isEmpty()&&a.isEmpty())return qt.createEmptyResult(qt.SYMDIFFERENCE,s,a,s.getFactory());if(s.isEmpty())return a.copy();if(a.isEmpty())return s.copy()}return s.checkNotGeometryCollection(s),s.checkNotGeometryCollection(a),po.overlayOp(s,a,qt.SYMDIFFERENCE)},qt.resultDimension=function(s,a,h){var p=a.getDimension(),_=h.getDimension(),T=-1;switch(s){case qt.INTERSECTION:T=Math.min(p,_);break;case qt.UNION:T=Math.max(p,_);break;case qt.DIFFERENCE:T=p;break;case qt.SYMDIFFERENCE:T=Math.max(p,_)}return T},qt.createEmptyResult=function(s,a,h,p){var _=null;switch(qt.resultDimension(s,a,h)){case-1:_=p.createGeometryCollection(new Array(0).fill(null));break;case 0:_=p.createPoint();break;case 1:_=p.createLineString();break;case 2:_=p.createPolygon()}return _},qt.difference=function(s,a){return s.isEmpty()?qt.createEmptyResult(qt.DIFFERENCE,s,a,s.getFactory()):a.isEmpty()?s.copy():(s.checkNotGeometryCollection(s),s.checkNotGeometryCollection(a),po.overlayOp(s,a,qt.DIFFERENCE))},qt.isResultOfOp=function(){if(2===arguments.length){var s=arguments[0],a=arguments[1],h=s.getLocation(0),p=s.getLocation(1);return qt.isResultOfOp(h,p,a)}if(3===arguments.length){var _=arguments[0],T=arguments[1];switch(_===J.BOUNDARY&&(_=J.INTERIOR),T===J.BOUNDARY&&(T=J.INTERIOR),arguments[2]){case qt.INTERSECTION:return _===J.INTERIOR&&T===J.INTERIOR;case qt.UNION:return _===J.INTERIOR||T===J.INTERIOR;case qt.DIFFERENCE:return _===J.INTERIOR&&T!==J.INTERIOR;case qt.SYMDIFFERENCE:return _===J.INTERIOR&&T!==J.INTERIOR||_!==J.INTERIOR&&T===J.INTERIOR}return!1}},qt.INTERSECTION=1,qt.UNION=2,qt.DIFFERENCE=3,qt.SYMDIFFERENCE=4;var Os=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Qo,this._seg=new Tt;var s=arguments[0],a=arguments[1];this._g=s,this._boundaryDistanceTolerance=a,this._linework=this.extractLinework(s)};Os.prototype.isWithinToleranceOfBoundary=function(s){for(var a=0;a<this._linework.getNumGeometries();a++)for(var h=this._linework.getGeometryN(a).getCoordinateSequence(),p=0;p<h.size()-1;p++)if(h.getCoordinate(p,this._seg.p0),h.getCoordinate(p+1,this._seg.p1),this._seg.distance(s)<=this._boundaryDistanceTolerance)return!0;return!1},Os.prototype.getLocation=function(s){return this.isWithinToleranceOfBoundary(s)?J.BOUNDARY:this._ptLocator.locate(s,this._g)},Os.prototype.extractLinework=function(s){var a=new Qa;s.apply(a);var h=a.getLinework(),p=gt.toLineStringArray(h);return s.getFactory().createMultiLineString(p)},Os.prototype.interfaces_=function(){return[]},Os.prototype.getClass=function(){return Os};var Qa=function(){this._linework=null,this._linework=new pt};Qa.prototype.getLinework=function(){return this._linework},Qa.prototype.filter=function(s){if(s instanceof hr){var a=s;this._linework.add(a.getExteriorRing());for(var h=0;h<a.getNumInteriorRing();h++)this._linework.add(a.getInteriorRingN(h))}},Qa.prototype.interfaces_=function(){return[Dr]},Qa.prototype.getClass=function(){return Qa};var ar=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};ar.prototype.extractPoints=function(s,a,h){for(var p=s.getCoordinates(),_=0;_<p.length-1;_++)this.computeOffsetPoints(p[_],p[_+1],a,h)},ar.prototype.setSidesToGenerate=function(s,a){this._doLeft=s,this._doRight=a},ar.prototype.getPoints=function(s){for(var a=new pt,h=or.getLines(this._g).iterator();h.hasNext();){var p=h.next();this.extractPoints(p,s,a)}return a},ar.prototype.computeOffsetPoints=function(s,a,h,p){var _=a.x-s.x,T=a.y-s.y,G=Math.sqrt(_*_+T*T),le=h*_/G,Pe=h*T/G,Ue=(a.x+s.x)/2,nt=(a.y+s.y)/2;if(this._doLeft){var rt=new z(Ue-Pe,nt+le);p.add(rt)}if(this._doRight){var bt=new z(Ue+Pe,nt-le);p.add(bt)}},ar.prototype.interfaces_=function(){return[]},ar.prototype.getClass=function(){return ar};var vi=function s(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=s.TOLERANCE,this._testCoords=new pt;var a=arguments[0],h=arguments[1],p=arguments[2];this._boundaryDistanceTolerance=s.computeBoundaryDistanceTolerance(a,h),this._geom=[a,h,p],this._locFinder=[new Os(this._geom[0],this._boundaryDistanceTolerance),new Os(this._geom[1],this._boundaryDistanceTolerance),new Os(this._geom[2],this._boundaryDistanceTolerance)]},Ra={TOLERANCE:{configurable:!0}};vi.prototype.reportResult=function(s,a,h){ae.out.println("Overlay result invalid - A:"+J.toLocationSymbol(a[0])+" B:"+J.toLocationSymbol(a[1])+" expected:"+(h?"i":"e")+" actual:"+J.toLocationSymbol(a[2]))},vi.prototype.isValid=function(s){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(s)},vi.prototype.checkValid=function(){if(1===arguments.length){for(var s=arguments[0],a=0;a<this._testCoords.size();a++){var h=this._testCoords.get(a);if(!this.checkValid(s,h))return this._invalidLocation=h,!1}return!0}if(2===arguments.length){var p=arguments[0],_=arguments[1];return this._location[0]=this._locFinder[0].getLocation(_),this._location[1]=this._locFinder[1].getLocation(_),this._location[2]=this._locFinder[2].getLocation(_),!!vi.hasLocation(this._location,J.BOUNDARY)||this.isValidResult(p,this._location)}},vi.prototype.addTestPts=function(s){var a=new ar(s);this._testCoords.addAll(a.getPoints(5*this._boundaryDistanceTolerance))},vi.prototype.isValidResult=function(s,a){var h=qt.isResultOfOp(a[0],a[1],s),p=!(h^a[2]===J.INTERIOR);return p||this.reportResult(s,a,h),p},vi.prototype.getInvalidLocation=function(){return this._invalidLocation},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi},vi.hasLocation=function(s,a){for(var h=0;h<3;h++)if(s[h]===a)return!0;return!1},vi.computeBoundaryDistanceTolerance=function(s,a){return Math.min(sr.computeSizeBasedSnapTolerance(s),sr.computeSizeBasedSnapTolerance(a))},vi.isValid=function(s,a,h,p){return new vi(s,a,p).isValid(h)},Ra.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(vi,Ra);var Zi=function s(a){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=s.extractFactory(a),this._inputGeoms=a};Zi.prototype.extractElements=function(s,a){if(null===s)return null;for(var h=0;h<s.getNumGeometries();h++){var p=s.getGeometryN(h);this._skipEmpty&&p.isEmpty()||a.add(p)}},Zi.prototype.combine=function(){for(var s=new pt,a=this._inputGeoms.iterator();a.hasNext();){var h=a.next();this.extractElements(h,s)}return 0===s.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(s)},Zi.prototype.interfaces_=function(){return[]},Zi.prototype.getClass=function(){return Zi},Zi.combine=function(){return 1===arguments.length?new Zi(arguments[0]).combine():2===arguments.length?new Zi(Zi.createList(arguments[0],arguments[1])).combine():3===arguments.length?new Zi(Zi.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},Zi.extractFactory=function(s){return s.isEmpty()?null:s.iterator().next().getFactory()},Zi.createList=function(){if(2===arguments.length){var s=arguments[0],a=arguments[1],h=new pt;return h.add(s),h.add(a),h}if(3===arguments.length){var p=arguments[0],_=arguments[1],T=arguments[2],G=new pt;return G.add(p),G.add(_),G.add(T),G}};var yr=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new pt)},Ll={STRTREE_NODE_CAPACITY:{configurable:!0}};yr.prototype.reduceToGeometries=function(s){for(var a=new pt,h=s.iterator();h.hasNext();){var p=h.next(),_=null;Te(p,cr)?_=this.unionTree(p):p instanceof it&&(_=p),a.add(_)}return a},yr.prototype.extractByEnvelope=function(s,a,h){for(var p=new pt,_=0;_<a.getNumGeometries();_++){var T=a.getGeometryN(_);T.getEnvelopeInternal().intersects(s)?p.add(T):h.add(T)}return this._geomFactory.buildGeometry(p)},yr.prototype.unionOptimized=function(s,a){var h=s.getEnvelopeInternal(),p=a.getEnvelopeInternal();if(!h.intersects(p))return Zi.combine(s,a);if(s.getNumGeometries()<=1&&a.getNumGeometries()<=1)return this.unionActual(s,a);var _=h.intersection(p);return this.unionUsingEnvelopeIntersection(s,a,_)},yr.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var s=new Pl(yr.STRTREE_NODE_CAPACITY),a=this._inputPolys.iterator();a.hasNext();){var h=a.next();s.insert(h.getEnvelopeInternal(),h)}this._inputPolys=null;var p=s.itemsTree();return this.unionTree(p)},yr.prototype.binaryUnion=function(){if(1===arguments.length){var s=arguments[0];return this.binaryUnion(s,0,s.size())}if(3===arguments.length){var a=arguments[0],h=arguments[1],p=arguments[2];if(p-h<=1){var _=yr.getGeometry(a,h);return this.unionSafe(_,null)}if(p-h==2)return this.unionSafe(yr.getGeometry(a,h),yr.getGeometry(a,h+1));var T=Math.trunc((p+h)/2),G=this.binaryUnion(a,h,T),le=this.binaryUnion(a,T,p);return this.unionSafe(G,le)}},yr.prototype.repeatedUnion=function(s){for(var a=null,h=s.iterator();h.hasNext();){var p=h.next();a=null===a?p.copy():a.union(p)}return a},yr.prototype.unionSafe=function(s,a){return null===s&&null===a?null:null===s?a.copy():null===a?s.copy():this.unionOptimized(s,a)},yr.prototype.unionActual=function(s,a){return yr.restrictToPolygons(s.union(a))},yr.prototype.unionTree=function(s){var a=this.reduceToGeometries(s);return this.binaryUnion(a)},yr.prototype.unionUsingEnvelopeIntersection=function(s,a,h){var p=new pt,_=this.extractByEnvelope(h,s,p),T=this.extractByEnvelope(h,a,p),G=this.unionActual(_,T);return p.add(G),Zi.combine(p)},yr.prototype.bufferUnion=function(){if(1===arguments.length){var s=arguments[0];return s.get(0).getFactory().buildGeometry(s).buffer(0)}if(2===arguments.length){var a=arguments[0],h=arguments[1];return a.getFactory().createGeometryCollection([a,h]).buffer(0)}},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr},yr.restrictToPolygons=function(s){if(Te(s,Zs))return s;var a=ws.getPolygons(s);return 1===a.size()?a.get(0):s.getFactory().createMultiPolygon(gt.toPolygonArray(a))},yr.getGeometry=function(s,a){return a>=s.size()?null:s.get(a)},yr.union=function(s){return new yr(s).union()},Ll.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(yr,Ll);var Cs=function(){};Cs.prototype.interfaces_=function(){return[]},Cs.prototype.getClass=function(){return Cs},Cs.union=function(s,a){if(s.isEmpty()||a.isEmpty()){if(s.isEmpty()&&a.isEmpty())return qt.createEmptyResult(qt.UNION,s,a,s.getFactory());if(s.isEmpty())return a.copy();if(a.isEmpty())return s.copy()}return s.checkNotGeometryCollection(s),s.checkNotGeometryCollection(a),po.overlayOp(s,a,qt.UNION)},j.GeoJSONReader=Ys,j.GeoJSONWriter=cn,j.OverlayOp=qt,j.UnionOp=Cs,j.BufferOp=Ii,Object.defineProperty(j,"__esModule",{value:!0})}(fe)},3294:Qe=>{"use strict";Qe.exports=function j(P,M,v){var w=P*M,E=fe*P,R=E-(E-P),C=P-R,H=fe*M,$=H-(H-M),te=M-$,k=C*te-(w-R*$-C*$-R*te);return v?(v[0]=k,v[1]=w,v):[k,w]};var fe=+(Math.pow(2,27)+1)},7448:Qe=>{"use strict";Qe.exports=function fe(j,P,M){var v=j+P,w=v-j,S=P-w,R=j-(v-w);return M?(M[0]=R+S,M[1]=v,M):[R+S,v]}}},Qe=>{Qe(Qe.s=5637)}]);