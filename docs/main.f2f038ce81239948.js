(self.webpackChunkgeo_cluster=self.webpackChunkgeo_cluster||[]).push([[179],{6891:(Qe,fe,U)=>{"use strict";function P(t){return"function"==typeof t}function D(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const y=D(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function b(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class w{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(P(r))try{r()}catch(o){n=o instanceof y?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{M(o)}catch(a){n=n??[],a instanceof y?n=[...n,...a.errors]:n.push(a)}}if(n)throw new y(n)}}add(n){var e;if(n&&n!==this)if(this.closed)M(n);else{if(n instanceof w){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&b(e,n)}remove(n){const{_finalizers:e}=this;e&&b(e,n),n instanceof w&&n._removeParent(this)}}w.EMPTY=(()=>{const t=new w;return t.closed=!0,t})();const E=w.EMPTY;function I(t){return t instanceof w||t&&"closed"in t&&P(t.remove)&&P(t.add)&&P(t.unsubscribe)}function M(t){P(t)?t():t.unsubscribe()}const R={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y={setTimeout(t,n,...e){const{delegate:r}=Y;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=Y;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function $(t){Y.setTimeout(()=>{const{onUnhandledError:n}=R;if(!n)throw t;n(t)})}function J(){}const G=T("C",void 0,void 0);function T(t,n,e){return{kind:t,value:n,error:e}}let V=null;function O(t){if(R.useDeprecatedSynchronousErrorHandling){const n=!V;if(n&&(V={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=V;if(V=null,e)throw r}}else t()}class j extends w{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,I(n)&&n.add(this)):this.destination=te}static create(n,e,r){return new B(n,e,r)}next(n){this.isStopped?ce(function N(t){return T("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?ce(function ne(t){return T("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ce(G,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const k=Function.prototype.bind;function K(t,n){return k.call(t,n)}class oe{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){ie(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){ie(r)}else ie(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){ie(e)}}}class B extends j{constructor(n,e,r){let i;if(super(),P(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&R.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&K(n.next,o),error:n.error&&K(n.error,o),complete:n.complete&&K(n.complete,o)}):i=n}this.destination=new oe(i)}}function ie(t){R.useDeprecatedSynchronousErrorHandling?function z(t){R.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=t)}(t):$(t)}function ce(t,n){const{onStoppedNotification:e}=R;e&&Y.setTimeout(()=>e(t,n))}const te={closed:!0,next:J,error:function ee(t){throw t},complete:J},Le="function"==typeof Symbol&&Symbol.observable||"@@observable";function Pe(t){return t}function xe(t){return 0===t.length?Pe:1===t.length?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}let ye=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function ae(t){return t&&t instanceof j||function he(t){return t&&P(t.next)&&P(t.error)&&P(t.complete)}(t)&&I(t)}(e)?e:new B(e,r,i);return O(()=>{const{operator:a,source:l}=this;o.add(a?a.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=de(r))((i,o)=>{const a=new B({next:l=>{try{e(l)}catch(f){o(f),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[Le](){return this}pipe(...e){return xe(e)(this)}toPromise(e){return new(e=de(e))((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return t.create=n=>new t(n),t})();function de(t){var n;return null!==(n=t??R.Promise)&&void 0!==n?n:Promise}const Ie=D(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let me=(()=>{class t extends ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new Ae(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Ie}next(e){O(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){O(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){O(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?E:(this.currentObservers=null,o.push(e),new w(()=>{this.currentObservers=null,b(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new ye;return e.source=this,e}}return t.create=(n,e)=>new Ae(n,e),t})();class Ae extends me{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:E}}function ze(t){return P(t?.lift)}function Ge(t){return n=>{if(ze(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ke(t,n,e,r,i){return new X(t,n,e,r,i)}class X extends j{constructor(n,e,r,i,o,a){super(n),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=e?function(l){try{e(l)}catch(f){n.error(f)}}:super._next,this._error=i?function(l){try{i(l)}catch(f){n.error(f)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function re(t,n){return Ge((e,r)=>{let i=0;e.subscribe(Ke(r,o=>{r.next(t.call(n,o,i++))}))})}function Et(t){return this instanceof Et?(this.v=t,this):new Et(t)}function En(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Je(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(a){return new Promise(function(l,f){!function i(o,a,l,f){Promise.resolve(f).then(function(d){o({value:d,done:l})},a)}(l,f,(a=t[o](a)).done,a.value)})}}}const _i=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function pt(t){return P(t?.then)}function $a(t){return P(t[Le])}function ns(t){return Symbol.asyncIterator&&P(t?.[Symbol.asyncIterator])}function pn(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ds=function sa(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ms(t){return P(t?.[Ds])}function Wa(t){return function yn(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(t,n||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(C){r[C]&&(i[C]=function(S){return new Promise(function(W,Q){o.push([C,S,W,Q])>1||l(C,S)})})}function l(C,S){try{!function f(C){C.value instanceof Et?Promise.resolve(C.value.v).then(d,m):_(o[0][2],C)}(r[C](S))}catch(W){_(o[0][3],W)}}function d(C){l("next",C)}function m(C){l("throw",C)}function _(C,S){C(S),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:i}=yield Et(e.read());if(i)return yield Et(void 0);yield yield Et(r)}}finally{e.releaseLock()}})}function il(t){return P(t?.getReader)}function To(t){if(t instanceof ye)return t;if(null!=t){if($a(t))return function H3(t){return new ye(n=>{const e=t[Le]();if(P(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(_i(t))return function Ji(t){return new ye(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(pt(t))return function Yt(t){return new ye(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,$)})}(t);if(ns(t))return aa(t);if(ms(t))return function f2(t){return new ye(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(il(t))return function Fn(t){return aa(Wa(t))}(t)}throw pn(t)}function aa(t){return new ye(n=>{(function rs(t,n){var e,r,i,o;return function Ne(t,n,e,r){return new(e||(e=Promise))(function(o,a){function l(m){try{d(r.next(m))}catch(_){a(_)}}function f(m){try{d(r.throw(m))}catch(_){a(_)}}function d(m){m.done?o(m.value):function i(o){return o instanceof e?o:new e(function(a){a(o)})}(m.value).then(l,f)}d((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=En(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Ti(t,n,e,r=0,i=!1){const o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function zn(t,n,e=1/0){return P(n)?zn((r,i)=>re((o,a)=>n(r,o,i,a))(To(t(r,i))),e):("number"==typeof n&&(e=n),Ge((r,i)=>function is(t,n,e,r,i,o,a,l){const f=[];let d=0,m=0,_=!1;const C=()=>{_&&!f.length&&!d&&n.complete()},S=Q=>d<r?W(Q):f.push(Q),W=Q=>{o&&n.next(Q),d++;let Ce=!1;To(e(Q,m++)).subscribe(Ke(n,ge=>{i?.(ge),o?S(ge):n.next(ge)},()=>{Ce=!0},void 0,()=>{if(Ce)try{for(d--;f.length&&d<r;){const ge=f.shift();a?Ti(n,a,()=>W(ge)):W(ge)}C()}catch(ge){n.error(ge)}}))};return t.subscribe(Ke(n,S,()=>{_=!0,C()})),()=>{l?.()}}(r,i,t,e)))}function os(t=1/0){return zn(Pe,t)}const yi=new ye(t=>t.complete());function B2(t){return t&&P(t.schedule)}function Yr(t){return t[t.length-1]}function Kr(t){return P(Yr(t))?t.pop():void 0}function Ps(t){return B2(Yr(t))?t.pop():void 0}function ca(t,n=0){return Ge((e,r)=>{e.subscribe(Ke(r,i=>Ti(r,t,()=>r.next(i),n),()=>Ti(r,t,()=>r.complete(),n),i=>Ti(r,t,()=>r.error(i),n)))})}function Ci(t,n=0){return Ge((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function A1(t,n){if(!t)throw new Error("Iterable cannot be null");return new ye(e=>{Ti(e,n,()=>{const r=t[Symbol.asyncIterator]();Ti(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function tn(t,n){return n?function xa(t,n){if(null!=t){if($a(t))return function H1(t,n){return To(t).pipe(Ci(n),ca(n))}(t,n);if(_i(t))return function gs(t,n){return new ye(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(pt(t))return function Bs(t,n){return To(t).pipe(Ci(n),ca(n))}(t,n);if(ns(t))return A1(t,n);if(ms(t))return function ao(t,n){return new ye(e=>{let r;return Ti(e,n,()=>{r=t[Ds](),Ti(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){return void e.error(a)}o?e.complete():e.next(i)},0,!0)}),()=>P(r?.return)&&r.return()})}(t,n);if(il(t))return function V1(t,n){return A1(Wa(t),n)}(t,n)}throw pn(t)}(t,n):To(t)}function fn(...t){const n=Ps(t),e=function Io(t,n){return"number"==typeof Yr(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?To(r[0]):os(e)(tn(r,n)):yi}function T1(t={}){const{connector:n=(()=>new me),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let a,l,f,d=0,m=!1,_=!1;const C=()=>{l?.unsubscribe(),l=void 0},S=()=>{C(),a=f=void 0,m=_=!1},W=()=>{const Q=a;S(),Q?.unsubscribe()};return Ge((Q,Ce)=>{d++,!_&&!m&&C();const ge=f=f??n();Ce.add(()=>{d--,0===d&&!_&&!m&&(l=co(W,i))}),ge.subscribe(Ce),!a&&d>0&&(a=new B({next:ue=>ge.next(ue),error:ue=>{_=!0,C(),l=co(S,e,ue),ge.error(ue)},complete:()=>{m=!0,C(),l=co(S,r),ge.complete()}}),To(Q).subscribe(a))})(o)}}function co(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new B({next:()=>{r.unsubscribe(),t()}});return n(...e).subscribe(r)}function br(t){for(let n in t)if(t[n]===br)return n;throw Error("Could not find renamed property on target object.")}function I1(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function vt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function ui(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const as=br({__forward_ref__:br});function Hr(t){return t.__forward_ref__=Hr,t.toString=function(){return vt(this())},t}function mt(t){return U2(t)?t():t}function U2(t){return"function"==typeof t&&t.hasOwnProperty(as)&&t.__forward_ref__===Hr}function N1(t){return t&&!!t.\u0275providers}const Mr="https://g.co/ng/security#xss";class at extends Error{constructor(n,e){super(la(n,e)),this.code=n}}function la(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}function mn(t){return"string"==typeof t?t:null==t?"":String(t)}function ua(t,n){throw new at(-201,!1)}function Pi(t,n){null==t&&function Kt(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function _t(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Hn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qr(t){return cs(t,p1)||cs(t,Us)}function cs(t,n){return t.hasOwnProperty(n)?t[n]:null}function rn(t){return t&&(t.hasOwnProperty(_s)||t.hasOwnProperty(vc))?t[_s]:null}const p1=br({\u0275prov:br}),_s=br({\u0275inj:br}),Us=br({ngInjectableDef:br}),vc=br({ngInjectorDef:br});var cn=(()=>((cn=cn||{})[cn.Default=0]="Default",cn[cn.Host=1]="Host",cn[cn.Self=2]="Self",cn[cn.SkipSelf=4]="SkipSelf",cn[cn.Optional=8]="Optional",cn))();let Fi;function Br(t){const n=Fi;return Fi=t,n}function Za(t,n,e){const r=Qr(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&cn.Optional?null:void 0!==n?n:void ua(vt(t))}const kr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),da={},hi="__NG_DI_FLAG__",No="ngTempTokenPath",Da="ngTokenPath",h2=/\n/gm,_c="\u0275",d2="__source";let Dn;function ko(t){const n=Dn;return Dn=t,n}function Jr(t,n=cn.Default){if(void 0===Dn)throw new at(-203,!1);return null===Dn?Za(t,void 0,n):Dn.get(t,n&cn.Optional?null:void 0,n)}function nt(t,n=cn.Default){return(function La(){return Fi}()||Jr)(mt(t),n)}function Cn(t,n=cn.Default){return nt(t,bn(n))}function bn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Xi(t){const n=[];for(let e=0;e<t.length;e++){const r=mt(t[e]);if(Array.isArray(r)){if(0===r.length)throw new at(900,!1);let i,o=cn.Default;for(let a=0;a<r.length;a++){const l=r[a],f=O1(l);"number"==typeof f?-1===f?i=l.token:o|=f:i=l}n.push(nt(i,o))}else n.push(nt(r))}return n}function xr(t,n){return t[hi]=n,t.prototype[hi]=n,t}function O1(t){return t[hi]}function js(t){return{toString:t}.toString()}var Co=(()=>((Co=Co||{})[Co.OnPush=0]="OnPush",Co[Co.Default=1]="Default",Co))(),gn=(()=>{return(t=gn||(gn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",gn;var t})();const wi={},$n=[],ls=br({\u0275cmp:br}),uo=br({\u0275dir:br}),Bi=br({\u0275pipe:br}),As=br({\u0275mod:br}),jo=br({\u0275fac:br}),ys=br({__NG_ELEMENT_ID__:br});let Ui=0;function ei(t){return js(()=>{const n=Ka(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Co.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||gn.Emulated,id:"c"+Ui++,styles:t.styles||$n,_:null,schemas:t.schemas||null,tView:null};R1(e);const r=t.dependencies;return e.directiveDefs=bo(r,!1),e.pipeDefs=bo(r,!0),e})}function Vs(t){return Mn(t)||oi(t)}function Go(t){return null!==t}function Pn(t){return js(()=>({type:t.type,bootstrap:t.bootstrap||$n,declarations:t.declarations||$n,imports:t.imports||$n,exports:t.exports||$n,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Gi(t,n){if(null==t)return wi;const e={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,n&&(n[i]=o)}return e}function Ht(t){return js(()=>{const n=Ka(t);return R1(n),n})}function Ki(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mn(t){return t[ls]||null}function oi(t){return t[uo]||null}function di(t){return t[Bi]||null}function qr(t,n){const e=t[As]||null;if(!e&&!0===n)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return e}function Ka(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||$n,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Gi(t.inputs,n),outputs:Gi(t.outputs)}}function R1(t){t.features?.forEach(n=>n(t))}function bo(t,n){if(!t)return null;const e=n?di:Vs;return()=>("function"==typeof t?t():t).map(r=>e(r)).filter(Go)}const bs=0,Ot=1,vn=2,Yn=3,Ir=4,$o=5,Un=6,to=7,Ur=8,m1=9,pa=10,un=11,Ts=12,mi=13,us=14,xi=15,Mo=16,Ni=17,Wo=18,$r=19,si=20,Ms=21,In=22,ws=1,ma=2,Ei=7,g1=8,ai=9,wo=10;function Er(t){return Array.isArray(t)&&"object"==typeof t[ws]}function Si(t){return Array.isArray(t)&&!0===t[ws]}function fs(t){return 0!=(4&t.flags)}function Gs(t){return t.componentOffset>-1}function fo(t){return 1==(1&t.flags)}function qi(t){return!!t.template}function ho(t){return 0!=(256&t[vn])}function dt(t,n){return t.hasOwnProperty(jo)?t[jo]:null}class It{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Nt(){return Ln}function Ln(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ha),Eo}function Eo(){const t=Oo(this),n=t?.current;if(n){const e=t.previous;if(e===wi)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function Ha(t,n,e,r){const i=this.declaredInputs[e],o=Oo(t)||function v1(t,n){return t[ga]=n}(t,{previous:wi,current:null}),a=o.current||(o.current={}),l=o.previous,f=l[i];a[i]=new It(f&&f.currentValue,n,l===wi),t[r]=n}Nt.ngInherit=!0;const ga="__ngSimpleChanges__";function Oo(t){return t[ga]||null}const $t=function(t,n,e){},$s="svg";function vi(t){for(;Array.isArray(t);)t=t[bs];return t}function e1(t,n){return vi(n[t])}function ti(t,n){return vi(n[t.index])}function bc(t,n){return t.data[n]}function Is(t,n){return t[n]}function s(t,n){const e=n[t];return Er(e)?e:e[bs]}function h(t){return 64==(64&t[vn])}function v(t,n){return null==n?null:t[n]}function H(t){t[Wo]=0}function q(t,n){t[$o]+=n;let e=t,r=t[Yn];for(;null!==r&&(1===n&&1===e[$o]||-1===n&&0===e[$o]);)r[$o]+=n,e=r,r=r[Yn]}const le={lFrame:P9(null),bindingsEnabled:!0};function xt(){return le.bindingsEnabled}function ct(){return le.lFrame.lView}function on(){return le.lFrame.tView}function Or(t){return le.lFrame.contextLView=t,t[Ur]}function Di(t){return le.lFrame.contextLView=null,t}function zi(){let t=al();for(;null!==t&&64===t.type;)t=t.parent;return t}function al(){return le.lFrame.currentTNode}function B1(t,n){const e=le.lFrame;e.currentTNode=t,e.isParent=n}function t8(){return le.lFrame.isParent}function n8(){le.lFrame.isParent=!1}function Ws(){const t=le.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function cl(){return le.lFrame.bindingIndex++}function m2(t){const n=le.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function DO(t,n){const e=le.lFrame;e.bindingIndex=e.bindingRootIndex=t,r8(n)}function r8(t){le.lFrame.currentDirectiveIndex=t}function i8(t){const n=le.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function S9(){return le.lFrame.currentQueryIndex}function o8(t){le.lFrame.currentQueryIndex=t}function zO(t){const n=t[Ot];return 2===n.type?n.declTNode:1===n.type?t[Un]:null}function L9(t,n,e){if(e&cn.SkipSelf){let i=n,o=t;for(;!(i=i.parent,null!==i||e&cn.Host||(i=zO(o),null===i||(o=o[xi],10&i.type))););if(null===i)return!1;n=i,t=o}const r=le.lFrame=D9();return r.currentTNode=n,r.lView=t,!0}function s8(t){const n=D9(),e=t[Ot];le.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function D9(){const t=le.lFrame,n=null===t?null:t.child;return null===n?P9(t):n}function P9(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function z9(){const t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const H9=z9;function a8(){const t=z9();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ys(){return le.lFrame.selectedIndex}function Mc(t){le.lFrame.selectedIndex=t}function ro(){const t=le.lFrame;return bc(t.tView,t.selectedIndex)}function Uu(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:f,ngAfterViewChecked:d,ngOnDestroy:m}=o;a&&(t.contentHooks??(t.contentHooks=[])).push(-e,a),l&&((t.contentHooks??(t.contentHooks=[])).push(e,l),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(e,l)),f&&(t.viewHooks??(t.viewHooks=[])).push(-e,f),d&&((t.viewHooks??(t.viewHooks=[])).push(e,d),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(e,d)),null!=m&&(t.destroyHooks??(t.destroyHooks=[])).push(e,m)}}function ju(t,n,e){T9(t,n,3,e)}function Gu(t,n,e,r){(3&t[vn])===e&&T9(t,n,e,r)}function c8(t,n){let e=t[vn];(3&e)===n&&(e&=2047,e+=1,t[vn]=e)}function T9(t,n,e,r){const o=r??-1,a=n.length-1;let l=0;for(let f=void 0!==r?65535&t[Wo]:0;f<a;f++)if("number"==typeof n[f+1]){if(l=n[f],null!=r&&l>=r)break}else n[f]<0&&(t[Wo]+=65536),(l<o||-1==o)&&(kO(t,e,n,f),t[Wo]=(4294901760&t[Wo])+f+2),f++}function kO(t,n,e,r){const i=e[r]<0,o=e[r+1],l=t[i?-e[r]:e[r]];if(i){if(t[vn]>>11<t[Wo]>>16&&(3&t[vn])===n){t[vn]+=2048,$t(4,l,o);try{o.call(l)}finally{$t(5,l,o)}}}else{$t(4,l,o);try{o.call(l)}finally{$t(5,l,o)}}}const ll=-1;class T3{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function u8(t,n,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],a=e[r++],l=e[r++];t.setAttribute(n,a,l,o)}else{const o=i,a=e[++r];N9(o)?t.setProperty(n,o,a):t.setAttribute(n,o,a),r++}}return r}function I9(t){return 3===t||4===t||6===t}function N9(t){return 64===t.charCodeAt(0)}function I3(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?e=i:0===e||k9(t,e,i,null,-1===e||2===e?n[++r]:null)}}return t}function k9(t,n,e,r,i){let o=0,a=t.length;if(-1===n)a=-1;else for(;o<t.length;){const l=t[o++];if("number"==typeof l){if(l===n){a=-1;break}if(l>n){a=o-1;break}}}for(;o<t.length;){const l=t[o];if("number"==typeof l)break;if(l===e){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,n),o=a+1),t.splice(o++,0,e),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function O9(t){return t!==ll}function qu(t){return 32767&t}function $u(t,n){let e=function BO(t){return t>>16}(t),r=n;for(;e>0;)r=r[xi],e--;return r}let f8=!0;function Wu(t){const n=f8;return f8=t,n}const R9=255,F9=5;let UO=0;const U1={};function Yu(t,n){const e=B9(t,n);if(-1!==e)return e;const r=n[Ot];r.firstCreatePass&&(t.injectorIndex=n.length,h8(r.data,t),h8(n,null),h8(r.blueprint,null));const i=d8(t,n),o=t.injectorIndex;if(O9(i)){const a=qu(i),l=$u(i,n),f=l[Ot].data;for(let d=0;d<8;d++)n[o+d]=l[a+d]|f[a+d]}return n[o+8]=i,o}function h8(t,n){t.push(0,0,0,0,0,0,0,0,n)}function B9(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function d8(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;null!==i;){if(r=Y9(i),null===r)return ll;if(e++,i=i[xi],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return ll}function p8(t,n,e){!function jO(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(ys)&&(r=e[ys]),null==r&&(r=e[ys]=UO++);const i=r&R9;n.data[t+(i>>F9)]|=1<<i}(t,n,e)}function U9(t,n,e){if(e&cn.Optional||void 0!==t)return t;ua()}function j9(t,n,e,r){if(e&cn.Optional&&void 0===r&&(r=null),!(e&(cn.Self|cn.Host))){const i=t[m1],o=Br(void 0);try{return i?i.get(n,r,e&cn.Optional):Za(n,r,e&cn.Optional)}finally{Br(o)}}return U9(r,0,e)}function G9(t,n,e,r=cn.Default,i){if(null!==t){if(1024&n[vn]){const a=function YO(t,n,e,r,i){let o=t,a=n;for(;null!==o&&null!==a&&1024&a[vn]&&!(256&a[vn]);){const l=q9(o,a,e,r|cn.Self,U1);if(l!==U1)return l;let f=o.parent;if(!f){const d=a[Ms];if(d){const m=d.get(e,U1,r);if(m!==U1)return m}f=Y9(a),a=a[xi]}o=f}return i}(t,n,e,r,U1);if(a!==U1)return a}const o=q9(t,n,e,r,U1);if(o!==U1)return o}return j9(n,e,r,i)}function q9(t,n,e,r,i){const o=function $O(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(ys)?t[ys]:void 0;return"number"==typeof n?n>=0?n&R9:WO:n}(e);if("function"==typeof o){if(!L9(n,t,r))return r&cn.Host?U9(i,0,r):j9(n,e,r,i);try{const a=o(r);if(null!=a||r&cn.Optional)return a;ua()}finally{H9()}}else if("number"==typeof o){let a=null,l=B9(t,n),f=ll,d=r&cn.Host?n[Mo][Un]:null;for((-1===l||r&cn.SkipSelf)&&(f=-1===l?d8(t,n):n[l+8],f!==ll&&W9(r,!1)?(a=n[Ot],l=qu(f),n=$u(f,n)):l=-1);-1!==l;){const m=n[Ot];if($9(o,l,m.data)){const _=qO(l,n,e,a,r,d);if(_!==U1)return _}f=n[l+8],f!==ll&&W9(r,n[Ot].data[l+8]===d)&&$9(o,l,n)?(a=m,l=qu(f),n=$u(f,n)):l=-1}}return i}function qO(t,n,e,r,i,o){const a=n[Ot],l=a.data[t+8],m=Zu(l,a,e,null==r?Gs(l)&&f8:r!=a&&0!=(3&l.type),i&cn.Host&&o===l);return null!==m?wc(n,a,m,l):U1}function Zu(t,n,e,r,i){const o=t.providerIndexes,a=n.data,l=1048575&o,f=t.directiveStart,m=o>>20,C=i?l+m:t.directiveEnd;for(let S=r?l:l+m;S<C;S++){const W=a[S];if(S<f&&e===W||S>=f&&W.type===e)return S}if(i){const S=a[f];if(S&&qi(S)&&S.type===e)return f}return null}function wc(t,n,e,r){let i=t[e];const o=n.data;if(function OO(t){return t instanceof T3}(i)){const a=i;a.resolving&&function Ya(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new at(-200,`Circular dependency in DI detected for ${t}${e}`)}(function lt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():mn(t)}(o[e]));const l=Wu(a.canSeeViewProviders);a.resolving=!0;const f=a.injectImpl?Br(a.injectImpl):null;L9(t,r,cn.Default);try{i=t[e]=a.factory(void 0,o,t,r),n.firstCreatePass&&e>=r.directiveStart&&function NO(t,n,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const a=Ln(n);(e.preOrderHooks??(e.preOrderHooks=[])).push(t,a),(e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(t,a)}i&&(e.preOrderHooks??(e.preOrderHooks=[])).push(0-t,i),o&&((e.preOrderHooks??(e.preOrderHooks=[])).push(t,o),(e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(t,o))}(e,o[e],n)}finally{null!==f&&Br(f),Wu(l),a.resolving=!1,H9()}}return i}function $9(t,n,e){return!!(e[n+(t>>F9)]&1<<t)}function W9(t,n){return!(t&cn.Self||t&cn.Host&&n)}class ul{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return G9(this._tNode,this._lView,n,bn(r),e)}}function WO(){return new ul(zi(),ct())}function hs(t){return js(()=>{const n=t.prototype.constructor,e=n[jo]||m8(n),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[jo]||m8(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function m8(t){return U2(t)?()=>{const n=m8(mt(t));return n&&n()}:dt(t)}function Y9(t){const n=t[Ot],e=n.type;return 2===e?n.declTNode:1===e?t[Un]:null}function xc(t){return function GO(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(I9(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===n)return e[i+1];i+=2}}}return null}(zi(),t)}const hl="__parameters__";function pl(t,n,e){return js(()=>{const r=function g8(t){return function(...e){if(t){const r=t(...e);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const a=new i(...o);return l.annotation=a,l;function l(f,d,m){const _=f.hasOwnProperty(hl)?f[hl]:Object.defineProperty(f,hl,{value:[]})[hl];for(;_.length<=m;)_.push(null);return(_[m]=_[m]||[]).push(a),f}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class wt{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_t({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ec(t,n){t.forEach(e=>Array.isArray(e)?Ec(e,n):n(e))}function X9(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Xu(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function O3(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function Aa(t,n,e){let r=ml(t,n);return r>=0?t[1|r]=e:(r=~r,function QO(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(1===i)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function _8(t,n){const e=ml(t,n);if(e>=0)return t[1|e]}function ml(t,n){return function K9(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){const o=r+(i-r>>1),a=t[o<<e];if(n===a)return o<<e;a>n?i=o:r=o+1}return~(i<<e)}(t,n,1)}const q2=xr(pl("Optional"),8),gl=xr(pl("SkipSelf"),4);var va=(()=>((va=va||{})[va.Important=1]="Important",va[va.DashCase=2]="DashCase",va))();const x8=new Map;let CR=0;const S8="__ngContext__";function Ns(t,n){Er(n)?(t[S8]=n[si],function MR(t){x8.set(t[si],t)}(n)):t[S8]=n}let L8;function D8(t,n){return L8(t,n)}function U3(t){const n=t[Yn];return Si(n)?n[Yn]:n}function P8(t){return vv(t[mi])}function z8(t){return vv(t[Ir])}function vv(t){for(;null!==t&&!Si(t);)t=t[Ir];return t}function _l(t,n,e,r,i){if(null!=r){let o,a=!1;Si(r)?o=r:Er(r)&&(a=!0,r=r[bs]);const l=vi(r);0===t&&null!==e?null==i?wv(n,e,l):Sc(n,e,l,i||null,!0):1===t&&null!==e?Sc(n,e,l,i||null,!0):2===t?function k8(t,n,e){const r=e0(t,n);r&&function UR(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,l,a):3===t&&n.destroyNode(l),null!=o&&function qR(t,n,e,r,i){const o=e[Ei];o!==vi(e)&&_l(n,t,r,o,i);for(let l=wo;l<e.length;l++){const f=e[l];j3(f[Ot],f,t,n,r,o)}}(n,t,o,e,i)}}function A8(t,n,e){return t.createElement(n,e)}function yv(t,n){const e=t[ai],r=e.indexOf(n),i=n[Yn];512&n[vn]&&(n[vn]&=-513,q(i,-1)),e.splice(r,1)}function V8(t,n){if(t.length<=wo)return;const e=wo+n,r=t[e];if(r){const i=r[Ni];null!==i&&i!==t&&yv(i,r),n>0&&(t[e-1][Ir]=r[Ir]);const o=Xu(t,wo+n);!function TR(t,n){j3(t,n,n[un],2,null,null),n[bs]=null,n[Un]=null}(r[Ot],r);const a=o[$r];null!==a&&a.detachView(o[Ot]),r[Yn]=null,r[Ir]=null,r[vn]&=-65}return r}function Cv(t,n){if(!(128&n[vn])){const e=n[un];e.destroyNode&&j3(t,n,e,3,null,null),function kR(t){let n=t[mi];if(!n)return T8(t[Ot],t);for(;n;){let e=null;if(Er(n))e=n[mi];else{const r=n[wo];r&&(e=r)}if(!e){for(;n&&!n[Ir]&&n!==t;)Er(n)&&T8(n[Ot],n),n=n[Yn];null===n&&(n=t),Er(n)&&T8(n[Ot],n),e=n&&n[Ir]}n=e}}(n)}}function T8(t,n){if(!(128&n[vn])){n[vn]&=-65,n[vn]|=128,function BR(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const i=n[e[r]];if(!(i instanceof T3)){const o=e[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const l=i[o[a]],f=o[a+1];$t(4,l,f);try{f.call(l)}finally{$t(5,l,f)}}else{$t(4,i,o);try{o.call(i)}finally{$t(5,i,o)}}}}}(t,n),function FR(t,n){const e=t.cleanup,r=n[to];let i=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const a=e[o+3];a>=0?r[i=a]():r[i=-a].unsubscribe(),o+=2}else{const a=r[i=e[o+1]];e[o].call(a)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();n[to]=null}}(t,n),1===n[Ot].type&&n[un].destroy();const e=n[Ni];if(null!==e&&Si(n[Yn])){e!==n[Yn]&&yv(e,n);const r=n[$r];null!==r&&r.detachView(t)}!function wR(t){x8.delete(t[si])}(n)}}function bv(t,n,e){return function Mv(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[bs];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===gn.None||o===gn.Emulated)return null}return ti(r,e)}}(t,n.parent,e)}function Sc(t,n,e,r,i){t.insertBefore(n,e,r,i)}function wv(t,n,e){t.appendChild(n,e)}function xv(t,n,e,r,i){null!==r?Sc(t,n,e,r,i):wv(t,n,e)}function e0(t,n){return t.parentNode(n)}function Ev(t,n,e){return Lv(t,n,e)}let I8,r0,F8,o0,Lv=function Sv(t,n,e){return 40&t.type?ti(t,e):null};function t0(t,n,e,r){const i=bv(t,r,n),o=n[un],l=Ev(r.parent||n[Un],r,n);if(null!=i)if(Array.isArray(e))for(let f=0;f<e.length;f++)xv(o,i,e[f],l,!1);else xv(o,i,e,l,!1);void 0!==I8&&I8(o,r,n,e,i)}function n0(t,n){if(null!==n){const e=n.type;if(3&e)return ti(n,t);if(4&e)return N8(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return n0(t,r);{const i=t[n.index];return Si(i)?N8(-1,i):vi(i)}}if(32&e)return D8(n,t)()||vi(t[n.index]);{const r=Pv(t,n);return null!==r?Array.isArray(r)?r[0]:n0(U3(t[Mo]),r):n0(t,n.next)}}return null}function Pv(t,n){return null!==n?t[Mo][Un].projection[n.projection]:null}function N8(t,n){const e=wo+t+1;if(e<n.length){const r=n[e],i=r[Ot].firstChild;if(null!==i)return n0(r,i)}return n[Ei]}function O8(t,n,e,r,i,o,a){for(;null!=e;){const l=r[e.index],f=e.type;if(a&&0===n&&(l&&Ns(vi(l),r),e.flags|=2),32!=(32&e.flags))if(8&f)O8(t,n,e.child,r,i,o,!1),_l(n,t,i,l,o);else if(32&f){const d=D8(e,r);let m;for(;m=d();)_l(n,t,i,m,o);_l(n,t,i,l,o)}else 16&f?zv(t,n,r,e,i,o):_l(n,t,i,l,o);e=a?e.projectionNext:e.next}}function j3(t,n,e,r,i,o){O8(e,r,t.firstChild,n,i,o,!1)}function zv(t,n,e,r,i,o){const a=e[Mo],f=a[Un].projection[r.projection];if(Array.isArray(f))for(let d=0;d<f.length;d++)_l(n,t,i,f[d],o);else O8(t,n,f,a[Yn],i,o,!0)}function Hv(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Av(t,n,e){const{mergedAttrs:r,classes:i,styles:o}=e;null!==r&&u8(t,n,r),null!==i&&Hv(t,n,i),null!==o&&function WR(t,n,e){t.setAttribute(n,"style",e)}(t,n,o)}function yl(t){return function R8(){if(void 0===r0&&(r0=null,kr.trustedTypes))try{r0=kr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return r0}()?.createHTML(t)||t}function Tv(t){return function B8(){if(void 0===o0&&(o0=null,kr.trustedTypes))try{o0=kr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return o0}()?.createHTML(t)||t}class Lc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mr})`}}class QR extends Lc{getTypeName(){return"HTML"}}class JR extends Lc{getTypeName(){return"Style"}}class eF extends Lc{getTypeName(){return"Script"}}class tF extends Lc{getTypeName(){return"URL"}}class nF extends Lc{getTypeName(){return"ResourceURL"}}function Va(t){return t instanceof Lc?t.changingThisBreaksApplicationSecurity:t}function j1(t,n){const e=function rF(t){return t instanceof Lc&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Mr})`)}return e===n}class lF{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(yl(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class uF{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=yl(n),e}}const hF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function s0(t){return(t=String(t)).match(hF)?t:"unsafe:"+t}function g2(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function G3(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const Ov=g2("area,br,col,hr,img,wbr"),Rv=g2("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fv=g2("rp,rt"),U8=G3(Ov,G3(Rv,g2("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),G3(Fv,g2("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),G3(Fv,Rv)),j8=g2("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bv=G3(j8,g2("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),g2("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dF=g2("script,style,template");class pF{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!U8.hasOwnProperty(e))return this.sanitizedSomething=!0,!dF.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),a=o.name,l=a.toLowerCase();if(!Bv.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let f=o.value;j8[l]&&(f=s0(f)),this.buf.push(" ",a,'="',Uv(f),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();U8.hasOwnProperty(e)&&!Ov.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(Uv(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const mF=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gF=/([^\#-~ |!])/g;function Uv(t){return t.replace(/&/g,"&amp;").replace(mF,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(gF,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let a0;function jv(t,n){let e=null;try{a0=a0||function kv(t){const n=new uF(t);return function fF(){try{return!!(new window.DOMParser).parseFromString(yl(""),"text/html")}catch{return!1}}()?new lF(n):n}(t);let r=n?String(n):"";e=a0.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=a0.getInertBodyElement(r)}while(r!==o);return yl((new pF).sanitizeChildren(G8(e)||e))}finally{if(e){const r=G8(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function G8(t){return"content"in t&&function vF(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ni=(()=>((ni=ni||{})[ni.NONE=0]="NONE",ni[ni.HTML=1]="HTML",ni[ni.STYLE=2]="STYLE",ni[ni.SCRIPT=3]="SCRIPT",ni[ni.URL=4]="URL",ni[ni.RESOURCE_URL=5]="RESOURCE_URL",ni))();function Gv(t){const n=function q3(){const t=ct();return t&&t[Ts]}();return n?Tv(n.sanitize(ni.HTML,t)||""):j1(t,"HTML")?Tv(Va(t)):jv(function Vv(){return void 0!==F8?F8:typeof document<"u"?document:void 0}(),mn(t))}const c0=new wt("ENVIRONMENT_INITIALIZER"),Yv=new wt("INJECTOR",-1),Zv=new wt("INJECTOR_DEF_TYPES");class Xv{get(n,e=da){if(e===da){const r=new Error(`NullInjectorError: No provider for ${vt(n)}!`);throw r.name="NullInjectorError",r}return e}}function xF(...t){return{\u0275providers:Kv(0,t),\u0275fromNgModule:!0}}function Kv(t,...n){const e=[],r=new Set;let i;return Ec(n,o=>{const a=o;q8(a,e,[],r)&&(i||(i=[]),i.push(a))}),void 0!==i&&Qv(i,e),e}function Qv(t,n){for(let e=0;e<t.length;e++){const{providers:i}=t[e];$8(i,o=>{n.push(o)})}}function q8(t,n,e,r){if(!(t=mt(t)))return!1;let i=null,o=rn(t);const a=!o&&Mn(t);if(o||a){if(a&&!a.standalone)return!1;i=t}else{const f=t.ngModule;if(o=rn(f),!o)return!1;i=f}const l=r.has(i);if(a){if(l)return!1;if(r.add(i),a.dependencies){const f="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const d of f)q8(d,n,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!l){let d;r.add(i);try{Ec(o.imports,m=>{q8(m,n,e,r)&&(d||(d=[]),d.push(m))})}finally{}void 0!==d&&Qv(d,n)}if(!l){const d=dt(i)||(()=>new i);n.push({provide:i,useFactory:d,deps:$n},{provide:Zv,useValue:i,multi:!0},{provide:c0,useValue:()=>nt(i),multi:!0})}const f=o.providers;null==f||l||$8(f,m=>{n.push(m)})}}return i!==t&&void 0!==t.providers}function $8(t,n){for(let e of t)N1(e)&&(e=e.\u0275providers),Array.isArray(e)?$8(e,n):n(e)}const EF=br({provide:String,useValue:br});function W8(t){return null!==t&&"object"==typeof t&&EF in t}function Dc(t){return"function"==typeof t}const Y8=new wt("Set Injector scope."),l0={},LF={};let Z8;function u0(){return void 0===Z8&&(Z8=new Xv),Z8}class G1{}class t_ extends G1{get destroyed(){return this._destroyed}constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,K8(n,a=>this.processProvider(a)),this.records.set(Yv,Cl(void 0,this)),i.has("environment")&&this.records.set(G1,Cl(void 0,this));const o=this.records.get(Y8);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Zv.multi,$n,cn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const e=ko(this),r=Br(void 0);try{return n()}finally{ko(e),Br(r)}}get(n,e=da,r=cn.Default){this.assertNotDestroyed(),r=bn(r);const i=ko(this),o=Br(void 0);try{if(!(r&cn.SkipSelf)){let l=this.records.get(n);if(void 0===l){const f=function AF(t){return"function"==typeof t||"object"==typeof t&&t instanceof wt}(n)&&Qr(n);l=f&&this.injectableDefInScope(f)?Cl(X8(n),l0):null,this.records.set(n,l)}if(null!=l)return this.hydrate(n,l)}return(r&cn.Self?u0():this.parent).get(n,e=r&cn.Optional&&e===da?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[No]=a[No]||[]).unshift(vt(n)),i)throw a;return function yo(t,n,e,r){const i=t[No];throw n[d2]&&i.unshift(n[d2]),t.message=function Xa(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==_c?t.slice(2):t;let i=vt(n);if(Array.isArray(n))i=n.map(vt).join(" -> ");else if("object"==typeof n){let o=[];for(let a in n)if(n.hasOwnProperty(a)){let l=n[a];o.push(a+":"+("string"==typeof l?JSON.stringify(l):vt(l)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(h2,"\n  ")}`}("\n"+t.message,i,e,r),t[Da]=i,t[No]=null,t}(a,n,"R3InjectorError",this.source)}throw a}finally{Br(o),ko(i)}}resolveInjectorInitializers(){const n=ko(this),e=Br(void 0);try{const r=this.get(c0.multi,$n,cn.Self);for(const i of r)i()}finally{ko(n),Br(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(vt(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new at(205,!1)}processProvider(n){let e=Dc(n=mt(n))?n:mt(n&&n.provide);const r=function PF(t){return W8(t)?Cl(void 0,t.useValue):Cl(n_(t),l0)}(n);if(Dc(n)||!0!==n.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=Cl(void 0,l0,!0),i.factory=()=>Xi(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===l0&&(e.value=LF,e.value=e.factory()),"object"==typeof e.value&&e.value&&function HF(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=mt(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function X8(t){const n=Qr(t),e=null!==n?n.factory:dt(t);if(null!==e)return e;if(t instanceof wt)throw new at(204,!1);if(t instanceof Function)return function DF(t){const n=t.length;if(n>0)throw O3(n,"?"),new at(204,!1);const e=function fi(t){return t&&(t[p1]||t[Us])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new at(204,!1)}function n_(t,n,e){let r;if(Dc(t)){const i=mt(t);return dt(i)||X8(i)}if(W8(t))r=()=>mt(t.useValue);else if(function e_(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Xi(t.deps||[]));else if(function Jv(t){return!(!t||!t.useExisting)}(t))r=()=>nt(mt(t.useExisting));else{const i=mt(t&&(t.useClass||t.provide));if(!function zF(t){return!!t.deps}(t))return dt(i)||X8(i);r=()=>new i(...Xi(t.deps))}return r}function Cl(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function K8(t,n){for(const e of t)Array.isArray(e)?K8(e,n):e&&N1(e)?K8(e.\u0275providers,n):n(e)}class VF{}class r_{}class IF{resolveComponentFactory(n){throw function TF(t){const n=Error(`No component factory found for ${vt(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let Pc=(()=>{class t{}return t.NULL=new IF,t})();function NF(){return bl(zi(),ct())}function bl(t,n){return new ci(ti(t,n))}let ci=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=NF,t})();function kF(t){return t instanceof ci?t.nativeElement:t}class $3{}let q1=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function OF(){const t=ct(),e=s(zi().index,t);return(Er(e)?e:t)[un]}(),t})(),RF=(()=>{class t{}return t.\u0275prov=_t({token:t,providedIn:"root",factory:()=>null}),t})();class zc{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const FF=new zc("15.2.9"),Q8={},J8="ngOriginalError";function ed(t){return t[J8]}class v2{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&ed(n);for(;e&&ed(e);)e=ed(e);return e||null}}function _2(t){return t instanceof Function?t():t}function s_(t,n,e){let r=t.length;for(;;){const i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}const a_="ng-template";function KF(t,n,e){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const a=t[r++];if(e&&"class"===o&&-1!==s_(a.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function c_(t){return 4===t.type&&t.value!==a_}function QF(t,n,e){return n===(4!==t.type||e?t.value:a_)}function JF(t,n,e){let r=4;const i=t.attrs||[],o=function nB(t){for(let n=0;n<t.length;n++)if(I9(t[n]))return n;return t.length}(i);let a=!1;for(let l=0;l<n.length;l++){const f=n[l];if("number"!=typeof f){if(!a)if(4&r){if(r=2|1&r,""!==f&&!QF(t,f,e)||""===f&&1===n.length){if(y1(r))return!1;a=!0}}else{const d=8&r?f:n[++l];if(8&r&&null!==t.attrs){if(!KF(t.attrs,d,e)){if(y1(r))return!1;a=!0}continue}const _=eB(8&r?"class":f,i,c_(t),e);if(-1===_){if(y1(r))return!1;a=!0;continue}if(""!==d){let C;C=_>o?"":i[_+1].toLowerCase();const S=8&r?C:null;if(S&&-1!==s_(S,d,0)||2&r&&d!==C){if(y1(r))return!1;a=!0}}}}else{if(!a&&!y1(r)&&!y1(f))return!1;if(a&&y1(f))continue;a=!1,r=f|1&r}}return y1(r)||a}function y1(t){return 0==(1&t)}function eB(t,n,e,r){if(null===n)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){const a=n[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){let l=n[++i];for(;"string"==typeof l;)l=n[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function rB(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function l_(t,n,e=!1){for(let r=0;r<n.length;r++)if(JF(t,n[r],e))return!0;return!1}function iB(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function u_(t,n){return t?":not("+n.trim()+")":n}function oB(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let a=t[e];if("string"==typeof a)if(2&r){const l=t[++e];i+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!y1(a)&&(n+=u_(o,i),i=""),r=a,o=o||!y1(r);e++}return""!==i&&(n+=u_(o,i)),n}const An={};function Ft(t){f_(on(),ct(),Ys()+t,!1)}function f_(t,n,e,r){if(!r)if(3==(3&n[vn])){const o=t.preOrderCheckHooks;null!==o&&ju(n,o,e)}else{const o=t.preOrderHooks;null!==o&&Gu(n,o,0,e)}Mc(e)}function m_(t,n=null,e=null,r){const i=g_(t,n,e,r);return i.resolveInjectorInitializers(),i}function g_(t,n=null,e=null,r,i=new Set){const o=[e||$n,xF(t)];return r=r||("object"==typeof t?void 0:vt(t)),new t_(o,n||u0(),r||null,i)}let xs=(()=>{class t{static create(e,r){if(Array.isArray(e))return m_({name:""},r,e,"");{const i=e.name??"";return m_({name:i},e.parent,e.providers,i)}}}return t.THROW_IF_NOT_FOUND=da,t.NULL=new Xv,t.\u0275prov=_t({token:t,providedIn:"any",factory:()=>nt(Yv)}),t.__NG_ELEMENT_ID__=-1,t})();function Xe(t,n=cn.Default){const e=ct();return null===e?nt(t,n):G9(zi(),e,mt(t),n)}function W3(){throw new Error("invalid")}function w_(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r+1];if(-1!==o){const a=t.data[o];o8(e[r]),a.contentQueries(2,n[o],o)}}}function h0(t,n,e,r,i,o,a,l,f,d,m){const _=n.blueprint.slice();return _[bs]=i,_[vn]=76|r,(null!==m||t&&1024&t[vn])&&(_[vn]|=1024),H(_),_[Yn]=_[xi]=t,_[Ur]=e,_[pa]=a||t&&t[pa],_[un]=l||t&&t[un],_[Ts]=f||t&&t[Ts]||null,_[m1]=d||t&&t[m1]||null,_[Un]=o,_[si]=function bR(){return CR++}(),_[Ms]=m,_[Mo]=2==n.type?t[Mo]:_,_}function xl(t,n,e,r,i){let o=t.data[n];if(null===o)o=function od(t,n,e,r,i){const o=al(),a=t8(),f=t.data[n]=function HB(t,n,e,r,i,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=f),null!==o&&(a?null==o.child&&null!==f.parent&&(o.child=f):null===o.next&&(o.next=f,f.prev=o)),f}(t,n,e,r,i),function LO(){return le.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const a=function V3(){const t=le.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return B1(o,!0),o}function Y3(t,n,e,r){if(0===e)return-1;const i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function sd(t,n,e){s8(n);try{const r=t.viewQuery;null!==r&&md(1,r,e);const i=t.template;null!==i&&x_(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&w_(t,n),t.staticViewQueries&&md(2,t.viewQuery,e);const o=t.components;null!==o&&function DB(t,n){for(let e=0;e<n.length;e++)KB(t,n[e])}(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[vn]&=-5,a8()}}function d0(t,n,e,r){const i=n[vn];if(128!=(128&i)){s8(n);try{H(n),function x9(t){return le.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&x_(t,n,e,2,r);const a=3==(3&i);if(a){const d=t.preOrderCheckHooks;null!==d&&ju(n,d,null)}else{const d=t.preOrderHooks;null!==d&&Gu(n,d,0,null),c8(n,0)}if(function ZB(t){for(let n=P8(t);null!==n;n=z8(n)){if(!n[ma])continue;const e=n[ai];for(let r=0;r<e.length;r++){const i=e[r];512&i[vn]||q(i[Yn],1),i[vn]|=512}}}(n),function YB(t){for(let n=P8(t);null!==n;n=z8(n))for(let e=wo;e<n.length;e++){const r=n[e],i=r[Ot];h(r)&&d0(i,r,i.template,r[Ur])}}(n),null!==t.contentQueries&&w_(t,n),a){const d=t.contentCheckHooks;null!==d&&ju(n,d)}else{const d=t.contentHooks;null!==d&&Gu(n,d,1),c8(n,1)}!function SB(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)Mc(~i);else{const o=i,a=e[++r],l=e[++r];DO(a,o),l(2,n[o])}}}finally{Mc(-1)}}(t,n);const l=t.components;null!==l&&function LB(t,n){for(let e=0;e<n.length;e++)XB(t,n[e])}(n,l);const f=t.viewQuery;if(null!==f&&md(2,f,r),a){const d=t.viewCheckHooks;null!==d&&ju(n,d)}else{const d=t.viewHooks;null!==d&&Gu(n,d,2),c8(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[vn]&=-41,512&n[vn]&&(n[vn]&=-513,q(n[Yn],-1))}finally{a8()}}}function x_(t,n,e,r,i){const o=Ys(),a=2&r;try{Mc(-1),a&&n.length>In&&f_(t,n,In,!1),$t(a?2:0,i),e(r,i)}finally{Mc(o),$t(a?3:1,i)}}function ad(t,n,e){if(fs(n)){const i=n.directiveEnd;for(let o=n.directiveStart;o<i;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}}function cd(t,n,e){xt()&&(function OB(t,n,e,r){const i=e.directiveStart,o=e.directiveEnd;Gs(e)&&function qB(t,n,e){const r=ti(n,t),i=E_(e),o=t[pa],a=p0(t,h0(t,i,null,e.onPush?32:16,r,n,o,o.createRenderer(r,e),null,null,null));t[n.index]=a}(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||Yu(e,n),Ns(r,n);const a=e.initialInputs;for(let l=i;l<o;l++){const f=t.data[l],d=wc(n,t,l,e);Ns(d,n),null!==a&&$B(0,l-i,d,f,0,a),qi(f)&&(s(e.index,n)[Ur]=wc(n,t,l,e))}}(t,n,e,ti(e,n)),64==(64&e.flags)&&z_(t,n,e))}function ld(t,n,e=ti){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const a=r[o+1],l=-1===a?e(n,t):t[a];t[i++]=l}}}function E_(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ud(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function ud(t,n,e,r,i,o,a,l,f,d){const m=In+r,_=m+i,C=function PB(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:An);return e}(m,_),S="function"==typeof d?d():d;return C[Ot]={type:t,blueprint:C,template:e,queries:null,viewQuery:l,declTNode:n,data:C.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:f,consts:S,incompleteFirstPass:!1}}function S_(t,n,e,r){const i=A_(n);null===e?i.push(r):(i.push(e),t.firstCreatePass&&V_(t).push(r,i.length-1))}function L_(t,n,e,r){for(let i in t)if(t.hasOwnProperty(i)){e=null===e?{}:e;const o=t[i];null===r?D_(e,n,i,o):r.hasOwnProperty(i)&&D_(e,n,r[i],o)}return e}function D_(t,n,e,r){t.hasOwnProperty(e)?t[e].push(n,r):t[e]=[n,r]}function Ta(t,n,e,r,i,o,a,l){const f=ti(n,e);let m,d=n.inputs;!l&&null!=d&&(m=d[r])?(gd(t,e,m,r,i),Gs(n)&&function TB(t,n){const e=s(n,t);16&e[vn]||(e[vn]|=32)}(e,n.index)):3&n.type&&(r=function VB(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=a?a(i,n.value||"",r):i,o.setProperty(f,r,i))}function fd(t,n,e,r){if(xt()){const i=null===r?null:{"":-1},o=function FB(t,n){const e=t.directiveRegistry;let r=null,i=null;if(e)for(let o=0;o<e.length;o++){const a=e[o];if(l_(n,a.selectors,!1))if(r||(r=[]),qi(a))if(null!==a.findHostDirectiveDefs){const l=[];i=i||new Map,a.findHostDirectiveDefs(a,l,i),r.unshift(...l,a),hd(t,n,l.length)}else r.unshift(a),hd(t,n,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(t,e);let a,l;null===o?a=l=null:[a,l]=o,null!==a&&P_(t,n,e,a,i,l),i&&function BB(t,n,e){if(n){const r=t.localNames=[];for(let i=0;i<n.length;i+=2){const o=e[n[i+1]];if(null==o)throw new at(-301,!1);r.push(n[i],o)}}}(e,r,i)}e.mergedAttrs=I3(e.mergedAttrs,e.attrs)}function P_(t,n,e,r,i,o){for(let d=0;d<r.length;d++)p8(Yu(e,n),t,r[d].type);!function jB(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,r.length);for(let d=0;d<r.length;d++){const m=r[d];m.providersResolver&&m.providersResolver(m)}let a=!1,l=!1,f=Y3(t,n,r.length,null);for(let d=0;d<r.length;d++){const m=r[d];e.mergedAttrs=I3(e.mergedAttrs,m.hostAttrs),GB(t,e,n,f,m),UB(f,m,i),null!==m.contentQueries&&(e.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(e.flags|=64);const _=m.type.prototype;!a&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(e.index),a=!0),!l&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(e.index),l=!0),f++}!function AB(t,n,e){const i=n.directiveEnd,o=t.data,a=n.attrs,l=[];let f=null,d=null;for(let m=n.directiveStart;m<i;m++){const _=o[m],C=e?e.get(_):null,W=C?C.outputs:null;f=L_(_.inputs,m,f,C?C.inputs:null),d=L_(_.outputs,m,d,W);const Q=null===f||null===a||c_(n)?null:WB(f,m,a);l.push(Q)}null!==f&&(f.hasOwnProperty("class")&&(n.flags|=8),f.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=l,n.inputs=f,n.outputs=d}(t,e,o)}function z_(t,n,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,a=function PO(){return le.lFrame.currentDirectiveIndex}();try{Mc(o);for(let l=r;l<i;l++){const f=t.data[l],d=n[l];r8(l),(null!==f.hostBindings||0!==f.hostVars||null!==f.hostAttrs)&&RB(f,d)}}finally{Mc(-1),r8(a)}}function RB(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function hd(t,n,e){n.componentOffset=e,(t.components??(t.components=[])).push(n.index)}function UB(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;qi(n)&&(e[""]=t)}}function GB(t,n,e,r,i){t.data[r]=i;const o=i.factory||(i.factory=dt(i.type)),a=new T3(o,qi(i),Xe);t.blueprint[r]=a,e[r]=a,function NB(t,n,e,r,i){const o=i.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~n.index;(function kB(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(e,r,o)}}(t,n,r,Y3(t,e,i.hostVars,An),i)}function $1(t,n,e,r,i,o){const a=ti(t,n);!function dd(t,n,e,r,i,o,a){if(null==o)t.removeAttribute(n,i,e);else{const l=null==a?mn(o):a(o,r||"",i);t.setAttribute(n,i,l,e)}}(n[un],a,o,t.value,e,r,i)}function $B(t,n,e,r,i,o){const a=o[n];if(null!==a){const l=r.setInput;for(let f=0;f<a.length;){const d=a[f++],m=a[f++],_=a[f++];null!==l?r.setInput(e,_,d,m):e[m]=_}}}function WB(t,n,e){let r=null,i=0;for(;i<e.length;){const o=e[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const a=t[o];for(let l=0;l<a.length;l+=2)if(a[l]===n){r.push(o,a[l+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function H_(t,n,e,r){return[t,!0,!1,n,null,0,r,e,null,null]}function XB(t,n){const e=s(n,t);if(h(e)){const r=e[Ot];48&e[vn]?d0(r,e,r.template,e[Ur]):e[$o]>0&&pd(e)}}function pd(t){for(let r=P8(t);null!==r;r=z8(r))for(let i=wo;i<r.length;i++){const o=r[i];if(h(o))if(512&o[vn]){const a=o[Ot];d0(a,o,a.template,o[Ur])}else o[$o]>0&&pd(o)}const e=t[Ot].components;if(null!==e)for(let r=0;r<e.length;r++){const i=s(e[r],t);h(i)&&i[$o]>0&&pd(i)}}function KB(t,n){const e=s(n,t),r=e[Ot];(function QB(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(r,e),sd(r,e,e[Ur])}function p0(t,n){return t[mi]?t[us][Ir]=n:t[mi]=n,t[us]=n,n}function m0(t){for(;t;){t[vn]|=32;const n=U3(t);if(ho(t)&&!n)return t;t=n}return null}function g0(t,n,e,r=!0){const i=n[pa];i.begin&&i.begin();try{d0(t,n,t.template,e)}catch(a){throw r&&I_(n,a),a}finally{i.end&&i.end()}}function md(t,n,e){o8(0),n(t,e)}function A_(t){return t[to]||(t[to]=[])}function V_(t){return t.cleanup||(t.cleanup=[])}function T_(t,n,e){return(null===t||qi(t))&&(e=function Sr(t){for(;Array.isArray(t);){if("object"==typeof t[ws])return t;t=t[bs]}return null}(e[n.index])),e[un]}function I_(t,n){const e=t[m1],r=e?e.get(v2,null):null;r&&r.handleError(n)}function gd(t,n,e,r,i){for(let o=0;o<e.length;){const a=e[o++],l=e[o++],f=n[a],d=t.data[a];null!==d.setInput?d.setInput(f,i,r,l):f[l]=i}}function y2(t,n,e){const r=e1(n,t);!function _v(t,n,e){t.setValue(n,e)}(t[un],r,e)}function v0(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(null!==n)for(let a=0;a<n.length;a++){const l=n[a];"number"==typeof l?o=l:1==o?i=ui(i,l):2==o&&(r=ui(r,l+": "+n[++a]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function _0(t,n,e,r,i=!1){for(;null!==e;){const o=n[e.index];if(null!==o&&r.push(vi(o)),Si(o))for(let l=wo;l<o.length;l++){const f=o[l],d=f[Ot].firstChild;null!==d&&_0(f[Ot],f,d,r)}const a=e.type;if(8&a)_0(t,n,e.child,r);else if(32&a){const l=D8(e,n);let f;for(;f=l();)r.push(f)}else if(16&a){const l=Pv(n,e);if(Array.isArray(l))r.push(...l);else{const f=U3(n[Mo]);_0(f[Ot],f,l,r,!0)}}e=i?e.projectionNext:e.next}return r}class Z3{get rootNodes(){const n=this._lView,e=n[Ot];return _0(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ur]}set context(n){this._lView[Ur]=n}get destroyed(){return 128==(128&this._lView[vn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Yn];if(Si(n)){const e=n[g1],r=e?e.indexOf(this):-1;r>-1&&(V8(n,r),Xu(e,r))}this._attachedToViewContainer=!1}Cv(this._lView[Ot],this._lView)}onDestroy(n){S_(this._lView[Ot],this._lView,null,n)}markForCheck(){m0(this._cdRefInjectingView||this._lView)}detach(){this._lView[vn]&=-65}reattach(){this._lView[vn]|=64}detectChanges(){g0(this._lView[Ot],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new at(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function NR(t,n){j3(t,n,n[un],2,null,null)}(this._lView[Ot],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new at(902,!1);this._appRef=n}}class JB extends Z3{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;g0(n[Ot],n,n[Ur],!1)}checkNoChanges(){}get context(){return null}}class N_ extends Pc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Mn(n);return new X3(e,this.ngModule)}}function k_(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class tU{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=bn(r);const i=this.injector.get(n,Q8,r);return i!==Q8||e===Q8?i:this.parentInjector.get(n,e,r)}}class X3 extends r_{get inputs(){return k_(this.componentDef.inputs)}get outputs(){return k_(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function sB(t){return t.map(oB).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let o=(i=i||this.ngModule)instanceof G1?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new tU(n,o):n,l=a.get($3,null);if(null===l)throw new at(407,!1);const f=a.get(RF,null),d=l.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=r?function zB(t,n,e){return t.selectRootElement(n,e===gn.ShadowDom)}(d,r,this.componentDef.encapsulation):A8(d,m,function eU(t){const n=t.toLowerCase();return"svg"===n?$s:"math"===n?"math":null}(m)),C=this.componentDef.onPush?288:272,S=ud(0,null,null,1,0,null,null,null,null,null),W=h0(null,S,null,C,null,null,l,d,f,a,null);let Q,Ce;s8(W);try{const ge=this.componentDef;let ue,pe=null;ge.findHostDirectiveDefs?(ue=[],pe=new Map,ge.findHostDirectiveDefs(ge,ue,pe),ue.push(ge)):ue=[ge];const Te=function rU(t,n){const e=t[Ot],r=In;return t[r]=n,xl(e,r,2,"#host",null)}(W,_),Oe=function iU(t,n,e,r,i,o,a,l){const f=i[Ot];!function oU(t,n,e,r){for(const i of t)n.mergedAttrs=I3(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(v0(n,n.mergedAttrs,!0),null!==e&&Av(r,e,n))}(r,t,n,a);const d=o.createRenderer(n,e),m=h0(i,E_(e),null,e.onPush?32:16,i[t.index],t,o,d,l||null,null,null);return f.firstCreatePass&&hd(f,t,r.length-1),p0(i,m),i[t.index]=m}(Te,_,ge,ue,W,l,d);Ce=bc(S,In),_&&function aU(t,n,e,r){if(r)u8(t,e,["ng-version",FF.full]);else{const{attrs:i,classes:o}=function aB(t){const n=[],e=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&n.push(o,t[++r]):8===i&&e.push(o);else{if(!y1(i))break;i=o}r++}return{attrs:n,classes:e}}(n.selectors[0]);i&&u8(t,e,i),o&&o.length>0&&Hv(t,e,o.join(" "))}}(d,ge,_,r),void 0!==e&&function cU(t,n,e){const r=t.projection=[];for(let i=0;i<n.length;i++){const o=e[i];r.push(null!=o?Array.from(o):null)}}(Ce,this.ngContentSelectors,e),Q=function sU(t,n,e,r,i,o){const a=zi(),l=i[Ot],f=ti(a,i);P_(l,i,a,e,null,r);for(let m=0;m<e.length;m++)Ns(wc(i,l,a.directiveStart+m,a),i);z_(l,i,a),f&&Ns(f,i);const d=wc(i,l,a.directiveStart+a.componentOffset,a);if(t[Ur]=i[Ur]=d,null!==o)for(const m of o)m(d,n);return ad(l,a,t),d}(Oe,ge,ue,pe,W,[lU]),sd(S,W,null)}finally{a8()}return new nU(this.componentType,Q,bl(Ce,W),W,Ce)}}class nU extends VF{constructor(n,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new JB(i),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){const o=this._rootLView;gd(o[Ot],o,i,n,e),m0(s(this._tNode.index,o))}}get injector(){return new ul(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function lU(){const t=zi();Uu(ct()[Ot],t)}function jn(t){let n=function O_(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let i;if(qi(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new at(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);const a=t;a.inputs=vd(t.inputs),a.declaredInputs=vd(t.declaredInputs),a.outputs=vd(t.outputs);const l=i.hostBindings;l&&dU(t,l);const f=i.viewQuery,d=i.contentQueries;if(f&&fU(t,f),d&&hU(t,d),I1(t.inputs,i.inputs),I1(t.declaredInputs,i.declaredInputs),I1(t.outputs,i.outputs),qi(i)&&i.data.animation){const m=t.data;m.animation=(m.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let a=0;a<o.length;a++){const l=o[a];l&&l.ngInherit&&l(t),l===jn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function uU(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=I3(i.hostAttrs,e=I3(e,i.hostAttrs))}}(r)}function vd(t){return t===wi?{}:t===$n?[]:t}function fU(t,n){const e=t.viewQuery;t.viewQuery=e?(r,i)=>{n(r,i),e(r,i)}:n}function hU(t,n){const e=t.contentQueries;t.contentQueries=e?(r,i,o)=>{n(r,i,o),e(r,i,o)}:n}function dU(t,n){const e=t.hostBindings;t.hostBindings=e?(r,i)=>{n(r,i),e(r,i)}:n}function y0(t){return!!_d(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function _d(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ks(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Hc(t,n,e,r){const i=ks(t,n,e);return ks(t,n+1,r)||i}function mo(t,n,e,r){const i=ct();return ks(i,cl(),n)&&(on(),$1(ro(),i,t,n,e,r)),mo}function Pl(t,n,e,r,i,o,a,l,f,d){const _=function n1(t,n,e,r,i,o){const a=Hc(t,n,e,r);return Hc(t,n+2,i,o)||a}(t,function p2(){return le.lFrame.bindingIndex}(),e,i,a,f);return m2(4),_?n+mn(e)+r+mn(i)+o+mn(a)+l+mn(f)+d:An}function Rr(t,n,e,r,i,o,a,l){const f=ct(),d=on(),m=t+In,_=d.firstCreatePass?function wU(t,n,e,r,i,o,a,l,f){const d=n.consts,m=xl(n,t,4,a||null,v(d,l));fd(n,e,m,v(d,f)),Uu(n,m);const _=m.tView=ud(2,m,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,d);return null!==n.queries&&(n.queries.template(n,m),_.queries=n.queries.embeddedTView(m)),m}(m,d,f,n,e,r,i,o,a):d.data[m];B1(_,!1);const C=f[un].createComment("");t0(d,f,C,_),Ns(C,f),p0(f,f[m]=H_(C,f,C,_)),fo(_)&&cd(d,f,_),null!=a&&ld(f,_,l)}function b0(t){return Is(function SO(){return le.lFrame.contextLView}(),In+t)}function Wt(t,n,e){const r=ct();return ks(r,cl(),n)&&Ta(on(),ro(),r,t,n,r[un],e,!1),Wt}function yd(t,n,e,r,i){const a=i?"class":"style";gd(t,e,n.inputs[a],a,r)}function At(t,n,e,r){const i=ct(),o=on(),a=In+t,l=i[un],f=o.firstCreatePass?function EU(t,n,e,r,i,o){const a=n.consts,f=xl(n,t,2,r,v(a,i));return fd(n,e,f,v(a,o)),null!==f.attrs&&v0(f,f.attrs,!1),null!==f.mergedAttrs&&v0(f,f.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,f),f}(a,o,i,n,e,r):o.data[a],d=i[a]=A8(l,n,function IO(){return le.lFrame.currentNamespace}()),m=fo(f);return B1(f,!0),Av(l,d,f),32!=(32&f.flags)&&t0(o,i,d,f),0===function rt(){return le.lFrame.elementDepthCount}()&&Ns(d,i),function ot(){le.lFrame.elementDepthCount++}(),m&&(cd(o,i,f),ad(o,f,i)),null!==r&&ld(i,f),At}function Vt(){let t=zi();t8()?n8():(t=t.parent,B1(t,!1));const n=t;!function bt(){le.lFrame.elementDepthCount--}();const e=on();return e.firstCreatePass&&(Uu(e,t),fs(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function RO(t){return 0!=(8&t.flags)}(n)&&yd(e,n,ct(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function FO(t){return 0!=(16&t.flags)}(n)&&yd(e,n,ct(),n.stylesWithoutHost,!1),Vt}function So(t,n,e,r){return At(t,n,e,r),Vt(),So}function $2(t,n,e){const r=ct(),i=on(),o=t+In,a=i.firstCreatePass?function SU(t,n,e,r,i){const o=n.consts,a=v(o,r),l=xl(n,t,8,"ng-container",a);return null!==a&&v0(l,a,!0),fd(n,e,l,v(o,i)),null!==n.queries&&n.queries.elementStart(n,l),l}(o,i,r,n,e):i.data[o];B1(a,!0);const l=r[o]=r[un].createComment("");return t0(i,r,l,a),Ns(l,r),fo(a)&&(cd(i,r,a),ad(i,a,r)),null!=e&&ld(r,a),$2}function W2(){let t=zi();const n=on();return t8()?n8():(t=t.parent,B1(t,!1)),n.firstCreatePass&&(Uu(n,t),fs(t)&&n.queries.elementEnd(t)),W2}function r1(){return ct()}function Q3(t){return!!t&&"function"==typeof t.then}function Q_(t){return!!t&&"function"==typeof t.subscribe}const Cd=Q_;function Vn(t,n,e,r){const i=ct(),o=on(),a=zi();return J_(o,i,i[un],a,t,n,r),Vn}function bd(t,n){const e=zi(),r=ct(),i=on();return J_(i,r,T_(i8(i.data),e,r),e,t,n),bd}function J_(t,n,e,r,i,o,a){const l=fo(r),d=t.firstCreatePass&&V_(t),m=n[Ur],_=A_(n);let C=!0;if(3&r.type||a){const Q=ti(r,n),Ce=a?a(Q):Q,ge=_.length,ue=a?Te=>a(vi(Te[r.index])):r.index;let pe=null;if(!a&&l&&(pe=function LU(t,n,e,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const a=i[o];if(a===e&&i[o+1]===r){const l=n[to],f=i[o+2];return l.length>f?l[f]:null}"string"==typeof a&&(o+=2)}return null}(t,n,i,r.index)),null!==pe)(pe.__ngLastListenerFn__||pe).__ngNextListenerFn__=o,pe.__ngLastListenerFn__=o,C=!1;else{o=ty(r,n,m,o,!1);const Te=e.listen(Ce,i,o);_.push(o,Te),d&&d.push(i,ue,ge,ge+1)}}else o=ty(r,n,m,o,!1);const S=r.outputs;let W;if(C&&null!==S&&(W=S[i])){const Q=W.length;if(Q)for(let Ce=0;Ce<Q;Ce+=2){const Oe=n[W[Ce]][W[Ce+1]].subscribe(o),We=_.length;_.push(o,Oe),d&&d.push(i,r.index,We,-(We+1))}}}function ey(t,n,e,r){try{return $t(6,n,e),!1!==e(r)}catch(i){return I_(t,i),!1}finally{$t(7,n,e)}}function ty(t,n,e,r,i){return function o(a){if(a===Function)return r;m0(t.componentOffset>-1?s(t.index,n):n);let f=ey(n,e,r,a),d=o.__ngNextListenerFn__;for(;d;)f=ey(n,e,d,a)&&f,d=d.__ngNextListenerFn__;return i&&!1===f&&(a.preventDefault(),a.returnValue=!1),f}}function Nr(t=1){return function HO(t){return(le.lFrame.contextLView=function AO(t,n){for(;t>0;)n=n[xi],t--;return n}(t,le.lFrame.contextLView))[Ur]}(t)}function DU(t,n){let e=null;const r=function tB(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let i=0;i<n.length;i++){const o=n[i];if("*"!==o){if(null===r?l_(t,o,!0):iB(r,o))return i}else e=i}return e}function Tl(t){const n=ct()[Mo][Un];if(!n.projection){const r=n.projection=O3(t?t.length:1,null),i=r.slice();let o=n.child;for(;null!==o;){const a=t?DU(o,t):0;null!==a&&(i[a]?i[a].projectionNext=o:r[a]=o,i[a]=o),o=o.next}}}function Ia(t,n=0,e){const r=ct(),i=on(),o=xl(i,In+t,16,null,e||null);null===o.projection&&(o.projection=n),n8(),32!=(32&o.flags)&&function GR(t,n,e){zv(n[un],0,n,e,bv(t,e,n),Ev(e.parent||n[Un],e,n))}(i,r,o)}function M0(t,n){return t<<17|n<<2}function Y2(t){return t>>17&32767}function wd(t){return 2|t}function Ac(t){return(131068&t)>>2}function xd(t,n){return-131069&t|n<<2}function Ed(t){return 1|t}function fy(t,n,e,r,i){const o=t[e+1],a=null===n;let l=r?Y2(o):Ac(o),f=!1;for(;0!==l&&(!1===f||a);){const m=t[l+1];TU(t[l],n)&&(f=!0,t[l+1]=r?Ed(m):wd(m)),l=r?Y2(m):Ac(m)}f&&(t[e+1]=r?wd(o):Ed(o))}function TU(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ml(t,n)>=0}function Sd(t,n,e){return C1(t,n,e,!1),Sd}function Os(t,n){return C1(t,n,null,!0),Os}function C1(t,n,e,r){const i=ct(),o=on(),a=m2(2);o.firstUpdatePass&&function yy(t,n,e,r){const i=t.data;if(null===i[e+1]){const o=i[Ys()],a=function _y(t,n){return n>=t.expandoStartIndex}(t,e);(function wy(t,n){return 0!=(t.flags&(n?8:16))})(o,r)&&null===n&&!a&&(n=!1),n=function jU(t,n,e,r){const i=i8(t);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(e=J3(e=Ld(null,t,n,e,r),n.attrs,r),o=null);else{const a=n.directiveStylingLast;if(-1===a||t[a]!==i)if(e=Ld(i,t,n,e,r),null===o){let f=function GU(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==Ac(r))return t[Y2(r)]}(t,n,r);void 0!==f&&Array.isArray(f)&&(f=Ld(null,t,n,f[1],r),f=J3(f,n.attrs,r),function qU(t,n,e,r){t[Y2(e?n.classBindings:n.styleBindings)]=r}(t,n,r,f))}else o=function $U(t,n,e){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=J3(r,t[o].hostAttrs,e);return J3(r,n.attrs,e)}(t,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),e}(i,o,n,r),function AU(t,n,e,r,i,o){let a=o?n.classBindings:n.styleBindings,l=Y2(a),f=Ac(a);t[r]=e;let m,d=!1;if(Array.isArray(e)?(m=e[1],(null===m||ml(e,m)>0)&&(d=!0)):m=e,i)if(0!==f){const C=Y2(t[l+1]);t[r+1]=M0(C,l),0!==C&&(t[C+1]=xd(t[C+1],r)),t[l+1]=function zU(t,n){return 131071&t|n<<17}(t[l+1],r)}else t[r+1]=M0(l,0),0!==l&&(t[l+1]=xd(t[l+1],r)),l=r;else t[r+1]=M0(f,0),0===l?l=r:t[f+1]=xd(t[f+1],r),f=r;d&&(t[r+1]=wd(t[r+1])),fy(t,m,r,!0),fy(t,m,r,!1),function VU(t,n,e,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof n&&ml(o,n)>=0&&(e[r+1]=Ed(e[r+1]))}(n,m,t,r,o),a=M0(l,f),o?n.classBindings=a:n.styleBindings=a}(i,o,n,e,a,r)}}(o,t,a,r),n!==An&&ks(i,a,n)&&function by(t,n,e,r,i,o,a,l){if(!(3&n.type))return;const f=t.data,d=f[l+1],m=function HU(t){return 1==(1&t)}(d)?My(f,n,e,i,Ac(d),a):void 0;w0(m)||(w0(o)||function PU(t){return 2==(2&t)}(d)&&(o=My(f,null,e,i,l,a)),function $R(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:va.DashCase;null==i?t.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=va.Important),t.setStyle(e,r,i,o))}}(r,a,e1(Ys(),e),i,o))}(o,o.data[Ys()],i,i[un],t,i[a+1]=function XU(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=vt(Va(t)))),t}(n,e),r,a)}function Ld(t,n,e,r,i){let o=null;const a=e.directiveEnd;let l=e.directiveStylingLast;for(-1===l?l=e.directiveStart:l++;l<a&&(o=n[l],r=J3(r,o.hostAttrs,i),o!==t);)l++;return null!==t&&(e.directiveStylingLast=l),r}function J3(t,n,e){const r=e?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Aa(t,a,!!e||n[++o]))}return void 0===t?null:t}function My(t,n,e,r,i,o){const a=null===n;let l;for(;i>0;){const f=t[i],d=Array.isArray(f),m=d?f[1]:f,_=null===m;let C=e[i+1];C===An&&(C=_?$n:void 0);let S=_?_8(C,r):m===r?C:void 0;if(d&&!w0(S)&&(S=_8(f,r)),w0(S)&&(l=S,a))return l;const W=t[i+1];i=a?Y2(W):Ac(W)}if(null!==n){let f=o?n.residualClasses:n.residualStyles;null!=f&&(l=_8(f,r))}return l}function w0(t){return void 0!==t}function Nn(t,n=""){const e=ct(),r=on(),i=t+In,o=r.firstCreatePass?xl(r,i,1,n,null):r.data[i],a=e[i]=function H8(t,n){return t.createText(n)}(e[un],n);t0(r,e,a,o),B1(o,!1)}function Z2(t){return Na("",t,""),Z2}function Na(t,n,e){const r=ct(),i=function Sl(t,n,e,r){return ks(t,cl(),e)?n+mn(e)+r:An}(r,t,n,e);return i!==An&&y2(r,Ys(),i),Na}function Dd(t,n,e,r,i,o,a,l,f){const d=ct(),m=Pl(d,t,n,e,r,i,o,a,l,f);return m!==An&&y2(d,Ys(),m),Dd}function Nl(t,n,e){const r=ct();return ks(r,cl(),n)&&Ta(on(),ro(),r,t,n,r[un],e,!0),Nl}function Pd(t,n,e){const r=ct();if(ks(r,cl(),n)){const o=on(),a=ro();Ta(o,a,r,t,n,T_(i8(o.data),a,r),e,!0)}return Pd}const Ol="en-US";let Uy=Ol;function Ad(t,n,e,r,i){if(t=mt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ad(t[o],n,e,r,i);else{const o=on(),a=ct();let l=Dc(t)?t:mt(t.provide),f=n_(t);const d=zi(),m=1048575&d.providerIndexes,_=d.directiveStart,C=d.providerIndexes>>20;if(Dc(t)||!t.multi){const S=new T3(f,i,Xe),W=Td(l,n,i?m:m+C,_);-1===W?(p8(Yu(d,a),o,l),Vd(o,t,n.length),n.push(l),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),e.push(S),a.push(S)):(e[W]=S,a[W]=S)}else{const S=Td(l,n,m+C,_),W=Td(l,n,m,m+C),Ce=W>=0&&e[W];if(i&&!Ce||!i&&!(S>=0&&e[S])){p8(Yu(d,a),o,l);const ge=function pG(t,n,e,r,i){const o=new T3(t,e,Xe);return o.multi=[],o.index=n,o.componentProviders=0,dC(o,i,r&&!e),o}(i?dG:hG,e.length,i,r,f);!i&&Ce&&(e[W].providerFactory=ge),Vd(o,t,n.length,0),n.push(l),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),e.push(ge),a.push(ge)}else Vd(o,t,S>-1?S:W,dC(e[i?W:S],f,!i&&r));!i&&r&&Ce&&e[W].componentProviders++}}}function Vd(t,n,e,r){const i=Dc(n),o=function SF(t){return!!t.useClass}(n);if(i||o){const f=(o?mt(n.useClass):n).prototype.ngOnDestroy;if(f){const d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const m=d.indexOf(e);-1===m?d.push(e,[r,f]):d[m+1].push(r,f)}else d.push(e,f)}}}function dC(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Td(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function hG(t,n,e,r){return Id(this.multi,[])}function dG(t,n,e,r){const i=this.multi;let o;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=wc(e,e[Ot],this.providerFactory.index,r);o=l.slice(0,a),Id(i,o);for(let f=a;f<l.length;f++)o.push(l[f])}else o=[],Id(i,o);return o}function Id(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function li(t,n=[]){return e=>{e.providersResolver=(r,i)=>function fG(t,n,e){const r=on();if(r.firstCreatePass){const i=qi(t);Ad(e,r.data,r.blueprint,i,!0),Ad(n,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,n)}}class Rl{}class pC{}class mC extends Rl{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new N_(this);const r=qr(n);this._bootstrapComponents=_2(r.bootstrap),this._r3Injector=g_(n,e,[{provide:Rl,useValue:this},{provide:Pc,useValue:this.componentFactoryResolver}],vt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Nd extends pC{constructor(n){super(),this.moduleType=n}create(n){return new mC(this.moduleType,n)}}class gG extends Rl{constructor(n,e,r){super(),this.componentFactoryResolver=new N_(this),this.instance=null;const i=new t_([...n,{provide:Rl,useValue:this},{provide:Pc,useValue:this.componentFactoryResolver}],e||u0(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function D0(t,n,e=null){return new gG(t,n,e).injector}let vG=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=Kv(0,e.type),i=r.length>0?D0([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=_t({token:t,providedIn:"environment",factory:()=>new t(nt(G1))}),t})();function gC(t){t.getStandaloneInjector=n=>n.get(vG).getOrCreateStandaloneInjector(t)}function xC(t,n,e,r,i,o){const a=n+e;return ks(t,a,i)?function W1(t,n,e){return t[n]=e}(t,a+1,o?r.call(o,i):r(i)):function o4(t,n){const e=t[n];return e===An?void 0:e}(t,a+1)}function Od(t,n){const e=on();let r;const i=t+In;e.firstCreatePass?(r=function IG(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??(e.destroyHooks=[])).push(i,r.onDestroy)):r=e.data[i];const o=r.factory||(r.factory=dt(r.type)),a=Br(Xe);try{const l=Wu(!1),f=o();return Wu(l),function xU(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,ct(),i,f),f}finally{Br(a)}}function Rd(t,n,e){const r=t+In,i=ct(),o=Is(i,r);return function s4(t,n){return t[Ot].data[n].pure}(i,r)?xC(i,Ws(),n,o.transform,e,o):o.transform(e)}function Fd(t){return n=>{setTimeout(t,void 0,n)}}const jr=class FG extends me{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let i=n,o=e||(()=>null),a=r;if(n&&"object"==typeof n){const f=n;i=f.next?.bind(f),o=f.error?.bind(f),a=f.complete?.bind(f)}this.__isAsync&&(o=Fd(o),i&&(i=Fd(i)),a&&(a=Fd(a)));const l=super.subscribe({next:i,error:o,complete:a});return n instanceof w&&n.add(l),l}};function BG(){return this._results[Symbol.iterator]()}class Bd{get changes(){return this._changes||(this._changes=new jr)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Bd.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=BG)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const i=function t1(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function XO(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=n[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let X1=(()=>{class t{}return t.__NG_ELEMENT_ID__=GG,t})();const UG=X1,jG=class extends UG{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(n,e){const r=this._declarationTContainer.tView,i=h0(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null,e||null);i[Ni]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[$r];return null!==a&&(i[$r]=a.createEmbeddedView(r)),sd(r,i,n),new Z3(i)}};function GG(){return P0(zi(),ct())}function P0(t,n){return 4&t.type?new jG(n,t,bl(t,n)):null}let ka=(()=>{class t{}return t.__NG_ELEMENT_ID__=qG,t})();function qG(){return HC(zi(),ct())}const $G=ka,PC=class extends $G{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return bl(this._hostTNode,this._hostLView)}get injector(){return new ul(this._hostTNode,this._hostLView)}get parentInjector(){const n=d8(this._hostTNode,this._hostLView);if(O9(n)){const e=$u(n,this._hostLView),r=qu(n);return new ul(e[Ot].data[r+8],e)}return new ul(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=zC(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-wo}createEmbeddedView(n,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=n.createEmbeddedView(e||{},o);return this.insert(a,i),a}createComponent(n,e,r,i,o){const a=n&&!function k3(t){return"function"==typeof t}(n);let l;if(a)l=e;else{const _=e||{};l=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}const f=a?n:new X3(Mn(n)),d=r||this.parentInjector;if(!o&&null==f.ngModule){const C=(a?d:this.parentInjector).get(G1,null);C&&(o=C)}const m=f.create(d,i,void 0,o);return this.insert(m.hostView,l),m}insert(n,e){const r=n._lView,i=r[Ot];if(function p(t){return Si(t[Yn])}(r)){const m=this.indexOf(n);if(-1!==m)this.detach(m);else{const _=r[Yn],C=new PC(_,_[Un],_[Yn]);C.detach(C.indexOf(n))}}const o=this._adjustIndex(e),a=this._lContainer;!function OR(t,n,e,r){const i=wo+r,o=e.length;r>0&&(e[i-1][Ir]=n),r<o-wo?(n[Ir]=e[i],X9(e,wo+r,n)):(e.push(n),n[Ir]=null),n[Yn]=e;const a=n[Ni];null!==a&&e!==a&&function RR(t,n){const e=t[ai];n[Mo]!==n[Yn][Yn][Mo]&&(t[ma]=!0),null===e?t[ai]=[n]:e.push(n)}(a,n);const l=n[$r];null!==l&&l.insertView(t),n[vn]|=64}(i,r,a,o);const l=N8(o,a),f=r[un],d=e0(f,a[Ei]);return null!==d&&function IR(t,n,e,r,i,o){r[bs]=i,r[Un]=n,j3(t,r,e,1,i,o)}(i,a[Un],f,r,d,l),n.attachToViewContainerRef(),X9(Ud(a),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=zC(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=V8(this._lContainer,e);r&&(Xu(Ud(this._lContainer),e),Cv(r[Ot],r))}detach(n){const e=this._adjustIndex(n,-1),r=V8(this._lContainer,e);return r&&null!=Xu(Ud(this._lContainer),e)?new Z3(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function zC(t){return t[g1]}function Ud(t){return t[g1]||(t[g1]=[])}function HC(t,n){let e;const r=n[t.index];if(Si(r))e=r;else{let i;if(8&t.type)i=vi(r);else{const o=n[un];i=o.createComment("");const a=ti(t,n);Sc(o,e0(o,a),i,function jR(t,n){return t.nextSibling(n)}(o,a),!1)}n[t.index]=e=H_(r,n,i,t),p0(n,e)}return new PC(e,t,n)}class jd{constructor(n){this.queryList=n,this.matches=null}clone(){return new jd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gd{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const a=e.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new Gd(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==NC(n,e).matches&&this.queries[e].setDirty()}}class AC{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class qd{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new qd(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class $d{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new $d(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,e,WG(e,o)),this.matchTNodeWithReadOption(n,e,Zu(e,n,o,!1,!1))}else r===X1?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Zu(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ci||i===ka||i===X1&&4&e.type)this.addMatch(e.index,-2);else{const o=Zu(e,n,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function WG(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function ZG(t,n,e,r){return-1===e?function YG(t,n){return 11&t.type?bl(t,n):4&t.type?P0(t,n):null}(n,t):-2===e?function XG(t,n,e){return e===ci?bl(n,t):e===X1?P0(n,t):e===ka?HC(n,t):void 0}(t,n,r):wc(t,t[Ot],e,n)}function VC(t,n,e,r){const i=n[$r].queries[r];if(null===i.matches){const o=t.data,a=e.matches,l=[];for(let f=0;f<a.length;f+=2){const d=a[f];l.push(d<0?null:ZG(n,o[d],a[f+1],e.metadata.read))}i.matches=l}return i.matches}function Wd(t,n,e,r){const i=t.queries.getByIndex(e),o=i.matches;if(null!==o){const a=VC(t,n,i,e);for(let l=0;l<o.length;l+=2){const f=o[l];if(f>0)r.push(a[l/2]);else{const d=o[l+1],m=n[-f];for(let _=wo;_<m.length;_++){const C=m[_];C[Ni]===C[Yn]&&Wd(C[Ot],C,d,r)}if(null!==m[ai]){const _=m[ai];for(let C=0;C<_.length;C++){const S=_[C];Wd(S[Ot],S,d,r)}}}}}return r}function Lo(t){const n=ct(),e=on(),r=S9();o8(r+1);const i=NC(e,r);if(t.dirty&&function c(t){return 4==(4&t[vn])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Wd(e,n,r,[]):VC(e,n,i,r);t.reset(o,kF),t.notifyOnChanges()}return!0}return!1}function M1(t,n,e){const r=on();r.firstCreatePass&&(IC(r,new AC(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),TC(r,ct(),n)}function w1(t,n,e,r){const i=on();if(i.firstCreatePass){const o=zi();IC(i,new AC(n,e,r),o.index),function QG(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(i,t),2==(2&e)&&(i.staticContentQueries=!0)}TC(i,ct(),e)}function Do(){return function KG(t,n){return t[$r].queries[n].queryList}(ct(),S9())}function TC(t,n,e){const r=new Bd(4==(4&e));S_(t,n,r,r.destroy),null===n[$r]&&(n[$r]=new Gd),n[$r].queries.push(new jd(r))}function IC(t,n,e){null===t.queries&&(t.queries=new qd),t.queries.track(new $d(n,e))}function NC(t,n){return t.queries.getByIndex(n)}function H0(...t){}const A0=new wt("Application Initializer");let V0=(()=>{class t{constructor(e){this.appInits=e,this.resolve=H0,this.reject=H0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Q3(o))e.push(o);else if(Cd(o)){const a=new Promise((l,f)=>{o.subscribe({complete:l,error:f})});e.push(a)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(nt(A0,8))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ul=new wt("AppId",{providedIn:"root",factory:function eb(){return`${Jd()}${Jd()}${Jd()}`}});function Jd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tb=new wt("Platform Initializer"),T0=new wt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),K1=new wt("AnimationModuleType");let yq=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Q1=new wt("LocaleId",{providedIn:"root",factory:()=>Cn(Q1,cn.Optional|cn.SkipSelf)||function Cq(){return typeof $localize<"u"&&$localize.locale||Ol}()});class Mq{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let nb=(()=>{class t{compileModuleSync(e){return new Nd(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=_2(qr(e).declarations).reduce((a,l)=>{const f=Mn(l);return f&&a.push(new X3(f)),a},[]);return new Mq(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Eq=(()=>Promise.resolve(0))();function ep(t){typeof Zone>"u"?Eq.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class kn{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jr(!1),this.onMicrotaskEmpty=new jr(!1),this.onStable=new jr(!1),this.onError=new jr(!1),typeof Zone>"u")throw new at(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Sq(){let t=kr.requestAnimationFrame,n=kr.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Pq(t){const n=()=>{!function Dq(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(kr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,np(t),t.isCheckStableRunning=!0,tp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),np(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,a,l)=>{try{return ob(t),e.invokeTask(i,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),sb(t)}},onInvoke:(e,r,i,o,a,l,f)=>{try{return ob(t),e.invoke(i,o,a,l,f)}finally{t.shouldCoalesceRunChangeDetection&&n(),sb(t)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,np(t),tp(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kn.isInAngularZone())throw new at(909,!1)}static assertNotInAngularZone(){if(kn.isInAngularZone())throw new at(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,n,Lq,H0,H0);try{return o.runTask(a,e,r)}finally{o.cancelTask(a)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const Lq={};function tp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function np(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ob(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sb(t){t._nesting--,tp(t)}class zq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jr,this.onMicrotaskEmpty=new jr,this.onStable=new jr,this.onError=new jr}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}}const ab=new wt(""),I0=new wt("");let op,rp=(()=>{class t{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,op||(function Hq(t){op=t}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kn.assertNotInAngularZone(),ep(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ep(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}}return t.\u0275fac=function(e){return new(e||t)(nt(kn),nt(ip),nt(I0))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})(),ip=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return op?.findTestabilityInTree(this,e,r)??null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const C2=!1;let X2=null;const cb=new wt("AllowMultipleToken"),sp=new wt("PlatformDestroyListeners"),lb=new wt("appBootstrapListener");class ub{constructor(n,e){this.name=n,this.token=e}}function hb(t,n,e=[]){const r=`Platform: ${n}`,i=new wt(r);return(o=[])=>{let a=ap();if(!a||a.injector.get(cb,!1)){const l=[...e,...o,{provide:i,useValue:!0}];t?t(l):function Tq(t){if(X2&&!X2.get(cb,!1))throw new at(400,!1);X2=t;const n=t.get(pb);(function fb(t){const n=t.get(tb,null);n&&n.forEach(e=>e())})(t)}(function db(t=[],n){return xs.create({name:n,providers:[{provide:Y8,useValue:"platform"},{provide:sp,useValue:new Set([()=>X2=null])},...t]})}(l,r))}return function Nq(t){const n=ap();if(!n)throw new at(401,!1);return n}()}}function ap(){return X2?.get(pb)??null}let pb=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function gb(t,n){let e;return e="noop"===t?new zq:("zone.js"===t?void 0:t)||new kn(n),e}(r?.ngZone,function mb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:kn,useValue:i}];return i.run(()=>{const a=xs.create({providers:o,parent:this.injector,name:e.moduleType.name}),l=e.create(a),f=l.injector.get(v2,null);if(!f)throw new at(402,!1);return i.runOutsideAngular(()=>{const d=i.onError.subscribe({next:m=>{f.handleError(m)}});l.onDestroy(()=>{N0(this._modules,l),d.unsubscribe()})}),function vb(t,n,e){try{const r=e();return Q3(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(f,i,()=>{const d=l.injector.get(V0);return d.runInitializers(),d.donePromise.then(()=>(function jy(t){Pi(t,"Expected localeId to be defined"),"string"==typeof t&&(Uy=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Q1,Ol)||Ol),this._moduleDoBootstrap(l),l))})})}bootstrapModule(e,r=[]){const i=_b({},r);return function Aq(t,n,e){const r=new Nd(e);return Promise.resolve(r)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(e){const r=e.injector.get(jl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new at(-403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new at(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(sp,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(nt(xs))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function _b(t,n){return Array.isArray(n)?n.reduce(_b,t):{...t,...n}}let jl=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(e,r,i){this._zone=e,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new ye(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new ye(l=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{kn.assertNotInAngularZone(),ep(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{kn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{f.unsubscribe(),d.unsubscribe()}});this.isStable=fn(o,a.pipe(T1()))}bootstrap(e,r){const i=e instanceof r_;if(!this._injector.get(V0).done){!i&&function qo(t){const n=Mn(t)||oi(t)||di(t);return null!==n&&n.standalone}(e);throw new at(405,C2)}let a;a=i?e:this._injector.get(Pc).resolveComponentFactory(e),this.componentTypes.push(a.componentType);const l=function Vq(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Rl),d=a.create(xs.NULL,[],r||a.selector,l),m=d.location.nativeElement,_=d.injector.get(ab,null);return _?.registerApplication(m),d.onDestroy(()=>{this.detachView(d.hostView),N0(this.components,d),_?.unregisterApplication(m)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new at(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;N0(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(lb,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>N0(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new at(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)(nt(kn),nt(G1),nt(v2))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function N0(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let b2=(()=>{class t{}return t.__NG_ELEMENT_ID__=Oq,t})();function Oq(t){return function Rq(t,n,e){if(Gs(t)&&!e){const r=s(t.index,n);return new Z3(r,r)}return 47&t.type?new Z3(n[Mo],n):null}(zi(),ct(),16==(16&t))}class wb{constructor(){}supports(n){return y0(n)}create(n){return new qq(n)}}const Gq=(t,n)=>n;class qq{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Gq}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const a=!r||e&&e.currentIndex<Eb(r,i,o)?e:r,l=Eb(a,i,o),f=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(e=e._next,null==a.previousIndex)i++;else{o||(o=[]);const d=l-i,m=f-i;if(d!=m){for(let C=0;C<d;C++){const S=C<o.length?o[C]:o[C]=0,W=S+C;m<=W&&W<d&&(o[C]=S+1)}o[a.previousIndex]=m-d}}l!==f&&n(a,l,f)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!y0(n))throw new at(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,a,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let l=0;l<this.length;l++)o=n[l],a=this._trackByFn(l,o),null!==e&&Object.is(e.trackById,a)?(r&&(e=this._verifyReinsertion(e,o,a,l)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,a,l),r=!0),e=e._next}else i=0,function CU(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,l=>{a=this._trackByFn(i,l),null!==e&&Object.is(e.trackById,a)?(r&&(e=this._verifyReinsertion(e,l,a,i)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,a,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new $q(e,r),o,i),n}_verifyReinsertion(n,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const i=null===e?this._itHead:e._next;return n._next=i,n._prev=e,null===i?this._itTail=n:i._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new xb),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class $q{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Wq{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class xb{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new Wq,this.map.set(e,r)),r.add(n)}get(n,e){const i=this.map.get(n);return i?i.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Eb(t,n,e){const r=t.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}class Sb{constructor(){}supports(n){return n instanceof Map||_d(n)}create(){return new Yq}}class Yq{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||_d(n)))throw new at(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,e);const o=i._prev,a=i._next;return o&&(o._next=a),a&&(a._prev=o),i._next=null,i._prev=null,i}const r=new Zq(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}}class Zq{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lb(){return new R0([new wb])}let R0=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Lb()),deps:[[t,new gl,new q2]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new at(901,!1)}}return t.\u0275prov=_t({token:t,providedIn:"root",factory:Lb}),t})();function Db(){return new c4([new Sb])}let c4=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Db()),deps:[[t,new gl,new q2]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new at(901,!1)}}return t.\u0275prov=_t({token:t,providedIn:"root",factory:Db}),t})();const Qq=hb(null,"core",[]);let Jq=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(nt(jl))},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({}),t})();let hp=null;function M2(){return hp}class n${}const On=new wt("DocumentToken");let dp=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:function(){return function r$(){return nt(Pb)}()},providedIn:"platform"}),t})();const i$=new wt("Location Initialized");let Pb=(()=>{class t extends dp{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return M2().getBaseHref(this._doc)}onPopState(e){const r=M2().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=M2().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){zb()?this._history.pushState(e,r,i):this._location.hash=i}replaceState(e,r,i){zb()?this._history.replaceState(e,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(nt(On))},t.\u0275prov=_t({token:t,factory:function(){return function o$(){return new Pb(nt(On))}()},providedIn:"platform"}),t})();function zb(){return!!window.history.pushState}function pp(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function Hb(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function w2(t){return t&&"?"!==t[0]?"?"+t:t}let Ic=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:function(){return Cn(Vb)},providedIn:"root"}),t})();const Ab=new wt("appBaseHref");let Vb=(()=>{class t extends Ic{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Cn(On).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return pp(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+w2(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const a=this.prepareExternalUrl(i+w2(o));this._platformLocation.pushState(e,r,a)}replaceState(e,r,i,o){const a=this.prepareExternalUrl(i+w2(o));this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(nt(dp),nt(Ab,8))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),s$=(()=>{class t extends Ic{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=pp(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let a=this.prepareExternalUrl(i+w2(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,r,a)}replaceState(e,r,i,o){let a=this.prepareExternalUrl(i+w2(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return t.\u0275fac=function(e){return new(e||t)(nt(dp),nt(Ab,8))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})(),l4=(()=>{class t{constructor(e){this._subject=new jr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function l$(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(Hb(Tb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+w2(r))}normalize(e){return t.stripTrailingSlash(function c$(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,Tb(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+w2(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+w2(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return t.normalizeQueryParams=w2,t.joinWithSlash=pp,t.stripTrailingSlash=Hb,t.\u0275fac=function(e){return new(e||t)(nt(Ic))},t.\u0275prov=_t({token:t,factory:function(){return function a$(){return new l4(nt(Ic))}()},providedIn:"root"}),t})();function Tb(t){return t.replace(/\/index.html$/,"")}function jb(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}const xp=/\s+/,Gb=[];let qb=(()=>{class t{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=Gb,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(xp):Gb}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(xp):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,Boolean(e[r]));this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(xp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(e){return new(e||t)(Xe(R0),Xe(c4),Xe(ci),Xe(q1))},t.\u0275dir=Ht({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class W${constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yb=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,a)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new W$(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===o?void 0:o);else if(null!==o){const l=r.get(o);r.move(l,a),Zb(l,i)}});for(let i=0,o=r.length;i<o;i++){const l=r.get(i).context;l.index=i,l.count=o,l.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{Zb(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(Xe(ka),Xe(X1),Xe(R0))},t.\u0275dir=Ht({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Zb(t,n){t.context.$implicit=n.item}let ql=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new Z$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Xb("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Xb("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(Xe(ka),Xe(X1))},t.\u0275dir=Ht({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class Z${constructor(){this.$implicit=null,this.ngIf=null}}function Xb(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${vt(n)}'.`)}class Ep{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let Z0=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const r of this._defaultViews)r.enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ht({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),Kb=(()=>{class t{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new Ep(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(Xe(ka),Xe(X1),Xe(Z0,9))},t.\u0275dir=Ht({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})();function S1(t,n){return new at(2100,!1)}class K${createSubscription(n,e){return n.subscribe({next:e,error:r=>{throw r}})}dispose(n){n.unsubscribe()}}class Q${createSubscription(n,e){return n.then(e,r=>{throw r})}dispose(n){}}const J$=new Q$,eW=new K$;let Jb=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Q3(e))return J$;if(Q_(e))return eW;throw S1()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(Xe(b2,16))},t.\u0275pipe=Ki({name:"async",type:t,pure:!1,standalone:!0}),t})(),eM=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw S1();return e.toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Ki({name:"lowercase",type:t,pure:!0,standalone:!0}),t})(),Dp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({}),t})();const nM="browser";let bW=(()=>{class t{}return t.\u0275prov=_t({token:t,providedIn:"root",factory:()=>new MW(nt(On),window)}),t})();class MW{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function wW(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const a=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(a)return a}i=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=rM(this.window.history)||rM(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function rM(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class iM{}class XW extends n${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Hp extends XW{static makeCurrent(){!function t$(t){hp||(hp=t)}(new Hp)}onAndCancel(n,e,r){return n.addEventListener(e,r,!1),()=>{n.removeEventListener(e,r,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function KW(){return d4=d4||document.querySelector("base"),d4?d4.getAttribute("href"):null}();return null==e?null:function QW(t){Q0=Q0||document.createElement("a"),Q0.setAttribute("href",t);const n=Q0.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){d4=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return jb(document.cookie,n)}}let Q0,d4=null;const lM=new wt("TRANSITION_ID"),eY=[{provide:A0,useFactory:function JW(t,n,e){return()=>{e.get(V0).donePromise.then(()=>{const r=M2(),i=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[lM,On,xs],multi:!0}];let nY=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})();const J0=new wt("EventManagerPlugins");let ef=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const a=i[o];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(nt(J0),nt(kn))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})();class uM{constructor(n){this._doc=n}addGlobalEventListener(n,e,r){const i=M2().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let fM=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,r){const i=this.usageCount;let o=i.get(e)??0;return o+=r,o>0?i.set(e,o):i.delete(e),o}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})(),p4=(()=>{class t extends fM{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.forEach(o=>o.remove()),r.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,r){const i=this.doc.createElement("style");i.textContent=r,e.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return t.\u0275fac=function(e){return new(e||t)(nt(On))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})();const Ap={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vp=/%COMP%/g,pM=new wt("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function mM(t,n){return n.flat(100).map(e=>e.replace(Vp,t))}function gM(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let tf=(()=>{class t{constructor(e,r,i,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new Tp(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(e,r);return i instanceof yM?i.applyToHost(e):i instanceof Ip&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const a=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestory;switch(r.encapsulation){case gn.Emulated:o=new yM(a,l,r,this.appId,f);break;case gn.ShadowDom:return new lY(a,l,e,r);default:o=new Ip(a,l,r,f)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(nt(ef),nt(p4),nt(Ul),nt(pM))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})();class Tp{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(Ap[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(_M(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(_M(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;const o=Ap[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const i=Ap[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(va.DashCase|va.Important)?n.style.setProperty(e,r,i&va.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&va.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,gM(r)):this.eventManager.addEventListener(n,e,gM(r))}}function _M(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class lY extends Tp{constructor(n,e,r,i){super(n),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=mM(i.id,i.styles);for(const a of o){const l=document.createElement("style");l.textContent=a,this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ip extends Tp{constructor(n,e,r,i,o=r.id){super(n),this.sharedStylesHost=e,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=mM(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class yM extends Ip{constructor(n,e,r,i,o){const a=i+"-"+r.id;super(n,e,r,o,a),this.contentAttr=function sY(t){return"_ngcontent-%COMP%".replace(Vp,t)}(a),this.hostAttr=function aY(t){return"_nghost-%COMP%".replace(Vp,t)}(a)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}let uY=(()=>{class t extends uM{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return t.\u0275fac=function(e){return new(e||t)(nt(On))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})();const CM=["alt","control","meta","shift"],fY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let dY=(()=>{class t extends uM{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,i){const o=t.parseEventName(r),a=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>M2().onAndCancel(e,o.domEventName,a))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),CM.forEach(d=>{const m=r.indexOf(d);m>-1&&(r.splice(m,1),a+=d+".")}),a+=o,0!=r.length||0===o.length)return null;const f={};return f.domEventName=i,f.fullKey=a,f}static matchEventFullKeyCode(e,r){let i=fY[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),CM.forEach(a=>{a!==i&&(0,hY[a])(e)&&(o+=a+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(nt(On))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})();const vY=hb(Qq,"browser",[{provide:T0,useValue:nM},{provide:tb,useValue:function pY(){Hp.makeCurrent()},multi:!0},{provide:On,useFactory:function gY(){return function KR(t){F8=t}(document),document},deps:[]}]),wM=new wt(""),xM=[{provide:I0,useClass:class tY{addToWindow(n){kr.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},kr.getAllAngularTestabilities=()=>n.getAllTestabilities(),kr.getAllAngularRootElements=()=>n.getAllRootElements(),kr.frameworkStabilizers||(kr.frameworkStabilizers=[]),kr.frameworkStabilizers.push(r=>{const i=kr.getAllAngularTestabilities();let o=i.length,a=!1;const l=function(f){a=a||f,o--,0==o&&r(a)};i.forEach(function(f){f.whenStable(l)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?M2().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:ab,useClass:rp,deps:[kn,ip,I0]},{provide:rp,useClass:rp,deps:[kn,ip,I0]}],EM=[{provide:Y8,useValue:"root"},{provide:v2,useFactory:function mY(){return new v2},deps:[]},{provide:J0,useClass:uY,multi:!0,deps:[On,kn,T0]},{provide:J0,useClass:dY,multi:!0,deps:[On]},{provide:tf,useClass:tf,deps:[ef,p4,Ul,pM]},{provide:$3,useExisting:tf},{provide:fM,useExisting:p4},{provide:p4,useClass:p4,deps:[On]},{provide:ef,useClass:ef,deps:[J0,kn]},{provide:iM,useClass:nY,deps:[]},[]];let SM=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Ul,useValue:e.appId},{provide:lM,useExisting:Ul},eY]}}}return t.\u0275fac=function(e){return new(e||t)(nt(wM,12))},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({providers:[...EM,...xM],imports:[Dp,Jq]}),t})(),LM=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(nt(On))},t.\u0275prov=_t({token:t,factory:function(e){let r=null;return r=e?new e:function yY(){return new LM(nt(On))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;let Op,nf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:function(e){let r=null;return r=e?new(e||t):nt(zM),r},providedIn:"root"}),t})(),zM=(()=>{class t extends nf{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case ni.NONE:return r;case ni.HTML:return j1(r,"HTML")?Va(r):jv(this._doc,String(r)).toString();case ni.STYLE:return j1(r,"Style")?Va(r):r;case ni.SCRIPT:if(j1(r,"Script"))return Va(r);throw new Error("unsafe value used in a script context");case ni.URL:return j1(r,"URL")?Va(r):s0(String(r));case ni.RESOURCE_URL:if(j1(r,"ResourceURL"))return Va(r);throw new Error(`unsafe value used in a resource URL context (see ${Mr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${Mr})`)}}bypassSecurityTrustHtml(e){return function iF(t){return new QR(t)}(e)}bypassSecurityTrustStyle(e){return function oF(t){return new JR(t)}(e)}bypassSecurityTrustScript(e){return function sF(t){return new eF(t)}(e)}bypassSecurityTrustUrl(e){return function aF(t){return new tF(t)}(e)}bypassSecurityTrustResourceUrl(e){return function cF(t){return new nF(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(nt(On))},t.\u0275prov=_t({token:t,factory:function(e){let r=null;return r=e?new e:function xY(t){return new zM(t.get(On))}(nt(xs)),r},providedIn:"root"}),t})();try{Op=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Op=!1}let $l,Rs=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function CW(t){return t===nM}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Op)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(nt(T0))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const HM=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function AM(){if($l)return $l;if("object"!=typeof document||!document)return $l=new Set(HM),$l;let t=document.createElement("input");return $l=new Set(HM.filter(n=>(t.setAttribute("type",n),t.type===n))),$l}let m4,Nc,Rp;function g4(t){return function EY(){if(null==m4&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>m4=!0}))}finally{m4=m4||!1}return m4}()?t:!!t.capture}function SY(){if(null==Nc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Nc=!1,Nc;if("scrollBehavior"in document.documentElement.style)Nc=!0;else{const t=Element.prototype.scrollTo;Nc=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Nc}function Fp(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}function kc(t){return t.composedPath?t.composedPath()[0]:t.target}function Bp(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class a1 extends me{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Jt(...t){return tn(t,Ps(t))}function jp(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function Ks(t){return t<=0?()=>yi:Ge((n,e)=>{let r=0;n.subscribe(Ke(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function Qs(t,n){return Ge((e,r)=>{let i=0;e.subscribe(Ke(r,o=>t.call(n,o,i++)&&r.next(o)))})}function VM(t){return Qs((n,e)=>t<=e)}function IY(t,n){return t===n}function Ca(t){return Ge((n,e)=>{To(t).subscribe(Ke(e,()=>e.complete(),J)),!e.closed&&n.subscribe(e)})}function Oa(t){return null!=t&&"false"!=`${t}`}function sf(t,n=0){return function NY(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function af(t){return Array.isArray(t)?t:[t]}function Bo(t){return null==t?"":"string"==typeof t?t:`${t}px`}function E2(t){return t instanceof ci?t.nativeElement:t}class kY extends w{constructor(n,e){super()}schedule(n,e=0){return this}}const cf={setInterval(t,n,...e){const{delegate:r}=cf;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=cf;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class Gp extends kY{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,r=0){return cf.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&cf.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i,r=!1;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,b(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const TM={now:()=>(TM.delegate||Date).now(),delegate:void 0};class v4{constructor(n,e=v4.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}v4.now=TM.now;class qp extends v4{constructor(n,e=v4.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}const $p=new qp(Gp),OY=$p;function IM(t,n=$p){return Ge((e,r)=>{let i=null,o=null,a=null;const l=()=>{if(i){i.unsubscribe(),i=null;const d=o;o=null,r.next(d)}};function f(){const d=a+t,m=n.now();if(m<d)return i=this.schedule(void 0,d-m),void r.add(i);l()}e.subscribe(Ke(r,d=>{o=d,a=n.now(),i||(i=n.schedule(f,t),r.add(i))},()=>{l(),r.complete()},void 0,()=>{o=i=null}))})}let NM=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),RY=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=E2(e);return new ye(i=>{const a=this._observeElement(r).subscribe(i);return()=>{a.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new me,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return t.\u0275fac=function(e){return new(e||t)(nt(NM))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),kM=(()=>{class t{constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new jr,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Oa(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=sf(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(IM(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Xe(RY),Xe(ci),Xe(kn))},t.\u0275dir=Ht({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Wp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({providers:[NM]}),t})();const{isArray:FY}=Array,{getPrototypeOf:BY,prototype:UY,keys:jY}=Object;function OM(t){if(1===t.length){const n=t[0];if(FY(n))return{args:n,keys:null};if(function GY(t){return t&&"object"==typeof t&&BY(t)===UY}(n)){const e=jY(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:qY}=Array;function Yp(t){return re(n=>function $Y(t,n){return qY(n)?t(...n):t(n)}(t,n))}function RM(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function Zp(...t){const n=Ps(t),e=Kr(t),{args:r,keys:i}=OM(t);if(0===r.length)return tn([],n);const o=new ye(function WY(t,n,e=Pe){return r=>{FM(n,()=>{const{length:i}=t,o=new Array(i);let a=i,l=i;for(let f=0;f<i;f++)FM(n,()=>{const d=tn(t[f],n);let m=!1;d.subscribe(Ke(r,_=>{o[f]=_,m||(m=!0,l--),l||r.next(e(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,n,i?a=>RM(i,a):Pe));return e?o.pipe(Yp(e)):o}function FM(t,n,e){t?Ti(e,t,n):n()}function lf(...t){return function YY(){return os(1)}()(tn(t,Ps(t)))}function Oc(...t){const n=Ps(t);return Ge((e,r)=>{(n?lf(t,e,n):lf(t,e)).subscribe(r)})}const BM=new Set;let Wl,ZY=(()=>{class t{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):KY}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function XY(t){if(!BM.has(t))try{Wl||(Wl=document.createElement("style"),Wl.setAttribute("type","text/css"),document.head.appendChild(Wl)),Wl.sheet&&(Wl.sheet.insertRule(`@media ${t} {body{ }}`,0),BM.add(t))}catch(n){console.error(n)}}(e),this._matchMedia(e)}}return t.\u0275fac=function(e){return new(e||t)(nt(Rs))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function KY(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let UM=(()=>{class t{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new me}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return jM(af(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let o=Zp(jM(af(e)).map(a=>this._registerQuery(a).observable));return o=lf(o.pipe(Ks(1)),o.pipe(VM(1),IM(0))),o.pipe(re(a=>{const l={matches:!1,breakpoints:{}};return a.forEach(({matches:f,query:d})=>{l.matches=l.matches||f,l.breakpoints[d]=f}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),o={observable:new ye(a=>{const l=f=>this._zone.run(()=>a.next(f));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(Oc(r),re(({matches:a})=>({query:e,matches:a})),Ca(this._destroySubject)),mql:r};return this._queries.set(e,o),o}}return t.\u0275fac=function(e){return new(e||t)(nt(ZY),nt(kn))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function jM(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}function uf(t,n){return(t.getAttribute(n)||"").match(/\S+/g)||[]}const qM="cdk-describedby-message",ff="cdk-describedby-host";let Xp=0,tZ=(()=>{class t{constructor(e,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Xp++,this._document=e,this._id=Cn(Ul)+"-"+Xp++}describe(e,r,i){if(!this._canBeDescribed(e,r))return;const o=Kp(r,i);"string"!=typeof r?($M(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,r,i){if(!r||!this._isElementNode(e))return;const o=Kp(r,i);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof r){const a=this._messageRegistry.get(o);a&&0===a.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${ff}="${this._id}"]`);for(let r=0;r<e.length;r++)this._removeCdkDescribedByReferenceIds(e[r]),e[r].removeAttribute(ff);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,r){const i=this._document.createElement("div");$M(i,this._id),i.textContent=e,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(Kp(e,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(e),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(e){const r=uf(e,"aria-describedby").filter(i=>0!=i.indexOf(qM));e.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(e,r){const i=this._messageRegistry.get(r);(function JY(t,n,e){const r=uf(t,n);r.some(i=>i.trim()==e.trim())||(r.push(e.trim()),t.setAttribute(n,r.join(" ")))})(e,"aria-describedby",i.messageElement.id),e.setAttribute(ff,this._id),i.referenceCount++}_removeMessageReference(e,r){const i=this._messageRegistry.get(r);i.referenceCount--,function eZ(t,n,e){const i=uf(t,n).filter(o=>o!=e.trim());i.length?t.setAttribute(n,i.join(" ")):t.removeAttribute(n)}(e,"aria-describedby",i.messageElement.id),e.removeAttribute(ff)}_isElementDescribedByMessage(e,r){const i=uf(e,"aria-describedby"),o=this._messageRegistry.get(r),a=o&&o.messageElement.id;return!!a&&-1!=i.indexOf(a)}_canBeDescribed(e,r){if(!this._isElementNode(e))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),o=e.getAttribute("aria-label");return!(!i||o&&o.trim()===i)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(nt(On),nt(Rs))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Kp(t,n){return"string"==typeof t?`${n||""}/${t}`:t}function $M(t,n){t.id||(t.id=`${qM}-${n}-${Xp++}`)}let hf=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function rZ(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function nZ(t){try{return t.frameElement}catch{return null}}(function fZ(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(r&&(-1===YM(r)||!this.isVisible(r)))return!1;let i=e.nodeName.toLowerCase(),o=YM(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function lZ(t){let n=t.nodeName.toLowerCase(),e="input"===n&&t.type;return"text"===e||"password"===e||"select"===n||"textarea"===n}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function uZ(t){return!function oZ(t){return function aZ(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function iZ(t){let n=t.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(t)||function sZ(t){return function cZ(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||WM(t))}(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}}return t.\u0275fac=function(e){return new(e||t)(nt(Rs))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function WM(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let n=t.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function YM(t){if(!WM(t))return null;const n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class hZ{constructor(n,e,r,i,o=!1){this._element=n,this._checker=e,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}destroy(){const n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return r?.focus(n),!!r}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){const e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let r=0;r<e.length;r++){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(i)return i}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let r=e.length-1;r>=0;r--){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(i)return i}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(Ks(1)).subscribe(n)}}let Qp=(()=>{class t{constructor(e,r,i){this._checker=e,this._ngZone=r,this._document=i}create(e,r=!1){return new hZ(e,this._checker,this._ngZone,this._document,r)}}return t.\u0275fac=function(e){return new(e||t)(nt(hf),nt(kn),nt(On))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ZM(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function XM(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const dZ=new wt("cdk-input-modality-detector-options"),pZ={ignoreKeys:[18,17,224,91,16]},Yl=g4({passive:!0,capture:!0});let mZ=(()=>{class t{constructor(e,r,i,o){this._platform=e,this._mostRecentTarget=null,this._modality=new a1(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=kc(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ZM(a)?"keyboard":"mouse"),this._mostRecentTarget=kc(a))},this._onTouchstart=a=>{XM(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=kc(a))},this._options={...pZ,...o},this.modalityDetected=this._modality.pipe(VM(1)),this.modalityChanged=this.modalityDetected.pipe(function TY(t,n=Pe){return t=t??IY,Ge((e,r)=>{let i,o=!0;e.subscribe(Ke(r,a=>{const l=n(a);(o||!t(i,l))&&(o=!1,i=l,r.next(a))}))})}()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Yl),i.addEventListener("mousedown",this._onMousedown,Yl),i.addEventListener("touchstart",this._onTouchstart,Yl)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Yl),document.removeEventListener("mousedown",this._onMousedown,Yl),document.removeEventListener("touchstart",this._onTouchstart,Yl))}}return t.\u0275fac=function(e){return new(e||t)(nt(Rs),nt(kn),nt(On),nt(dZ,8))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const vZ=new wt("cdk-focus-monitor-default-options"),df=g4({passive:!0,capture:!0});let Zl=(()=>{class t{constructor(e,r,i,o,a){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new me,this._rootNodeFocusAndBlurListener=l=>{for(let d=kc(l);d;d=d.parentElement)"focus"===l.type?this._onFocus(l,d):this._onBlur(l,d)},this._document=o,this._detectionMode=a?.detectionMode||0}monitor(e,r=!1){const i=E2(e);if(!this._platform.isBrowser||1!==i.nodeType)return Jt(null);const o=function DY(t){if(function LY(){if(null==Rp){const t=typeof document<"u"?document.head:null;Rp=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Rp}()){const n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(i)||this._getDocument(),a=this._elementInfo.get(i);if(a)return r&&(a.checkChildren=!0),a.subject;const l={checkChildren:r,subject:new me,rootNode:o};return this._elementInfo.set(i,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(e){const r=E2(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const o=E2(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([l,f])=>this._originChanged(l,r,f)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),o=kc(e);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,df),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,df)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ca(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,df),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,df),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let a=0;a<o.length;a++)if(o[a].contains(r))return!0;return!1}}return t.\u0275fac=function(e){return new(e||t)(nt(kn),nt(Rs),nt(mZ),nt(On,8),nt(vZ,8))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const QM="cdk-high-contrast-black-on-white",JM="cdk-high-contrast-white-on-black",Jp="cdk-high-contrast-active";let ew=(()=>{class t{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=Cn(UM).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Jp,QM,JM),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(Jp,QM):2===r&&e.add(Jp,JM)}}}return t.\u0275fac=function(e){return new(e||t)(nt(Rs),nt(On))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tw=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(nt(ew))},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({imports:[Wp]}),t})();const _Z=new wt("cdk-dir-doc",{providedIn:"root",factory:function yZ(){return Cn(On)}}),CZ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let _4=(()=>{class t{constructor(e){this.value="ltr",this.change=new jr,e&&(this.value=function bZ(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?CZ.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(nt(_Z,8))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),y4=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({}),t})();const wZ=new wt("mat-sanity-checks",{providedIn:"root",factory:function MZ(){return!0}});let Js=(()=>{class t{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Bp()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return t.\u0275fac=function(e){return new(e||t)(nt(ew),nt(wZ,8),nt(On))},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({imports:[y4,y4]}),t})();function iw(t){return class extends t{constructor(...n){super(...n),this._disabled=!1}get disabled(){return this._disabled}set disabled(n){this._disabled=Oa(n)}}}function pf(t,n){return class extends t{constructor(...e){super(...e),this.defaultColor=n,this.color=n}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function ow(t){return class extends t{constructor(...n){super(...n),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=Oa(n)}}}function xZ(t,n=0){return class extends t{constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?sf(e):this.defaultTabIndex}}}function EZ(t){return class extends t{constructor(...n){super(...n),this.errorState=!1}updateErrorState(){const n=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==n&&(this.errorState=o,this.stateChanges.next())}}}let sw=(()=>{class t{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class LZ{constructor(n,e,r,i=!1){this._renderer=n,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const aw={enterDuration:225,exitDuration:150},e5=g4({passive:!0}),cw=["mousedown","touchstart"],lw=["mouseup","mouseleave","touchend","touchcancel"];class PZ{constructor(n,e,r,i){this._target=n,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=E2(r))}fadeInRipple(n,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...aw,...r.animation};r.centered&&(n=i.left+i.width/2,e=i.top+i.height/2);const a=r.radius||function zZ(t,n,e){const r=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),i=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(r*r+i*i)}(n,e,i),l=n-i.left,f=e-i.top,d=o.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=l-a+"px",m.style.top=f-a+"px",m.style.height=2*a+"px",m.style.width=2*a+"px",null!=r.color&&(m.style.backgroundColor=r.color),m.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(m);const _=window.getComputedStyle(m),S=_.transitionDuration,W="none"===_.transitionProperty||"0s"===S||"0s, 0s"===S,Q=new LZ(this,m,r,W);m.style.transform="scale3d(1, 1, 1)",Q.state=0,r.persistent||(this._mostRecentTransientRipple=Q);let Ce=null;return!W&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ge=()=>this._finishRippleTransition(Q),ue=()=>this._destroyRipple(Q);m.addEventListener("transitionend",ge),m.addEventListener("transitioncancel",ue),Ce={onTransitionEnd:ge,onTransitionCancel:ue}}),this._activeRipples.set(Q,Ce),(W||!d)&&this._finishRippleTransition(Q),Q}fadeOutRipple(n){if(2===n.state||3===n.state)return;const e=n.element,r={...aw,...n.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=E2(n);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(cw))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(lw),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const e=n===this._mostRecentTransientRipple,{persistent:r}=n.config;n.state=1,!r&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==e&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){const e=ZM(n),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!XM(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(e=>{this._triggerElement.addEventListener(e,this,e5)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(cw.forEach(n=>{this._triggerElement.removeEventListener(n,this,e5)}),this._pointerUpEventsRegistered&&lw.forEach(n=>{this._triggerElement.removeEventListener(n,this,e5)}))}}const HZ=new wt("mat-ripple-global-options");let mf=(()=>{class t{constructor(e,r,i,o,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new PZ(this,r,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return t.\u0275fac=function(e){return new(e||t)(Xe(ci),Xe(kn),Xe(Rs),Xe(HZ,8),Xe(K1,8))},t.\u0275dir=Ht({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&Os("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),t})(),uw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({imports:[Js,Js]}),t})();const AZ=["mat-button",""],VZ=["*"],IZ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],NZ=pf(iw(ow(class{constructor(t){this._elementRef=t}})));let b4=(()=>{class t extends NZ{constructor(e,r,i){super(e),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of IZ)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return t.\u0275fac=function(e){return new(e||t)(Xe(ci),Xe(Zl),Xe(K1,8))},t.\u0275cmp=ei({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&M1(mf,5),2&e){let i;Lo(i=Do())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(mo("disabled",r.disabled||null),Os("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[jn],attrs:AZ,ngContentSelectors:VZ,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(Tl(),At(0,"span",0),Ia(1),Vt(),So(2,"span",1)(3,"span",2)),2&e&&(Ft(2),Os("mat-button-ripple-round",r.isRoundButton||r.isIconButton),Wt("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[mf],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),t})(),kZ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({imports:[uw,Js,Js]}),t})();const OZ=["addListener","removeListener"],RZ=["addEventListener","removeEventListener"],FZ=["on","off"];function gf(t,n,e,r){if(P(e)&&(r=e,e=void 0),r)return gf(t,n,e).pipe(Yp(r));const[i,o]=function jZ(t){return P(t.addEventListener)&&P(t.removeEventListener)}(t)?RZ.map(a=>l=>t[a](n,l,e)):function BZ(t){return P(t.addListener)&&P(t.removeListener)}(t)?OZ.map(fw(t,n)):function UZ(t){return P(t.on)&&P(t.off)}(t)?FZ.map(fw(t,n)):[];if(!i&&_i(t))return zn(a=>gf(a,n,e))(To(t));if(!i)throw new TypeError("Invalid event target");return new ye(a=>{const l=(...f)=>a.next(1<f.length?f:f[0]);return i(l),()=>o(l)})}function fw(t,n){return e=>r=>t[e](n,r)}class hw{}class GZ{}const S2="*";function t5(t,n){return{type:7,name:t,definitions:n,options:{}}}function M4(t,n=null){return{type:4,styles:n,timings:t}}function dw(t,n=null){return{type:3,steps:t,options:n}}function pw(t,n=null){return{type:2,steps:t,options:n}}function ba(t){return{type:6,styles:t,offset:null}}function w4(t,n,e){return{type:0,name:t,styles:n,options:e}}function x4(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}function mw(t=null){return{type:9,options:t}}function gw(t,n,e=null){return{type:11,selector:t,animation:n,options:e}}function vw(t){Promise.resolve().then(t)}class E4{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){vw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class _w{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,r=0,i=0;const o=this.players.length;0==o?vw(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++r==o&&this._onDestroy()}),a.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const n5="!",$Z=["connectionContainer"],WZ=["inputContainer"],YZ=["label"];function ZZ(t,n){1&t&&($2(0),At(1,"div",14),So(2,"div",15)(3,"div",16)(4,"div",17),Vt(),At(5,"div",18),So(6,"div",15)(7,"div",16)(8,"div",17),Vt(),W2())}function XZ(t,n){if(1&t){const e=r1();At(0,"div",19),Vn("cdkObserveContent",function(){return Or(e),Di(Nr().updateOutlineGap())}),Ia(1,1),Vt()}2&t&&Wt("cdkObserveContentDisabled","outline"!=Nr().appearance)}function KZ(t,n){if(1&t&&($2(0),Ia(1,2),At(2,"span"),Nn(3),Vt(),W2()),2&t){const e=Nr(2);Ft(3),Z2(e._control.placeholder)}}function QZ(t,n){1&t&&Ia(0,3,["*ngSwitchCase","true"])}function JZ(t,n){1&t&&(At(0,"span",23),Nn(1," *"),Vt())}function eX(t,n){if(1&t){const e=r1();At(0,"label",20,21),Vn("cdkObserveContent",function(){return Or(e),Di(Nr().updateOutlineGap())}),Rr(2,KZ,4,1,"ng-container",12),Rr(3,QZ,1,0,"ng-content",12),Rr(4,JZ,2,0,"span",22),Vt()}if(2&t){const e=Nr();Os("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),Wt("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),mo("for",e._control.id)("aria-owns",e._control.id),Ft(2),Wt("ngSwitchCase",!1),Ft(1),Wt("ngSwitchCase",!0),Ft(1),Wt("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function tX(t,n){1&t&&(At(0,"div",24),Ia(1,4),Vt())}function nX(t,n){if(1&t&&(At(0,"div",25),So(1,"span",26),Vt()),2&t){const e=Nr();Ft(1),Os("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function rX(t,n){1&t&&(At(0,"div"),Ia(1,5),Vt()),2&t&&Wt("@transitionMessages",Nr()._subscriptAnimationState)}function iX(t,n){if(1&t&&(At(0,"div",30),Nn(1),Vt()),2&t){const e=Nr(2);Wt("id",e._hintLabelId),Ft(1),Z2(e.hintLabel)}}function oX(t,n){if(1&t&&(At(0,"div",27),Rr(1,iX,2,2,"div",28),Ia(2,6),So(3,"div",29),Ia(4,7),Vt()),2&t){const e=Nr();Wt("@transitionMessages",e._subscriptAnimationState),Ft(1),Wt("ngIf",e.hintLabel)}}const sX=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],aX=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let cX=0;const yw=new wt("MatError");let lX=(()=>{class t{constructor(e,r){this.id="mat-error-"+cX++,e||r.nativeElement.setAttribute("aria-live","polite")}}return t.\u0275fac=function(e){return new(e||t)(xc("aria-live"),Xe(ci))},t.\u0275dir=Ht({type:t,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,r){2&e&&mo("id",r.id)},inputs:{id:"id"},features:[li([{provide:yw,useExisting:t}])]}),t})();const uX={transitionMessages:t5("transitionMessages",[w4("enter",ba({opacity:1,transform:"translateY(0%)"})),x4("void => enter",[ba({opacity:0,transform:"translateY(-5px)"}),M4("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let r5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ht({type:t}),t})();const fX=new wt("MatHint");let vf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ht({type:t,selectors:[["mat-label"]]}),t})(),hX=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ht({type:t,selectors:[["mat-placeholder"]]}),t})();const dX=new wt("MatPrefix"),Cw=new wt("MatSuffix");let pX=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ht({type:t,selectors:[["","matSuffix",""]],features:[li([{provide:Cw,useExisting:t}])]}),t})(),bw=0;const gX=pf(class{constructor(t){this._elementRef=t}},"primary"),vX=new wt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ww=new wt("MatFormField");let xw=(()=>{class t extends gX{constructor(e,r,i,o,a,l,f){super(e),this._changeDetectorRef=r,this._dir=i,this._defaults=o,this._platform=a,this._ngZone=l,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new me,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+bw++,this._labelId="mat-form-field-label-"+bw++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==f,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&r!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Oa(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Oc(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Ca(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ca(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),fn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Oc(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Oc(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Ca(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,gf(this._label.nativeElement,"transitionend").pipe(Ks(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const m=r.querySelectorAll(`${i}, ${o}`);for(let _=0;_<m.length;_++)m[_].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,l=0;const f=r.querySelectorAll(i),d=r.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const m=r.getBoundingClientRect();if(0===m.width&&0===m.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const _=this._getStartEnd(m),C=e.children,S=this._getStartEnd(C[0].getBoundingClientRect());let W=0;for(let Q=0;Q<C.length;Q++)W+=C[Q].offsetWidth;a=Math.abs(S-_)-5,l=W>0?.75*W+10:0}for(let m=0;m<f.length;m++)f[m].style.width=`${a}px`;for(let m=0;m<d.length;m++)d[m].style.width=`${l}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(Xe(ci),Xe(b2),Xe(_4,8),Xe(vX,8),Xe(Rs),Xe(kn),Xe(K1,8))},t.\u0275cmp=ei({type:t,selectors:[["mat-form-field"]],contentQueries:function(e,r,i){if(1&e&&(w1(i,r5,5),w1(i,r5,7),w1(i,vf,5),w1(i,vf,7),w1(i,hX,5),w1(i,yw,5),w1(i,fX,5),w1(i,dX,5),w1(i,Cw,5)),2&e){let o;Lo(o=Do())&&(r._controlNonStatic=o.first),Lo(o=Do())&&(r._controlStatic=o.first),Lo(o=Do())&&(r._labelChildNonStatic=o.first),Lo(o=Do())&&(r._labelChildStatic=o.first),Lo(o=Do())&&(r._placeholderChild=o.first),Lo(o=Do())&&(r._errorChildren=o),Lo(o=Do())&&(r._hintChildren=o),Lo(o=Do())&&(r._prefixChildren=o),Lo(o=Do())&&(r._suffixChildren=o)}},viewQuery:function(e,r){if(1&e&&(M1($Z,7),M1(WZ,5),M1(YZ,5)),2&e){let i;Lo(i=Do())&&(r._connectionContainerRef=i.first),Lo(i=Do())&&(r._inputContainerRef=i.first),Lo(i=Do())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&Os("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[li([{provide:ww,useExisting:t}]),jn],ngContentSelectors:aX,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(Tl(sX),At(0,"div",0)(1,"div",1,2),Vn("click",function(o){return r._control.onContainerClick&&r._control.onContainerClick(o)}),Rr(3,ZZ,9,0,"ng-container",3),Rr(4,XZ,2,1,"div",4),At(5,"div",5,6),Ia(7),At(8,"span",7),Rr(9,eX,5,16,"label",8),Vt()(),Rr(10,tX,2,0,"div",9),Vt(),Rr(11,nX,2,4,"div",10),At(12,"div",11),Rr(13,rX,2,1,"div",12),Rr(14,oX,5,2,"div",13),Vt()()),2&e&&(Ft(3),Wt("ngIf","outline"==r.appearance),Ft(1),Wt("ngIf",r._prefixChildren.length),Ft(5),Wt("ngIf",r._hasFloatingLabel()),Ft(1),Wt("ngIf",r._suffixChildren.length),Ft(1),Wt("ngIf","outline"!=r.appearance),Ft(1),Wt("ngSwitch",r._getDisplayedMessages()),Ft(1),Wt("ngSwitchCase","error"),Ft(1),Wt("ngSwitchCase","hint"))},dependencies:[ql,Z0,Kb,kM],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[uX.transitionMessages]},changeDetection:0}),t})(),o5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({imports:[Dp,Js,Wp,Js]}),t})();const _f=D(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function yf(t){return new ye(n=>{To(t()).subscribe(n)})}function Xl(t,n){const e=P(t)?t:()=>t,r=i=>i.error(e());return new ye(n?i=>n.schedule(r,0,i):r)}function s5(){return Ge((t,n)=>{let e=null;t._refCount++;const r=Ke(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class Ew extends ye{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ze(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new w;const e=this.getSubject();n.add(this.source.subscribe(Ke(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=w.EMPTY)}return n}refCount(){return s5()(this)}}function J1(t,n){return Ge((e,r)=>{let i=null,o=0,a=!1;const l=()=>a&&!i&&r.complete();e.subscribe(Ke(r,f=>{i?.unsubscribe();let d=0;const m=o++;To(t(f,m)).subscribe(i=Ke(r,_=>r.next(n?n(f,_,m,d++):_),()=>{i=null,l()}))},()=>{a=!0,l()}))})}function Cf(t){return Ge((n,e)=>{let r=!1;n.subscribe(Ke(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function Sw(t=_X){return Ge((n,e)=>{let r=!1;n.subscribe(Ke(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function _X(){return new _f}function Q2(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Qs((i,o)=>t(i,o,r)):Pe,Ks(1),e?Cf(n):Sw(()=>new _f))}function J2(t,n){return P(n)?zn(t,n,1):zn(t,1)}function Ko(t,n,e){const r=P(t)||n||e?{next:t,error:n,complete:e}:t;return r?Ge((i,o)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let l=!0;i.subscribe(Ke(o,f=>{var d;null===(d=r.next)||void 0===d||d.call(r,f),o.next(f)},()=>{var f;l=!1,null===(f=r.complete)||void 0===f||f.call(r),o.complete()},f=>{var d;l=!1,null===(d=r.error)||void 0===d||d.call(r,f),o.error(f)},()=>{var f,d;l&&(null===(f=r.unsubscribe)||void 0===f||f.call(r)),null===(d=r.finalize)||void 0===d||d.call(r)}))}):Pe}function e2(t){return Ge((n,e)=>{let o,r=null,i=!1;r=n.subscribe(Ke(e,void 0,void 0,a=>{o=To(t(a,e2(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function Lw(t,n){return Ge(function yX(t,n,e,r,i){return(o,a)=>{let l=e,f=n,d=0;o.subscribe(Ke(a,m=>{const _=d++;f=l?t(f,m,_):(l=!0,m),r&&a.next(f)},i&&(()=>{l&&a.next(f),a.complete()})))}}(t,n,arguments.length>=2,!0))}function a5(t){return t<=0?()=>yi:Ge((n,e)=>{let r=[];n.subscribe(Ke(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Dw(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Qs((i,o)=>t(i,o,r)):Pe,a5(1),e?Cf(n):Sw(()=>new _f))}function bf(t){return Ge((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const Rn="primary",S4=Symbol("RouteTitle");class MX{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Kl(t){return new MX(t)}function wX(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const a=r[o],l=t[o];if(a.startsWith(":"))i[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function t2(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!Pw(t[i],n[i]))return!1;return!0}function Pw(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}return t===n}function zw(t){return Array.prototype.concat.apply([],t)}function Hw(t){return t.length>0?t[t.length-1]:null}function Es(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function ec(t){return Cd(t)?t:Q3(t)?tn(Promise.resolve(t)):Jt(t)}const Mf=!1,EX={exact:function Tw(t,n,e){if(!Rc(t.segments,n.segments)||!wf(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!Tw(t.children[r],n.children[r],e))return!1;return!0},subset:Iw},Aw={exact:function SX(t,n){return t2(t,n)},subset:function LX(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Pw(t[e],n[e]))},ignored:()=>!0};function Vw(t,n,e){return EX[e.paths](t.root,n.root,e.matrixParams)&&Aw[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function Iw(t,n,e){return Nw(t,n,n.segments,e)}function Nw(t,n,e,r){if(t.segments.length>e.length){const i=t.segments.slice(0,e.length);return!(!Rc(i,e)||n.hasChildren()||!wf(i,e,r))}if(t.segments.length===e.length){if(!Rc(t.segments,e)||!wf(t.segments,e,r))return!1;for(const i in n.children)if(!t.children[i]||!Iw(t.children[i],n.children[i],r))return!1;return!0}{const i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!!(Rc(t.segments,i)&&wf(t.segments,i,r)&&t.children[Rn])&&Nw(t.children[Rn],n,o,r)}}function wf(t,n,e){return n.every((r,i)=>Aw[e](t[i].parameters,r.parameters))}class tc{constructor(n=new Zn([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kl(this.queryParams)),this._queryParamMap}toString(){return zX.serialize(this)}}class Zn{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Es(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xf(this)}}class L4{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Kl(this.parameters)),this._parameterMap}toString(){return Rw(this)}}function Rc(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}let D4=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:function(){return new c5},providedIn:"root"}),t})();class c5{parse(n){const e=new RX(n);return new tc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${P4(n.root,!0)}`,r=function VX(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(i=>`${Ef(e)}=${Ef(i)}`).join("&"):`${Ef(e)}=${Ef(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function HX(t){return encodeURI(t)}(n.fragment)}`:""}`}}const zX=new c5;function xf(t){return t.segments.map(n=>Rw(n)).join("/")}function P4(t,n){if(!t.hasChildren())return xf(t);if(n){const e=t.children[Rn]?P4(t.children[Rn],!1):"",r=[];return Es(t.children,(i,o)=>{o!==Rn&&r.push(`${o}:${P4(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function PX(t,n){let e=[];return Es(t.children,(r,i)=>{i===Rn&&(e=e.concat(n(r,i)))}),Es(t.children,(r,i)=>{i!==Rn&&(e=e.concat(n(r,i)))}),e}(t,(r,i)=>i===Rn?[P4(t.children[Rn],!1)]:[`${i}:${P4(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Rn]?`${xf(t)}/${e[0]}`:`${xf(t)}/(${e.join("//")})`}}function kw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ef(t){return kw(t).replace(/%3B/gi,";")}function l5(t){return kw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sf(t){return decodeURIComponent(t)}function Ow(t){return Sf(t.replace(/\+/g,"%20"))}function Rw(t){return`${l5(t.path)}${function AX(t){return Object.keys(t).map(n=>`;${l5(n)}=${l5(t[n])}`).join("")}(t.parameters)}`}const TX=/^[^\/()?;=#]+/;function Lf(t){const n=t.match(TX);return n?n[0]:""}const IX=/^[^=?&#]+/,kX=/^[^&#]+/;class RX{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zn([],{}):new Zn([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Rn]=new Zn(n,e)),r}parseSegment(){const n=Lf(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new at(4009,Mf);return this.capture(n),new L4(Sf(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=Lf(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Lf(this.remaining);i&&(r=i,this.capture(r))}n[Sf(e)]=Sf(r)}parseQueryParam(n){const e=function NX(t){const n=t.match(IX);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=function OX(t){const n=t.match(kX);return n?n[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const i=Ow(e),o=Ow(r);if(n.hasOwnProperty(i)){let a=n[i];Array.isArray(a)||(a=[a],n[i]=a),a.push(o)}else n[i]=o}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Lf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new at(4010,Mf);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Rn);const a=this.parseChildren();e[o]=1===Object.keys(a).length?a[Rn]:new Zn([],a),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new at(4011,Mf)}}function u5(t){return t.segments.length>0?new Zn([],{[Rn]:t}):t}function Df(t){const n={};for(const r of Object.keys(t.children)){const o=Df(t.children[r]);(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function FX(t){if(1===t.numberOfChildren&&t.children[Rn]){const n=t.children[Rn];return new Zn(t.segments.concat(n.segments),n.children)}return t}(new Zn(t.segments,n))}function Fc(t){return t instanceof tc}const f5=!1;function BX(t,n,e,r,i){if(0===e.length)return Ql(n.root,n.root,n.root,r,i);const o=function Gw(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new jw(!0,0,t);let n=0,e=!1;const r=t.reduce((i,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const l={};return Es(o.outlets,(f,d)=>{l[d]="string"==typeof f?f.split("/"):f}),[...i,{outlets:l}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===a?(o.split("/").forEach((l,f)=>{0==f&&"."===l||(0==f&&""===l?e=!0:".."===l?n++:""!=l&&i.push(l))}),i):[...i,o]},[]);return new jw(e,n,r)}(e);return o.toRoot()?Ql(n.root,n.root,new Zn([],{}),r,i):function a(f){const d=function jX(t,n,e,r){if(t.isAbsolute)return new Jl(n.root,!0,0);if(-1===r)return new Jl(e,e===n.root,0);return function qw(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new at(4005,f5&&"Invalid number of '../'");i=r.segments.length}return new Jl(r,!1,i-o)}(e,r+(z4(t.commands[0])?0:1),t.numberOfDoubleDots)}(o,n,t.snapshot?._urlSegment,f),m=d.processChildren?e3(d.segmentGroup,d.index,o.commands):h5(d.segmentGroup,d.index,o.commands);return Ql(n.root,d.segmentGroup,m,r,i)}(t.snapshot?._lastPathIndex)}function z4(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function H4(t){return"object"==typeof t&&null!=t&&t.outlets}function Ql(t,n,e,r,i){let a,o={};r&&Es(r,(f,d)=>{o[d]=Array.isArray(f)?f.map(m=>`${m}`):`${f}`}),a=t===n?e:Uw(t,n,e);const l=u5(Df(a));return new tc(l,o,i)}function Uw(t,n,e){const r={};return Es(t.children,(i,o)=>{r[o]=i===n?e:Uw(i,n,e)}),new Zn(t.segments,r)}class jw{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&z4(r[0]))throw new at(4003,f5&&"Root segment cannot have matrix parameters");const i=r.find(H4);if(i&&i!==Hw(r))throw new at(4004,f5&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jl{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function h5(t,n,e){if(t||(t=new Zn([],{})),0===t.segments.length&&t.hasChildren())return e3(t,n,e);const r=function qX(t,n,e){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;const a=t.segments[i],l=e[r];if(H4(l))break;const f=`${l}`,d=r<e.length-1?e[r+1]:null;if(i>0&&void 0===f)break;if(f&&d&&"object"==typeof d&&void 0===d.outlets){if(!Ww(f,d,a))return o;r+=2}else{if(!Ww(f,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new Zn(t.segments.slice(0,r.pathIndex),{});return o.children[Rn]=new Zn(t.segments.slice(r.pathIndex),t.children),e3(o,0,i)}return r.match&&0===i.length?new Zn(t.segments,{}):r.match&&!t.hasChildren()?d5(t,n,e):r.match?e3(t,0,i):d5(t,n,e)}function e3(t,n,e){if(0===e.length)return new Zn(t.segments,{});{const r=function GX(t){return H4(t[0])?t[0].outlets:{[Rn]:t}}(e),i={};if(!r[Rn]&&t.children[Rn]&&1===t.numberOfChildren&&0===t.children[Rn].segments.length){const o=e3(t.children[Rn],n,e);return new Zn(t.segments,o.children)}return Es(r,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[a]=h5(t.children[a],n,o))}),Es(t.children,(o,a)=>{void 0===r[a]&&(i[a]=o)}),new Zn(t.segments,i)}}function d5(t,n,e){const r=t.segments.slice(0,n);let i=0;for(;i<e.length;){const o=e[i];if(H4(o)){const f=$X(o.outlets);return new Zn(r,f)}if(0===i&&z4(e[0])){r.push(new L4(t.segments[n].path,$w(e[0]))),i++;continue}const a=H4(o)?o.outlets[Rn]:`${o}`,l=i<e.length-1?e[i+1]:null;a&&l&&z4(l)?(r.push(new L4(a,$w(l))),i+=2):(r.push(new L4(a,{})),i++)}return new Zn(r,{})}function $X(t){const n={};return Es(t,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[r]=d5(new Zn([],{}),0,e))}),n}function $w(t){const n={};return Es(t,(e,r)=>n[r]=`${e}`),n}function Ww(t,n,e){return t==e.path&&t2(n,e.parameters)}const A4="imperative";class n2{constructor(n,e){this.id=n,this.url=e}}class p5 extends n2{constructor(n,e,r="imperative",i=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bc extends n2{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pf extends n2{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zf extends n2{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=16}}class m5 extends n2{constructor(n,e,r,i){super(n,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WX extends n2{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YX extends n2{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZX extends n2{constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XX extends n2{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KX extends n2{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QX{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class JX{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class eK{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tK{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nK{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rK{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yw{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let sK=(()=>{class t{createUrlTree(e,r,i,o,a,l){return BX(e||r.root,i,o,a,l)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})(),cK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:function(n){return sK.\u0275fac(n)},providedIn:"root"}),t})();class Zw{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=g5(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=g5(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=v5(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return v5(n,this._root).map(e=>e.value)}}function g5(t,n){if(t===n.value)return n;for(const e of n.children){const r=g5(t,e);if(r)return r}return null}function v5(t,n){if(t===n.value)return[n];for(const e of n.children){const r=v5(t,e);if(r.length)return r.unshift(n),r}return[]}class L2{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function t3(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class Xw extends Zw{constructor(n,e){super(n),this.snapshot=e,_5(this,n)}toString(){return this.snapshot.toString()}}function Kw(t,n){const e=function lK(t,n){const a=new Hf([],{},{},"",{},Rn,n,null,t.root,-1,{});return new Jw("",new L2(a,[]))}(t,n),r=new a1([new L4("",{})]),i=new a1({}),o=new a1({}),a=new a1({}),l=new a1(""),f=new n3(r,i,a,l,o,Rn,n,e.root);return f.snapshot=e.root,new Xw(new L2(f,[]),e)}class n3{constructor(n,e,r,i,o,a,l,f){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=l,this.title=this.data?.pipe(re(d=>d[S4]))??Jt(void 0),this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(n=>Kl(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(n=>Kl(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qw(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function uK(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Hf{get title(){return this.data?.[S4]}constructor(n,e,r,i,o,a,l,f,d,m,_){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=l,this.routeConfig=f,this._urlSegment=d,this._lastPathIndex=m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jw extends Zw{constructor(n,e){super(e),this.url=n,_5(this,e)}toString(){return ex(this._root)}}function _5(t,n){n.value._routerState=t,n.children.forEach(e=>_5(t,e))}function ex(t){const n=t.children.length>0?` { ${t.children.map(ex).join(", ")} } `:"";return`${t.value}${n}`}function y5(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,t2(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),t2(n.params,e.params)||t.params.next(e.params),function xX(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!t2(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),t2(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function C5(t,n){const e=t2(t.params,n.params)&&function DX(t,n){return Rc(t,n)&&t.every((e,r)=>t2(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||C5(t.parent,n.parent))}function V4(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const i=function hK(t,n,e){return n.children.map(r=>{for(const i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return V4(t,r,i);return V4(t,r)})}(t,n,e);return new L2(r,i)}{if(t.shouldAttach(n.value)){const o=t.retrieve(n.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(l=>V4(t,l)),a}}const r=function dK(t){return new n3(new a1(t.url),new a1(t.params),new a1(t.queryParams),new a1(t.fragment),new a1(t.data),t.outlet,t.component,t)}(n.value),i=n.children.map(o=>V4(t,o));return new L2(r,i)}}const b5="ngNavigationCancelingError";function tx(t,n){const{redirectTo:e,navigationBehaviorOptions:r}=Fc(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=nx(!1,0,n);return i.url=e,i.navigationBehaviorOptions=r,i}function nx(t,n,e){const r=new Error("NavigationCancelingError: "+(t||""));return r[b5]=!0,r.cancellationCode=n,e&&(r.url=e),r}function rx(t){return ix(t)&&Fc(t.url)}function ix(t){return t&&t[b5]}class pK{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new T4,this.attachRef=null}}let T4=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new pK,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Af=!1;let M5=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Rn,this.activateEvents=new jr,this.deactivateEvents=new jr,this.attachEvents=new jr,this.detachEvents=new jr,this.parentContexts=Cn(T4),this.location=Cn(ka),this.changeDetector=Cn(b2),this.environmentInjector=Cn(G1)}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new at(4012,Af);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new at(4012,Af);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new at(4012,Af);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new at(4013,Af);this._activatedRoute=e;const i=this.location,a=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,f=new mK(e,l,i.injector);if(r&&function gK(t){return!!t.resolveComponentFactory}(r)){const d=r.resolveComponentFactory(a);this.activated=i.createComponent(d,i.length,f)}else this.activated=i.createComponent(a,{index:i.length,injector:f,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ht({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Nt]}),t})();class mK{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===n3?this.route:n===T4?this.childContexts:this.parent.get(n,e)}}let w5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ei({type:t,selectors:[["ng-component"]],standalone:!0,features:[gC],decls:1,vars:0,template:function(e,r){1&e&&So(0,"router-outlet")},dependencies:[M5],encapsulation:2}),t})();function ox(t,n){return t.providers&&!t._injector&&(t._injector=D0(t.providers,n,`Route: ${t.path}`)),t._injector??n}function E5(t){const n=t.children&&t.children.map(E5),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Rn&&(e.component=w5),e}function c1(t){return t.outlet||Rn}function sx(t,n){const e=t.filter(r=>c1(r)===n);return e.push(...t.filter(r=>c1(r)!==n)),e}function I4(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class bK{constructor(n,e,r,i){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),y5(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const i=t3(e);n.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Es(i,(o,a)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){const i=n.value,o=e?e.value:null;if(i===o)if(i.component){const a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(n,e,a.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=t3(n);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],i);if(r&&r.outlet){const a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:l})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=t3(n);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,e,r){const i=t3(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new rK(o.value.snapshot))}),n.children.length&&this.forwardEvent(new tK(n.value.snapshot))}activateRoutes(n,e,r){const i=n.value,o=e?e.value:null;if(y5(i),i===o)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,a.children)}else this.activateChildRoutes(n,e,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),y5(l.route.value),this.activateChildRoutes(n,null,a.children)}else{const l=I4(i.snapshot),f=l?.get(Pc)??null;a.attachRef=null,a.route=i,a.resolver=f,a.injector=l,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(n,null,a.children)}}else this.activateChildRoutes(n,null,r)}}class ax{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Vf{constructor(n,e){this.component=n,this.route=e}}function MK(t,n,e){const r=t._root;return N4(r,n?n._root:null,e,[r.value])}function r3(t,n){const e=Symbol(),r=n.get(t,e);return r===e?"function"!=typeof t||function G2(t){return null!==Qr(t)}(t)?n.get(t):t:r}function N4(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t3(n);return t.children.forEach(a=>{(function xK(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=n?n.value:null,l=e?e.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const f=function EK(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Rc(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Rc(t.url,n.url)||!t2(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!C5(t,n)||!t2(t.queryParams,n.queryParams);default:return!C5(t,n)}}(a,o,o.routeConfig.runGuardsAndResolvers);f?i.canActivateChecks.push(new ax(r)):(o.data=a.data,o._resolvedData=a._resolvedData),N4(t,n,o.component?l?l.children:null:e,r,i),f&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new Vf(l.outlet.component,a))}else a&&k4(n,l,i),i.canActivateChecks.push(new ax(r)),N4(t,null,o.component?l?l.children:null:e,r,i)})(a,o[a.value.outlet],e,r.concat([a.value]),i),delete o[a.value.outlet]}),Es(o,(a,l)=>k4(a,e.getContext(l),i)),i}function k4(t,n,e){const r=t3(t),i=t.value;Es(r,(o,a)=>{k4(o,i.component?n?n.children.getContext(a):null:n,e)}),e.canDeactivateChecks.push(new Vf(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function O4(t){return"function"==typeof t}function S5(t){return t instanceof _f||"EmptyError"===t?.name}const Tf=Symbol("INITIAL_VALUE");function o3(){return J1(t=>Zp(t.map(n=>n.pipe(Ks(1),Oc(Tf)))).pipe(re(n=>{for(const e of n)if(!0!==e){if(e===Tf)return Tf;if(!1===e||e instanceof tc)return e}return!0}),Qs(n=>n!==Tf),Ks(1)))}function cx(t){return function ve(...t){return xe(t)}(Ko(n=>{if(Fc(n))throw tx(0,n)}),re(n=>!0===n))}const L5={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lx(t,n,e,r,i){const o=D5(t,n,e);return o.matched?function UK(t,n,e,r){const i=n.canMatch;return i&&0!==i.length?Jt(i.map(a=>{const l=r3(a,t);return ec(function HK(t){return t&&O4(t.canMatch)}(l)?l.canMatch(n,e):t.runInContext(()=>l(n,e)))})).pipe(o3(),cx()):Jt(!0)}(r=ox(n,r),n,e).pipe(re(a=>!0===a?o:{...L5})):Jt(o)}function D5(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...L5}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||wX)(e,t,n);if(!i)return{...L5};const o={};Es(i.posParams,(l,f)=>{o[f]=l.path});const a=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function If(t,n,e,r){if(e.length>0&&function qK(t,n,e){return e.some(r=>Nf(t,n,r)&&c1(r)!==Rn)}(t,e,r)){const o=new Zn(n,function GK(t,n,e,r){const i={};i[Rn]=r,r._sourceSegment=t,r._segmentIndexShift=n.length;for(const o of e)if(""===o.path&&c1(o)!==Rn){const a=new Zn([],{});a._sourceSegment=t,a._segmentIndexShift=n.length,i[c1(o)]=a}return i}(t,n,r,new Zn(e,t.children)));return o._sourceSegment=t,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function $K(t,n,e){return e.some(r=>Nf(t,n,r))}(t,e,r)){const o=new Zn(t.segments,function jK(t,n,e,r,i){const o={};for(const a of r)if(Nf(t,e,a)&&!i[c1(a)]){const l=new Zn([],{});l._sourceSegment=t,l._segmentIndexShift=n.length,o[c1(a)]=l}return{...i,...o}}(t,n,e,r,t.children));return o._sourceSegment=t,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:e}}const i=new Zn(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=n.length,{segmentGroup:i,slicedSegments:e}}function Nf(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function ux(t,n,e,r){return!!(c1(t)===r||r!==Rn&&Nf(n,e,t))&&("**"===t.path||D5(n,t,e).matched)}function fx(t,n,e){return 0===n.length&&!t.children[e]}const kf=!1;class Of{constructor(n){this.segmentGroup=n||null}}class hx{constructor(n){this.urlTree=n}}function R4(t){return Xl(new Of(t))}function dx(t){return Xl(new hx(t))}class XK{constructor(n,e,r,i,o){this.injector=n,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const n=If(this.urlTree.root,[],[],this.config).segmentGroup,e=new Zn(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,Rn).pipe(re(o=>this.createUrlTree(Df(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(e2(o=>{if(o instanceof hx)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Of?this.noMatchError(o):o}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,Rn).pipe(re(i=>this.createUrlTree(Df(i),n.queryParams,n.fragment))).pipe(e2(i=>{throw i instanceof Of?this.noMatchError(i):i}))}noMatchError(n){return new at(4002,kf)}createUrlTree(n,e,r){const i=u5(n);return new tc(i,e,r)}expandSegmentGroup(n,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,e,r).pipe(re(o=>new Zn([],o))):this.expandSegment(n,r,e,r.segments,i,!0)}expandChildren(n,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return tn(i).pipe(J2(o=>{const a=r.children[o],l=sx(e,o);return this.expandSegmentGroup(n,l,a,o).pipe(re(f=>({segment:f,outlet:o})))}),Lw((o,a)=>(o[a.outlet]=a.segment,o),{}),Dw())}expandSegment(n,e,r,i,o,a){return tn(r).pipe(J2(l=>this.expandSegmentAgainstRoute(n,e,r,l,i,o,a).pipe(e2(d=>{if(d instanceof Of)return Jt(null);throw d}))),Q2(l=>!!l),e2((l,f)=>{if(S5(l))return fx(e,i,o)?Jt(new Zn([],{})):R4(e);throw l}))}expandSegmentAgainstRoute(n,e,r,i,o,a,l){return ux(i,e,o,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,e,i,o,a):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,a):R4(e):R4(e)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?dx(o):this.lineralizeSegments(r,o).pipe(zn(a=>{const l=new Zn(a,{});return this.expandSegment(n,l,e,a,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,o,a){const{matched:l,consumedSegments:f,remainingSegments:d,positionalParamSegments:m}=D5(e,i,o);if(!l)return R4(e);const _=this.applyRedirectCommands(f,i.redirectTo,m);return i.redirectTo.startsWith("/")?dx(_):this.lineralizeSegments(i,_).pipe(zn(C=>this.expandSegment(n,e,r,C.concat(d),a,!1)))}matchSegmentAgainstRoute(n,e,r,i,o){return"**"===r.path?(n=ox(r,n),r.loadChildren?(r._loadedRoutes?Jt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(n,r)).pipe(re(l=>(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,new Zn(i,{})))):Jt(new Zn(i,{}))):lx(e,r,i,n).pipe(J1(({matched:a,consumedSegments:l,remainingSegments:f})=>a?this.getChildConfig(n=r._injector??n,r,i).pipe(zn(m=>{const _=m.injector??n,C=m.routes,{segmentGroup:S,slicedSegments:W}=If(e,l,f,C),Q=new Zn(S.segments,S.children);if(0===W.length&&Q.hasChildren())return this.expandChildren(_,C,Q).pipe(re(pe=>new Zn(l,pe)));if(0===C.length&&0===W.length)return Jt(new Zn(l,{}));const Ce=c1(r)===o;return this.expandSegment(_,Q,C,W,Ce?Rn:o,!0).pipe(re(ue=>new Zn(l.concat(ue.segments),ue.children)))})):R4(e)))}getChildConfig(n,e,r){return e.children?Jt({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?Jt({routes:e._loadedRoutes,injector:e._loadedInjector}):function BK(t,n,e,r){const i=n.canLoad;return void 0===i||0===i.length?Jt(!0):Jt(i.map(a=>{const l=r3(a,t);return ec(function LK(t){return t&&O4(t.canLoad)}(l)?l.canLoad(n,e):t.runInContext(()=>l(n,e)))})).pipe(o3(),cx())}(n,e,r).pipe(zn(i=>i?this.configLoader.loadChildren(n,e).pipe(Ko(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function YK(t){return Xl(nx(kf,3))}())):Jt({routes:[],injector:n})}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Jt(r);if(i.numberOfChildren>1||!i.children[Rn])return n.redirectTo,Xl(new at(4e3,kf));i=i.children[Rn]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreateUrlTree(n,e,r,i){const o=this.createSegmentGroup(n,e.root,r,i);return new tc(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Es(n,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const l=i.substring(1);r[o]=e[l]}else r[o]=i}),r}createSegmentGroup(n,e,r,i){const o=this.createSegments(n,e.segments,r,i);let a={};return Es(e.children,(l,f)=>{a[f]=this.createSegmentGroup(n,l,r,i)}),new Zn(o,a)}createSegments(n,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){const i=r[e.path.substring(1)];if(!i)throw new at(4001,kf);return i}findOrReturn(n,e){let r=0;for(const i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}}class QK{}class tQ{constructor(n,e,r,i,o,a,l){this.injector=n,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l}recognize(){const n=If(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Rn).pipe(re(e=>{if(null===e)return null;const r=new Hf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new L2(r,e),o=new Jw(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(n){const e=n.value,r=Qw(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,i)}processChildren(n,e,r){return tn(Object.keys(r.children)).pipe(J2(i=>{const o=r.children[i],a=sx(e,i);return this.processSegmentGroup(n,a,o,i)}),Lw((i,o)=>i&&o?(i.push(...o),i):null),function CX(t,n=!1){return Ge((e,r)=>{let i=0;e.subscribe(Ke(r,o=>{const a=t(o,i++);(a||n)&&r.next(o),!a&&r.complete()}))})}(i=>null!==i),Cf(null),Dw(),re(i=>{if(null===i)return null;const o=mx(i);return function nQ(t){t.sort((n,e)=>n.value.outlet===Rn?-1:e.value.outlet===Rn?1:n.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(n,e,r,i,o){return tn(e).pipe(J2(a=>this.processSegmentAgainstRoute(a._injector??n,a,r,i,o)),Q2(a=>!!a),e2(a=>{if(S5(a))return fx(r,i,o)?Jt([]):Jt(null);throw a}))}processSegmentAgainstRoute(n,e,r,i,o){if(e.redirectTo||!ux(e,r,i,o))return Jt(null);let a;if("**"===e.path){const l=i.length>0?Hw(i).parameters:{},f=vx(r)+i.length;a=Jt({snapshot:new Hf(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_x(e),c1(e),e.component??e._loadedComponent??null,e,gx(r),f,yx(e)),consumedSegments:[],remainingSegments:[]})}else a=lx(r,e,i,n).pipe(re(({matched:l,consumedSegments:f,remainingSegments:d,parameters:m})=>{if(!l)return null;const _=vx(r)+f.length;return{snapshot:new Hf(f,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_x(e),c1(e),e.component??e._loadedComponent??null,e,gx(r),_,yx(e)),consumedSegments:f,remainingSegments:d}}));return a.pipe(J1(l=>{if(null===l)return Jt(null);const{snapshot:f,consumedSegments:d,remainingSegments:m}=l;n=e._injector??n;const _=e._loadedInjector??n,C=function rQ(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:S,slicedSegments:W}=If(r,d,m,C.filter(Ce=>void 0===Ce.redirectTo));if(0===W.length&&S.hasChildren())return this.processChildren(_,C,S).pipe(re(Ce=>null===Ce?null:[new L2(f,Ce)]));if(0===C.length&&0===W.length)return Jt([new L2(f,[])]);const Q=c1(e)===o;return this.processSegment(_,C,S,W,Q?Rn:o).pipe(re(Ce=>null===Ce?null:[new L2(f,Ce)]))}))}}function iQ(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function mx(t){const n=[],e=new Set;for(const r of t){if(!iQ(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):n.push(r)}for(const r of e){const i=mx(r.children);n.push(new L2(r.value,i))}return n.filter(r=>!e.has(r))}function gx(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function vx(t){let n=t,e=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift??0;return e-1}function _x(t){return t.data||{}}function yx(t){return t.resolve||{}}function Cx(t){return"string"==typeof t.title||null===t.title}function P5(t){return J1(n=>{const e=t(n);return e?tn(e).pipe(re(()=>n)):Jt(n)})}const s3=new wt("ROUTES");let z5=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Cn(nb)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Jt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=ec(e.loadComponent()).pipe(re(Mx),Ko(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),bf(()=>{this.componentLoaders.delete(e)})),i=new Ew(r,()=>new me).pipe(s5());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Jt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(re(l=>{this.onLoadEndListener&&this.onLoadEndListener(r);let f,d,m=!1;Array.isArray(l)?d=l:(f=l.create(e).injector,d=zw(f.get(s3,[],cn.Self|cn.Optional)));return{routes:d.map(E5),injector:f}}),bf(()=>{this.childrenLoaders.delete(r)})),a=new Ew(o,()=>new me).pipe(s5());return this.childrenLoaders.set(r,a),a}loadModuleFactoryOrRoutes(e){return ec(e()).pipe(re(Mx),zn(r=>r instanceof pC||Array.isArray(r)?Jt(r):tn(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Mx(t){return function hQ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Ff=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new me,this.configLoader=Cn(z5),this.environmentInjector=Cn(G1),this.urlSerializer=Cn(D4),this.rootContexts=Cn(T4),this.navigationId=0,this.afterPreactivation=()=>Jt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new JX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new QX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new a1({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:A4,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qs(r=>0!==r.id),re(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),J1(r=>{let i=!1,o=!1;return Jt(r).pipe(Ko(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),J1(a=>{const l=e.browserUrlTree.toString(),f=!e.navigated||a.extractedUrl.toString()!==l||l!==e.currentUrlTree.toString();if(!f&&"reload"!==(a.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const m="";return this.events.next(new zf(a.id,e.serializeUrl(r.rawUrl),m,0)),e.rawUrlTree=a.rawUrl,a.resolve(null),yi}if(e.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return wx(a.source)&&(e.browserUrlTree=a.extractedUrl),Jt(a).pipe(J1(m=>{const _=this.transitions?.getValue();return this.events.next(new p5(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?yi:Promise.resolve(m)}),function KK(t,n,e,r){return J1(i=>function ZK(t,n,e,r,i){return new XK(t,n,e,r,i).apply()}(t,n,e,i.extractedUrl,r).pipe(re(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),Ko(m=>{this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects},r.urlAfterRedirects=m.urlAfterRedirects}),function sQ(t,n,e,r,i){return zn(o=>function eQ(t,n,e,r,i,o,a="emptyOnly"){return new tQ(t,n,e,r,i,a,o).recognize().pipe(J1(l=>null===l?function JK(t){return new ye(n=>n.error(t))}(new QK):Jt(l)))}(t,n,e,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(re(a=>({...o,targetSnapshot:a}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Ko(m=>{if(r.targetSnapshot=m.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!m.extras.skipLocationChange){const C=e.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);e.setBrowserUrl(C,m)}e.browserUrlTree=m.urlAfterRedirects}const _=new WX(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(f&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:m,extractedUrl:_,source:C,restoredState:S,extras:W}=a,Q=new p5(m,this.urlSerializer.serialize(_),C,S);this.events.next(Q);const Ce=Kw(_,this.rootComponentType).snapshot;return Jt(r={...a,targetSnapshot:Ce,urlAfterRedirects:_,extras:{...W,skipLocationChange:!1,replaceUrl:!1}})}{const m="";return this.events.next(new zf(a.id,e.serializeUrl(r.extractedUrl),m,1)),e.rawUrlTree=a.rawUrl,a.resolve(null),yi}}),Ko(a=>{const l=new YX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),re(a=>r={...a,guards:MK(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function VK(t,n){return zn(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return 0===a.length&&0===o.length?Jt({...e,guardsResult:!0}):function TK(t,n,e,r){return tn(t).pipe(zn(i=>function FK(t,n,e,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?Jt(o.map(l=>{const f=I4(n)??i,d=r3(l,f);return ec(function zK(t){return t&&O4(t.canDeactivate)}(d)?d.canDeactivate(t,n,e,r):f.runInContext(()=>d(t,n,e,r))).pipe(Q2())})).pipe(o3()):Jt(!0)}(i.component,i.route,e,n,r)),Q2(i=>!0!==i,!0))}(a,r,i,t).pipe(zn(l=>l&&function SK(t){return"boolean"==typeof t}(l)?function IK(t,n,e,r){return tn(n).pipe(J2(i=>lf(function kK(t,n){return null!==t&&n&&n(new eK(t)),Jt(!0)}(i.route.parent,r),function NK(t,n){return null!==t&&n&&n(new nK(t)),Jt(!0)}(i.route,r),function RK(t,n,e){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(a=>function wK(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(a)).filter(a=>null!==a).map(a=>yf(()=>Jt(a.guards.map(f=>{const d=I4(a.node)??e,m=r3(f,d);return ec(function PK(t){return t&&O4(t.canActivateChild)}(m)?m.canActivateChild(r,t):d.runInContext(()=>m(r,t))).pipe(Q2())})).pipe(o3())));return Jt(o).pipe(o3())}(t,i.path,e),function OK(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Jt(!0);const i=r.map(o=>yf(()=>{const a=I4(n)??e,l=r3(o,a);return ec(function DK(t){return t&&O4(t.canActivate)}(l)?l.canActivate(n,t):a.runInContext(()=>l(n,t))).pipe(Q2())}));return Jt(i).pipe(o3())}(t,i.route,e))),Q2(i=>!0!==i,!0))}(r,o,t,n):Jt(l)),re(l=>({...e,guardsResult:l})))})}(this.environmentInjector,a=>this.events.next(a)),Ko(a=>{if(r.guardsResult=a.guardsResult,Fc(a.guardsResult))throw tx(0,a.guardsResult);const l=new ZX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(l)}),Qs(a=>!!a.guardsResult||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),P5(a=>{if(a.guards.canActivateChecks.length)return Jt(a).pipe(Ko(l=>{const f=new XX(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),J1(l=>{let f=!1;return Jt(l).pipe(function aQ(t,n){return zn(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Jt(e);let o=0;return tn(i).pipe(J2(a=>function cQ(t,n,e,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!Cx(i)&&(o[S4]=i.title),function lQ(t,n,e,r){const i=function uQ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Jt({});const o={};return tn(i).pipe(zn(a=>function fQ(t,n,e,r){const i=I4(n)??r,o=r3(t,i);return ec(o.resolve?o.resolve(n,e):i.runInContext(()=>o(n,e)))}(t[a],n,e,r).pipe(Q2(),Ko(l=>{o[a]=l}))),a5(1),function bX(t){return re(()=>t)}(o),e2(a=>S5(a)?yi:Xl(a)))}(o,t,n,r).pipe(re(a=>(t._resolvedData=a,t.data=Qw(t,e).resolve,i&&Cx(i)&&(t.data[S4]=i.title),null)))}(a.route,r,t,n)),Ko(()=>o++),a5(1),zn(a=>o===i.length?Jt(e):yi))})}(e.paramsInheritanceStrategy,this.environmentInjector),Ko({next:()=>f=!0,complete:()=>{f||(e.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),Ko(l=>{const f=new KX(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),P5(a=>{const l=f=>{const d=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(f.routeConfig).pipe(Ko(m=>{f.component=m}),re(()=>{})));for(const m of f.children)d.push(...l(m));return d};return Zp(l(a.targetSnapshot.root)).pipe(Cf(),Ks(1))}),P5(()=>this.afterPreactivation()),re(a=>{const l=function fK(t,n,e){const r=V4(t,n._root,e?e._root:void 0);return new Xw(r,n)}(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r={...a,targetRouterState:l}}),Ko(a=>{e.currentUrlTree=a.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),e.routerState=a.targetRouterState,"deferred"===e.urlUpdateStrategy&&(a.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,a),e.browserUrlTree=a.urlAfterRedirects)}),((t,n,e)=>re(r=>(new bK(n,r.targetRouterState,r.currentRouterState,e).activate(t),r)))(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a)),Ks(1),Ko({next:a=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Bc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{i=!0}}),bf(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),e2(a=>{if(o=!0,ix(a)){rx(a)||(e.navigated=!0,e.restoreHistory(r,!0));const l=new Pf(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode);if(this.events.next(l),rx(a)){const f=e.urlHandlingStrategy.merge(a.url,e.rawUrlTree),d={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||wx(r.source)};e.scheduleNavigation(f,A4,null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const l=new m5(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);this.events.next(l);try{r.resolve(e.errorHandler(a))}catch(f){r.reject(f)}}return yi}))}))}cancelNavigationTransition(e,r,i){const o=new Pf(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function wx(t){return t!==A4}let xx=(()=>{class t{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Rn);return r}getResolvedTitleForRoute(e){return e.data[S4]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:function(){return Cn(dQ)},providedIn:"root"}),t})(),dQ=(()=>{class t extends xx{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(e){return new(e||t)(nt(LM))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pQ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:function(){return Cn(gQ)},providedIn:"root"}),t})();class mQ{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let gQ=(()=>{class t extends mQ{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=hs(t)))(r||t)}}(),t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Bf=new wt("",{providedIn:"root",factory:()=>({})});let _Q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:function(){return Cn(yQ)},providedIn:"root"}),t})(),yQ=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function CQ(t){throw t}function bQ(t,n,e){return n.parse("/")}const MQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ea=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Cn(yq),this.isNgZoneEnabled=!1,this.options=Cn(Bf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||CQ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||bQ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Cn(_Q),this.routeReuseStrategy=Cn(pQ),this.urlCreationStrategy=Cn(cK),this.titleStrategy=Cn(xx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=zw(Cn(s3,{optional:!0})??[]),this.navigationTransitions=Cn(Ff),this.urlSerializer=Cn(D4),this.location=Cn(l4),this.isNgZoneEnabled=Cn(kn)instanceof kn&&kn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new tc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Kw(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),A4,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const f={...i};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(o.state=f)}const l=this.parseUrl(e);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(E5),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:f}=r,d=f?this.currentUrlTree.fragment:a;let m=null;switch(l){case"merge":m={...this.currentUrlTree.queryParams,...o};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}return null!==m&&(m=this.removeEmptyProps(m)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,e,m,d??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Fc(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,A4,null,r)}navigate(e,r={skipLocationChange:!1}){return function xQ(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new at(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...MQ}:!1===r?{...wQ}:r,Fc(e))return Vw(this.currentUrlTree,e,i);const o=this.parseUrl(e);return Vw(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(e,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let l,f,d,m;return a?(l=a.resolve,f=a.reject,d=a.promise):d=new Promise((_,C)=>{l=_,f=C}),m="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:m,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:l,reject:f,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(_=>Promise.reject(_))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const a={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",o)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Ex{}let LQ=(()=>{class t{constructor(e,r,i,o,a){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Qs(e=>e instanceof Bc),J2(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=D0(o.providers,e,`Route: ${o.path}`));const a=o._injector??e,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(l,o.children??o._loadedRoutes))}return tn(i).pipe(os())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Jt(null);const o=i.pipe(zn(a=>null===a?Jt(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));return r.loadComponent&&!r._loadedComponent?tn([o,this.loader.loadComponent(r)]).pipe(os()):o})}}return t.\u0275fac=function(e){return new(e||t)(nt(ea),nt(nb),nt(G1),nt(Ex),nt(z5))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const V5=new wt("");let Sx=(()=>{class t{constructor(e,r,i,o,a={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof p5?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Bc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Yw&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Yw(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(e){W3()},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})();var Ra=(()=>((Ra=Ra||{})[Ra.COMPLETE=0]="COMPLETE",Ra[Ra.FAILED=1]="FAILED",Ra[Ra.REDIRECTING=2]="REDIRECTING",Ra))();const a3=!1;function nc(t,n){return{\u0275kind:t,\u0275providers:n}}const T5=new wt("",{providedIn:"root",factory:()=>!1});function Dx(){const t=Cn(xs);return n=>{const e=t.get(jl);if(n!==e.components[0])return;const r=t.get(ea),i=t.get(Px);1===t.get(I5)&&r.initialNavigation(),t.get(zx,null,cn.Optional)?.setUpPreloading(),t.get(V5,null,cn.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Px=new wt(a3?"bootstrap done indicator":"",{factory:()=>new me}),I5=new wt(a3?"initial navigation":"",{providedIn:"root",factory:()=>1});function AQ(){let t=[];return t=a3?[{provide:c0,multi:!0,useFactory:()=>{const n=Cn(ea);return()=>n.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function iK(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],nc(1,t)}const zx=new wt(a3?"router preloader":"");function VQ(t){return nc(0,[{provide:zx,useExisting:LQ},{provide:Ex,useExisting:t}])}const F4=!1,Hx=new wt(F4?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),TQ=[l4,{provide:D4,useClass:c5},ea,T4,{provide:n3,useFactory:function Lx(t){return t.routerState.root},deps:[ea]},z5,F4?{provide:T5,useValue:!0}:[]];function IQ(){return new ub("Router",ea)}let NQ=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[TQ,F4&&r?.enableTracing?AQ().\u0275providers:[],{provide:s3,multi:!0,useValue:e},{provide:Hx,useFactory:FQ,deps:[[ea,new q2,new gl]]},{provide:Bf,useValue:r||{}},r?.useHash?{provide:Ic,useClass:s$}:{provide:Ic,useClass:Vb},{provide:V5,useFactory:()=>{const t=Cn(bW),n=Cn(kn),e=Cn(Bf),r=Cn(Ff),i=Cn(D4);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Sx(i,r,t,n,e)}},r?.preloadingStrategy?VQ(r.preloadingStrategy).\u0275providers:[],{provide:ub,multi:!0,useFactory:IQ},r?.initialNavigation?BQ(r):[],[{provide:Ax,useFactory:Dx},{provide:lb,multi:!0,useExisting:Ax}]]}}static forChild(e){return{ngModule:t,providers:[{provide:s3,multi:!0,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(nt(Hx,8))},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({imports:[w5]}),t})();function FQ(t){if(F4&&t)throw new at(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function BQ(t){return["disabled"===t.initialNavigation?nc(3,[{provide:A0,multi:!0,useFactory:()=>{const n=Cn(ea);return()=>{n.setUpLocationChangeListener()}}},{provide:I5,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?nc(2,[{provide:I5,useValue:0},{provide:A0,multi:!0,deps:[xs],useFactory:n=>{const e=n.get(i$,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=n.get(ea),o=n.get(Px);(function DQ(t,n){t.events.pipe(Qs(e=>e instanceof Bc||e instanceof Pf||e instanceof m5||e instanceof zf),re(e=>e instanceof Bc||e instanceof zf?Ra.COMPLETE:e instanceof Pf&&(0===e.code||1===e.code)?Ra.REDIRECTING:Ra.FAILED),Qs(e=>e!==Ra.REDIRECTING),Ks(1)).subscribe(()=>{n()})})(i,()=>{r(!0)}),n.get(Ff).afterPreactivation=()=>(r(!0),o.closed?Jt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const Ax=new wt(F4?"Router Initializer":"");let jQ=(()=>{class t{ngAfterViewInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ei({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&So(0,"router-outlet")},dependencies:[M5]}),t})();const Vx=g4({passive:!0});let GQ=(()=>{class t{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return yi;const r=E2(e),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new me,a="cdk-text-field-autofilled",l=f=>{"cdk-text-field-autofill-start"!==f.animationName||r.classList.contains(a)?"cdk-text-field-autofill-end"===f.animationName&&r.classList.contains(a)&&(r.classList.remove(a),this._ngZone.run(()=>o.next({target:f.target,isAutofilled:!1}))):(r.classList.add(a),this._ngZone.run(()=>o.next({target:f.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",l,Vx),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",l,Vx)}}),o}stopMonitoring(e){const r=E2(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return t.\u0275fac=function(e){return new(e||t)(nt(Rs),nt(kn))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Tx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({}),t})();function Ix(...t){const n=Kr(t),{args:e,keys:r}=OM(t),i=new ye(o=>{const{length:a}=e;if(!a)return void o.complete();const l=new Array(a);let f=a,d=a;for(let m=0;m<a;m++){let _=!1;To(e[m]).subscribe(Ke(o,C=>{_||(_=!0,d--),l[m]=C},()=>f--,void 0,()=>{(!f||!_)&&(d||o.next(r?RM(r,l):l),o.complete())}))}});return n?i.pipe(Yp(n)):i}let Nx=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(Xe(q1),Xe(ci))},t.\u0275dir=Ht({type:t}),t})(),Uc=(()=>{class t extends Nx{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=hs(t)))(r||t)}}(),t.\u0275dir=Ht({type:t,features:[jn]}),t})();const L1=new wt("NgValueAccessor"),$Q={provide:L1,useExisting:Hr(()=>c3),multi:!0},YQ=new wt("CompositionEventMode");let c3=(()=>{class t extends Nx{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function WQ(){const t=M2()?M2().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(Xe(q1),Xe(ci),Xe(YQ,8))},t.\u0275dir=Ht({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&Vn("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[li([$Q]),jn]}),t})();const ZQ=!1;function rc(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function Ox(t){return null!=t&&"number"==typeof t.length}const Ss=new wt("NgValidators"),ic=new wt("NgAsyncValidators"),XQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Uf{static min(n){return Rx(n)}static max(n){return Fx(n)}static required(n){return function Bx(t){return rc(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function Ux(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function jx(t){return rc(t.value)||XQ.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function Gx(t){return n=>rc(n.value)||!Ox(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function qx(t){return n=>Ox(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function $x(t){if(!t)return jf;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(rc(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return Qx(n)}static composeAsync(n){return Jx(n)}}function Rx(t){return n=>{if(rc(n.value)||rc(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function Fx(t){return n=>{if(rc(n.value)||rc(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function jf(t){return null}function Wx(t){return null!=t}function Yx(t){const n=Q3(t)?tn(t):t;if(ZQ&&!Cd(n)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new at(-1101,e)}return n}function Zx(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function Xx(t,n){return n.map(e=>e(t))}function Kx(t){return t.map(n=>function KQ(t){return!t.validate}(n)?n:e=>n.validate(e))}function Qx(t){if(!t)return null;const n=t.filter(Wx);return 0==n.length?null:function(e){return Zx(Xx(e,n))}}function N5(t){return null!=t?Qx(Kx(t)):null}function Jx(t){if(!t)return null;const n=t.filter(Wx);return 0==n.length?null:function(e){return Ix(Xx(e,n).map(Yx)).pipe(re(Zx))}}function k5(t){return null!=t?Jx(Kx(t)):null}function eE(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function tE(t){return t._rawValidators}function nE(t){return t._rawAsyncValidators}function O5(t){return t?Array.isArray(t)?t:[t]:[]}function Gf(t,n){return Array.isArray(t)?t.includes(n):t===n}function rE(t,n){const e=O5(n);return O5(t).forEach(i=>{Gf(e,i)||e.push(i)}),e}function iE(t,n){return O5(n).filter(e=>!Gf(t,e))}class oE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=N5(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=k5(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class ta extends oE{get formDirective(){return null}get path(){return null}}class D2 extends oE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sE{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qf=(()=>{class t extends sE{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(Xe(D2,2))},t.\u0275dir=Ht({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Os("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[jn]}),t})(),aE=(()=>{class t extends sE{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(Xe(ta,10))},t.\u0275dir=Ht({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Os("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[jn]}),t})();function cE(t,n){return t?`with name: '${n}'`:`at index: ${n}`}const B5=!1,B4="VALID",Wf="INVALID",l3="PENDING",U4="DISABLED";function U5(t){return(Yf(t)?t.validators:t)||null}function j5(t,n){return(Yf(n)?n.asyncValidators:t)||null}function Yf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class fE{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===B4}get invalid(){return this.status===Wf}get pending(){return this.status==l3}get disabled(){return this.status===U4}get enabled(){return this.status!==U4}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(rE(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(rE(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(iE(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(iE(n,this._rawAsyncValidators))}hasValidator(n){return Gf(this._rawValidators,n)}hasAsyncValidator(n){return Gf(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=l3,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=U4,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=B4,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===B4||this.status===l3)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?U4:B4}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=l3,this._hasOwnPendingAsyncValidator=!0;const e=Yx(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new jr,this.statusChanges=new jr}_calculateStatus(){return this._allControlsDisabled()?U4:this.errors?Wf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(l3)?l3:this._anyControlsHaveStatus(Wf)?Wf:B4}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Yf(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function iJ(t){return Array.isArray(t)?N5(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function oJ(t){return Array.isArray(t)?k5(t):t||null}(this._rawAsyncValidators)}}class Zf extends fE{constructor(n,e,r){super(U5(e),j5(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function uE(t,n,e){t._forEachChild((r,i)=>{if(void 0===e[i])throw new at(1002,B5?function rJ(t,n){return`Must supply a value for form control ${cE(t,n)}`}(n,i):"")})})(this,!0,n),Object.keys(n).forEach(r=>{(function lE(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new at(1e3,B5?function tJ(t){return`\n    There are no form controls registered with this ${t?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(n):"");if(!r[e])throw new at(1001,B5?function nJ(t,n){return`Cannot find form control ${cE(t,n)}`}(n,e):"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const sJ=Zf,jc=new wt("CallSetDisabledState",{providedIn:"root",factory:()=>j4}),j4="always";function Xf(t,n){return[...n.path,t]}function G4(t,n,e=j4){G5(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function lJ(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&hE(t,n)})}(t,n),function fJ(t,n){const e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function uJ(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&hE(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function cJ(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Kf(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Jf(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Qf(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function G5(t,n){const e=tE(t);null!==n.validator?t.setValidators(eE(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=nE(t);null!==n.asyncValidator?t.setAsyncValidators(eE(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Qf(n._rawValidators,i),Qf(n._rawAsyncValidators,i)}function Jf(t,n){let e=!1;if(null!==t){if(null!==n.validator){const i=tE(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(a=>a!==n.validator);o.length!==i.length&&(e=!0,t.setValidators(o))}}if(null!==n.asyncValidator){const i=nE(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(a=>a!==n.asyncValidator);o.length!==i.length&&(e=!0,t.setAsyncValidators(o))}}}const r=()=>{};return Qf(n._rawValidators,r),Qf(n._rawAsyncValidators,r),e}function hE(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function dE(t,n){G5(t,n)}function $5(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function pE(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function W5(t,n){if(!n)return null;let e,r,i;return Array.isArray(n),n.forEach(o=>{o.constructor===c3?e=o:function pJ(t){return Object.getPrototypeOf(t.constructor)===Uc}(o)?r=o:i=o}),i||r||e||null}const gJ={provide:ta,useExisting:Hr(()=>e6)},q4=(()=>Promise.resolve())();let e6=(()=>{class t extends ta{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new jr,this.form=new Zf({},N5(e),k5(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){q4.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),G4(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){q4.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){q4.then(()=>{const r=this._findContainer(e.path),i=new Zf({});dE(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){q4.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){q4.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,pE(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(Xe(Ss,10),Xe(ic,10),Xe(jc,8))},t.\u0275dir=Ht({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&Vn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[li([gJ]),jn]}),t})();function mE(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function gE(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Y5=class extends fE{constructor(n=null,e,r){super(U5(e),j5(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yf(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=gE(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){mE(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){mE(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){gE(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},vJ=Y5,CJ={provide:D2,useExisting:Hr(()=>t6)},yE=(()=>Promise.resolve())();let t6=(()=>{class t extends D2{constructor(e,r,i,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Y5,this._registered=!1,this.update=new jr,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=W5(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),$5(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){G4(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){yE.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&function Gl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);yE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Xf(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(Xe(ta,9),Xe(Ss,10),Xe(ic,10),Xe(L1,10),Xe(b2,8),Xe(jc,8))},t.\u0275dir=Ht({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[li([CJ]),jn,Nt]}),t})(),CE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ht({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const bJ={provide:L1,useExisting:Hr(()=>n6),multi:!0};let n6=(()=>{class t extends Uc{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=hs(t)))(r||t)}}(),t.\u0275dir=Ht({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&Vn("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[li([bJ]),jn]}),t})(),bE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({}),t})();const Z5=new wt("NgModelWithFormControlWarning"),SJ={provide:ta,useExisting:Hr(()=>$4)};let $4=(()=>{class t extends ta{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new jr,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return G4(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Kf(e.control||null,e,!1),function mJ(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,pE(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(Kf(r||null,e),(t=>t instanceof Y5)(i)&&(G4(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);dE(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function hJ(t,n){return Jf(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){G5(this.form,this),this._oldForm&&Jf(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(Xe(Ss,10),Xe(ic,10),Xe(jc,8))},t.\u0275dir=Ht({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&Vn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[li([SJ]),jn,Nt]}),t})();const PJ={provide:D2,useExisting:Hr(()=>Q5)};let Q5=(()=>{class t extends D2{set isDisabled(e){}constructor(e,r,i,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new jr,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=W5(0,o)}ngOnChanges(e){this._added||this._setUpControl(),$5(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Xf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(Xe(ta,13),Xe(Ss,10),Xe(ic,10),Xe(L1,10),Xe(Z5,8))},t.\u0275dir=Ht({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[li([PJ]),jn,Nt]}),t})();function PE(t){return"number"==typeof t?t:parseFloat(t)}let Gc=(()=>{class t{constructor(){this._validator=jf}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):jf,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ht({type:t,features:[Nt]}),t})();const NJ={provide:Ss,useExisting:Hr(()=>t7),multi:!0};let t7=(()=>{class t extends Gc{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>PE(e),this.createValidator=e=>Fx(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=hs(t)))(r||t)}}(),t.\u0275dir=Ht({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&mo("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[li([NJ]),jn]}),t})();const kJ={provide:Ss,useExisting:Hr(()=>n7),multi:!0};let n7=(()=>{class t extends Gc{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>PE(e),this.createValidator=e=>Rx(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=hs(t)))(r||t)}}(),t.\u0275dir=Ht({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&mo("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[li([kJ]),jn]}),t})(),TE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({imports:[bE]}),t})(),qJ=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:jc,useValue:e.callSetDisabledState??j4}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({imports:[TE]}),t})(),$J=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Z5,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:jc,useValue:e.callSetDisabledState??j4}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({imports:[TE]}),t})();const WJ=new wt("MAT_INPUT_VALUE_ACCESSOR"),YJ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ZJ=0;const XJ=EZ(class{constructor(t,n,e,r){this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new me}});let IE=(()=>{class t extends XJ{constructor(e,r,i,o,a,l,f,d,m,_){super(l,o,a,i),this._elementRef=e,this._platform=r,this._autofillMonitor=d,this._formField=_,this._uid="mat-input-"+ZJ++,this.focused=!1,this.stateChanges=new me,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(W=>AM().has(W)),this._iOSKeyupListener=W=>{const Q=W.target;!Q.value&&0===Q.selectionStart&&0===Q.selectionEnd&&(Q.setSelectionRange(1,1),Q.setSelectionRange(0,0))};const C=this._elementRef.nativeElement,S=C.nodeName.toLowerCase();this._inputValueAccessor=f||C,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&m.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===S,this._isTextarea="textarea"===S,this._isInFormField=!!_,this._isNativeSelect&&(this.controlType=C.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Oa(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Uf.required)??!1}set required(e){this._required=Oa(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&AM().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Oa(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,r=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(r!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=r,r?i.setAttribute("placeholder",r):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){YJ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return t.\u0275fac=function(e){return new(e||t)(Xe(ci),Xe(Rs),Xe(D2,10),Xe(e6,8),Xe($4,8),Xe(sw),Xe(WJ,10),Xe(GQ),Xe(kn),Xe(ww,8))},t.\u0275dir=Ht({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,r){1&e&&Vn("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(Nl("disabled",r.disabled)("required",r.required),mo("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),Os("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[li([{provide:r5,useExisting:t}]),jn,Nt]}),t})(),KJ=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({providers:[sw],imports:[Tx,o5,Js,Tx,o5]}),t})();function NE(t){return new at(3e3,!1)}function Aee(){return typeof window<"u"&&typeof window.document<"u"}function o7(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function oc(t){switch(t.length){case 0:return new E4;case 1:return t[0];default:return new _w(t)}}function kE(t,n,e,r,i=new Map,o=new Map){const a=[],l=[];let f=-1,d=null;if(r.forEach(m=>{const _=m.get("offset"),C=_==f,S=C&&d||new Map;m.forEach((W,Q)=>{let Ce=Q,ge=W;if("offset"!==Q)switch(Ce=n.normalizePropertyName(Ce,a),ge){case n5:ge=i.get(Q);break;case S2:ge=o.get(Q);break;default:ge=n.normalizeStyleValue(Q,Ce,ge,a)}S.set(Ce,ge)}),C||l.push(S),d=S,f=_}),a.length)throw function Cee(t){return new at(3502,!1)}();return l}function s7(t,n,e,r){switch(n){case"start":t.onStart(()=>r(e&&a7(e,"start",t)));break;case"done":t.onDone(()=>r(e&&a7(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&a7(e,"destroy",t)))}}function a7(t,n,e){const o=c7(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),a=t._data;return null!=a&&(o._data=a),o}function c7(t,n,e,r,i="",o=0,a){return{element:t,triggerName:n,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Fa(t,n,e){let r=t.get(n);return r||t.set(n,r=e),r}function OE(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}let l7=(t,n)=>!1,RE=(t,n,e)=>[],FE=null;function u7(t){const n=t.parentNode||t.host;return n===FE?null:n}(o7()||typeof Element<"u")&&(Aee()?(FE=(()=>document.documentElement)(),l7=(t,n)=>{for(;n;){if(n===t)return!0;n=u7(n)}return!1}):l7=(t,n)=>t.contains(n),RE=(t,n,e)=>{if(e)return Array.from(t.querySelectorAll(n));const r=t.querySelector(n);return r?[r]:[]});let qc=null,BE=!1;const UE=l7,jE=RE;let GE=(()=>{class t{validateStyleProperty(e){return function Tee(t){qc||(qc=function Iee(){return typeof document<"u"?document.body:null}()||{},BE=!!qc.style&&"WebkitAppearance"in qc.style);let n=!0;return qc.style&&!function Vee(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in qc.style,!n&&BE&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in qc.style)),n}(e)}matchesElement(e,r){return!1}containsElement(e,r){return UE(e,r)}getParentElement(e){return u7(e)}query(e,r,i){return jE(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,a,l=[],f){return new E4(i,o)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})(),f7=(()=>{class t{}return t.NOOP=new GE,t})();const Nee=1e3,h7="ng-enter",r6="ng-leave",i6="ng-trigger",o6=".ng-trigger",$E="ng-animating",d7=".ng-animating";function P2(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:p7(parseFloat(n[1]),n[2])}function p7(t,n){return"s"===n?t*Nee:t}function s6(t,n,e){return t.hasOwnProperty("duration")?t:function Oee(t,n,e){let i,o=0,a="";if("string"==typeof t){const l=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return n.push(NE()),{duration:0,delay:0,easing:""};i=p7(parseFloat(l[1]),l[2]);const f=l[3];null!=f&&(o=p7(parseFloat(f),l[4]));const d=l[5];d&&(a=d)}else i=t;if(!e){let l=!1,f=n.length;i<0&&(n.push(function QJ(){return new at(3100,!1)}()),l=!0),o<0&&(n.push(function JJ(){return new at(3101,!1)}()),l=!0),l&&n.splice(f,0,NE())}return{duration:i,delay:o,easing:a}}(t,n,e)}function W4(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function WE(t){const n=new Map;return Object.keys(t).forEach(e=>{n.set(e,t[e])}),n}function sc(t,n=new Map,e){if(e)for(let[r,i]of e)n.set(r,i);for(let[r,i]of t)n.set(r,i);return n}function ZE(t,n,e){return e?n+":"+e+";":""}function XE(t){let n="";for(let e=0;e<t.style.length;e++){const r=t.style.item(e);n+=ZE(0,r,t.style.getPropertyValue(r))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=ZE(0,Uee(e),t.style[e]));t.setAttribute("style",n)}function r2(t,n,e){t.style&&(n.forEach((r,i)=>{const o=g7(i);e&&!e.has(i)&&e.set(i,t.style[o]),t.style[o]=r}),o7()&&XE(t))}function $c(t,n){t.style&&(n.forEach((e,r)=>{const i=g7(r);t.style[i]=""}),o7()&&XE(t))}function Y4(t){return Array.isArray(t)?1==t.length?t[0]:pw(t):t}const m7=new RegExp("{{\\s*(.+?)\\s*}}","g");function KE(t){let n=[];if("string"==typeof t){let e;for(;e=m7.exec(t);)n.push(e[1]);m7.lastIndex=0}return n}function Z4(t,n,e){const r=t.toString(),i=r.replace(m7,(o,a)=>{let l=n[a];return null==l&&(e.push(function tee(t){return new at(3003,!1)}()),l=""),l.toString()});return i==r?t:i}function a6(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const Bee=/-+([a-z0-9])/g;function g7(t){return t.replace(Bee,(...n)=>n[1].toUpperCase())}function Uee(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ba(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function nee(t){return new at(3004,!1)}()}}function QE(t,n){return window.getComputedStyle(t)[n]}const u6="*";function Yee(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function Zee(t,n,e){if(":"==t[0]){const f=function Xee(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(function gee(t){return new at(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof f)return void n.push(f);t=f}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function mee(t){return new at(3015,!1)}()),n;const i=r[1],o=r[2],a=r[3];n.push(JE(i,a));"<"==o[0]&&!(i==u6&&a==u6)&&n.push(JE(a,i))}(r,e,n)):e.push(t),e}const f6=new Set(["true","1"]),h6=new Set(["false","0"]);function JE(t,n){const e=f6.has(t)||h6.has(t),r=f6.has(n)||h6.has(n);return(i,o)=>{let a=t==u6||t==i,l=n==u6||n==o;return!a&&e&&"boolean"==typeof i&&(a=i?f6.has(t):h6.has(t)),!l&&r&&"boolean"==typeof o&&(l=o?f6.has(n):h6.has(n)),a&&l}}const Kee=new RegExp("s*:selfs*,?","g");function v7(t,n,e,r){return new Qee(t).build(n,e,r)}class Qee{constructor(n){this._driver=n}build(n,e,r){const i=new tte(e);return this._resetContextStyleTimingState(i),Ba(this,Y4(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],a=[];return"@"==n.name.charAt(0)&&e.errors.push(function iee(){return new at(3006,!1)}()),n.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),0==l.type){const f=l,d=f.name;d.toString().split(/\s*,\s*/).forEach(m=>{f.name=m,o.push(this.visitState(f,e))}),f.name=d}else if(1==l.type){const f=this.visitTransition(l,e);r+=f.queryCount,i+=f.depCount,a.push(f)}else e.errors.push(function oee(){return new at(3007,!1)}())}),{type:7,name:n.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const o=new Set,a=i||{};r.styles.forEach(l=>{l instanceof Map&&l.forEach(f=>{KE(f).forEach(d=>{a.hasOwnProperty(d)||o.add(d)})})}),o.size&&(a6(o.values()),e.errors.push(function see(t,n){return new at(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=Ba(this,Y4(n.animation),e);return{type:1,matchers:Yee(n.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Wc(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(r=>Ba(this,r,e)),options:Wc(n.options)}}visitGroup(n,e){const r=e.currentTime;let i=0;const o=n.steps.map(a=>{e.currentTime=r;const l=Ba(this,a,e);return i=Math.max(i,e.currentTime),l});return e.currentTime=i,{type:3,steps:o,options:Wc(n.options)}}visitAnimate(n,e){const r=function rte(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return _7(s6(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=_7(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=s6(e,n);return _7(i.duration,i.delay,i.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let i,o=n.styles?n.styles:ba({});if(5==o.type)i=this.visitKeyframes(o,e);else{let a=n.styles,l=!1;if(!a){l=!0;const d={};r.easing&&(d.easing=r.easing),a=ba(d)}e.currentTime+=r.duration+r.delay;const f=this.visitStyle(a,e);f.isEmptyStep=l,i=f}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let l of i)"string"==typeof l?l===S2?r.push(l):e.errors.push(new at(3002,!1)):r.push(WE(l));let o=!1,a=null;return r.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!o))for(let f of l.values())if(f.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:a,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),n.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,f)=>{const d=e.collectedStyles.get(e.currentQuerySelector),m=d.get(f);let _=!0;m&&(o!=i&&o>=m.startTime&&i<=m.endTime&&(e.errors.push(function cee(t,n,e,r,i){return new at(3010,!1)}()),_=!1),o=m.startTime),_&&d.set(f,{startTime:o,endTime:i}),e.options&&function Fee(t,n,e){const r=n.params||{},i=KE(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function eee(t){return new at(3001,!1)}())})}(l,e.options,e.errors)})})}visitKeyframes(n,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function lee(){return new at(3011,!1)}()),r;let o=0;const a=[];let l=!1,f=!1,d=0;const m=n.steps.map(ge=>{const ue=this._makeStyleAst(ge,e);let pe=null!=ue.offset?ue.offset:function nte(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(ue.styles),Te=0;return null!=pe&&(o++,Te=ue.offset=pe),f=f||Te<0||Te>1,l=l||Te<d,d=Te,a.push(Te),ue});f&&e.errors.push(function uee(){return new at(3012,!1)}()),l&&e.errors.push(function fee(){return new at(3200,!1)}());const _=n.steps.length;let C=0;o>0&&o<_?e.errors.push(function hee(){return new at(3202,!1)}()):0==o&&(C=1/(_-1));const S=_-1,W=e.currentTime,Q=e.currentAnimateTimings,Ce=Q.duration;return m.forEach((ge,ue)=>{const pe=C>0?ue==S?1:C*ue:a[ue],Te=pe*Ce;e.currentTime=W+Q.delay+Te,Q.duration=Te,this._validateStyleAst(ge,e),ge.offset=pe,r.styles.push(ge)}),r}visitReference(n,e){return{type:8,animation:Ba(this,Y4(n.animation),e),options:Wc(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:Wc(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:Wc(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,i=n.options||{};e.queryCount++,e.currentQuery=n;const[o,a]=function Jee(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(Kee,"")),t=t.replace(/@\*/g,o6).replace(/@\w+/g,e=>o6+"-"+e.slice(1)).replace(/:animating/g,d7),[t,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+o:o,Fa(e.collectedStyles,e.currentQuerySelector,new Map);const l=Ba(this,Y4(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:l,originalSelector:n.selector,options:Wc(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function dee(){return new at(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:s6(n.timings,e.errors,!0);return{type:12,animation:Ba(this,Y4(n.animation),e),timings:r,options:null}}}class tte{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wc(t){return t?(t=W4(t)).params&&(t.params=function ete(t){return t?W4(t):null}(t.params)):t={},t}function _7(t,n,e){return{duration:t,delay:n,easing:e}}function y7(t,n,e,r,i,o,a=null,l=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:l}}class d6{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const ste=new RegExp(":enter","g"),cte=new RegExp(":leave","g");function C7(t,n,e,r,i,o=new Map,a=new Map,l,f,d=[]){return(new lte).buildKeyframes(t,n,e,r,i,o,a,l,f,d)}class lte{buildKeyframes(n,e,r,i,o,a,l,f,d,m=[]){d=d||new d6;const _=new b7(n,e,d,i,o,m,[]);_.options=f;const C=f.delay?P2(f.delay):0;_.currentTimeline.delayNextStep(C),_.currentTimeline.setStyles([a],null,_.errors,f),Ba(this,r,_);const S=_.timelines.filter(W=>W.containsAnimation());if(S.length&&l.size){let W;for(let Q=S.length-1;Q>=0;Q--){const Ce=S[Q];if(Ce.element===e){W=Ce;break}}W&&!W.allowOnlyTimelineStyles()&&W.setStyles([l],null,_.errors,f)}return S.length?S.map(W=>W.buildKeyframes()):[y7(e,[],[],[],0,C,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(n.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(r,i,i.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,r),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,r){for(const i of n){const o=i?.delay;if(o){const a="number"==typeof o?o:P2(Z4(o,i?.params??{},e.errors));r.delayNextStep(a)}}}_visitSubInstructions(n,e,r){let o=e.currentTimeline.currentTime;const a=null!=r.duration?P2(r.duration):null,l=null!=r.delay?P2(r.delay):null;return 0!==a&&n.forEach(f=>{const d=e.appendInstructionToTimeline(f,a,l);o=Math.max(o,d.duration+d.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),Ba(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let i=e;const o=n.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=p6);const a=P2(o.delay);i.delayNextStep(a)}n.steps.length&&(n.steps.forEach(a=>Ba(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let i=e.currentTimeline.currentTime;const o=n.options&&n.options.delay?P2(n.options.delay):0;n.steps.forEach(a=>{const l=e.createSubContext(n.options);o&&l.delayNextStep(o),Ba(this,a,l),i=Math.max(i,l.currentTimeline.currentTime),r.push(l.currentTimeline)}),r.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(i),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return s6(e.params?Z4(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=n.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(o):r.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,l=e.createSubContext().currentTimeline;l.easing=r.easing,n.styles.forEach(f=>{l.forwardTime((f.offset||0)*o),l.setStyles(f.styles,f.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(i+o),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,i=n.options||{},o=i.delay?P2(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=p6);let a=r;const l=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=l.length;let f=null;l.forEach((d,m)=>{e.currentQueryIndex=m;const _=e.createSubContext(n.options,d);o&&_.delayNextStep(o),d===e.element&&(f=_.currentTimeline),Ba(this,n.animation,_),_.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,_.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,i=e.currentTimeline,o=n.timings,a=Math.abs(o.duration),l=a*(e.currentQueryTotal-1);let f=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":f=l-f;break;case"full":f=r.currentStaggerTime}const m=e.currentTimeline;f&&m.delayNextStep(f);const _=m.currentTime;Ba(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=i.currentTime-_+(i.startTime-r.currentTimeline.startTime)}}const p6={};class b7{constructor(n,e,r,i,o,a,l,f){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=p6,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new m6(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=P2(r.duration)),null!=r.delay&&(i.delay=P2(r.delay));const o=r.params;if(o){let a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(l=>{(!e||!a.hasOwnProperty(l))&&(a[l]=Z4(o[l],a,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return n}createSubContext(n=null,e,r){const i=e||this.element,o=new b7(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=p6,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const i={duration:e??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},o=new ute(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,i,o,a){let l=[];if(i&&l.push(this.element),n.length>0){n=(n=n.replace(ste,"."+this._enterClassName)).replace(cte,"."+this._leaveClassName);let d=this._driver.query(this.element,n,1!=r);0!==r&&(d=r<0?d.slice(d.length+r,d.length):d.slice(0,r)),l.push(...d)}return!o&&0==l.length&&a.push(function pee(t){return new at(3014,!1)}()),l}}class m6{constructor(n,e,r,i){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new m6(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||S2),this._currentKeyframe.set(e,S2);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},a=function fte(t,n){const e=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||n.keys();for(let o of r)e.set(o,S2)}else sc(i,e)}),e}(n,this._globalTimelineStyles);for(let[l,f]of a){const d=Z4(f,o,r);this._pendingStyles.set(l,d),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??S2),this._updateStyle(l,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((l,f)=>{const d=sc(l,new Map,this._backFill);d.forEach((m,_)=>{m===n5?n.add(_):m===S2&&e.add(_)}),r||d.set("offset",f/this.duration),i.push(d)});const o=n.size?a6(n.values()):[],a=e.size?a6(e.values()):[];if(r){const l=i[0],f=new Map(l);l.set("offset",0),f.set("offset",1),i=[l,f]}return y7(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}class ute extends m6{constructor(n,e,r,i,o,a,l=!1){super(n,e,a.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],a=r+e,l=e/a,f=sc(n[0]);f.set("offset",0),o.push(f);const d=sc(n[0]);d.set("offset",nS(l)),o.push(d);const m=n.length-1;for(let _=1;_<=m;_++){let C=sc(n[_]);const S=C.get("offset");C.set("offset",nS((e+S*r)/a)),o.push(C)}r=a,e=0,i="",n=o}return y7(this.element,n,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function nS(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class M7{}const hte=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class dte extends M7{normalizePropertyName(n,e){return g7(n)}normalizeStyleValue(n,e,r,i){let o="";const a=r.toString().trim();if(hte.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const l=r.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&i.push(function ree(t,n){return new at(3005,!1)}())}return a+o}}function rS(t,n,e,r,i,o,a,l,f,d,m,_,C){return{type:0,element:t,triggerName:n,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:a,timelines:l,queriedElements:f,preStyleProps:d,postStyleProps:m,totalTime:_,errors:C}}const w7={};class iS{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,i){return function pte(t,n,e,r,i){return t.some(o=>o(n,e,r,i))}(this.ast.matchers,n,e,r,i)}buildStyles(n,e,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(e,r):new Map}build(n,e,r,i,o,a,l,f,d,m){const _=[],C=this.ast.options&&this.ast.options.params||w7,W=this.buildStyles(r,l&&l.params||w7,_),Q=f&&f.params||w7,Ce=this.buildStyles(i,Q,_),ge=new Set,ue=new Map,pe=new Map,Te="void"===i,Oe={params:mte(Q,C),delay:this.ast.options?.delay},We=m?[]:C7(n,e,this.ast.animation,o,a,W,Ce,Oe,d,_);let Ze=0;if(We.forEach(ke=>{Ze=Math.max(ke.duration+ke.delay,Ze)}),_.length)return rS(e,this._triggerName,r,i,Te,W,Ce,[],[],ue,pe,Ze,_);We.forEach(ke=>{const Bt=ke.element,Dt=Fa(ue,Bt,new Set);ke.preStyleProps.forEach(dn=>Dt.add(dn));const ln=Fa(pe,Bt,new Set);ke.postStyleProps.forEach(dn=>ln.add(dn)),Bt!==e&&ge.add(Bt)});const et=a6(ge.values());return rS(e,this._triggerName,r,i,Te,W,Ce,We,et,ue,pe,Ze)}}function mte(t,n){const e=W4(n);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(e[r]=t[r]);return e}class gte{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r=new Map,i=W4(this.defaultParams);return Object.keys(n).forEach(o=>{const a=n[o];null!==a&&(i[o]=a)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{a&&(a=Z4(a,i,e));const f=this.normalizer.normalizePropertyName(l,e);a=this.normalizer.normalizeStyleValue(l,f,a,e),r.set(l,a)})}),r}}class _te{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new gte(i.style,i.options&&i.options.params||{},r))}),oS(this.states,"true","1"),oS(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new iS(n,i,this.states))}),this.fallbackTransition=function yte(t,n,e){return new iS(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,i){return this.transitionFactories.find(a=>a.match(n,e,r,i))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function oS(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const Cte=new d6;class bte{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const r=[],i=[],o=v7(this._driver,e,r,i);if(r.length)throw function bee(t){return new at(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,e,r){const i=n.element,o=kE(0,this._normalizer,0,n.keyframes,e,r);return this._driver.animate(i,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const i=[],o=this._animations.get(n);let a;const l=new Map;if(o?(a=C7(this._driver,e,o,h7,r6,new Map,new Map,r,Cte,i),a.forEach(m=>{const _=Fa(l,m.element,new Map);m.postStyleProps.forEach(C=>_.set(C,null))})):(i.push(function Mee(){return new at(3300,!1)}()),a=[]),i.length)throw function wee(t){return new at(3504,!1)}();l.forEach((m,_)=>{m.forEach((C,S)=>{m.set(S,this._driver.computeStyle(_,S,S2))})});const d=oc(a.map(m=>{const _=l.get(m.element);return this._buildPlayer(m,new Map,_)}));return this._playersById.set(n,d),d.onDestroy(()=>this.destroy(n)),this.players.push(d),d}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function xee(t){return new at(3301,!1)}();return e}listen(n,e,r,i){const o=c7(e,"","","");return s7(this._getPlayer(n),r,o,i),()=>{}}command(n,e,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,e,i[0]||{});const o=this._getPlayer(n);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const sS="ng-animate-queued",x7="ng-animate-disabled",Ste=[],aS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Lte={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},l1="__ng_removed";class E7{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function Hte(t){return t??null}(r?n.value:n),r){const o=W4(n);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const X4="void",S7=new E7(X4);class Dte{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,u1(e,this._hostClassName)}listen(n,e,r,i){if(!this._triggers.has(e))throw function Eee(t,n){return new at(3302,!1)}();if(null==r||0==r.length)throw function See(t){return new at(3303,!1)}();if(!function Ate(t){return"start"==t||"done"==t}(r))throw function Lee(t,n){return new at(3400,!1)}();const o=Fa(this._elementListeners,n,[]),a={name:e,phase:r,callback:i};o.push(a);const l=Fa(this._engine.statesByElement,n,new Map);return l.has(e)||(u1(n,i6),u1(n,i6+"-"+e),l.set(e,S7)),()=>{this._engine.afterFlush(()=>{const f=o.indexOf(a);f>=0&&o.splice(f,1),this._triggers.has(e)||l.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function Dee(t){return new at(3401,!1)}();return e}trigger(n,e,r,i=!0){const o=this._getTrigger(e),a=new L7(this.id,e,n);let l=this._engine.statesByElement.get(n);l||(u1(n,i6),u1(n,i6+"-"+e),this._engine.statesByElement.set(n,l=new Map));let f=l.get(e);const d=new E7(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&f&&d.absorbOptions(f.options),l.set(e,d),f||(f=S7),d.value!==X4&&f.value===d.value){if(!function Ite(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}(f.params,d.params)){const Q=[],Ce=o.matchStyles(f.value,f.params,Q),ge=o.matchStyles(d.value,d.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{$c(n,Ce),r2(n,ge)})}return}const C=Fa(this._engine.playersByElement,n,[]);C.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==e&&Q.queued&&Q.destroy()});let S=o.matchTransition(f.value,d.value,n,d.params),W=!1;if(!S){if(!i)return;S=o.fallbackTransition,W=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:S,fromState:f,toState:d,player:a,isFallbackTransition:W}),W||(u1(n,sS),a.onStart(()=>{u3(n,sS)})),a.onDone(()=>{let Q=this.players.indexOf(a);Q>=0&&this.players.splice(Q,1);const Ce=this._engine.playersByElement.get(n);if(Ce){let ge=Ce.indexOf(a);ge>=0&&Ce.splice(ge,1)}}),this.players.push(a),C.push(a),a}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,o6,!0);r.forEach(i=>{if(i[l1])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(a=>a.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,e,r,i){const o=this._engine.statesByElement.get(n),a=new Map;if(o){const l=[];if(o.forEach((f,d)=>{if(a.set(d,f.value),this._triggers.has(d)){const m=this.trigger(n,d,X4,i);m&&l.push(m)}}),l.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,a),r&&oc(l).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const i=new Set;e.forEach(o=>{const a=o.name;if(i.has(a))return;i.add(a);const f=this._triggers.get(a).fallbackTransition,d=r.get(a)||S7,m=new E7(X4),_=new L7(this.id,a,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:a,transition:f,fromState:d,toState:m,player:_,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(n):[];if(o&&o.length)i=!0;else{let a=n;for(;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,e);else{const o=n[l1];(!o||o===aS)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){u1(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,a=this._elementListeners.get(o);a&&a.forEach(l=>{if(l.name==r.triggerName){const f=c7(o,r.triggerName,r.fromState.value,r.toState.value);f._data=n,s7(r.player,l.phase,f,l.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,a=i.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(r=>r.element===n)||e,e}}class Pte{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,r){this.bodyNode=n,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new Dte(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,l=this.driver.getParentElement(e);for(;l;){const f=i.get(l);if(f){const d=r.indexOf(f);r.splice(d+1,0,n),a=!0;break}l=this.driver.getParentElement(l)}a||r.unshift(n)}else r.push(n);return i.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let i=this._namespaceLookup[n];i&&i.register(e,r)&&this.totalAnimations++}destroy(n,e){if(!n)return;const r=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[n];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(n,e,r,i){if(g6(e)){const o=this._fetchNamespace(n);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(n,e,r,i){if(!g6(e))return;const o=e[l1];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(n){const a=this._fetchNamespace(n);a&&a.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),u1(n,x7)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),u3(n,x7))}removeNode(n,e,r,i){if(g6(e)){const o=n?this._fetchNamespace(n):null;if(o?o.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i),r){const a=this.namespacesByHostElement.get(e);a&&a.id!==n&&a.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,r,i,o){this.collectedLeaveElements.push(e),e[l1]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,r,i,o){return g6(e)?this._fetchNamespace(n).listen(e,r,i,o):()=>{}}_buildInstruction(n,e,r,i,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,o6,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,d7,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return oc(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[l1];if(e&&e.setForRemoval){if(n[l1]=aS,e.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(x7)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)u1(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?oc(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function Pee(t){return new at(3402,!1)}()}_flushAnimations(n,e){const r=new d6,i=[],o=new Map,a=[],l=new Map,f=new Map,d=new Map,m=new Set;this.disabledNodes.forEach(ut=>{m.add(ut);const St=this.driver.query(ut,".ng-animate-queued",!0);for(let Lt=0;Lt<St.length;Lt++)m.add(St[Lt])});const _=this.bodyNode,C=Array.from(this.statesByElement.keys()),S=uS(C,this.collectedEnterElements),W=new Map;let Q=0;S.forEach((ut,St)=>{const Lt=h7+Q++;W.set(St,Lt),ut.forEach(Tt=>u1(Tt,Lt))});const Ce=[],ge=new Set,ue=new Set;for(let ut=0;ut<this.collectedLeaveElements.length;ut++){const St=this.collectedLeaveElements[ut],Lt=St[l1];Lt&&Lt.setForRemoval&&(Ce.push(St),ge.add(St),Lt.hasAnimation?this.driver.query(St,".ng-star-inserted",!0).forEach(Tt=>ge.add(Tt)):ue.add(St))}const pe=new Map,Te=uS(C,Array.from(ge));Te.forEach((ut,St)=>{const Lt=r6+Q++;pe.set(St,Lt),ut.forEach(Tt=>u1(Tt,Lt))}),n.push(()=>{S.forEach((ut,St)=>{const Lt=W.get(St);ut.forEach(Tt=>u3(Tt,Lt))}),Te.forEach((ut,St)=>{const Lt=pe.get(St);ut.forEach(Tt=>u3(Tt,Lt))}),Ce.forEach(ut=>{this.processLeaveNode(ut)})});const Oe=[],We=[];for(let ut=this._namespaceList.length-1;ut>=0;ut--)this._namespaceList[ut].drainQueuedTransitions(e).forEach(Lt=>{const Tt=Lt.player,Fr=Lt.element;if(Oe.push(Tt),this.collectedEnterElements.length){const Ai=Fr[l1];if(Ai&&Ai.setForMove){if(Ai.previousTriggersValues&&Ai.previousTriggersValues.has(Lt.triggerName)){const z1=Ai.previousTriggersValues.get(Lt.triggerName),ps=this.statesByElement.get(Lt.element);if(ps&&ps.has(Lt.triggerName)){const F2=ps.get(Lt.triggerName);F2.value=z1,ps.set(Lt.triggerName,F2)}}return void Tt.destroy()}}const ri=!_||!this.driver.containsElement(_,Fr),Xr=pe.get(Fr),Wn=W.get(Fr),xn=this._buildInstruction(Lt,r,Wn,Xr,ri);if(xn.errors&&xn.errors.length)return void We.push(xn);if(ri)return Tt.onStart(()=>$c(Fr,xn.fromStyles)),Tt.onDestroy(()=>r2(Fr,xn.toStyles)),void i.push(Tt);if(Lt.isFallbackTransition)return Tt.onStart(()=>$c(Fr,xn.fromStyles)),Tt.onDestroy(()=>r2(Fr,xn.toStyles)),void i.push(Tt);const Hi=[];xn.timelines.forEach(Ai=>{Ai.stretchStartingKeyframe=!0,this.disabledNodes.has(Ai.element)||Hi.push(Ai)}),xn.timelines=Hi,r.append(Fr,xn.timelines),a.push({instruction:xn,player:Tt,element:Fr}),xn.queriedElements.forEach(Ai=>Fa(l,Ai,[]).push(Tt)),xn.preStyleProps.forEach((Ai,z1)=>{if(Ai.size){let ps=f.get(z1);ps||f.set(z1,ps=new Set),Ai.forEach((F2,mc)=>ps.add(mc))}}),xn.postStyleProps.forEach((Ai,z1)=>{let ps=d.get(z1);ps||d.set(z1,ps=new Set),Ai.forEach((F2,mc)=>ps.add(mc))})});if(We.length){const ut=[];We.forEach(St=>{ut.push(function zee(t,n){return new at(3505,!1)}())}),Oe.forEach(St=>St.destroy()),this.reportError(ut)}const Ze=new Map,et=new Map;a.forEach(ut=>{const St=ut.element;r.has(St)&&(et.set(St,St),this._beforeAnimationBuild(ut.player.namespaceId,ut.instruction,Ze))}),i.forEach(ut=>{const St=ut.element;this._getPreviousPlayers(St,!1,ut.namespaceId,ut.triggerName,null).forEach(Tt=>{Fa(Ze,St,[]).push(Tt),Tt.destroy()})});const ke=Ce.filter(ut=>hS(ut,f,d)),Bt=new Map;lS(Bt,this.driver,ue,d,S2).forEach(ut=>{hS(ut,f,d)&&ke.push(ut)});const ln=new Map;S.forEach((ut,St)=>{lS(ln,this.driver,new Set(ut),f,n5)}),ke.forEach(ut=>{const St=Bt.get(ut),Lt=ln.get(ut);Bt.set(ut,new Map([...Array.from(St?.entries()??[]),...Array.from(Lt?.entries()??[])]))});const dn=[],Mt=[],Qt={};a.forEach(ut=>{const{element:St,player:Lt,instruction:Tt}=ut;if(r.has(St)){if(m.has(St))return Lt.onDestroy(()=>r2(St,Tt.toStyles)),Lt.disabled=!0,Lt.overrideTotalTime(Tt.totalTime),void i.push(Lt);let Fr=Qt;if(et.size>1){let Xr=St;const Wn=[];for(;Xr=Xr.parentNode;){const xn=et.get(Xr);if(xn){Fr=xn;break}Wn.push(Xr)}Wn.forEach(xn=>et.set(xn,Fr))}const ri=this._buildAnimation(Lt.namespaceId,Tt,Ze,o,ln,Bt);if(Lt.setRealPlayer(ri),Fr===Qt)dn.push(Lt);else{const Xr=this.playersByElement.get(Fr);Xr&&Xr.length&&(Lt.parentPlayer=oc(Xr)),i.push(Lt)}}else $c(St,Tt.fromStyles),Lt.onDestroy(()=>r2(St,Tt.toStyles)),Mt.push(Lt),m.has(St)&&i.push(Lt)}),Mt.forEach(ut=>{const St=o.get(ut.element);if(St&&St.length){const Lt=oc(St);ut.setRealPlayer(Lt)}}),i.forEach(ut=>{ut.parentPlayer?ut.syncPlayerEvents(ut.parentPlayer):ut.destroy()});for(let ut=0;ut<Ce.length;ut++){const St=Ce[ut],Lt=St[l1];if(u3(St,r6),Lt&&Lt.hasAnimation)continue;let Tt=[];if(l.size){let ri=l.get(St);ri&&ri.length&&Tt.push(...ri);let Xr=this.driver.query(St,d7,!0);for(let Wn=0;Wn<Xr.length;Wn++){let xn=l.get(Xr[Wn]);xn&&xn.length&&Tt.push(...xn)}}const Fr=Tt.filter(ri=>!ri.destroyed);Fr.length?Vte(this,St,Fr):this.processLeaveNode(St)}return Ce.length=0,dn.forEach(ut=>{this.players.push(ut),ut.onDone(()=>{ut.destroy();const St=this.players.indexOf(ut);this.players.splice(St,1)}),ut.play()}),dn}elementContainsData(n,e){let r=!1;const i=e[l1];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(n).elementContainsData(e)||r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,i,o){let a=[];if(e){const l=this.playersByQueriedElement.get(n);l&&(a=l)}else{const l=this.playersByElement.get(n);if(l){const f=!o||o==X4;l.forEach(d=>{d.queued||!f&&d.triggerName!=i||a.push(d)})}}return(r||i)&&(a=a.filter(l=>!(r&&r!=l.namespaceId||i&&i!=l.triggerName))),a}_beforeAnimationBuild(n,e,r){const o=e.element,a=e.isRemovalTransition?void 0:n,l=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const d=f.element,m=d!==o,_=Fa(r,d,[]);this._getPreviousPlayers(d,m,a,l,e.toState).forEach(S=>{const W=S.getRealPlayer();W.beforeDestroy&&W.beforeDestroy(),S.destroy(),_.push(S)})}$c(o,e.fromStyles)}_buildAnimation(n,e,r,i,o,a){const l=e.triggerName,f=e.element,d=[],m=new Set,_=new Set,C=e.timelines.map(W=>{const Q=W.element;m.add(Q);const Ce=Q[l1];if(Ce&&Ce.removedBeforeQueried)return new E4(W.duration,W.delay);const ge=Q!==f,ue=function Tte(t){const n=[];return fS(t,n),n}((r.get(Q)||Ste).map(Ze=>Ze.getRealPlayer())).filter(Ze=>!!Ze.element&&Ze.element===Q),pe=o.get(Q),Te=a.get(Q),Oe=kE(0,this._normalizer,0,W.keyframes,pe,Te),We=this._buildPlayer(W,Oe,ue);if(W.subTimeline&&i&&_.add(Q),ge){const Ze=new L7(n,l,Q);Ze.setRealPlayer(We),d.push(Ze)}return We});d.forEach(W=>{Fa(this.playersByQueriedElement,W.element,[]).push(W),W.onDone(()=>function zte(t,n,e){let r=t.get(n);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&t.delete(n)}return r}(this.playersByQueriedElement,W.element,W))}),m.forEach(W=>u1(W,$E));const S=oc(C);return S.onDestroy(()=>{m.forEach(W=>u3(W,$E)),r2(f,e.toStyles)}),_.forEach(W=>{Fa(i,W,[]).push(S)}),S}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new E4(n.duration,n.delay)}}class L7{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new E4,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>s7(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Fa(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function g6(t){return t&&1===t.nodeType}function cS(t,n){const e=t.style.display;return t.style.display=n??"none",e}function lS(t,n,e,r,i){const o=[];e.forEach(f=>o.push(cS(f)));const a=[];r.forEach((f,d)=>{const m=new Map;f.forEach(_=>{const C=n.computeStyle(d,_,i);m.set(_,C),(!C||0==C.length)&&(d[l1]=Lte,a.push(d))}),t.set(d,m)});let l=0;return e.forEach(f=>cS(f,o[l++])),a}function uS(t,n){const e=new Map;if(t.forEach(l=>e.set(l,[])),0==n.length)return e;const r=1,i=new Set(n),o=new Map;function a(l){if(!l)return r;let f=o.get(l);if(f)return f;const d=l.parentNode;return f=e.has(d)?d:i.has(d)?r:a(d),o.set(l,f),f}return n.forEach(l=>{const f=a(l);f!==r&&e.get(f).push(l)}),e}function u1(t,n){t.classList?.add(n)}function u3(t,n){t.classList?.remove(n)}function Vte(t,n,e){oc(e).onDone(()=>t.processLeaveNode(n))}function fS(t,n){for(let e=0;e<t.length;e++){const r=t[e];r instanceof _w?fS(r.players,n):n.push(r)}}function hS(t,n,e){const r=e.get(t);if(!r)return!1;let i=n.get(t);return i?r.forEach(o=>i.add(o)):n.set(t,r),e.delete(t),!0}class v6{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new Pte(n,e,r),this._timelineEngine=new bte(n,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(n,e,r,i,o){const a=n+"-"+i;let l=this._triggerCache[a];if(!l){const f=[],d=[],m=v7(this._driver,o,f,d);if(f.length)throw function yee(t,n){return new at(3404,!1)}();l=function vte(t,n,e){return new _te(t,n,e)}(i,m,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(e,i,l)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,i){this._transitionEngine.insertNode(n,e,r,i)}onRemove(n,e,r,i){this._transitionEngine.removeNode(n,e,i||!1,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,i){if("@"==r.charAt(0)){const[o,a]=OE(r);this._timelineEngine.command(o,e,a,i)}else this._transitionEngine.trigger(n,e,r,i)}listen(n,e,r,i,o){if("@"==r.charAt(0)){const[a,l]=OE(r);return this._timelineEngine.listen(a,e,l,o)}return this._transitionEngine.listen(n,e,r,i,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let kte=(()=>{class t{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=t.initialStylesByElement.get(e);o||t.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&r2(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(r2(this._element,this._initialStyles),this._endStyles&&(r2(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&($c(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($c(this._element,this._endStyles),this._endStyles=null),r2(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function D7(t){let n=null;return t.forEach((e,r)=>{(function Ote(t){return"display"===t||"position"===t})(r)&&(n=n||new Map,n.set(r,e))}),n}class dS{constructor(n,e,r,i){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(n,e,r){return n.animate(this._convertKeyframesToObject(e),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:QE(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class Rte{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return UE(n,e)}getParentElement(n){return u7(n)}query(n,e,r){return jE(n,e,r)}computeStyle(n,e,r){return window.getComputedStyle(n)[e]}animate(n,e,r,i,o,a=[]){const f={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(f.easing=o);const d=new Map,m=a.filter(S=>S instanceof dS);(function jee(t,n){return 0===t||0===n})(r,i)&&m.forEach(S=>{S.currentSnapshot.forEach((W,Q)=>d.set(Q,W))});let _=function Ree(t){return t.length?t[0]instanceof Map?t:t.map(n=>WE(n)):[]}(e).map(S=>sc(S));_=function Gee(t,n,e){if(e.size&&n.length){let r=n[0],i=[];if(e.forEach((o,a)=>{r.has(a)||i.push(a),r.set(a,o)}),i.length)for(let o=1;o<n.length;o++){let a=n[o];i.forEach(l=>a.set(l,QE(t,l)))}}return n}(n,_,d);const C=function Nte(t,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=D7(n[0]),n.length>1&&(r=D7(n[n.length-1]))):n instanceof Map&&(e=D7(n)),e||r?new kte(t,e,r):null}(n,_);return new dS(n,_,f,C)}}let Fte=(()=>{class t extends hw{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:gn.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?pw(e):e;return pS(this._renderer,null,r,"register",[i]),new Bte(r,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(nt($3),nt(On))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})();class Bte extends GZ{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new Ute(this._id,n,e||{},this._renderer)}}class Ute{constructor(n,e,r,i){this.id=n,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return pS(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function pS(t,n,e,r,i){return t.setProperty(n,`@@${e}:${r}`,i)}const mS="@.disabled";let jte=(()=>{class t{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,a)=>{const l=a?.parentNode(o);l&&a.removeChild(l,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let m=this._rendererCache.get(o);return m||(m=new gS("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,m)),m}const a=r.id,l=r.id+"-"+this._currentId;this._currentId++,this.engine.register(l,e);const f=m=>{Array.isArray(m)?m.forEach(f):this.engine.registerTrigger(a,l,e,m.name,m)};return r.data.animation.forEach(f),new Gte(this,l,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,l]=o;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(nt($3),nt(v6),nt(kn))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})();class gS{constructor(n,e,r,i){this.namespaceId=n,this.delegate=e,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,i=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,i)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,i){this.delegate.setAttribute(n,e,r,i)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,i){this.delegate.setStyle(n,e,r,i)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==mS?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class Gte extends gS{constructor(n,e,r,i,o){super(e,r,i,o),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==mS?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.slice(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const i=function qte(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let o=e.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function $te(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,i,o,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,r,l)})}return this.delegate.listen(n,e,r)}}const vS=[{provide:hw,useClass:Fte},{provide:M7,useFactory:function Yte(){return new dte}},{provide:v6,useClass:(()=>{class t extends v6{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(nt(On),nt(f7),nt(M7),nt(jl))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})()},{provide:$3,useFactory:function Zte(t,n,e){return new jte(t,n,e)},deps:[tf,v6,kn]}],P7=[{provide:f7,useFactory:()=>new Rte},{provide:K1,useValue:"BrowserAnimations"},...vS],_S=[{provide:f7,useClass:GE},{provide:K1,useValue:"NoopAnimations"},...vS];let Xte=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?_S:P7}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({providers:P7,imports:[SM]}),t})();class y6{}class z7{}class z2{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),a=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(o=>o.toString()),i.length>0){const o=e.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(e,o)}})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof z2?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new z2;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof z2?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const i=("a"===n.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=n.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(l=>-1===o.indexOf(l)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class Kte{encodeKey(n){return yS(n)}encodeValue(n){return yS(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const Jte=/%(\d[a-f0-9])/gi,ene={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yS(t){return encodeURIComponent(t).replace(Jte,(n,e)=>ene[e]??n)}function C6(t){return`${t}`}class ac{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Kte,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Qte(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[a,l]=-1==o?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],f=e.get(a)||[];f.push(l),e.set(a,f)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],i=Array.isArray(r)?r.map(C6):[C6(r)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new ac({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(C6(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(C6(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class tne{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function CS(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function bS(t){return typeof Blob<"u"&&t instanceof Blob}function MS(t){return typeof FormData<"u"&&t instanceof FormData}class K4{constructor(n,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function nne(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new z2),this.context||(this.context=new tne),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+a}}else this.params=new ac,this.urlWithParams=e}serializeBody(){return null===this.body?null:CS(this.body)||bS(this.body)||MS(this.body)||function rne(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ac?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||MS(this.body)?null:bS(this.body)?this.body.type||null:CS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ac?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,a=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,l=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let f=n.headers||this.headers,d=n.params||this.params;const m=n.context??this.context;return void 0!==n.setHeaders&&(f=Object.keys(n.setHeaders).reduce((_,C)=>_.set(C,n.setHeaders[C]),f)),n.setParams&&(d=Object.keys(n.setParams).reduce((_,C)=>_.set(C,n.setParams[C]),d)),new K4(e,r,o,{params:d,headers:f,context:m,reportProgress:l,responseType:i,withCredentials:a})}}var Uo=(()=>((Uo=Uo||{})[Uo.Sent=0]="Sent",Uo[Uo.UploadProgress=1]="UploadProgress",Uo[Uo.ResponseHeader=2]="ResponseHeader",Uo[Uo.DownloadProgress=3]="DownloadProgress",Uo[Uo.Response=4]="Response",Uo[Uo.User=5]="User",Uo))();class H7{constructor(n,e=200,r="OK"){this.headers=n.headers||new z2,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class A7 extends H7{constructor(n={}){super(n),this.type=Uo.ResponseHeader}clone(n={}){return new A7({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class b6 extends H7{constructor(n={}){super(n),this.type=Uo.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new b6({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class wS extends H7{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function V7(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let M6=(()=>{class t{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof K4)o=e;else{let f,d;f=i.headers instanceof z2?i.headers:new z2(i.headers),i.params&&(d=i.params instanceof ac?i.params:new ac({fromObject:i.params})),o=new K4(e,r,void 0!==i.body?i.body:null,{headers:f,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const a=Jt(o).pipe(J2(f=>this.handler.handle(f)));if(e instanceof K4||"events"===i.observe)return a;const l=a.pipe(Qs(f=>f instanceof b6));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(re(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return l.pipe(re(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return l.pipe(re(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return l.pipe(re(f=>f.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new ac).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,V7(i,r))}post(e,r,i={}){return this.request("POST",e,V7(i,r))}put(e,r,i={}){return this.request("PUT",e,V7(i,r))}}return t.\u0275fac=function(e){return new(e||t)(nt(y6))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})();function xS(t,n){return n(t)}function ine(t,n){return(e,r)=>n.intercept(e,{handle:i=>t(i,r)})}const sne=new wt("HTTP_INTERCEPTORS"),Q4=new wt("HTTP_INTERCEPTOR_FNS");function ane(){let t=null;return(n,e)=>(null===t&&(t=(Cn(sne,{optional:!0})??[]).reduceRight(ine,xS)),t(n,e))}let ES=(()=>{class t extends y6{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Q4)));this.chain=r.reduceRight((i,o)=>function one(t,n,e){return(r,i)=>e.runInContext(()=>n(r,o=>t(o,i)))}(i,o,this.injector),xS)}return this.chain(e,r=>this.backend.handle(r))}}return t.\u0275fac=function(e){return new(e||t)(nt(z7),nt(G1))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})();const fne=/^\)\]\}',?\n/;let LS=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ye(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((S,W)=>i.setRequestHeader(S,W.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const S=e.detectContentTypeHeader();null!==S&&i.setRequestHeader("Content-Type",S)}if(e.responseType){const S=e.responseType.toLowerCase();i.responseType="json"!==S?S:"text"}const o=e.serializeBody();let a=null;const l=()=>{if(null!==a)return a;const S=i.statusText||"OK",W=new z2(i.getAllResponseHeaders()),Q=function hne(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||e.url;return a=new A7({headers:W,status:i.status,statusText:S,url:Q}),a},f=()=>{let{headers:S,status:W,statusText:Q,url:Ce}=l(),ge=null;204!==W&&(ge=typeof i.response>"u"?i.responseText:i.response),0===W&&(W=ge?200:0);let ue=W>=200&&W<300;if("json"===e.responseType&&"string"==typeof ge){const pe=ge;ge=ge.replace(fne,"");try{ge=""!==ge?JSON.parse(ge):null}catch(Te){ge=pe,ue&&(ue=!1,ge={error:Te,text:ge})}}ue?(r.next(new b6({body:ge,headers:S,status:W,statusText:Q,url:Ce||void 0})),r.complete()):r.error(new wS({error:ge,headers:S,status:W,statusText:Q,url:Ce||void 0}))},d=S=>{const{url:W}=l(),Q=new wS({error:S,status:i.status||0,statusText:i.statusText||"Unknown Error",url:W||void 0});r.error(Q)};let m=!1;const _=S=>{m||(r.next(l()),m=!0);let W={type:Uo.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(W.total=S.total),"text"===e.responseType&&i.responseText&&(W.partialText=i.responseText),r.next(W)},C=S=>{let W={type:Uo.UploadProgress,loaded:S.loaded};S.lengthComputable&&(W.total=S.total),r.next(W)};return i.addEventListener("load",f),i.addEventListener("error",d),i.addEventListener("timeout",d),i.addEventListener("abort",d),e.reportProgress&&(i.addEventListener("progress",_),null!==o&&i.upload&&i.upload.addEventListener("progress",C)),i.send(o),r.next({type:Uo.Sent}),()=>{i.removeEventListener("error",d),i.removeEventListener("abort",d),i.removeEventListener("load",f),i.removeEventListener("timeout",d),e.reportProgress&&(i.removeEventListener("progress",_),null!==o&&i.upload&&i.upload.removeEventListener("progress",C)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(nt(iM))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})();const T7=new wt("XSRF_ENABLED"),DS=new wt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),PS=new wt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class zS{}let mne=(()=>{class t{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=jb(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(nt(On),nt(T0),nt(DS))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})();function gne(t,n){const e=t.url.toLowerCase();if(!Cn(T7)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const r=Cn(zS).getToken(),i=Cn(PS);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),n(t)}var Ho=(()=>((Ho=Ho||{})[Ho.Interceptors=0]="Interceptors",Ho[Ho.LegacyInterceptors=1]="LegacyInterceptors",Ho[Ho.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ho[Ho.NoXsrfProtection=3]="NoXsrfProtection",Ho[Ho.JsonpSupport=4]="JsonpSupport",Ho[Ho.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ho))();function f3(t,n){return{\u0275kind:t,\u0275providers:n}}function vne(...t){const n=[M6,LS,ES,{provide:y6,useExisting:ES},{provide:z7,useExisting:LS},{provide:Q4,useValue:gne,multi:!0},{provide:T7,useValue:!0},{provide:zS,useClass:mne}];for(const e of t)n.push(...e.\u0275providers);return function wF(t){return{\u0275providers:t}}(n)}const HS=new wt("LEGACY_INTERCEPTOR_FN");let yne=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({providers:[vne(f3(Ho.LegacyInterceptors,[{provide:HS,useFactory:ane},{provide:Q4,useExisting:HS,multi:!0}]))]}),t})();const Cne=["*"];let w6;function J4(t){return function bne(){if(void 0===w6&&(w6=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(w6=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return w6}()?.createHTML(t)||t}function AS(t){return Error(`Unable to find icon with the name "${t}"`)}function VS(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function TS(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Yc{constructor(n,e,r){this.url=n,this.svgText=e,this.options=r}}let x6=(()=>{class t{constructor(e,r,i,o){this._httpClient=e,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,o){return this._addSvgIconConfig(e,r,new Yc(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,o){const a=this._sanitizer.sanitize(ni.HTML,i);if(!a)throw TS(i);const l=J4(a);return this._addSvgIconConfig(e,r,new Yc("",l,o))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Yc(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const o=this._sanitizer.sanitize(ni.HTML,r);if(!o)throw TS(r);const a=J4(o);return this._addSvgIconSetConfig(e,new Yc("",a,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(ni.RESOURCE_URL,e);if(!r)throw VS(e);const i=this._cachedIconsByUrl.get(r);return i?Jt(E6(i)):this._loadSvgIconFromConfig(new Yc(e,null)).pipe(Ko(o=>this._cachedIconsByUrl.set(r,o)),re(o=>E6(o)))}getNamedSvgIcon(e,r=""){const i=IS(r,e);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(e,a):Xl(AS(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Jt(E6(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(re(r=>E6(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?Jt(i):Ix(r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(e2(l=>{const d=`Loading icon set URL: ${this._sanitizer.sanitize(ni.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(d)),Jt(null)})))).pipe(re(()=>{const a=this._extractIconWithNameFromAnySet(e,r);if(!a)throw AS(e);return a}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(o),l=this._extractSvgIconFromSet(a,e,o.options);if(l)return l}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Ko(r=>e.svgText=r),re(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Jt(null):this._fetchIcon(e).pipe(Ko(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const o=e.querySelector(`[id="${r}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,i);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),i);const l=this._svgElementFromString(J4("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(J4("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){const{name:a,value:l}=i[o];"id"!==a&&r.setAttribute(a,l)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw function Mne(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(ni.RESOURCE_URL,r);if(!a)throw VS(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const f=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(re(d=>J4(d)),bf(()=>this._inProgressUrlFetches.delete(a)),T1());return this._inProgressUrlFetches.set(a,f),f}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(IS(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,e);if(o)return xne(o)?new Yc(o.url,null,o.options):new Yc(o,null)}}}return t.\u0275fac=function(e){return new(e||t)(nt(M6,8),nt(nf),nt(On,8),nt(v2))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function E6(t){return t.cloneNode(!0)}function IS(t,n){return t+":"+n}function xne(t){return!(!t.url||!t.options)}const Ene=pf(class{constructor(t){this._elementRef=t}}),Sne=new wt("MAT_ICON_DEFAULT_OPTIONS"),Lne=new wt("mat-icon-location",{providedIn:"root",factory:function Dne(){const t=Cn(On),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),NS=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Pne=NS.map(t=>`[${t}]`).join(", "),zne=/^url\(['"]?#(.*?)['"]?\)$/;let kS=(()=>{class t extends Ene{constructor(e,r,i,o,a,l){super(e),this._iconRegistry=r,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=w.EMPTY,l&&(l.color&&(this.color=this.defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Oa(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(Pne),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)NS.forEach(a=>{const l=r[o],f=l.getAttribute(a),d=f?f.match(zne):null;if(d){let m=i.get(l);m||(m=[],i.set(l,m)),m.push({name:a,value:d[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Ks(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(Xe(ci),Xe(x6),xc("aria-hidden"),Xe(Lne),Xe(v2),Xe(Sne,8))},t.\u0275cmp=ei({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,r){2&e&&(mo("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Os("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[jn],ngContentSelectors:Cne,decls:1,vars:0,template:function(e,r){1&e&&(Tl(),Ia(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),t})(),Hne=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({imports:[Js,Js]}),t})(),Ane=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ei({type:t,selectors:[["app-loading-spinner"]],decls:13,vars:0,consts:[[1,"sk-circle"],[1,"sk-circle1","sk-child"],[1,"sk-circle2","sk-child"],[1,"sk-circle3","sk-child"],[1,"sk-circle4","sk-child"],[1,"sk-circle5","sk-child"],[1,"sk-circle6","sk-child"],[1,"sk-circle7","sk-child"],[1,"sk-circle8","sk-child"],[1,"sk-circle9","sk-child"],[1,"sk-circle10","sk-child"],[1,"sk-circle11","sk-child"],[1,"sk-circle12","sk-child"]],template:function(e,r){1&e&&(At(0,"div",0),So(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12),Vt())},styles:['.sk-circle[_ngcontent-%COMP%]{margin:100px auto;width:35px;height:35px;position:relative}.sk-circle[_ngcontent-%COMP%]   .sk-child[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0}.sk-circle[_ngcontent-%COMP%]   .sk-child[_ngcontent-%COMP%]:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:#333;border-radius:100%;animation:_ngcontent-%COMP%_sk-circleBounceDelay 1.2s infinite ease-in-out both}.sk-circle[_ngcontent-%COMP%]   .sk-circle2[_ngcontent-%COMP%]{transform:rotate(30deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle3[_ngcontent-%COMP%]{transform:rotate(60deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle4[_ngcontent-%COMP%]{transform:rotate(90deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle5[_ngcontent-%COMP%]{transform:rotate(120deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle6[_ngcontent-%COMP%]{transform:rotate(150deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle7[_ngcontent-%COMP%]{transform:rotate(180deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle8[_ngcontent-%COMP%]{transform:rotate(210deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle9[_ngcontent-%COMP%]{transform:rotate(240deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle10[_ngcontent-%COMP%]{transform:rotate(270deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle11[_ngcontent-%COMP%]{transform:rotate(300deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle12[_ngcontent-%COMP%]{transform:rotate(330deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle2[_ngcontent-%COMP%]:before{animation-delay:-1.1s}.sk-circle[_ngcontent-%COMP%]   .sk-circle3[_ngcontent-%COMP%]:before{animation-delay:-1s}.sk-circle[_ngcontent-%COMP%]   .sk-circle4[_ngcontent-%COMP%]:before{animation-delay:-.9s}.sk-circle[_ngcontent-%COMP%]   .sk-circle5[_ngcontent-%COMP%]:before{animation-delay:-.8s}.sk-circle[_ngcontent-%COMP%]   .sk-circle6[_ngcontent-%COMP%]:before{animation-delay:-.7s}.sk-circle[_ngcontent-%COMP%]   .sk-circle7[_ngcontent-%COMP%]:before{animation-delay:-.6s}.sk-circle[_ngcontent-%COMP%]   .sk-circle8[_ngcontent-%COMP%]:before{animation-delay:-.5s}.sk-circle[_ngcontent-%COMP%]   .sk-circle9[_ngcontent-%COMP%]:before{animation-delay:-.4s}.sk-circle[_ngcontent-%COMP%]   .sk-circle10[_ngcontent-%COMP%]:before{animation-delay:-.3s}.sk-circle[_ngcontent-%COMP%]   .sk-circle11[_ngcontent-%COMP%]:before{animation-delay:-.2s}.sk-circle[_ngcontent-%COMP%]   .sk-circle12[_ngcontent-%COMP%]:before{animation-delay:-.1s}@keyframes _ngcontent-%COMP%_sk-circleBounceDelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}']}),t})();function OS(t,n,e,r,i,o,a){try{var l=t[o](a),f=l.value}catch(d){return void e(d)}l.done?n(f):Promise.resolve(f).then(r,i)}function o2(t){return function(){var n=this,e=arguments;return new Promise(function(r,i){var o=t.apply(n,e);function a(f){OS(o,r,i,a,l,"next",f)}function l(f){OS(o,r,i,a,l,"throw",f)}a(void 0)})}}var sn=U(8407);function H2(t,n,e){void 0===e&&(e={});var r={type:"Feature"};return(0===e.id||e.id)&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.properties=n||{},r.geometry=t,r}function h3(t,n,e){if(void 0===e&&(e={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!N7(t[0])||!N7(t[1]))throw new Error("coordinates must contain numbers");return H2({type:"Point",coordinates:t},n,e)}function S6(t,n,e){void 0===e&&(e={});for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}return H2({type:"Polygon",coordinates:t},n,e)}function N7(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function eu(t,n,e){if(null!==t)for(var r,i,o,a,l,f,d,C,m=0,_=0,S=t.type,W="FeatureCollection"===S,Q="Feature"===S,Ce=W?t.features.length:1,ge=0;ge<Ce;ge++){l=(C=!!(d=W?t.features[ge].geometry:Q?t.geometry:t)&&"GeometryCollection"===d.type)?d.geometries.length:1;for(var ue=0;ue<l;ue++){var pe=0,Te=0;if(null!==(a=C?d.geometries[ue]:d)){f=a.coordinates;var Oe=a.type;switch(m=!e||"Polygon"!==Oe&&"MultiPolygon"!==Oe?0:1,Oe){case null:break;case"Point":if(!1===n(f,_,ge,pe,Te))return!1;_++,pe++;break;case"LineString":case"MultiPoint":for(r=0;r<f.length;r++){if(!1===n(f[r],_,ge,pe,Te))return!1;_++,"MultiPoint"===Oe&&pe++}"LineString"===Oe&&pe++;break;case"Polygon":case"MultiLineString":for(r=0;r<f.length;r++){for(i=0;i<f[r].length-m;i++){if(!1===n(f[r][i],_,ge,pe,Te))return!1;_++}"MultiLineString"===Oe&&pe++,"Polygon"===Oe&&Te++}"Polygon"===Oe&&pe++;break;case"MultiPolygon":for(r=0;r<f.length;r++){for(Te=0,i=0;i<f[r].length;i++){for(o=0;o<f[r][i].length-m;o++){if(!1===n(f[r][i][o],_,ge,pe,Te))return!1;_++}Te++}pe++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===eu(a.geometries[r],n,e))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function jS(t,n){var e,r,i,o,a,l,f,d,m,_,C=0,S="FeatureCollection"===t.type,W="Feature"===t.type,Q=S?t.features.length:1;for(e=0;e<Q;e++){for(d=S?t.features[e].properties:W?t.properties:{},m=S?t.features[e].bbox:W?t.bbox:void 0,_=S?t.features[e].id:W?t.id:void 0,a=(f=!!(l=S?t.features[e].geometry:W?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1,i=0;i<a;i++)if(null!==(o=f?l.geometries[i]:l))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===n(o,C,d,m,_))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===n(o.geometries[r],C,d,m,_))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===n(null,C,d,m,_))return!1;C++}}function k7(t){var n=[1/0,1/0,-1/0,-1/0];return eu(t,function(e){n[0]>e[0]&&(n[0]=e[0]),n[1]>e[1]&&(n[1]=e[1]),n[2]<e[0]&&(n[2]=e[0]),n[3]<e[1]&&(n[3]=e[1])}),n}k7.default=k7;const jne=k7;function WS(t,n,e){if(void 0===e&&(e={}),!t)throw new Error("point is required");if(!n)throw new Error("polygon is required");var r=function Gne(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(t),i=function Wne(t){return"Feature"===t.type?t.geometry:t}(n),o=i.type,a=n.bbox,l=i.coordinates;if(a&&!1===function rre(t,n){return n[0]<=t[0]&&n[1]<=t[1]&&n[2]>=t[0]&&n[3]>=t[1]}(r,a))return!1;"Polygon"===o&&(l=[l]);for(var f=!1,d=0;d<l.length&&!f;d++)if(YS(r,l[d][0],e.ignoreBoundary)){for(var m=!1,_=1;_<l[d].length&&!m;)YS(r,l[d][_],!e.ignoreBoundary)&&(m=!0),_++;m||(f=!0)}return f}function YS(t,n,e){var r=!1;n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]&&(n=n.slice(0,n.length-1));for(var i=0,o=n.length-1;i<n.length;o=i++){var a=n[i][0],l=n[i][1],f=n[o][0],d=n[o][1];if(t[1]*(a-f)+l*(f-t[0])+d*(t[0]-a)==0&&(a-t[0])*(f-t[0])<=0&&(l-t[1])*(d-t[1])<=0)return!e;l>t[1]!=d>t[1]&&t[0]<(f-a)*(t[1]-l)/(d-l)+a&&(r=!r)}return r}U(5943),U(1335);var XS=new ArrayBuffer(16);new Float64Array(XS),new Uint32Array(XS),U(3544),function(){function t(n){this.points=n.points||[],this.duration=n.duration||1e4,this.sharpness=n.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=n.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var r=this.points[e],i=this.points[e+1];this.centers.push({x:(r.x+i.x)/2,y:(r.y+i.y)/2,z:(r.z+i.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){var o=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,a=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,l=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+a),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+l)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+a),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+l)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}t.prototype.cacheSteps=function(n){var e=[],r=this.pos(0);e.push(0);for(var i=0;i<this.duration;i+=10){var o=this.pos(i);Math.sqrt((o.x-r.x)*(o.x-r.x)+(o.y-r.y)*(o.y-r.y)+(o.z-r.z)*(o.z-r.z))>n&&(e.push(i),r=o)}return e},t.prototype.vector=function(n){var e=this.pos(n+10),r=this.pos(n-10);return{angle:180*Math.atan2(e.y-r.y,e.x-r.x)/3.14,speed:Math.sqrt((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y)+(r.z-e.z)*(r.z-e.z))}},t.prototype.pos=function(n){var e=n-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var r=e/this.duration;if(r>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*r);return function yre(t,n,e,r,i){var o=function Cre(t){var n=t*t;return[n*t,3*n*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+e.x*o[2]+n.x*o[3],y:i.y*o[0]+r.y*o[1]+e.y*o[2]+n.y*o[3],z:i.z*o[0]+r.z*o[1]+e.z*o[2]+n.z*o[3]}}((this.length-1)*r-i,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])}}();const nL=function wre(t){return function Mre(t,n){void 0===n&&(n={});var e=Number(t[0]),r=Number(t[1]),i=Number(t[2]),o=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[e,r];return S6([[a,[i,r],[i,o],[e,o],a]],n.properties,{bbox:t,id:n.id})}(jne(t))};U(5469),U(5406);var aL=6378137;function cL(t){var n=0;if(t&&t.length>0){n+=Math.abs(lL(t[0]));for(var e=1;e<t.length;e++)n-=Math.abs(lL(t[e]))}return n}function lL(t){var n,e,i,o,a,l,f=0,d=t.length;if(d>2){for(l=0;l<d;l++)l===d-2?(i=d-2,o=d-1,a=0):l===d-1?(i=d-1,o=0,a=1):(i=l,o=l+1,a=l+2),n=t[i],e=t[o],f+=(G7(t[a][0])-G7(n[0]))*Math.sin(G7(e[1]));f=f*aL*aL/2}return f}function G7(t){return t*Math.PI/180}var pL=Math.PI/180,mL=180/Math.PI,ru=function(t,n){this.lon=t,this.lat=n,this.x=pL*t,this.y=pL*n};ru.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},ru.prototype.antipode=function(){return new ru(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var gL=function(){this.coords=[],this.length=0};gL.prototype.move_to=function(t){this.length++,this.coords.push(t)};var q7=function(t){this.properties=t||{},this.geometries=[]};q7.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],n=0;n<this.geometries.length;n++)t.push(this.geometries[n].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},q7.prototype.wkt=function(){for(var t="",n="LINESTRING(",e=function(o){n+=o[0]+" "+o[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(e),t+=n.substring(0,n.length-1)+")"}return t};var $7=function(t,n,e){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!n||void 0===n.x||void 0===n.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new ru(t.x,t.y),this.end=new ru(n.x,n.y),this.properties=e||{};var r=this.start.x-this.end.x,o=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+n.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+n)};$7.prototype.interpolate=function(t){var n=Math.sin((1-t)*this.g)/Math.sin(this.g),e=Math.sin(t*this.g)/Math.sin(this.g),r=n*Math.cos(this.start.y)*Math.cos(this.start.x)+e*Math.cos(this.end.y)*Math.cos(this.end.x),i=n*Math.cos(this.start.y)*Math.sin(this.start.x)+e*Math.cos(this.end.y)*Math.sin(this.end.x),o=n*Math.sin(this.start.y)+e*Math.sin(this.end.y),a=mL*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[mL*Math.atan2(i,r),a]},$7.prototype.Arc=function(t,n){var e=[];if(!t||t<=2)e.push([this.start.lon,this.start.lat]),e.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var a=this.interpolate(r*i);e.push(a)}for(var l=!1,f=0,d=n&&n.offset?n.offset:10,m=180-d,_=-180+d,C=360-d,S=1;S<e.length;++S){var W=e[S-1][0],Q=e[S][0],Ce=Math.abs(Q-W);Ce>C&&(Q>m&&W<_||W>m&&Q<_)?l=!0:Ce>f&&(f=Ce)}var ge=[];if(l&&f<d){var ue=[];ge.push(ue);for(var pe=0;pe<e.length;++pe){var Te=parseFloat(e[pe][0]);if(pe>0&&Math.abs(Te-e[pe-1][0])>C){var Oe=parseFloat(e[pe-1][0]),We=parseFloat(e[pe-1][1]),Ze=parseFloat(e[pe][0]),et=parseFloat(e[pe][1]);if(Oe>-180&&Oe<_&&180===Ze&&pe+1<e.length&&e[pe-1][0]>-180&&e[pe-1][0]<_){ue.push([-180,e[pe][1]]),pe++,ue.push([e[pe][0],e[pe][1]]);continue}if(Oe>m&&Oe<180&&-180===Ze&&pe+1<e.length&&e[pe-1][0]>m&&e[pe-1][0]<180){ue.push([180,e[pe][1]]),pe++,ue.push([e[pe][0],e[pe][1]]);continue}if(Oe<_&&Ze>m){var ke=Oe;Oe=Ze,Ze=ke;var Bt=We;We=et,et=Bt}if(Oe>m&&Ze<_&&(Ze+=360),Oe<=180&&Ze>=180&&Oe<Ze){var Dt=(180-Oe)/(Ze-Oe),ln=Dt*et+(1-Dt)*We;ue.push([e[pe-1][0]>m?180:-180,ln]),(ue=[]).push([e[pe-1][0]>m?-180:180,ln]),ge.push(ue)}else ge.push(ue=[]);ue.push([Te,e[pe][1]])}else ue.push([e[pe][0],e[pe][1]])}}else{var dn=[];ge.push(dn);for(var Mt=0;Mt<e.length;++Mt)dn.push([e[Mt][0],e[Mt][1]])}for(var Qt=new q7(this.properties),ut=0;ut<ge.length;++ut){var St=new gL;Qt.geometries.push(St);for(var Lt=ge[ut],Tt=0;Tt<Lt.length;++Tt)St.move_to(Lt[Tt])}return Qt},U(6952);var Xn=[],Kn=[],Qn=[],Jn=[],er=[],tr=[],nr=[],rr=[],ir=[],or=[],sr=[],ar=[],cr=[],lr=[],ur=[],fr=[],hr=[],dr=[],pr=[],mr=[],gr=[],vr=[],_r=[],yr=[];nr[85]=or[85]=-1,rr[85]=sr[85]=0,ir[85]=ar[85]=1,pr[85]=vr[85]=1,mr[85]=_r[85]=0,gr[85]=yr[85]=1,Xn[85]=Jn[85]=0,Kn[85]=er[85]=-1,Qn[85]=ur[85]=0,fr[85]=cr[85]=0,hr[85]=lr[85]=1,tr[85]=dr[85]=1,vr[1]=vr[169]=0,_r[1]=_r[169]=-1,yr[1]=yr[169]=0,cr[1]=cr[169]=-1,lr[1]=lr[169]=0,ur[1]=ur[169]=0,or[4]=or[166]=0,sr[4]=sr[166]=-1,ar[4]=ar[166]=1,fr[4]=fr[166]=1,hr[4]=hr[166]=0,dr[4]=dr[166]=0,nr[16]=nr[154]=0,rr[16]=rr[154]=1,ir[16]=ir[154]=1,Jn[16]=Jn[154]=1,er[16]=er[154]=0,tr[16]=tr[154]=1,pr[64]=pr[106]=0,mr[64]=mr[106]=1,gr[64]=gr[106]=0,Xn[64]=Xn[106]=-1,Kn[64]=Kn[106]=0,Qn[64]=Qn[106]=1,pr[2]=pr[168]=0,mr[2]=mr[168]=-1,gr[2]=gr[168]=1,vr[2]=vr[168]=0,_r[2]=_r[168]=-1,yr[2]=yr[168]=0,cr[2]=cr[168]=-1,lr[2]=lr[168]=0,ur[2]=ur[168]=0,fr[2]=fr[168]=-1,hr[2]=hr[168]=0,dr[2]=dr[168]=1,nr[8]=nr[162]=0,rr[8]=rr[162]=-1,ir[8]=ir[162]=0,or[8]=or[162]=0,sr[8]=sr[162]=-1,ar[8]=ar[162]=1,cr[8]=cr[162]=1,lr[8]=lr[162]=0,ur[8]=ur[162]=1,fr[8]=fr[162]=1,hr[8]=hr[162]=0,dr[8]=dr[162]=0,nr[32]=nr[138]=0,rr[32]=rr[138]=1,ir[32]=ir[138]=1,or[32]=or[138]=0,sr[32]=sr[138]=1,ar[32]=ar[138]=0,Xn[32]=Xn[138]=1,Kn[32]=Kn[138]=0,Qn[32]=Qn[138]=0,Jn[32]=Jn[138]=1,er[32]=er[138]=0,tr[32]=tr[138]=1,vr[128]=vr[42]=0,_r[128]=_r[42]=1,yr[128]=yr[42]=1,pr[128]=pr[42]=0,mr[128]=mr[42]=1,gr[128]=gr[42]=0,Xn[128]=Xn[42]=-1,Kn[128]=Kn[42]=0,Qn[128]=Qn[42]=1,Jn[128]=Jn[42]=-1,er[128]=er[42]=0,tr[128]=tr[42]=0,or[5]=or[165]=-1,sr[5]=sr[165]=0,ar[5]=ar[165]=0,vr[5]=vr[165]=1,_r[5]=_r[165]=0,yr[5]=yr[165]=0,fr[20]=fr[150]=0,hr[20]=hr[150]=1,dr[20]=dr[150]=1,Jn[20]=Jn[150]=0,er[20]=er[150]=-1,tr[20]=tr[150]=1,nr[80]=nr[90]=-1,rr[80]=rr[90]=0,ir[80]=ir[90]=1,pr[80]=pr[90]=1,mr[80]=mr[90]=0,gr[80]=gr[90]=1,cr[65]=cr[105]=0,lr[65]=lr[105]=1,ur[65]=ur[105]=0,Xn[65]=Xn[105]=0,Kn[65]=Kn[105]=-1,Qn[65]=Qn[105]=0,nr[160]=nr[10]=-1,rr[160]=rr[10]=0,ir[160]=ir[10]=1,or[160]=or[10]=-1,sr[160]=sr[10]=0,ar[160]=ar[10]=0,vr[160]=vr[10]=1,_r[160]=_r[10]=0,yr[160]=yr[10]=0,pr[160]=pr[10]=1,mr[160]=mr[10]=0,gr[160]=gr[10]=1,fr[130]=fr[40]=0,hr[130]=hr[40]=1,dr[130]=dr[40]=1,cr[130]=cr[40]=0,lr[130]=lr[40]=1,ur[130]=ur[40]=0,Xn[130]=Xn[40]=0,Kn[130]=Kn[40]=-1,Qn[130]=Qn[40]=0,Jn[130]=Jn[40]=0,er[130]=er[40]=-1,tr[130]=tr[40]=1,or[37]=or[133]=0,sr[37]=sr[133]=1,ar[37]=ar[133]=1,vr[37]=vr[133]=0,_r[37]=_r[133]=1,yr[37]=yr[133]=0,Xn[37]=Xn[133]=-1,Kn[37]=Kn[133]=0,Qn[37]=Qn[133]=0,Jn[37]=Jn[133]=1,er[37]=er[133]=0,tr[37]=tr[133]=0,fr[148]=fr[22]=-1,hr[148]=hr[22]=0,dr[148]=dr[22]=0,vr[148]=vr[22]=0,_r[148]=_r[22]=-1,yr[148]=yr[22]=1,pr[148]=pr[22]=0,mr[148]=mr[22]=1,gr[148]=gr[22]=1,Jn[148]=Jn[22]=-1,er[148]=er[22]=0,tr[148]=tr[22]=1,nr[82]=nr[88]=0,rr[82]=rr[88]=-1,ir[82]=ir[88]=1,fr[82]=fr[88]=1,hr[82]=hr[88]=0,dr[82]=dr[88]=1,cr[82]=cr[88]=-1,lr[82]=lr[88]=0,ur[82]=ur[88]=1,pr[82]=pr[88]=0,mr[82]=mr[88]=-1,gr[82]=gr[88]=0,nr[73]=nr[97]=0,rr[73]=rr[97]=1,ir[73]=ir[97]=0,or[73]=or[97]=0,sr[73]=sr[97]=-1,ar[73]=ar[97]=0,cr[73]=cr[97]=1,lr[73]=lr[97]=0,ur[73]=ur[97]=0,Xn[73]=Xn[97]=1,Kn[73]=Kn[97]=0,Qn[73]=Qn[97]=1,nr[145]=nr[25]=0,rr[145]=rr[25]=-1,ir[145]=ir[25]=0,cr[145]=cr[25]=1,lr[145]=lr[25]=0,ur[145]=ur[25]=1,vr[145]=vr[25]=0,_r[145]=_r[25]=1,yr[145]=yr[25]=1,Jn[145]=Jn[25]=-1,er[145]=er[25]=0,tr[145]=tr[25]=0,or[70]=or[100]=0,sr[70]=sr[100]=1,ar[70]=ar[100]=0,fr[70]=fr[100]=-1,hr[70]=hr[100]=0,dr[70]=dr[100]=1,pr[70]=pr[100]=0,mr[70]=mr[100]=-1,gr[70]=gr[100]=1,Xn[70]=Xn[100]=1,Kn[70]=Kn[100]=0,Qn[70]=Qn[100]=0,or[101]=or[69]=0,sr[101]=sr[69]=1,ar[101]=ar[69]=0,Xn[101]=Xn[69]=1,Kn[101]=Kn[69]=0,Qn[101]=Qn[69]=0,vr[149]=vr[21]=0,_r[149]=_r[21]=1,yr[149]=yr[21]=1,Jn[149]=Jn[21]=-1,er[149]=er[21]=0,tr[149]=tr[21]=0,fr[86]=fr[84]=-1,hr[86]=hr[84]=0,dr[86]=dr[84]=1,pr[86]=pr[84]=0,mr[86]=mr[84]=-1,gr[86]=gr[84]=1,nr[89]=nr[81]=0,rr[89]=rr[81]=-1,ir[89]=ir[81]=0,cr[89]=cr[81]=1,lr[89]=lr[81]=0,ur[89]=ur[81]=1,nr[96]=nr[74]=0,rr[96]=rr[74]=1,ir[96]=ir[74]=0,or[96]=or[74]=-1,sr[96]=sr[74]=0,ar[96]=ar[74]=1,pr[96]=pr[74]=1,mr[96]=mr[74]=0,gr[96]=gr[74]=0,Xn[96]=Xn[74]=1,Kn[96]=Kn[74]=0,Qn[96]=Qn[74]=1,nr[24]=nr[146]=0,rr[24]=rr[146]=-1,ir[24]=ir[146]=1,fr[24]=fr[146]=1,hr[24]=hr[146]=0,dr[24]=dr[146]=1,cr[24]=cr[146]=0,lr[24]=lr[146]=1,ur[24]=ur[146]=1,Jn[24]=Jn[146]=0,er[24]=er[146]=-1,tr[24]=tr[146]=0,or[6]=or[164]=-1,sr[6]=sr[164]=0,ar[6]=ar[164]=1,fr[6]=fr[164]=-1,hr[6]=hr[164]=0,dr[6]=dr[164]=0,vr[6]=vr[164]=0,_r[6]=_r[164]=-1,yr[6]=yr[164]=1,pr[6]=pr[164]=1,mr[6]=mr[164]=0,gr[6]=gr[164]=0,cr[129]=cr[41]=0,lr[129]=lr[41]=1,ur[129]=ur[41]=1,vr[129]=vr[41]=0,_r[129]=_r[41]=1,yr[129]=yr[41]=0,Xn[129]=Xn[41]=-1,Kn[129]=Kn[41]=0,Qn[129]=Qn[41]=0,Jn[129]=Jn[41]=0,er[129]=er[41]=-1,tr[129]=tr[41]=0,fr[66]=fr[104]=0,hr[66]=hr[104]=1,dr[66]=dr[104]=0,cr[66]=cr[104]=-1,lr[66]=lr[104]=0,ur[66]=ur[104]=1,pr[66]=pr[104]=0,mr[66]=mr[104]=-1,gr[66]=gr[104]=0,Xn[66]=Xn[104]=0,Kn[66]=Kn[104]=-1,Qn[66]=Qn[104]=1,nr[144]=nr[26]=-1,rr[144]=rr[26]=0,ir[144]=ir[26]=0,vr[144]=vr[26]=1,_r[144]=_r[26]=0,yr[144]=yr[26]=1,pr[144]=pr[26]=0,mr[144]=mr[26]=1,gr[144]=gr[26]=1,Jn[144]=Jn[26]=-1,er[144]=er[26]=0,tr[144]=tr[26]=1,or[36]=or[134]=0,sr[36]=sr[134]=1,ar[36]=ar[134]=1,fr[36]=fr[134]=0,hr[36]=hr[134]=1,dr[36]=dr[134]=0,Xn[36]=Xn[134]=0,Kn[36]=Kn[134]=-1,Qn[36]=Qn[134]=1,Jn[36]=Jn[134]=1,er[36]=er[134]=0,tr[36]=tr[134]=0,nr[9]=nr[161]=-1,rr[9]=rr[161]=0,ir[9]=ir[161]=0,or[9]=or[161]=0,sr[9]=sr[161]=-1,ar[9]=ar[161]=0,cr[9]=cr[161]=1,lr[9]=lr[161]=0,ur[9]=ur[161]=0,vr[9]=vr[161]=1,_r[9]=_r[161]=0,yr[9]=yr[161]=1,nr[136]=0,rr[136]=1,ir[136]=1,or[136]=0,sr[136]=1,ar[136]=0,fr[136]=-1,hr[136]=0,dr[136]=1,cr[136]=-1,lr[136]=0,ur[136]=0,vr[136]=0,_r[136]=-1,yr[136]=0,pr[136]=0,mr[136]=-1,gr[136]=1,Xn[136]=1,Kn[136]=0,Qn[136]=0,Jn[136]=1,er[136]=0,tr[136]=1,nr[34]=0,rr[34]=-1,ir[34]=0,or[34]=0,sr[34]=-1,ar[34]=1,fr[34]=1,hr[34]=0,dr[34]=0,cr[34]=1,lr[34]=0,ur[34]=1,vr[34]=0,_r[34]=1,yr[34]=1,pr[34]=0,mr[34]=1,gr[34]=0,Xn[34]=-1,Kn[34]=0,Qn[34]=1,Jn[34]=-1,er[34]=0,tr[34]=0,nr[35]=0,rr[35]=1,ir[35]=1,or[35]=0,sr[35]=-1,ar[35]=1,fr[35]=1,hr[35]=0,dr[35]=0,cr[35]=-1,lr[35]=0,ur[35]=0,vr[35]=0,_r[35]=-1,yr[35]=0,pr[35]=0,mr[35]=1,gr[35]=0,Xn[35]=-1,Kn[35]=0,Qn[35]=1,Jn[35]=1,er[35]=0,tr[35]=1,nr[153]=0,rr[153]=1,ir[153]=1,cr[153]=-1,lr[153]=0,ur[153]=0,vr[153]=0,_r[153]=-1,yr[153]=0,Jn[153]=1,er[153]=0,tr[153]=1,or[102]=0,sr[102]=-1,ar[102]=1,fr[102]=1,hr[102]=0,dr[102]=0,pr[102]=0,mr[102]=1,gr[102]=0,Xn[102]=-1,Kn[102]=0,Qn[102]=1,nr[155]=0,rr[155]=-1,ir[155]=0,cr[155]=1,lr[155]=0,ur[155]=1,vr[155]=0,_r[155]=1,yr[155]=1,Jn[155]=-1,er[155]=0,tr[155]=0,or[103]=0,sr[103]=1,ar[103]=0,fr[103]=-1,hr[103]=0,dr[103]=1,pr[103]=0,mr[103]=-1,gr[103]=1,Xn[103]=1,Kn[103]=0,Qn[103]=0,nr[152]=0,rr[152]=1,ir[152]=1,fr[152]=-1,hr[152]=0,dr[152]=1,cr[152]=-1,lr[152]=0,ur[152]=0,vr[152]=0,_r[152]=-1,yr[152]=0,pr[152]=0,mr[152]=-1,gr[152]=1,Jn[152]=1,er[152]=0,tr[152]=1,nr[156]=0,rr[156]=-1,ir[156]=1,fr[156]=1,hr[156]=0,dr[156]=1,cr[156]=-1,lr[156]=0,ur[156]=0,vr[156]=0,_r[156]=-1,yr[156]=0,pr[156]=0,mr[156]=1,gr[156]=1,Jn[156]=-1,er[156]=0,tr[156]=1,nr[137]=0,rr[137]=1,ir[137]=1,or[137]=0,sr[137]=1,ar[137]=0,cr[137]=-1,lr[137]=0,ur[137]=0,vr[137]=0,_r[137]=-1,yr[137]=0,Xn[137]=1,Kn[137]=0,Qn[137]=0,Jn[137]=1,er[137]=0,tr[137]=1,nr[139]=0,rr[139]=1,ir[139]=1,or[139]=0,sr[139]=-1,ar[139]=0,cr[139]=1,lr[139]=0,ur[139]=0,vr[139]=0,_r[139]=1,yr[139]=0,Xn[139]=-1,Kn[139]=0,Qn[139]=0,Jn[139]=1,er[139]=0,tr[139]=1,nr[98]=0,rr[98]=-1,ir[98]=0,or[98]=0,sr[98]=-1,ar[98]=1,fr[98]=1,hr[98]=0,dr[98]=0,cr[98]=1,lr[98]=0,ur[98]=1,pr[98]=0,mr[98]=1,gr[98]=0,Xn[98]=-1,Kn[98]=0,Qn[98]=1,nr[99]=0,rr[99]=1,ir[99]=0,or[99]=0,sr[99]=-1,ar[99]=1,fr[99]=1,hr[99]=0,dr[99]=0,cr[99]=-1,lr[99]=0,ur[99]=1,pr[99]=0,mr[99]=-1,gr[99]=0,Xn[99]=1,Kn[99]=0,Qn[99]=1,or[38]=0,sr[38]=-1,ar[38]=1,fr[38]=1,hr[38]=0,dr[38]=0,vr[38]=0,_r[38]=1,yr[38]=1,pr[38]=0,mr[38]=1,gr[38]=0,Xn[38]=-1,Kn[38]=0,Qn[38]=1,Jn[38]=-1,er[38]=0,tr[38]=0,or[39]=0,sr[39]=1,ar[39]=1,fr[39]=-1,hr[39]=0,dr[39]=0,vr[39]=0,_r[39]=-1,yr[39]=1,pr[39]=0,mr[39]=1,gr[39]=0,Xn[39]=-1,Kn[39]=0,Qn[39]=1,Jn[39]=1,er[39]=0,tr[39]=0;var X7=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},K7=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},Q7=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},J7=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},em=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},tm=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},nm=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},rm=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},jt=[],Rt=[],an=[],Xt=[],_n=[],hn=[],Cr=[],Lr=[];Xt[1]=_n[1]=18,Xt[169]=_n[169]=18,an[4]=Rt[4]=12,an[166]=Rt[166]=12,jt[16]=Lr[16]=4,jt[154]=Lr[154]=4,hn[64]=Cr[64]=22,hn[106]=Cr[106]=22,an[2]=hn[2]=17,Xt[2]=_n[2]=18,an[168]=hn[168]=17,Xt[168]=_n[168]=18,jt[8]=Xt[8]=9,Rt[8]=an[8]=12,jt[162]=Xt[162]=9,Rt[162]=an[162]=12,jt[32]=Lr[32]=4,Rt[32]=Cr[32]=1,jt[138]=Lr[138]=4,Rt[138]=Cr[138]=1,_n[128]=Lr[128]=21,hn[128]=Cr[128]=22,_n[42]=Lr[42]=21,hn[42]=Cr[42]=22,Rt[5]=_n[5]=14,Rt[165]=_n[165]=14,an[20]=Lr[20]=6,an[150]=Lr[150]=6,jt[80]=hn[80]=11,jt[90]=hn[90]=11,Xt[65]=Cr[65]=3,Xt[105]=Cr[105]=3,jt[160]=hn[160]=11,Rt[160]=_n[160]=14,jt[10]=hn[10]=11,Rt[10]=_n[10]=14,an[130]=Lr[130]=6,Xt[130]=Cr[130]=3,an[40]=Lr[40]=6,Xt[40]=Cr[40]=3,Rt[101]=Cr[101]=1,Rt[69]=Cr[69]=1,_n[149]=Lr[149]=21,_n[21]=Lr[21]=21,an[86]=hn[86]=17,an[84]=hn[84]=17,jt[89]=Xt[89]=9,jt[81]=Xt[81]=9,jt[96]=Cr[96]=0,Rt[96]=hn[96]=15,jt[74]=Cr[74]=0,Rt[74]=hn[74]=15,jt[24]=an[24]=8,Xt[24]=Lr[24]=7,jt[146]=an[146]=8,Xt[146]=Lr[146]=7,Rt[6]=hn[6]=15,an[6]=_n[6]=16,Rt[164]=hn[164]=15,an[164]=_n[164]=16,Xt[129]=Lr[129]=7,_n[129]=Cr[129]=20,Xt[41]=Lr[41]=7,_n[41]=Cr[41]=20,an[66]=Cr[66]=2,Xt[66]=hn[66]=19,an[104]=Cr[104]=2,Xt[104]=hn[104]=19,jt[144]=_n[144]=10,hn[144]=Lr[144]=23,jt[26]=_n[26]=10,hn[26]=Lr[26]=23,Rt[36]=Lr[36]=5,an[36]=Cr[36]=2,Rt[134]=Lr[134]=5,an[134]=Cr[134]=2,jt[9]=_n[9]=10,Rt[9]=Xt[9]=13,jt[161]=_n[161]=10,Rt[161]=Xt[161]=13,Rt[37]=Lr[37]=5,_n[37]=Cr[37]=20,Rt[133]=Lr[133]=5,_n[133]=Cr[133]=20,an[148]=_n[148]=16,hn[148]=Lr[148]=23,an[22]=_n[22]=16,hn[22]=Lr[22]=23,jt[82]=an[82]=8,Xt[82]=hn[82]=19,jt[88]=an[88]=8,Xt[88]=hn[88]=19,jt[73]=Cr[73]=0,Rt[73]=Xt[73]=13,jt[97]=Cr[97]=0,Rt[97]=Xt[97]=13,jt[145]=Xt[145]=9,_n[145]=Lr[145]=21,jt[25]=Xt[25]=9,_n[25]=Lr[25]=21,Rt[70]=Cr[70]=1,an[70]=hn[70]=17,Rt[100]=Cr[100]=1,an[100]=hn[100]=17,jt[34]=Xt[34]=9,Rt[34]=an[34]=12,_n[34]=Lr[34]=21,hn[34]=Cr[34]=22,jt[136]=Lr[136]=4,Rt[136]=Cr[136]=1,an[136]=hn[136]=17,Xt[136]=_n[136]=18,jt[35]=Lr[35]=4,Rt[35]=an[35]=12,Xt[35]=_n[35]=18,hn[35]=Cr[35]=22,jt[153]=Lr[153]=4,Xt[153]=_n[153]=18,Rt[102]=an[102]=12,hn[102]=Cr[102]=22,jt[155]=Xt[155]=9,_n[155]=Lr[155]=23,Rt[103]=Cr[103]=1,an[103]=hn[103]=17,jt[152]=Lr[152]=4,an[152]=hn[152]=17,Xt[152]=_n[152]=18,jt[156]=an[156]=8,Xt[156]=_n[156]=18,hn[156]=Lr[156]=23,jt[137]=Lr[137]=4,Rt[137]=Cr[137]=1,Xt[137]=_n[137]=18,jt[139]=Lr[139]=4,Rt[139]=Xt[139]=13,_n[139]=Cr[139]=20,jt[98]=Xt[98]=9,Rt[98]=an[98]=12,hn[98]=Cr[98]=22,jt[99]=Cr[99]=0,Rt[99]=an[99]=12,Xt[99]=hn[99]=19,Rt[38]=an[38]=12,_n[38]=Lr[38]=21,hn[38]=Cr[38]=22,Rt[39]=Lr[39]=5,an[39]=_n[39]=16,hn[39]=Cr[39]=22;var Pt=[];function sm(t,n,e){return function coe(t){return(t>0)-(t<0)||+t}((n[0]-t[0])*(e[1]-n[1])-(e[0]-n[0])*(n[1]-t[1]))}function AL(t,n){return n.geometry.coordinates[0].every(function(e){return WS(h3(e),t)})}Pt[1]=Pt[169]=X7,Pt[4]=Pt[166]=K7,Pt[16]=Pt[154]=Q7,Pt[64]=Pt[106]=J7,Pt[168]=Pt[2]=em,Pt[162]=Pt[8]=tm,Pt[138]=Pt[32]=nm,Pt[42]=Pt[128]=rm,Pt[5]=Pt[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},Pt[20]=Pt[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},Pt[80]=Pt[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},Pt[65]=Pt[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Pt[160]=Pt[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},Pt[130]=Pt[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},Pt[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Pt[101]=Pt[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},Pt[149]=Pt[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},Pt[86]=Pt[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},Pt[89]=Pt[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},Pt[96]=Pt[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},Pt[24]=Pt[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},Pt[6]=Pt[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},Pt[129]=Pt[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},Pt[66]=Pt[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Pt[144]=Pt[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Pt[36]=Pt[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},Pt[9]=Pt[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Pt[37]=Pt[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Pt[148]=Pt[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Pt[82]=Pt[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},Pt[73]=Pt[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Pt[145]=Pt[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Pt[70]=Pt[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Pt[34]=function(t){return[rm(t),tm(t)]},Pt[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Pt[136]=function(t){return[nm(t),em(t)]},Pt[153]=function(t){return[Q7(t),X7(t)]},Pt[102]=function(t){return[K7(t),J7(t)]},Pt[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Pt[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Pt[152]=function(t){return[Q7(t),em(t)]},Pt[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Pt[137]=function(t){return[nm(t),X7(t)]},Pt[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Pt[98]=function(t){return[tm(t),J7(t)]},Pt[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Pt[38]=function(t){return[K7(t),rm(t)]},Pt[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};const VL=function(){function t(n){this.id=t.buildId(n),this.coordinates=n,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(n){return n.join(",")},t.prototype.removeInnerEdge=function(n){this.innerEdges=this.innerEdges.filter(function(e){return e.from.id!==n.from.id})},t.prototype.removeOuterEdge=function(n){this.outerEdges=this.outerEdges.filter(function(e){return e.to.id!==n.to.id})},t.prototype.addOuterEdge=function(n){this.outerEdges.push(n),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var n=this;this.outerEdgesSorted||(this.outerEdges.sort(function(e,r){var i=e.to,o=r.to;if(i.coordinates[0]-n.coordinates[0]>=0&&o.coordinates[0]-n.coordinates[0]<0)return 1;if(i.coordinates[0]-n.coordinates[0]<0&&o.coordinates[0]-n.coordinates[0]>=0)return-1;if(i.coordinates[0]-n.coordinates[0]==0&&o.coordinates[0]-n.coordinates[0]==0)return i.coordinates[1]-n.coordinates[1]>=0||o.coordinates[1]-n.coordinates[1]>=0?i.coordinates[1]-o.coordinates[1]:o.coordinates[1]-i.coordinates[1];var a=sm(n.coordinates,i.coordinates,o.coordinates);return a<0?1:a>0?-1:Math.pow(i.coordinates[0]-n.coordinates[0],2)+Math.pow(i.coordinates[1]-n.coordinates[1],2)-(Math.pow(o.coordinates[0]-n.coordinates[0],2)+Math.pow(o.coordinates[1]-n.coordinates[1],2))}),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(n){return this.sortOuterEdges(),this.outerEdges[n]},t.prototype.addInnerEdge=function(n){this.innerEdges.push(n)},t}(),doe=function(){function t(n,e){this.from=n,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(n){return this.from.id===n.from.id&&this.to.id===n.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return function I7(t,n,e){if(void 0===e&&(e={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return H2({type:"LineString",coordinates:t},n,e)}([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(n){return sm(n.from.coordinates,n.to.coordinates,this.to.coordinates)},t}(),moe=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(n){this.edges.push(n),this.polygon=this.envelope=void 0},t.prototype.get=function(n){return this.edges[n]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(n){this.edges.forEach(n)},t.prototype.map=function(n){return this.edges.map(n)},t.prototype.some=function(n){return this.edges.some(n)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var n=this,e=this.edges.reduce(function(a,l,f){return l.from.coordinates[1]>n.edges[a].from.coordinates[1]&&(a=f),a},0),r=(0===e?this.length:e)-1,i=(e+1)%this.length,o=sm(this.edges[r].from.coordinates,this.edges[e].from.coordinates,this.edges[i].from.coordinates);return 0===o?this.edges[r].from.coordinates[0]>this.edges[i].from.coordinates[0]:o>0},t.prototype.toMultiPoint=function(){return function BS(t,n,e){return void 0===e&&(e={}),H2({type:"MultiPoint",coordinates:t},n,e)}(this.edges.map(function(n){return n.from.coordinates}))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var n=this.edges.map(function(e){return e.from.coordinates});return n.push(this.edges[0].from.coordinates),this.polygon=S6([n])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=nL(this.toPolygon())},t.findEdgeRingContaining=function(n,e){var i,o,r=n.getEnvelope();return e.forEach(function(a){var l=a.getEnvelope();if(o&&(i=o.getEnvelope()),!function loe(t,n){var e=t.geometry.coordinates[0].map(function(a){return a[0]}),r=t.geometry.coordinates[0].map(function(a){return a[1]}),i=n.geometry.coordinates[0].map(function(a){return a[0]}),o=n.geometry.coordinates[0].map(function(a){return a[1]});return Math.max.apply(null,e)===Math.max.apply(null,i)&&Math.max.apply(null,r)===Math.max.apply(null,o)&&Math.min.apply(null,e)===Math.min.apply(null,i)&&Math.min.apply(null,r)===Math.min.apply(null,o)}(l,r)&&AL(l,r)){for(var f=n.map(function(W){return W.from.coordinates}),d=void 0,m=function(W){a.some(function(Q){return function uoe(t,n){return t[0]===n[0]&&t[1]===n[1]}(W,Q.from.coordinates)})||(d=W)},_=0,C=f;_<C.length;_++)m(C[_]);d&&a.inside(h3(d))&&(!o||AL(i,l))&&(o=a)}}),o},t.prototype.inside=function(n){return WS(n,this.toPolygon())},t}();function UL(t){for(var n=t,e=[];n.parent;)e.unshift(n),n=n.parent;return e}!function(){function t(){this.edges=[],this.nodes={}}t.fromGeoJson=function(n){!function goe(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(n);var e=new t;return function D6(t,n){jS(t,function(e,r,i,o,a){var f,l=null===e?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==n(H2(e,i,{bbox:o,id:a}),r,0)&&void 0}switch(l){case"MultiPoint":f="Point";break;case"MultiLineString":f="LineString";break;case"MultiPolygon":f="Polygon"}for(var d=0;d<e.coordinates.length;d++)if(!1===n(H2({type:f,coordinates:e.coordinates[d]},i),r,d))return!1})}(n,function(r){(function $ne(t,n,e){if(!t)throw new Error("No feature passed");if(!e)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+e+", Feature with geometry required");if(!t.geometry||t.geometry.type!==n)throw new Error("Invalid input to "+e+": must be a "+n+", given "+t.geometry.type)})(r,"LineString","Graph::fromGeoJson"),function kne(t,n,e,r){var i=e;eu(t,function(o,a,l,f,d){i=0===a&&void 0===e?o:n(i,o,a,l,f,d)},r)}(r,function(i,o){if(i){var a=e.getNode(i),l=e.getNode(o);e.addEdge(a,l)}return o})}),e},t.prototype.getNode=function(n){var e=VL.buildId(n),r=this.nodes[e];return r||(r=this.nodes[e]=new VL(n)),r},t.prototype.addEdge=function(n,e){var r=new doe(n,e),i=r.getSymetric();this.edges.push(r),this.edges.push(i)},t.prototype.deleteDangles=function(){var n=this;Object.keys(this.nodes).map(function(e){return n.nodes[e]}).forEach(function(e){return n._removeIfDangle(e)})},t.prototype._removeIfDangle=function(n){var e=this;if(n.innerEdges.length<=1){var r=n.getOuterEdges().map(function(i){return i.to});this.removeNode(n),r.forEach(function(i){return e._removeIfDangle(i)})}},t.prototype.deleteCutEdges=function(){var n=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(e){e.label===e.symetric.label&&(n.removeEdge(e.symetric),n.removeEdge(e))})},t.prototype._computeNextCWEdges=function(n){var e=this;typeof n>"u"?Object.keys(this.nodes).forEach(function(r){return e._computeNextCWEdges(e.nodes[r])}):n.getOuterEdges().forEach(function(r,i){n.getOuterEdge((0===i?n.getOuterEdges().length:i)-1).symetric.next=r})},t.prototype._computeNextCCWEdges=function(n,e){for(var i,o,r=n.getOuterEdges(),a=r.length-1;a>=0;--a){var l=r[a],f=l.symetric,d=void 0,m=void 0;l.label===e&&(d=l),f.label===e&&(m=f),d&&m&&(m&&(o=m),d&&(o&&(o.next=d,o=void 0),i||(i=d)))}o&&(o.next=i)},t.prototype._findLabeledEdgeRings=function(){var n=[],e=0;return this.edges.forEach(function(r){if(!(r.label>=0)){n.push(r);var i=r;do{i.label=e,i=i.next}while(!r.isEqual(i));e++}}),n},t.prototype.getEdgeRings=function(){var n=this;this._computeNextCWEdges(),this.edges.forEach(function(r){r.label=void 0}),this._findLabeledEdgeRings().forEach(function(r){n._findIntersectionNodes(r).forEach(function(i){n._computeNextCCWEdges(i,r.label)})});var e=[];return this.edges.forEach(function(r){r.ring||e.push(n._findEdgeRing(r))}),e},t.prototype._findIntersectionNodes=function(n){var e=[],r=n,i=function(){var o=0;r.from.getOuterEdges().forEach(function(a){a.label===n.label&&++o}),o>1&&e.push(r.from),r=r.next};do{i()}while(!n.isEqual(r));return e},t.prototype._findEdgeRing=function(n){var e=n,r=new moe;do{r.push(e),e.ring=r,e=e.next}while(!n.isEqual(e));return r},t.prototype.removeNode=function(n){var e=this;n.getOuterEdges().forEach(function(r){return e.removeEdge(r)}),n.innerEdges.forEach(function(r){return e.removeEdge(r)}),delete this.nodes[n.id]},t.prototype.removeEdge=function(n){this.edges=this.edges.filter(function(e){return!e.isEqual(n)}),n.deleteEdge()}}(),U(5013),U(7470),U(5331);var I6={search:function(t,n,e,r){t.cleanDirty();var i=(r=r||{}).heuristic||I6.heuristics.manhattan,o=r.closest||!1,a=function Aoe(){return new jL(function(t){return t.f})}(),l=n;for(n.h=i(n,e),a.push(n);a.size()>0;){var f=a.pop();if(f===e)return UL(f);f.closed=!0;for(var d=t.neighbors(f),m=0,_=d.length;m<_;++m){var C=d[m];if(!C.closed&&!C.isWall()){var S=f.g+C.getCost(f),W=C.visited;(!W||S<C.g)&&(C.visited=!0,C.parent=f,C.h=C.h||i(C,e),C.g=S,C.f=C.g+C.h,t.markDirty(C),o&&(C.h<l.h||C.h===l.h&&C.g<l.g)&&(l=C),W?a.rescoreElement(C):a.push(C))}}}return o?UL(l):[]},heuristics:{manhattan:function(t,n){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},diagonal:function(t,n){var r=Math.sqrt(2),i=Math.abs(n.x-t.x),o=Math.abs(n.y-t.y);return 1*(i+o)+(r-2)*Math.min(i,o)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function p3(t,n){n=n||{},this.nodes=[],this.diagonal=!!n.diagonal,this.grid=[];for(var e=0;e<t.length;e++){this.grid[e]=[];for(var r=0,i=t[e];r<i.length;r++){var o=new N6(e,r,i[r]);this.grid[e][r]=o,this.nodes.push(o)}}this.init()}function N6(t,n,e){this.x=t,this.y=n,this.weight=e}function jL(t){this.content=[],this.scoreFunction=t}function cm(){this._=null}function k6(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ou(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function su(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function GL(t){for(;t.L;)t=t.L;return t}p3.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)I6.cleanNode(this.nodes[t])},p3.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)I6.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},p3.prototype.markDirty=function(t){this.dirtyNodes.push(t)},p3.prototype.neighbors=function(t){var n=[],e=t.x,r=t.y,i=this.grid;return i[e-1]&&i[e-1][r]&&n.push(i[e-1][r]),i[e+1]&&i[e+1][r]&&n.push(i[e+1][r]),i[e]&&i[e][r-1]&&n.push(i[e][r-1]),i[e]&&i[e][r+1]&&n.push(i[e][r+1]),this.diagonal&&(i[e-1]&&i[e-1][r-1]&&n.push(i[e-1][r-1]),i[e+1]&&i[e+1][r-1]&&n.push(i[e+1][r-1]),i[e-1]&&i[e-1][r+1]&&n.push(i[e-1][r+1]),i[e+1]&&i[e+1][r+1]&&n.push(i[e+1][r+1])),n},p3.prototype.toString=function(){for(var e,r,i,o,t=[],n=this.grid,a=0,l=n.length;a<l;a++){for(e=[],i=0,o=(r=n[a]).length;i<o;i++)e.push(r[i].weight);t.push(e.join(" "))}return t.join("\n")},N6.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},N6.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},N6.prototype.isWall=function(){return 0===this.weight},jL.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],n=this.content.pop();return this.content.length>0&&(this.content[0]=n,this.bubbleUp(0)),t},remove:function(t){var n=this.content.indexOf(t),e=this.content.pop();n!==this.content.length-1&&(this.content[n]=e,this.scoreFunction(e)<this.scoreFunction(t)?this.sinkDown(n):this.bubbleUp(n))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var n=this.content[t];t>0;){var e=(t+1>>1)-1,r=this.content[e];if(!(this.scoreFunction(n)<this.scoreFunction(r)))break;this.content[e]=n,this.content[t]=r,t=e}},bubbleUp:function(t){for(var n=this.content.length,e=this.content[t],r=this.scoreFunction(e);;){var l,i=t+1<<1,o=i-1,a=null;if(o<n&&(l=this.scoreFunction(this.content[o]))<r&&(a=o),i<n&&this.scoreFunction(this.content[i])<(null===a?r:l)&&(a=i),null===a)break;this.content[t]=this.content[a],this.content[a]=e,t=a}}},cm.prototype={constructor:cm,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=GL(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(ou(this,e),e=(t=e).U),e.C=!1,r.C=!0,su(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(su(this,e),e=(t=e).U),e.C=!1,r.C=!0,ou(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,o,a,n=t.U,r=t.L,i=t.R;if(o=r?i?GL(i):r:i,n?n.L===t?n.L=o:n.R=o:this._=o,r&&i?(a=o.C,o.C=t.C,o.L=r,r.U=o,o!==i?(n=o.U,o.U=t.U,n.L=t=o.R,o.R=i,i.U=o):(o.U=n,n=o,t=o.R)):(a=t.C,t=o),t&&(t.U=n),!a){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===n.L){if((e=n.R).C&&(e.C=!1,n.C=!0,ou(this,n),e=n.R),e.L&&e.L.C||e.R&&e.R.C){(!e.R||!e.R.C)&&(e.L.C=!1,e.C=!0,su(this,e),e=n.R),e.C=n.C,n.C=e.R.C=!1,ou(this,n),t=this._;break}}else if((e=n.L).C&&(e.C=!1,n.C=!0,su(this,n),e=n.L),e.L&&e.L.C||e.R&&e.R.C){(!e.L||!e.L.C)&&(e.R.C=!1,e.C=!0,ou(this,e),e=n.L),e.C=n.C,n.C=e.L.C=!1,su(this,n),t=this._;break}e.C=!0,t=n,n=n.U}while(!t.C);t&&(t.C=!1)}}};const qL=cm;function au(t,n,e,r){var i=[null,null],o=Fs.push(i)-1;return i.left=t,i.right=n,e&&O6(i,t,n,e),r&&O6(i,n,t,r),Ua[t.index].halfedges.push(o),Ua[n.index].halfedges.push(o),i}function cu(t,n,e){var r=[n,e];return r.left=t,r}function O6(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function Toe(t,n,e,r,i){var Q,o=t[0],a=t[1],l=o[0],f=o[1],_=0,C=1,S=a[0]-l,W=a[1]-f;if(Q=n-l,S||!(Q>0)){if(Q/=S,S<0){if(Q<_)return;Q<C&&(C=Q)}else if(S>0){if(Q>C)return;Q>_&&(_=Q)}if(Q=r-l,S||!(Q<0)){if(Q/=S,S<0){if(Q>C)return;Q>_&&(_=Q)}else if(S>0){if(Q<_)return;Q<C&&(C=Q)}if(Q=e-f,W||!(Q>0)){if(Q/=W,W<0){if(Q<_)return;Q<C&&(C=Q)}else if(W>0){if(Q>C)return;Q>_&&(_=Q)}if(Q=i-f,W||!(Q<0)){if(Q/=W,W<0){if(Q>C)return;Q>_&&(_=Q)}else if(W>0){if(Q<_)return;Q<C&&(C=Q)}return!(_>0)&&!(C<1)||(_>0&&(t[0]=[l+_*S,f+_*W]),C<1&&(t[1]=[l+C*S,f+C*W])),!0}}}}}function Ioe(t,n,e,r,i){var o=t[1];if(o)return!0;var Q,Ce,a=t[0],l=t.left,f=t.right,d=l[0],m=l[1],_=f[0],C=f[1],S=(d+_)/2;if(C===m){if(S<n||S>=r)return;if(d>_){if(a){if(a[1]>=i)return}else a=[S,e];o=[S,i]}else{if(a){if(a[1]<e)return}else a=[S,i];o=[S,e]}}else if(Ce=(m+C)/2-(Q=(d-_)/(C-m))*S,Q<-1||Q>1)if(d>_){if(a){if(a[1]>=i)return}else a=[(e-Ce)/Q,e];o=[(i-Ce)/Q,i]}else{if(a){if(a[1]<e)return}else a=[(i-Ce)/Q,i];o=[(e-Ce)/Q,e]}else if(m<C){if(a){if(a[0]>=r)return}else a=[n,Q*n+Ce];o=[r,Q*r+Ce]}else{if(a){if(a[0]<n)return}else a=[r,Q*r+Ce];o=[n,Q*n+Ce]}return t[0]=a,t[1]=o,!0}function Ooe(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function $L(t,n){return n[+(n.left!==t.site)]}function Roe(t,n){return n[+(n.left===t.site)]}var lm,WL=[];function Uoe(){k6(this),this.x=this.y=this.arc=this.site=this.cy=null}function m3(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i[0],l=i[1],f=r[0]-a,d=r[1]-l,m=o[0]-a,_=o[1]-l,C=2*(f*_-d*m);if(!(C>=-Woe)){var S=f*f+d*d,W=m*m+_*_,Q=(_*S-d*W)/C,Ce=(f*W-m*S)/C,ge=WL.pop()||new Uoe;ge.arc=t,ge.site=i,ge.x=Q+a,ge.y=(ge.cy=Ce+l)+Math.sqrt(Q*Q+Ce*Ce),t.circle=ge;for(var ue=null,pe=lu._;pe;)if(ge.y<pe.y||ge.y===pe.y&&ge.x<=pe.x){if(!pe.L){ue=pe.P;break}pe=pe.L}else{if(!pe.R){ue=pe;break}pe=pe.R}lu.insert(ue,ge),ue||(lm=ge)}}}}function g3(t){var n=t.circle;n&&(n.P||(lm=n.N),lu.remove(n),WL.push(n),k6(n),t.circle=null)}var YL=[];function joe(){k6(this),this.edge=this.site=this.circle=null}function ZL(t){var n=YL.pop()||new joe;return n.site=t,n}function um(t){g3(t),v3.remove(t),YL.push(t),k6(t)}function Goe(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,a=t.N,l=[t];um(t);for(var f=o;f.circle&&Math.abs(e-f.circle.x)<Qi&&Math.abs(r-f.circle.cy)<Qi;)o=f.P,l.unshift(f),um(f),f=o;l.unshift(f),g3(f);for(var d=a;d.circle&&Math.abs(e-d.circle.x)<Qi&&Math.abs(r-d.circle.cy)<Qi;)a=d.N,l.push(d),um(d),d=a;l.push(d),g3(d);var _,m=l.length;for(_=1;_<m;++_)O6((d=l[_]).edge,(f=l[_-1]).site,d.site,i);(d=l[m-1]).edge=au((f=l[0]).site,d.site,null,i),m3(f),m3(d)}function qoe(t){for(var r,i,o,a,n=t[0],e=t[1],l=v3._;l;)if((o=XL(l,e)-n)>Qi)l=l.L;else{if(!((a=n-$oe(l,e))>Qi)){o>-Qi?(r=l.P,i=l):a>-Qi?(r=l,i=l.N):r=i=l;break}if(!l.R){r=l;break}l=l.R}!function koe(t){Ua[t.index]={site:t,halfedges:[]}}(t);var f=ZL(t);if(v3.insert(r,f),r||i){if(r===i)return g3(r),i=ZL(r.site),v3.insert(f,i),f.edge=i.edge=au(r.site,f.site),m3(r),void m3(i);if(!i)return void(f.edge=au(r.site,f.site));g3(r),g3(i);var d=r.site,m=d[0],_=d[1],C=t[0]-m,S=t[1]-_,W=i.site,Q=W[0]-m,Ce=W[1]-_,ge=2*(C*Ce-S*Q),ue=C*C+S*S,pe=Q*Q+Ce*Ce,Te=[(Ce*ue-S*pe)/ge+m,(C*pe-Q*ue)/ge+_];O6(i.edge,d,W,Te),f.edge=au(d,t,null,Te),i.edge=au(t,W,null,Te),m3(r),m3(i)}}function XL(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var a=t.P;if(!a)return-1/0;var l=(e=a.site)[0],f=e[1],d=f-n;if(!d)return l;var m=l-r,_=1/o-1/d,C=m/d;return _?(-C+Math.sqrt(C*C-2*_*(m*m/(-2*d)-f+d/2+i-o/2)))/_+r:(r+l)/2}function $oe(t,n){var e=t.N;if(e)return XL(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var v3,Ua,lu,Fs,Qi=1e-6,Woe=1e-12;function Yoe(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function Zoe(t,n){return n[1]-t[1]||n[0]-t[0]}function KL(t,n){var r,i,o,e=t.sort(Zoe).pop();for(Fs=[],Ua=new Array(t.length),v3=new qL,lu=new qL;;)if(o=lm,e&&(!o||e[1]<o.y||e[1]===o.y&&e[0]<o.x))(e[0]!==r||e[1]!==i)&&(qoe(e),r=e[0],i=e[1]),e=t.pop();else{if(!o)break;Goe(o.arc)}if(function Foe(){for(var e,r,i,o,t=0,n=Ua.length;t<n;++t)if((e=Ua[t])&&(o=(r=e.halfedges).length)){var a=new Array(o),l=new Array(o);for(i=0;i<o;++i)a[i]=i,l[i]=Ooe(e,Fs[r[i]]);for(a.sort(function(f,d){return l[d]-l[f]}),i=0;i<o;++i)l[i]=r[a[i]];for(i=0;i<o;++i)r[i]=l[i]}}(),n){var a=+n[0][0],l=+n[0][1],f=+n[1][0],d=+n[1][1];(function Noe(t,n,e,r){for(var o,i=Fs.length;i--;)Ioe(o=Fs[i],t,n,e,r)&&Toe(o,t,n,e,r)&&(Math.abs(o[0][0]-o[1][0])>Qi||Math.abs(o[0][1]-o[1][1])>Qi)||delete Fs[i]})(a,l,f,d),function Boe(t,n,e,r){var o,a,l,f,d,m,_,C,S,W,Q,Ce,i=Ua.length,ge=!0;for(o=0;o<i;++o)if(a=Ua[o]){for(l=a.site,f=(d=a.halfedges).length;f--;)Fs[d[f]]||d.splice(f,1);for(f=0,m=d.length;f<m;)Q=(W=Roe(a,Fs[d[f]]))[0],Ce=W[1],C=(_=$L(a,Fs[d[++f%m]]))[0],S=_[1],(Math.abs(Q-C)>Qi||Math.abs(Ce-S)>Qi)&&(d.splice(f,0,Fs.push(cu(l,W,Math.abs(Q-t)<Qi&&r-Ce>Qi?[t,Math.abs(C-t)<Qi?S:r]:Math.abs(Ce-r)<Qi&&e-Q>Qi?[Math.abs(S-r)<Qi?C:e,r]:Math.abs(Q-e)<Qi&&Ce-n>Qi?[e,Math.abs(C-e)<Qi?S:n]:Math.abs(Ce-n)<Qi&&Q-t>Qi?[Math.abs(S-n)<Qi?C:t,n]:null))-1),++m);m&&(ge=!1)}if(ge){var ue,pe,Te,Oe=1/0;for(o=0,ge=null;o<i;++o)(a=Ua[o])&&(Te=(ue=(l=a.site)[0]-t)*ue+(pe=l[1]-n)*pe)<Oe&&(Oe=Te,ge=a);if(ge){var We=[t,n],Ze=[t,r],et=[e,r],ke=[e,n];ge.halfedges.push(Fs.push(cu(l=ge.site,We,Ze))-1,Fs.push(cu(l,Ze,et))-1,Fs.push(cu(l,et,ke))-1,Fs.push(cu(l,ke,We))-1)}}for(o=0;o<i;++o)(a=Ua[o])&&(a.halfedges.length||delete Ua[o])}(a,l,f,d)}this.edges=Fs,this.cells=Ua,v3=lu=Fs=Ua=null}function cc(){return new R6}function R6(){this.reset()}KL.prototype={constructor:KL,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(r){return $L(n,t[r])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(l=(o=e.halfedges).length)for(var o,l,f,i=e.site,a=-1,d=n[o[l-1]],m=d.left===i?d.right:d.left;++a<l;)f=m,m=(d=n[o[a]]).left===i?d.right:d.left,f&&m&&r<f.index&&r<m.index&&Yoe(i,f,m)<0&&t.push([i.data,f.data,m.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var i,l,r=this,o=r._found||0,a=r.cells.length;!(l=r.cells[o]);)if(++o>=a)return null;var f=t-l.site[0],d=n-l.site[1],m=f*f+d*d;do{l=r.cells[i=o],o=null,l.halfedges.forEach(function(_){var C=r.edges[_],S=C.left;if(S!==l.site&&S||(S=C.right)){var W=t-S[0],Q=n-S[1],Ce=W*W+Q*Q;Ce<m&&(m=Ce,o=S.index)}})}while(null!==o);return r._found=i,null==e||m<=e*e?l.site:null}},U(9855),U(770),R6.prototype={constructor:R6,reset:function(){this.s=this.t=0},add:function(t){cD(F6,t,this.t),cD(this,F6.s,this.s),this.s?this.t+=F6.t:this.s=F6.t},valueOf:function(){return this.s}};var F6=new R6;function cD(t,n,e){var r=t.s=n+e,i=r-n;t.t=n-(r-i)+(e-i)}var oo=Math.PI,Ma=oo/2,_3=2*oo,Wi=oo/180,uu=(Math,Math.atan),y3=Math.atan2,Wr=Math.cos,Dr=(Math,Math,Math,Math,Math,Math.sin),A2=(Math,Math.sqrt);Math;function C3(t){return t>1?Ma:t<-1?-Ma:Math.asin(t)}function xm(t,n){return[t>oo?t-_3:t<-oo?t+_3:t,n]}function ID(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}cc(),cc(),cc(),xm.invert=xm,function Lse(t){1===t.length&&(t=function Dse(t){return function(n,e){return ID(t(n),e)}}(t))}(ID),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);cc();function jm(){}function aP(t){return function(n,e){var r=Wr(n),i=Wr(e),o=t(r*i);return[o*i*Dr(n),o*Dr(e)]}}function Cu(t){return function(n,e){var r=A2(n*n+e*e),i=t(r),o=Dr(i),a=Wr(i);return[y3(n*o,r*a),C3(r&&e*o/r)]}}function qm(t,n){return[t,n]}cc(),cc(),cc(),cc(),function iP(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}(4.5),jm.prototype={constructor:jm,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Wr(30*Wi),function oP(t){return function(n){var e=new jm;for(var r in t)e[r]=t[r];return e.stream=n,e}}({point:function(t,n){this.stream.point(t*Wi,n*Wi)}}),aP(function(t){return A2(2/(1+t))}).invert=Cu(function(t){return 2*C3(t/2)}),aP(function(t){return(t=function lse(t){return t>1?0:t<-1?oo:Math.acos(t)}(t))&&t/Dr(t)}).invert=Cu(function(t){return t}),qm.invert=qm,Cu(uu),Cu(C3),Cu(function(t){return 2*uu(t)});var bae=U(5077);class Pr{constructor(){this._patients=[],this._hasBeenPartitioned=!1,this._color="#0d0d0d",this._shouldDisplayPatients=!1,this._shouldDisplayArea=!0,this._isHighlighted=!1,this._milageEstimate=-1,this._diameter=-1,this._shape=[]}IsPointWithinCluster(n){let e=bae(this._shape,n);return-1==e||0==e}Destroy(){if(void 0!==this._leafletMarkerCluster)try{Pr.LeafletMarkerClustersGroup.removeLayer(this._leafletMarkerCluster)}catch{}try{Pr.MappedPolygons.removeLayer(this._polygon)}catch{}try{Pr.MappedPolygons.removeLayer(this._routePolyline)}catch{}}get diameter(){return this._diameter}set diameter(n){this._diameter=n}get routePolyline(){return this._routePolyline}set routePolyline(n){try{Pr.MappedPolygons.removeLayer(this._routePolyline)}catch{}this._routePolyline=n,this._routePolyline.addTo(Pr.MappedPolygons)}get milageEstimate(){return this._milageEstimate}set milageEstimate(n){this._milageEstimate=n}get isHighlighted(){return this._isHighlighted}set isHighlighted(n){this.isHighlighted!=n&&(this._isHighlighted=n,1==this._isHighlighted?this._polygon&&this._polygon.setStyle({color:"#f7be00"}):this._polygon&&this._polygon.setStyle({color:this._color}))}get mapComponent(){return this._mapComponent}set mapComponent(n){this._mapComponent=n}get patients(){return this._patients}set patients(n){this._patients=n}get shouldDisplayPatients(){return this._shouldDisplayPatients}set shouldDisplayPatients(n){this._shouldDisplayPatients!=n&&(this._shouldDisplayPatients=n,this.mapComponent.OnZoomChanged(this))}GetHaversineDistance(n,e){function r(Ce){return Ce*Math.PI/180}var i=e[0],o=e[1],a=n[0],l=n[1],m=r(i-a),C=r(o-l),S=Math.sin(m/2)*Math.sin(m/2)+Math.cos(r(a))*Math.cos(r(i))*Math.sin(C/2)*Math.sin(C/2);return 2*Math.atan2(Math.sqrt(S),Math.sqrt(1-S))*6371*.6214}CalculateDiameter(){let n=0;for(let e=0;e<this._patients.length;e++)for(let r=e+1;r<this._patients.length;r++){let i=this.GetHaversineDistance(this._patients[e].location,this._patients[r].location);i>n&&(n=i)}void 0!==this._polygon&&this._polygon.setTooltipContent(`${this._patients.length}`),this._diameter=Math.round(100*n)/100}get shouldDisplayArea(){return this._shouldDisplayArea}set shouldDisplayArea(n){if(n!=this._shouldDisplayArea)if(this._shouldDisplayArea=n,this._shouldDisplayArea){if(void 0!==this._polygon){try{Pr.MappedPolygons.removeLayer(this._polygon)}catch{}this._polygon.addTo(Pr.MappedPolygons)}if(void 0!==this._routePolyline){try{Pr.MappedPolygons.removeLayer(this._routePolyline)}catch{}this._routePolyline.addTo(Pr.MappedPolygons)}}else{try{Pr.MappedPolygons.removeLayer(this._polygon)}catch{}try{Pr.MappedPolygons.removeLayer(this._routePolyline)}catch{}}}set hasBeenPartitioned(n){this._hasBeenPartitioned=n}get hasBeenPartitioned(){return this._hasBeenPartitioned}set leafletMarkerCluster(n){try{Pr.LeafletMarkerClustersGroup.removeLayer(this._leafletMarkerCluster)}catch{}this._leafletMarkerCluster=n,this._leafletMarkerCluster.addTo(Pr.LeafletMarkerClustersGroup)}get leafletMarkerCluster(){return this._leafletMarkerCluster}set polygon(n){try{Pr.MappedPolygons.removeLayer(this._polygon)}catch{}this._polygon=n,this._polygon.bindTooltip(`${this._patients.length}`,{permanent:!0,direction:"center"}),this._polygon.addTo(Pr.MappedPolygons)}get polygon(){return this._polygon}set shape(n){this._shape=n}get shape(){return this._shape}set color(n){this._color=n,this._polygon&&!this._isHighlighted&&this._polygon.setStyle({color:this._color})}get color(){return this._color}}Pr.LeafletMarkerClustersGroup=new sn.FeatureGroup,Pr.MappedPolygons=new sn.FeatureGroup,Pr.MappedPatients=new sn.FeatureGroup;class I2{constructor(){this._latitude=0,this._longitude=0,this._patUID="",this._zip="",this._location=[0,0],this._memberAddress="",this._city="",this._state="",this._county="",this._squaredDistanceFromOrigin=-1}get squaredDistanceFromOrigin(){return this._squaredDistanceFromOrigin}set squaredDistanceFromOrigin(n){this._squaredDistanceFromOrigin=n}get marker(){return this._marker}set marker(n){this._marker=n}get county(){return this._county}set county(n){this._county=n}get patUID(){return this._patUID}set patUID(n){this._patUID=n}get zip(){return this._zip}set zip(n){this._zip=n}get state(){return this._state}set state(n){this._state=n}get city(){return this._city}set city(n){this._city=n}set memberAddress(n){this._memberAddress=n}get memberAddress(){return this._memberAddress}set longitude(n){this._longitude=n,this.location=[this._latitude,this._longitude]}get longitude(){return this._longitude}set latitude(n){this._latitude=n,this.location=[this._latitude,this._longitude]}get latitude(){return this._latitude}set location(n){this._location=n,this._latitude=this._location[0],this._longitude=this._location[1]}get location(){return this._location}}I2.HighlightedStyle="\n            background-color: #ffd500;\n            width: 1.25rem;\n            height: 1.25rem;\n            display: block;\n            left: 0;\n            top: 0;\n            position: relative;\n            border-radius: 1.25rem;\n            border: 1px solid #000000;\n            text-align: center;\n            color: white;\n            box-shadow: 2px 2px 3px grey;",I2.HighlightedIcon=sn.divIcon({className:"patient-icon"}),I2.HoveredStyle="\n              background-color: #ff7300;\n              width: 1.25rem;\n              height: 1.25rem;\n              display: block;\n              left: 0;\n              top: 0;\n              position: relative;\n              border-radius: 1.25rem;\n              border: 1px solid #000000;\n              text-align: center;\n              color: white;\n              box-shadow: 2px 2px 3px grey;",I2.HoveredIcon=sn.divIcon({className:"patient-icon"}),I2.DefaultStyle="\n              background-color: #000000;\n              width: 30px;\n              height: 30px;\n              display: block;\n              left: 0;\n              top: 0;\n              position: relative;\n              border-radius: 50%;\n              border: 1px solid #FFFFFF;\n              text-align: center;\n              color: white;\n              box-shadow: 2px 2px 3px grey;",I2.DefaultIcon=sn.divIcon({className:"patient-icon"});class yP extends sn.Marker{constructor(n,e,r){super(n,r),this.setData(e)}getData(){return this.patient}setData(n){this.patient=n}}U(2295),U(9307);var Mae=U(5077),wae=U(4223);let xae=(()=>{class t{constructor(){this.markers=new sn.FeatureGroup,this.Clusters=[],this.Patients=[],this.previousClusters=[],this.previousUnclusteredPatients=[],this.CanUndo=!1,this.UnclusteredPatientCount=1,this.PatientsAreVisible=!1,this.miniMarkers=new sn.FeatureGroup,this.colors=["#e6194B"],this.polygonColorGradient=new wae,this.startingPatientCount=0,this.OnClusterClicked=new jr,this.OnPatientsClicked=new jr,this.OnBoxSelect=new jr,this.OnClusterMouseOver=new jr,this.OnClusterMouseLeave=new jr,this.OnDeselect=new jr}ngAfterViewInit(){this.polygonColorGradient.setSpectrum("#ff0000","#640000"),this.initMap()}initMap(){this.CreateBoxSelectHandler(),this.map=sn.map("map",{center:[39.8282,-98.5795],zoom:4,layers:[this.markers,this.miniMarkers,Pr.LeafletMarkerClustersGroup,Pr.MappedPolygons,Pr.MappedPatients]}),sn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,minZoom:4,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.map),this.map.on("click",r=>{let i=!1;for(let o=0;o<this.Clusters.length;o++)if(this.Clusters[o].IsPointWithinCluster([r.latlng.lat,r.latlng.lng])){i=!0;break}i||this.OnDeselect.emit({})}),this.map.on("dblclick",r=>{this.miniMarkers.clearLayers()}),this.map.on("zoomend",()=>{this.OnZoomChanged()}),this.map.on("boxselectend",r=>{this.OnBoxSelect.emit({bounds:r.boxSelectBounds})}),Pr.Map=this.map}AreMappedPolygonsVisible(){return this.map.hasLayer(Pr.MappedPolygons)}StorePreviousClusters(){this.previousClusters=[];for(let e=0;e<this.Clusters.length;e++){let i=this.CloneCluster(this.Clusters[e]);this.previousClusters.push(i)}this.previousUnclusteredPatients=[];for(let e=0;e<this.Patients.length;e++){let r=!0;for(let i=0;i<this.Clusters.length;i++)if(this.Clusters[i].patients.includes(this.Patients[e])){r=!1;break}r&&this.previousUnclusteredPatients.push(this.Patients[e])}for(let e=this.Clusters.length-1;e>=0;e--)if(this.Clusters[e].patients.length<=0){let r=this.Clusters[e];this.Clusters.splice(e,1),r.Destroy();continue}}RestoreClusters(){if(0!=this.previousClusters.length){this.CanUndo=!1;for(let e=this.Clusters.length-1;e>=0;e--){let r=this.Clusters[e];this.Clusters.splice(e,1),r.Destroy()}this.Clusters=[];for(let e=0;e<this.previousClusters.length;e++){let i=this.CloneCluster(this.previousClusters[e]),o=sn.polygon(i.shape,{color:`${i.color}`,weight:2});o.on("click",()=>{this.OnClusterClicked.emit({cluster:i})}),i.polygon=o,this.Clusters.push(i)}for(let e=0;e<this.previousUnclusteredPatients.length;e++){let r=this.previousUnclusteredPatients[e].marker;this.map.hasLayer(r)||r.addTo(this.map),r.setOpacity(1)}this.previousUnclusteredPatients=[],this.previousClusters=[],this.OnZoomChanged(),this.GetUnclusteredPatientCount()}}GetUnclusteredPatientCount(){let e=0;for(let r=this.Clusters.length-1;r>=0;r--)if(this.Clusters[r].patients.length<=0){let i=this.Clusters[r];this.Clusters.splice(r,1),i.Destroy()}else e+=this.Clusters[r].patients.length;return this.UnclusteredPatientCount=this.startingPatientCount-e,this.UnclusteredPatientCount}CloneCluster(e){let r=new Pr;for(let i=0;i<e.patients.length;i++)r.patients.push(e.patients[i]);return r.shape=JSON.parse(JSON.stringify(e.shape)),r.color=e.color,r.mapComponent=e.mapComponent,r.milageEstimate=e.milageEstimate,r.isHighlighted=!1,r.shouldDisplayArea=!0,r.shouldDisplayPatients=!1,r.diameter=e.diameter,r}HideAllDisplayedClusteredPatients(){for(let e=0;e<this.Clusters.length;e++)this.Clusters[e].shouldDisplayPatients=!1}DeleteCluster(e){let r=this.Clusters.indexOf(e);if(r<0)return;this.StorePreviousClusters(),this.Clusters.splice(r,1);let i=e.patients;for(let o=0;o<i.length;o++)this.map.hasLayer(i[o].marker)||i[o].marker.addTo(this.map),i[o].marker.setOpacity(1);e.Destroy(),this.GetUnclusteredPatientCount(),this.CanUndo=!0}CreateBoxSelectHandler(){let e=sn.Handler.extend({initialize:function(r){this._map=r,this._container=r.getContainer(),this._pane=r.getPanes().overlayPane,this.enabled=!1},addHooks:function(){sn.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){sn.DomEvent.off(this._container,"mousedown",this._onMouseDown)},_onMouseDown:function(r){return!(!r.shiftKey||1!==r.which&&1!==r.button||(this.enabled=!0,sn.DomUtil.disableTextSelection(),this._startLayerPoint=this._map.mouseEventToLayerPoint(r),this._box=sn.DomUtil.create("div","leaflet-zoom-box",this._pane),sn.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",sn.DomEvent.on(document,"mousemove",this._onMouseMove,this).on(document,"mouseup",this._onMouseUp,this).on(document,"keydown",this._onKeyDown,this).preventDefault(r),this._map.fire("boxzoomstart"),0))},_onMouseMove:function(r){var i=this._startLayerPoint,o=this._box,a=this._map.mouseEventToLayerPoint(r),l=a.subtract(i),f=new sn.Point(Math.min(a.x,i.x),Math.min(a.y,i.y));sn.DomUtil.setPosition(o,f),o.style.width=Math.max(0,Math.abs(l.x)-4)+"px",o.style.height=Math.max(0,Math.abs(l.y)-4)+"px"},_finish:function(){try{this._pane.removeChild(this._box)}catch{}this._container.style.cursor="",sn.DomUtil.enableTextSelection(),sn.DomEvent.off(document,"mousemove",this._onMouseMove).off(document,"mouseup",this._onMouseUp).off(document,"keydown",this._onKeyDown)},_onMouseUp:function(r){this._finish();var i=this._map,o=i.mouseEventToLayerPoint(r);if(!this._startLayerPoint.equals(o)){var a=new sn.LatLngBounds(i.layerPointToLatLng(this._startLayerPoint),i.layerPointToLatLng(o));1==this.enabled&&(i.fire("boxselectend",{boxSelectBounds:a}),this.enabled=!1),i.fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(r){27===r.keyCode&&this._finish()}});sn.Map.mergeOptions({boxSelect:!0}),sn.Map.addInitHook("addHandler","boxSelect",e),sn.Map.mergeOptions({boxZoom:!1})}distance(e,r){let i=e[0],a=r[0],d=(a-i)*Math.PI/180,m=(r[1]-e[1])*Math.PI/180,_=Math.sin(d/2)*Math.sin(d/2)+Math.cos(i*Math.PI/180)*Math.cos(a*Math.PI/180)*Math.sin(m/2)*Math.sin(m/2),S=2*Math.atan2(Math.sqrt(_),Math.sqrt(1-_))*6371;return S*=.621371,S}PanTo(e){this.map.panTo(e)}CreateClustersFromPatientGroups(e,r,i){var o=this;return o2(function*(){if(0!=o.Patients.length)for(let l=0;l<o.Patients.length;l++){let f=o.Patients[l].marker;try{f.removeFrom(o.map)}catch{}}o.Patients=r,o.Clusters=[],o.ClearMarkers(),o.map.fitBounds(o.GetBoundsOfPatients(r).pad(.05)),yield(1e3,new Promise(f=>setTimeout(f,1e3)));for(let l=0;l<r.length;l++){let f=r[l],d=new yP(f.location,f,{icon:I2.DefaultIcon});f.marker=d,d.on("click",m=>{if(!d)return;let _=[];_.push(f);for(let S=0;S<o.Patients.length;S++){let W=o.Patients[S];W!=f&&W.longitude==f.longitude&&W.latitude==f.latitude&&_.push(W)}let C=null;for(let S=0;S<_.length;S++){let W=_[S],Q=!1;for(let Ce=0;Ce<o.Clusters.length;Ce++){let ge=o.Clusters[Ce];if(ge.patients.includes(W))if(null==C)C=ge;else if(C!=ge){C=null,Q=!0;break}}if(Q)break}null==C||C.shouldDisplayPatients?o.OnPatientsClicked.emit({patients:_,cluster:C}):o.OnClusterClicked.emit({cluster:C})})}for(let l=0;l<e.length;l++){if(0==e[l].length)continue;let f=e[l],d=new Pr;d.mapComponent=o;for(let W=0;W<f.length;W++)d.patients.push(f[W]);d.color="#"+o.polygonColorGradient.colourAt(d.patients.length);let m=o.GetPointsForPolygon(d),_=o.CalculatePolygonHull(m),C=o.GetScaledHull(_);d.shape=C,d.CalculateDiameter();let S=sn.polygon(d.shape,{color:`${d.color}`,weight:2});S.on("click",()=>{o.OnClusterClicked.emit({cluster:d})}),d.polygon=S,d.milageEstimate=-1,o.Clusters.push(d)}for(let l=0;l<i.length;l++)o.map.hasLayer(i[l].marker)||i[l].marker.addTo(o.map),i[l].marker.setOpacity(1);o.startingPatientCount=o.Patients.length,o.CreatePatientsMapMask(),o.UpdateClusterColors(),o.CanUndo=!1,o.OnZoomChanged(),o.GetUnclusteredPatientCount()})()}AutoAssignUnclusteredPatients(){if(0==this.GetUnclusteredPatientCount())return;this.StorePreviousClusters();let e=[];for(let i=0;i<this.Patients.length;i++){let o=!1;for(let a=0;a<this.Clusters.length;a++)if(this.Clusters[a].patients.includes(this.Patients[i])){o=!0;break}o||e.push(this.Patients[i])}function r(i,o){return Math.pow(o.lat-i.lat,2)+Math.pow(o.lng-i.lng,2)}for(let i=0;i<e.length;i++){let o=e[i],a=sn.latLng(o.location),l=this.Clusters[0],f=0;this.map.hasLayer(this.Clusters[0].polygon)?f=r(a,this.Clusters[0].polygon.getCenter()):(this.Clusters[0].polygon.addTo(this.map),f=r(a,this.Clusters[0].polygon.getCenter()),this.Clusters[0].polygon.removeFrom(this.map));for(let S=1;S<this.Clusters.length;S++){let W=this.Clusters[S],Q=0;this.map.hasLayer(W.polygon)?Q=r(a,W.polygon.getCenter()):(W.polygon.addTo(this.map),Q=r(a,W.polygon.getCenter()),W.polygon.removeFrom(this.map)),Q<f&&(f=Q,l=W)}l.patients.push(o),l.color="#"+this.polygonColorGradient.colourAt(l.patients.length);let d=this.GetPointsForPolygon(l),m=this.CalculatePolygonHull(d),_=this.GetScaledHull(m);l.shape=_,l.CalculateDiameter();let C=sn.polygon(l.shape,{color:`${l.color}`,weight:2});C.on("click",()=>{this.OnClusterClicked.emit({cluster:l})}),l.polygon=C,l.milageEstimate=-1}this.OnZoomChanged(),this.CanUndo=!0,this.GetUnclusteredPatientCount(),this.UpdateClusterColors()}CreateGridClustersFromPatientGroups(e,r,i=!0){i&&this.StorePreviousClusters();for(let o=0;o<e.length;o++){let a=e[o];for(let l=0;l<a.length;l++){let f=r.patients.indexOf(a[l]);f>=0&&r.patients.splice(f,1)}}if(this.ReconfigureClusterShape(r),0==r.patients.length){let o=this.Clusters.indexOf(r);this.Clusters.splice(o,1),r.Destroy()}else console.warn("old cluster somehow still has patients");for(let o=0;o<e.length;o++){if(0==e[o].length)continue;let a=e[o],l=new Pr;l.mapComponent=this;for(let C=0;C<a.length;C++)l.patients.push(a[C]);l.color="#"+this.polygonColorGradient.colourAt(l.patients.length);let f=this.GetPointsForPolygon(l),d=this.CalculatePolygonHull(f),m=this.GetScaledHull(d);l.shape=m,l.CalculateDiameter();let _=sn.polygon(l.shape,{color:`${l.color}`,weight:2});_.on("click",()=>{this.OnClusterClicked.emit({cluster:l})}),l.polygon=_,l.milageEstimate=-1,this.Clusters.push(l)}this.OnZoomChanged(),i&&(this.CanUndo=!0),this.GetUnclusteredPatientCount()}CreateClusterFromSelectedPatients(e,r=!0){r&&this.StorePreviousClusters();let i=[];for(let m=0;m<e.length;m++)for(let _=0;_<this.Clusters.length;_++){let C=this.Clusters[_],S=C.patients.indexOf(e[m]);S>=0&&(C.patients.splice(S,1),i.push(C))}for(let m=0;m<i.length;m++)this.ReconfigureClusterShape(i[m]);for(let m=this.Clusters.length-1;m>=0;m--){let _=this.Clusters[m];if(0==_.patients.length){let C=this.Clusters.indexOf(_);this.Clusters.splice(C,1),_.Destroy()}}let o=new Pr;o.mapComponent=this;for(let m=0;m<e.length;m++)o.patients.push(e[m]);o.color="#"+this.polygonColorGradient.colourAt(o.patients.length);let a=this.GetPointsForPolygon(o),l=this.CalculatePolygonHull(a),f=this.GetScaledHull(l);o.shape=f,o.CalculateDiameter();let d=sn.polygon(o.shape,{color:`${o.color}`,weight:2});d.on("click",()=>{this.OnClusterClicked.emit({cluster:o})}),o.polygon=d,o.milageEstimate=-1,this.Clusters.push(o),this.OnZoomChanged(),r&&(this.CanUndo=!0),this.GetUnclusteredPatientCount()}HandleKmeansResults(e,r,i){this.StorePreviousClusters();for(let a=0;a<r;a++){let l=new Pr;l.mapComponent=this;for(let C=0;C<e.patients.length;C++)i[C]==a&&l.patients.push(e.patients[C]);if(0==l.patients.length)continue;l.color="#"+this.polygonColorGradient.colourAt(l.patients.length);let f=this.GetPointsForPolygon(l),d=this.CalculatePolygonHull(f),m=this.GetScaledHull(d);l.shape=m,l.CalculateDiameter();let _=sn.polygon(l.shape,{color:`${l.color}`,weight:2});_.on("click",()=>{this.OnClusterClicked.emit({cluster:l})}),l.polygon=_,l.milageEstimate=-1,this.Clusters.push(l)}let o=this.Clusters.indexOf(e);this.Clusters.splice(o,1),e.hasBeenPartitioned=!0,e.Destroy(),this.OnZoomChanged(),this.CanUndo=!0,this.GetUnclusteredPatientCount()}GetPointsForPolygon(e){let r=[];for(let i=0;i<e.patients.length;i++)r.push(e.patients[i].location);return r}GetScaledHull(e,r=1.05){let i=sn.polygon(e,{weight:2});i.addTo(this.map);let o=[i.getCenter().lat,i.getCenter().lng];i.removeFrom(this.map);let a=JSON.parse(JSON.stringify(e));for(let f=0;f<a.length;f++)a[f]=this.GetScaledPoint(a[f],o,r);return i=sn.polygon(a,{weight:1}),Math.abs(i.getBounds().getNorth()-i.getBounds().getSouth()),Math.abs(i.getBounds().getEast()-i.getBounds().getWest()),a}SwitchPatientsAssignedCluster(e,r,i){if(r==i)return;this.StorePreviousClusters();let o=this.GetPointsForPolygon(i);for(let d=0;d<e.length;d++)o.push(e[d].location);let a=this.CalculatePolygonHull(o),l=this.GetScaledHull(a);i.shape=l;let f=sn.polygon(i.shape,{color:`${i.color}`,weight:2});if(f.on("click",()=>{this.OnClusterClicked.emit({cluster:i})}),i.polygon=f,null!=r){for(let d=0;d<e.length;d++){let m=r.patients.indexOf(e[d]);r.patients.splice(m,1)}if(0==r.patients.length){let d=this.Clusters.indexOf(r);this.Clusters.splice(d,1),r.Destroy(),r=null}}for(let d=0;d<e.length;d++)i.patients.push(e[d]);if(i.patients=Array.from(new Set(i.patients)),i.milageEstimate=-1,i.CalculateDiameter(),null!=r){let d=this.GetPointsForPolygon(r),m=this.CalculatePolygonHull(d),_=this.GetScaledHull(m);r.shape=_,r.CalculateDiameter();let C=sn.polygon(r.shape,{color:`${r.color}`,weight:2});C.on("click",()=>{this.OnClusterClicked.emit({cluster:r})}),r.polygon=C,r.milageEstimate=-1}this.OnZoomChanged(),this.CanUndo=!0,this.GetUnclusteredPatientCount()}GridCutCluster(e,r,i){if(r<=0||i<=0)return;let o=e.polygon.getBounds(),f=Math.abs(o.getEast()-o.getWest())/i,d=Math.abs(o.getNorth()-o.getSouth())/r,m=[];for(let S=0;S<r;S++)for(let W=0;W<i;W++){let Q=sn.latLng(o.getNorth()-S*d,o.getWest()+W*f),Ce=sn.latLng(o.getNorth()-(S+1)*d,o.getWest()+(W+1)*f);m.push(sn.latLngBounds(Q,Ce))}let _=e.patients,C=[];for(let S=0;S<m.length;S++)C.push([]);for(let S=0;S<_.length;S++){let W=!1;for(let Q=0;Q<m.length;Q++)m[Q].contains(_[S].location)&&(W=!0,C[Q].push(_[S]));W||console.log("LOST POINT")}this.CreateGridClustersFromPatientGroups(C,e)}OnZoomChanged(e){this.PatientsAreVisible=!1;for(let r=0;r<this.Clusters.length;r++)if(this.Clusters[r].shouldDisplayPatients){this.PatientsAreVisible=!0;break}if(e)for(let r=0;r<e.patients.length;r++)if(e.shouldDisplayPatients){let i=e.patients[r].marker;i.setOpacity(1),this.map.hasLayer(i)||i.addTo(this.map)}else{let i=e.patients[r].marker;i.setOpacity(0),this.map.hasLayer(i)&&i.removeFrom(this.map)}else for(let r=0;r<this.Clusters.length;r++){let i=this.Clusters[r];for(let o=0;o<i.patients.length;o++)i.patients[o].marker.setOpacity(i.shouldDisplayPatients?1:0)}}HandleBoxSelectEvent(e){}LoadPatients(e){var r=this;return o2(function*(){if(0!=r.Patients.length)for(let o=0;o<r.Patients.length;o++){let a=r.Patients[o].marker;try{a.removeFrom(r.map)}catch{}}r.Patients=e,r.Clusters=[],r.ClearMarkers(),r.CreatePatientsMapMask(),r.map.fitBounds(r.GetBoundsOfPatients(e).pad(.05)),yield(1e3,new Promise(a=>setTimeout(a,1e3)))})()}CreateMarkerClusters(e,r){var i=this;return o2(function*(){if(0!=i.Patients.length)for(let ge=0;ge<i.Patients.length;ge++){let ue=i.Patients[ge].marker;try{ue.removeFrom(i.map)}catch{}}i.Patients=e,i.Clusters=[],i.ClearMarkers(),i.map.fitBounds(i.GetBoundsOfPatients(e).pad(.05)),yield(1e3,new Promise(ue=>setTimeout(ue,1e3)));var a=i.map.getCenter(),l=i.map.latLngToContainerPoint(a),f=[l.x+1,l.y],d=[l.x,l.y+1],m=i.map.containerPointToLatLng(l),_=i.map.containerPointToLatLng(f),C=i.map.containerPointToLatLng(d),S=m.distanceTo(_),W=m.distanceTo(C);let Q=Math.min(S,W);i.largeClusterGroup=sn.markerClusterGroup({removeOutsideVisibleBounds:!0,zoomToBoundsOnClick:!1,showCoverageOnHover:!0,spiderfyOnMaxZoom:!1,maxClusterRadius:1609.34*r/Q,iconCreateFunction:ge=>{var ue=ge.getChildCount(),pe=!1;if(i.Clusters.length>0)for(let Oe=0;Oe<i.Clusters.length;Oe++)if(i.Clusters[Oe].leafletMarkerCluster==ge){ue=i.Clusters[Oe].patients.length,pe=!0;break}if(0==pe)return new sn.DivIcon({html:'<div><span><span aria-label="markers"></span></span></div>',className:"invisible-marker"});var Te=" marker-cluster-";return new sn.DivIcon({html:"<div><span>"+ue+' <span aria-label="markers"></span></span></div>',className:"marker-cluster"+(Te+=ue<10?"small":ue<100?"medium":"large"),iconSize:new sn.Point(30,30)})}});for(let ge=0;ge<e.length;ge++){let ue=e[ge],pe=new yP(ue.location,ue,{icon:I2.DefaultIcon});ue.marker=pe,pe.on("click",Te=>{if(!pe)return;let Oe=[];Oe.push(ue);for(let Ze=0;Ze<i.Patients.length;Ze++){let et=i.Patients[Ze];et!=ue&&et.longitude==ue.longitude&&et.latitude==ue.latitude&&Oe.push(et)}let We=null;for(let Ze=0;Ze<Oe.length;Ze++){let et=Oe[Ze],ke=!1;for(let Bt=0;Bt<i.Clusters.length;Bt++){let Dt=i.Clusters[Bt];if(Dt.patients.includes(et))if(null==We)We=Dt;else if(We!=Dt){We=null,ke=!0;break}}if(ke)break}null==We||We.shouldDisplayPatients?i.OnPatientsClicked.emit({patients:Oe,cluster:We}):i.OnClusterClicked.emit({cluster:We})}),i.largeClusterGroup.addLayer(pe)}i.startingPatientCount=e.length,console.log(`Starting Patient Count: ${i.startingPatientCount}`),i.largeClusterGroup.addTo(Pr.LeafletMarkerClustersGroup),i.CanUndo=!1,i.FindClusters(e)})()}CreatePatientsMapMask(){if(void 0!==this.mapControls)try{this.map.removeControl(this.mapControls),this.mapControls=void 0}catch{}let e=[];for(let o=0;o<this.Patients.length;o++)e.push(this.Patients[o].location);var r=sn.TileLayer.maskCanvas({radius:100});r.setData(e),this.mapControls=sn.control.layers(void 0,{Clusters:Pr.MappedPolygons,Patients:r}),this.mapControls.addTo(this.map)}GetClusterFromPatientMarker(e){let r=null;for(let i=0;i<this.Clusters.length;i++)if(this.Clusters[i].patients.findIndex(a=>a.marker==e)>=0){r=this.Clusters[i];break}return r}FindClusters(e){var r=this;return o2(function*(){if(0==Pr.LeafletMarkerClustersGroup.getLayers().length)return;let i=[];r.map.eachLayer(f=>{if(f instanceof sn.MarkerCluster){let d=new Pr,m=f;m.on("click",()=>{r.OnClusterClicked.emit({cluster:d})}),d.mapComponent=r,d.leafletMarkerCluster=m,r.Clusters.push(d),i.push(m)}}),console.log(`Found ${i.length} main clusters`);for(let f=r.Clusters.length-1;f>=0;f--){let d=[],m=r.Clusters[f].leafletMarkerCluster.getAllChildMarkers();for(let Ce=0;Ce<m.length;Ce++)d.push([m[Ce].getLatLng().lat,m[Ce].getLatLng().lng]);if(0==d.length){r.Clusters[f].Destroy(),r.Clusters.splice(f,1);continue}if(d.length<15&&0==Array.from(new Set(d)).length){r.Clusters[f].Destroy(),r.Clusters.splice(f,1);continue}let _=r.CalculatePolygonHull(d),C=sn.polygon(_,{weight:2});C.addTo(r.map);let S=[C.getCenter().lat,C.getCenter().lng];C.removeFrom(r.map);let W=JSON.parse(JSON.stringify(_)),Q=1.05;for(let Ce=0;Ce<W.length;Ce++)W[Ce]=r.GetScaledPoint(W[Ce],S,Q);r.Clusters[f].shape=W}Pr.LeafletMarkerClustersGroup.clearLayers();for(let f=0;f<e.length;f++){let d=!1;for(let m=0;m<r.Clusters.length;m++)if(r.Clusters[m].IsPointWithinCluster(e[f].location)){r.Clusters[m].patients.push(e[f]),d=!0;break}if(!d){let m=e[f].marker;r.map.hasLayer(m)||m.addTo(r.map)}}let a=0,l=1e7;for(let f=0;f<r.Clusters.length;f++)r.Clusters[f].patients.length>a?a=r.Clusters[f].patients.length:r.Clusters[f].patients.length<l&&(l=r.Clusters[f].patients.length);r.polygonColorGradient.setNumberRange(l,a);for(let f=0;f<r.Clusters.length;f++){let d="#"+r.polygonColorGradient.colourAt(r.Clusters[f].patients.length);r.Clusters[f].color=d;let m=sn.polygon(r.Clusters[f].shape,{color:`${r.Clusters[f].color}`,weight:2}),_=r.Clusters[f];m.on("click",()=>{r.OnClusterClicked.emit({cluster:_})}),r.Clusters[f].polygon=m,r.Clusters[f].CalculateDiameter()}for(let f=r.Clusters.length-1;f>=0;f--)0!=r.Clusters[f].patients.length?r.ReconfigureClusterShape(r.Clusters[f]):(r.Clusters[f].Destroy(),r.Clusters.splice(f,1));r.GetUnclusteredPatientCount()})()}UpdateClusterColors(){let e=0,r=1e7;for(let i=0;i<this.Clusters.length;i++)this.Clusters[i].patients.length>e?e=this.Clusters[i].patients.length:this.Clusters[i].patients.length<r&&(r=this.Clusters[i].patients.length);this.polygonColorGradient.setNumberRange(r,e);for(let i=0;i<this.Clusters.length;i++){let o="#"+this.polygonColorGradient.colourAt(this.Clusters[i].patients.length);this.Clusters[i].color=o}}CalculatePolygonHull(e){var r="",i=e.sort().filter(l=>l.join("")!==r&&(r=l.join(""),!0));if(0==(e=i).length)return console.error("0 points for unique polygon!"),[];if(e.length<4){if(0==e.length)return console.error("0 points for unique polygon!"),[];let l=[];for(let f=0;f<e.length;f++)l.push(h3(e[f]));l.push(h3(e[0]));var o=nL(function L6(t,n){void 0===n&&(n={});var e={type:"FeatureCollection"};return n.id&&(e.id=n.id),n.bbox&&(e.bbox=n.bbox),e.features=t,e}(l));if(function Nre(t){return function Fne(t,n,e){var r=e;return jS(t,function(i,o,a,l,f){r=0===o&&void 0===e?i:n(r,i,o,a,l,f)}),r}(t,function(n,e){return n+function kre(t){var e,n=0;switch(t.type){case"Polygon":return cL(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=cL(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(e)},0)}(o)<5){let f=[],d=e[0],m=d[0],_=d[1];return f.push([m+.004,_+.004]),f.push([m+.004,_-.004]),f.push([m-.004,_-.004]),f.push([m-.004,_+.004]),this.convexHull(f)}return this.convexHull(o.geometry.coordinates[0])}return this.convexHull(e)}PartitionCluster(e){var r=this;return o2(function*(){if(e.hasBeenPartitioned)return void console.warn("cluster has already been partitioned");r.StorePreviousClusters(),e.hasBeenPartitioned=!0,r.map.fitBounds(e.leafletMarkerCluster.getBounds()),yield(2e3,new Promise(S=>setTimeout(S,2e3)));let o=r.GetMarkerClustersWithinAreaOnMap(e.shape),l=r.Clusters.length;for(let C=0;C<o.length;C++){let S=new Pr;S.leafletMarkerCluster=o[C],S.leafletMarkerCluster.on("click",()=>{r.OnClusterClicked.emit({cluster:S})}),S.mapComponent=r,r.Clusters.push(S)}for(let C=l;C<r.Clusters.length;C++){let S=[],W=r.Clusters[C].leafletMarkerCluster.getAllChildMarkers();for(let pe=0;pe<W.length;pe++)S.push([W[pe].getLatLng().lat,W[pe].getLatLng().lng]);let Q=r.CalculatePolygonHull(S),Ce=sn.polygon(Q);Ce.addTo(r.map),Ce.getCenter(),Ce.getCenter(),Ce.removeFrom(r.map);let ue=r.GetScaledHull(Q,1.05);r.Clusters[C].shape=ue}let f=[];for(let C=e.patients.length-1;C>=0;C--){let S=e.patients[C].location,W=!1;for(let Q=l;Q<r.Clusters.length;Q++)if(r.Clusters[Q].IsPointWithinCluster(S)){r.Clusters[Q].patients.push(e.patients[C]),W=!0;break}W||f.push(e.patients[C]),e.patients.splice(C,1)}for(let C=f.length-1;C>=0;C--)for(let S=0;S<r.Clusters.length;S++)if(r.Clusters[S].IsPointWithinCluster(f[C].location)){r.Clusters[S].patients.push(f[C]),f.splice(C,1);break}if(0==e.patients.length){let C=r.Clusters.indexOf(e);r.Clusters.splice(C,1),e.Destroy()}else r.ReconfigureClusterShape(e);let d=0;for(let C=r.Clusters.length-1;C>=0;C--)if(r.Clusters[C].patients.length<=0){let S=r.Clusters[C];r.Clusters.splice(C,1),S.Destroy()}else d+=r.Clusters[C].patients.length;let m=0,_=1e7;for(let C=0;C<r.Clusters.length;C++)r.Clusters[C].patients.length>m?m=r.Clusters[C].patients.length:r.Clusters[C].patients.length<_&&(_=r.Clusters[C].patients.length);r.polygonColorGradient.setNumberRange(_,m);for(let C=0;C<r.Clusters.length;C++){let S="#"+r.polygonColorGradient.colourAt(r.Clusters[C].patients.length);r.Clusters[C].color=S;let W=sn.polygon(r.Clusters[C].shape,{color:`${r.Clusters[C].color}`,weight:2}),Q=r.Clusters[C];W.on("click",()=>{r.OnClusterClicked.emit({cluster:Q})}),r.Clusters[C].polygon=W,r.Clusters[C].CalculateDiameter()}r.OnDeselect.emit({}),r.CanUndo=!0})()}ReconfigureClusterShape(e){let r=this.GetPointsForPolygon(e);if(0==r.length)return;let i=this.CalculatePolygonHull(r),o=sn.polygon(i);o.addTo(this.map),o.getCenter(),o.getCenter(),o.removeFrom(this.map);let l=this.GetScaledHull(i,1.05),f=sn.polygon(l,{color:`${e.color}`,weight:2});f.on("click",()=>{this.OnClusterClicked.emit({cluster:e})}),e.polygon=f,e.shape=l,e.CalculateDiameter(),this.OnZoomChanged()}GetBoundsOfPatients(e){let r=[];for(let a=0;a<e.length;a++)r.push(e[a].location);let i=this.convexHull(r);return sn.polygon(i).getBounds()}GetScaledPoint(e,r,i){let o=[e[0]-r[0],e[1]-r[1]],a=[o[0]*i,o[1]*i];return[a[0]+r[0],a[1]+r[1]]}GetMarkerClustersWithinAreaOnMap(e){let r=[];return this.map.eachLayer(i=>{if(i instanceof sn.MarkerCluster||i instanceof sn.Marker){let o=Mae(e,[i.getLatLng().lat,i.getLatLng().lng]);(-1==o||0==o)&&i instanceof sn.MarkerCluster&&r.push(i)}}),r}DrawClusterRoundTripRoute(e,r){var i=sn.polyline(r,{color:"blue"});e.routePolyline=i}ClearMarkers(){this.markers.clearLayers(),this.miniMarkers.clearLayers(),Pr.LeafletMarkerClustersGroup.clearLayers(),Pr.MappedPolygons.clearLayers(),Pr.MappedPatients.clearLayers()}UpdateMapCenter(e){let r=0,i=0;for(let o=0;o<e.length;o++)r+=e[o][0],i+=e[o][1];r/=e.length,i/=e.length,this.map.panTo(new sn.LatLng(r,i))}getAveragePoint(e){let r=0,i=0;for(let o=0;o<e.length;o++)r+=e[o][0],i+=e[o][1];return r/=e.length,i/=e.length,[r,i]}cross(e,r,i){return(e[0]-i[0])*(r[1]-i[1])-(e[1]-i[1])*(r[0]-i[0])}convexHull(e){e.sort(function(a,l){return a[0]==l[0]?a[1]-l[1]:a[0]-l[0]});for(var r=[],i=0;i<e.length;i++){for(;r.length>=2&&this.cross(r[r.length-2],r[r.length-1],e[i])<=0;)r.pop();r.push(e[i])}var o=[];for(i=e.length-1;i>=0;i--){for(;o.length>=2&&this.cross(o[o.length-2],o[o.length-1],e[i])<=0;)o.pop();o.push(e[i])}return o.pop(),r.pop(),r.concat(o)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ei({type:t,selectors:[["app-map"]],outputs:{OnClusterClicked:"OnClusterClicked",OnPatientsClicked:"OnPatientsClicked",OnBoxSelect:"OnBoxSelect",OnClusterMouseOver:"OnClusterMouseOver",OnClusterMouseLeave:"OnClusterMouseLeave",OnDeselect:"OnDeselect"},decls:1,vars:0,consts:[["id","map"]],template:function(e,r){1&e&&So(0,"div",0)},styles:["#map[_ngcontent-%COMP%]{height:100%;width:100%;position:relative;z-index:0}.invisible-marker[_ngcontent-%COMP%]{opacity:0;pointer-events:none;width:1px;height:1px}  .leaflet-tooltip{background-color:#0000!important;border:none;box-shadow:none}"]}),t})();const bu={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=bu;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=n(o=>{e=void 0,t(o)});return new w(()=>e?.(i))},requestAnimationFrame(...t){const{delegate:n}=bu;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=bu;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class Sae extends qp{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class Eae extends Gp{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=bu.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:o}=n;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(bu.cancelAnimationFrame(e),n._scheduled=void 0)}});let $m,Dae=1;const hh={};function CP(t){return t in hh&&(delete hh[t],!0)}const Pae={setImmediate(t){const n=Dae++;return hh[n]=!0,$m||($m=Promise.resolve()),$m.then(()=>CP(n)&&t()),n},clearImmediate(t){CP(t)}},{setImmediate:zae,clearImmediate:Hae}=Pae,dh={setImmediate(...t){const{delegate:n}=dh;return(n?.setImmediate||zae)(...t)},clearImmediate(t){const{delegate:n}=dh;return(n?.clearImmediate||Hae)(t)},delegate:void 0};new class Vae extends qp{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class Aae extends Gp{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=dh.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:o}=n;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(dh.clearImmediate(e),n._scheduled=void 0)}});function bP(t,n=$p){return function Iae(t){return Ge((n,e)=>{let r=!1,i=null,o=null,a=!1;const l=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const d=i;i=null,e.next(d)}a&&e.complete()},f=()=>{o=null,a&&e.complete()};n.subscribe(Ke(e,d=>{r=!0,i=d,o||To(t(d)).subscribe(o=Ke(e,l,f))},()=>{a=!0,(!r||!o||o.closed)&&e.complete()}))})}(()=>function kae(t=0,n,e=OY){let r=-1;return null!=n&&(B2(n)?e=n:r=n),new ye(i=>{let o=function Nae(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;o<0&&(o=0);let a=0;return e.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(t,n))}let MP=(()=>{class t{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new me,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ye(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(bP(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Jt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Qs(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=E2(r),o=e.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>gf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(nt(kn),nt(Rs),nt(On,8))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),wP=(()=>{class t{constructor(e,r,i){this._platform=e,this._change=new me,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(bP(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(nt(Rs),nt(kn),nt(On,8))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Wm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({}),t})(),xP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({imports:[y4,Wm,y4,Wm]}),t})();class Ym{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class ph extends Ym{constructor(n,e,r,i){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i}}class EP extends Ym{constructor(n,e,r,i){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class Fae extends Ym{constructor(n){super(),this.element=n instanceof ci?n.nativeElement:n}}class Zm{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof ph?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof EP?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof Fae?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Bae extends Zm{constructor(n,e,r,i,o){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=a=>{const l=a.element,f=this._document.createComment("dom-portal");l.parentNode.insertBefore(f,l),this.outletElement.appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(l,f)})},this._document=o}attachComponentPortal(n){const r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let i;return n.viewContainerRef?(i=n.viewContainerRef.createComponent(r,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(n.injector||this._defaultInjector||xs.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=n,i}attachTemplatePortal(n){let e=n.viewContainerRef,r=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=n,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let Xm=(()=>{class t extends Zm{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new jr,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=r.createComponent(o,r.length,e.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return t.\u0275fac=function(e){return new(e||t)(Xe(Pc),Xe(ka),Xe(On))},t.\u0275dir=Ht({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[jn]}),t})(),mh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({}),t})();const SP=SY();class Uae{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Bo(-this._previousScrollPosition.left),n.style.top=Bo(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,r=n.style,i=this._document.body.style,o=r.scrollBehavior||"",a=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),SP&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),SP&&(r.scrollBehavior=o,i.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class jae{constructor(n,e,r,i){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class LP{enable(){}disable(){}attach(){}}function Km(t,n){return n.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function DP(t,n){return n.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Gae{constructor(n,e,r,i){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Km(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let qae=(()=>{class t{constructor(e,r,i,o){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new LP,this.close=a=>new jae(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new Uae(this._viewportRuler,this._document),this.reposition=a=>new Gae(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}}return t.\u0275fac=function(e){return new(e||t)(nt(MP),nt(wP),nt(kn),nt(On))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class PP{constructor(n){if(this.scrollStrategy=new LP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const r of e)void 0!==n[r]&&(this[r]=n[r])}}}class $ae{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let zP=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(nt(On))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Wae=(()=>{class t extends zP{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const l=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(i)):l.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(nt(On),nt(kn,8))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Yae=(()=>{class t extends zP{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=kc(o)},this._clickListener=o=>{const a=kc(o),l="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let d=f.length-1;d>-1;d--){const m=f[d];if(m._outsidePointerEvents.observers.length<1||!m.hasAttached())continue;if(m.overlayElement.contains(a)||m.overlayElement.contains(l))break;const _=m._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>_.next(o)):_.next(o)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return t.\u0275fac=function(e){return new(e||t)(nt(On),nt(Rs),nt(kn,8))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gh=(()=>{class t{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Bp()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(e),Bp()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return t.\u0275fac=function(e){return new(e||t)(nt(On),nt(Rs))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Mu{constructor(n,e,r,i,o,a,l,f,d,m=!1){this._portalOutlet=n,this._host=e,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=l,this._location=f,this._outsideClickDispatcher=d,this._animationsDisabled=m,this._backdropElement=null,this._backdropClick=new me,this._attachments=new me,this._detachments=new me,this._locationChanges=w.EMPTY,this._backdropClickHandler=_=>this._backdropClick.next(_),this._backdropTransitionendHandler=_=>{this._disposeBackdrop(_.target)},this._keydownEvents=new me,this._outsidePointerEvents=new me,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ks(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=Bo(this._config.width),n.height=Bo(this._config.height),n.minWidth=Bo(this._config.minWidth),n.minHeight=Bo(this._config.minHeight),n.maxWidth=Bo(this._config.maxWidth),n.maxHeight=Bo(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,r){const i=af(e||[]).filter(o=>!!o);i.length&&(r?n.classList.add(...i):n.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(Ca(fn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const HP="cdk-overlay-connected-position-bounding-box",Zae=/([A-Za-z%]+)$/;class Xae{constructor(n,e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new me,this._resizeSubscription=w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}get positions(){return this._preferredPositions}attach(n){this._validatePositions(),n.hostElement.classList.add(HP),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let a;for(let l of this._preferredPositions){let f=this._getOriginPoint(n,i,l),d=this._getOverlayPoint(f,e,l),m=this._getOverlayFit(d,e,r,l);if(m.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,f);this._canFitWithFlexibleDimensions(m,d,r)?o.push({position:l,origin:f,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(f,l)}):(!a||a.overlayFit.visibleArea<m.visibleArea)&&(a={overlayFit:m,overlayPoint:d,originPoint:f,position:l,overlayRect:e})}if(o.length){let l=null,f=-1;for(const d of o){const m=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);m>f&&(f=m,l=d)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Jc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(HP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,r){let i,o;if("center"==r.originX)i=n.left+n.width/2;else{const a=this._isRtl()?n.right:n.left,l=this._isRtl()?n.left:n.right;i="start"==r.originX?a:l}return e.left<0&&(i-=e.left),o="center"==r.originY?n.top+n.height/2:"top"==r.originY?n.top:n.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(n,e,r){let i,o;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:n.x+i,y:n.y+o}}_getOverlayFit(n,e,r,i){const o=VP(e);let{x:a,y:l}=n,f=this._getOffset(i,"x"),d=this._getOffset(i,"y");f&&(a+=f),d&&(l+=d);let C=0-l,S=l+o.height-r.height,W=this._subtractOverflows(o.width,0-a,a+o.width-r.width),Q=this._subtractOverflows(o.height,C,S),Ce=W*Q;return{visibleArea:Ce,isCompletelyWithinViewport:o.width*o.height===Ce,fitsInViewportVertically:Q===o.height,fitsInViewportHorizontally:W==o.width}}_canFitWithFlexibleDimensions(n,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,o=r.right-e.x,a=AP(this._overlayRef.getConfig().minHeight),l=AP(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=a&&a<=i)&&(n.fitsInViewportHorizontally||null!=l&&l<=o)}return!1}_pushOverlayOnScreen(n,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const i=VP(e),o=this._viewportRect,a=Math.max(n.x+i.width-o.width,0),l=Math.max(n.y+i.height-o.height,0),f=Math.max(o.top-r.top-n.y,0),d=Math.max(o.left-r.left-n.x,0);let m=0,_=0;return m=i.width<=o.width?d||-a:n.x<this._viewportMargin?o.left-r.left-n.x:0,_=i.height<=o.height?f||-l:n.y<this._viewportMargin?o.top-r.top-n.y:0,this._previousPushAmount={x:m,y:_},{x:n.x+m,y:n.y+_}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new $ae(n,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=n.overlayY;r="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(n,e){const r=this._viewportRect,i=this._isRtl();let o,a,l,m,_,C;if("top"===e.overlayY)a=n.y,o=r.height-a+this._viewportMargin;else if("bottom"===e.overlayY)l=r.height-n.y+2*this._viewportMargin,o=r.height-l+this._viewportMargin;else{const S=Math.min(r.bottom-n.y+r.top,n.y),W=this._lastBoundingBoxSize.height;o=2*S,a=n.y-S,o>W&&!this._isInitialRender&&!this._growAfterOpen&&(a=n.y-W/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)C=r.width-n.x+this._viewportMargin,m=n.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)_=n.x,m=r.right-n.x;else{const S=Math.min(r.right-n.x+r.left,n.x),W=this._lastBoundingBoxSize.width;m=2*S,_=n.x-S,m>W&&!this._isInitialRender&&!this._growAfterOpen&&(_=n.x-W/2)}return{top:a,left:_,bottom:l,right:C,width:m,height:o}}_setBoundingBoxStyles(n,e){const r=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.height=Bo(r.height),i.top=Bo(r.top),i.bottom=Bo(r.bottom),i.width=Bo(r.width),i.left=Bo(r.left),i.right=Bo(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Bo(o)),a&&(i.maxWidth=Bo(a))}this._lastBoundingBoxSize=r,Jc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Jc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Jc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){const m=this._viewportRuler.getViewportScrollPosition();Jc(r,this._getExactOverlayY(e,n,m)),Jc(r,this._getExactOverlayX(e,n,m))}else r.position="static";let l="",f=this._getOffset(e,"x"),d=this._getOffset(e,"y");f&&(l+=`translateX(${f}px) `),d&&(l+=`translateY(${d}px)`),r.transform=l.trim(),a.maxHeight&&(i?r.maxHeight=Bo(a.maxHeight):o&&(r.maxHeight="")),a.maxWidth&&(i?r.maxWidth=Bo(a.maxWidth):o&&(r.maxWidth="")),Jc(this._pane.style,r)}_getExactOverlayY(n,e,r){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===n.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Bo(o.y),i}_getExactOverlayX(n,e,r){let a,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),a=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===a?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Bo(o.x),i}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:DP(n,r),isOriginOutsideView:Km(n,r),isOverlayClipped:DP(e,r),isOverlayOutsideView:Km(e,r)}}_subtractOverflows(n,...e){return e.reduce((r,i)=>r-Math.max(i,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+n-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&af(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof ci)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,r=n.height||0;return{top:n.y,bottom:n.y+r,left:n.x,right:n.x+e,height:r,width:e}}}function Jc(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function AP(t){if("number"!=typeof t&&null!=t){const[n,e]=t.split(Zae);return e&&"px"!==e?null:parseFloat(n)}return t||null}function VP(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const TP="cdk-global-overlay-wrapper";class Kae{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(TP),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:a,maxHeight:l}=r,f=!("100%"!==i&&"100vw"!==i||a&&"100%"!==a&&"100vw"!==a),d=!("100%"!==o&&"100vh"!==o||l&&"100%"!==l&&"100vh"!==l),m=this._xPosition,_=this._xOffset,C="rtl"===this._overlayRef.getConfig().direction;let S="",W="",Q="";f?Q="flex-start":"center"===m?(Q="center",C?W=_:S=_):C?"left"===m||"end"===m?(Q="flex-end",S=_):("right"===m||"start"===m)&&(Q="flex-start",W=_):"left"===m||"start"===m?(Q="flex-start",S=_):("right"===m||"end"===m)&&(Q="flex-end",W=_),n.position=this._cssPosition,n.marginLeft=f?"0":S,n.marginTop=d?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=f?"0":W,e.justifyContent=Q,e.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(TP),r.justifyContent=r.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let Qae=(()=>{class t{constructor(e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new Kae}flexibleConnectedTo(e){return new Xae(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(nt(wP),nt(On),nt(Rs),nt(gh))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Jae=0,uc=(()=>{class t{constructor(e,r,i,o,a,l,f,d,m,_,C,S){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=l,this._ngZone=f,this._document=d,this._directionality=m,this._location=_,this._outsideClickDispatcher=C,this._animationsModuleType=S}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),a=new PP(e);return a.direction=a.direction||this._directionality.value,new Mu(o,r,i,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Jae++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(jl)),new Bae(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(nt(qae),nt(gh),nt(Pc),nt(Qae),nt(Wae),nt(xs),nt(kn),nt(On),nt(_4),nt(l4),nt(Yae),nt(K1,8))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})();const n1e={provide:new wt("cdk-connected-overlay-scroll-strategy"),deps:[uc],useFactory:function t1e(t){return()=>t.scrollStrategies.reposition()}};let Qm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({providers:[uc,n1e],imports:[y4,mh,xP,xP]}),t})();const r1e=["tooltip"],IP="tooltip-panel",NP=g4({passive:!0}),kP=new wt("mat-tooltip-scroll-strategy"),a1e={provide:kP,deps:[uc],useFactory:function s1e(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},c1e=new wt("mat-tooltip-default-options",{providedIn:"root",factory:function l1e(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let u1e=(()=>{class t{constructor(e,r,i,o,a,l,f,d,m,_,C,S){this._overlay=e,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=o,this._ngZone=a,this._platform=l,this._ariaDescriber=f,this._focusMonitor=d,this._dir=_,this._defaultOptions=C,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new me,this._scrollStrategy=m,this._document=S,C&&(C.position&&(this.position=C.position),C.touchGestures&&(this.touchGestures=C.touchGestures)),_.change.pipe(Ca(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Oa(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=sf(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=sf(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ca(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{e.removeEventListener(r,i,NP)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay();this._detach(),this._portal=this._portal||new ph(this._tooltipComponent,this._viewContainerRef);const i=this._tooltipInstance=r.attach(this._portal).instance;i._triggerElement=this._elementRef.nativeElement,i._mouseLeaveHideDelay=this._hideDelay,i.afterHidden().pipe(Ca(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),i.show(e)}hide(e=this.hideDelay){const r=this._tooltipInstance;r&&(r.isVisible()?r.hide(e):(r._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return r.positionChanges.pipe(Ca(this._destroyed)).subscribe(i=>{this._updateCurrentPositionClass(i.connectionPair),this._tooltipInstance&&i.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${IP}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ca(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ca(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ca(this._destroyed)).subscribe(i=>{this._isTooltipVisible()&&27===i.keyCode&&!jp(i)&&(i.preventDefault(),i.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const r=e.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...o.main}),this._addOffset({...i.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={originX:"end",originY:"center"});const{x:o,y:a}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={overlayX:"start",overlayY:"center"});const{x:o,y:a}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ks(1),Ca(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:r}}_updateCurrentPositionClass(e){const{overlayY:r,originX:i,originY:o}=e;let a;if(a="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===o?"above":"below",a!==this._currentPosition){const l=this._overlayRef;if(l){const f=`${this._cssClassPrefix}-${IP}-`;l.removePanelClass(f+this._currentPosition),l.addPanelClass(f+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",r],["touchcancel",r])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,NP)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const r=this._elementRef.nativeElement,i=r.style;("on"===e||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===e||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){W3()},t.\u0275dir=Ht({type:t,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),t})(),OP=(()=>{class t extends u1e{constructor(e,r,i,o,a,l,f,d,m,_,C,S){super(e,r,i,o,a,l,f,d,m,_,C,S),this._tooltipComponent=h1e}}return t.\u0275fac=function(e){return new(e||t)(Xe(uc),Xe(ci),Xe(MP),Xe(ka),Xe(kn),Xe(Rs),Xe(tZ),Xe(Zl),Xe(kP),Xe(_4,8),Xe(c1e,8),Xe(On))},t.\u0275dir=Ht({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[jn]}),t})(),f1e=(()=>{class t{constructor(e,r){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new me,this._animationsDisabled="NoopAnimations"===r}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(e?o:i),r.classList.add(e?i:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(r);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return t.\u0275fac=function(e){return new(e||t)(Xe(b2),Xe(K1,8))},t.\u0275dir=Ht({type:t}),t})(),h1e=(()=>{class t extends f1e{constructor(e,r,i){super(e,i),this._breakpointObserver=r,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return t.\u0275fac=function(e){return new(e||t)(Xe(b2),Xe(UM),Xe(K1,8))},t.\u0275cmp=ei({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(e,r){if(1&e&&M1(r1e,7),2&e){let i;Lo(i=Do())&&(r._tooltip=i.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,r){1&e&&Vn("mouseleave",function(o){return r._handleMouseLeave(o)}),2&e&&Sd("zoom",r.isVisible()?1:null)},features:[jn],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,r){if(1&e&&(At(0,"div",0,1),Vn("animationend",function(o){return r._handleAnimationEnd(o)}),Od(2,"async"),Nn(3),Vt()),2&e){let i;Os("mat-tooltip-handset",null==(i=Rd(2,4,r._isHandset))?null:i.matches),Wt("ngClass",r.tooltipClass),Ft(3),Z2(r.message)}},dependencies:[qb,Jb],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),t})(),d1e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({providers:[a1e],imports:[tw,Dp,Qm,Js,Js,Wm]}),t})();function p1e(t,n){}class vh{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let RP=(()=>{class t extends Zm{constructor(e,r,i,o,a,l,f,d){super(),this._elementRef=e,this._focusTrapFactory=r,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=f,this._focusMonitor=d,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=m=>{this._portalOutlet.hasAttached();const _=this._portalOutlet.attachDomPortal(m);return this._contentAttached(),_},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),r}attachTemplatePortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{e.removeEventListener("blur",i),e.removeEventListener("mousedown",i),e.removeAttribute("tabindex")};e.addEventListener("blur",i),e.addEventListener("mousedown",i)})),e.focus(r)}_focusByCssSelector(e,r){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,r)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let r=null;if("string"==typeof e?r=this._document.querySelector(e):"boolean"==typeof e?r=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(r=e),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=Fp(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=Fp();return e===r||e.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Fp())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return t.\u0275fac=function(e){return new(e||t)(Xe(ci),Xe(Qp),Xe(On,8),Xe(vh),Xe(hf),Xe(kn),Xe(Mu),Xe(Zl))},t.\u0275cmp=ei({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(e,r){if(1&e&&M1(Xm,7),2&e){let i;Lo(i=Do())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,r){2&e&&mo("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[jn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&Rr(0,p1e,0,0,"ng-template",0)},dependencies:[Xm],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),t})();class Jm{constructor(n,e){this.overlayRef=n,this.config=e,this.closed=new me,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!jp(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(n,e){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),r.next(n),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}}const FP=new wt("DialogScrollStrategy"),m1e=new wt("DialogData"),g1e=new wt("DefaultDialogConfig"),_1e={provide:FP,deps:[uc],useFactory:function v1e(t){return()=>t.scrollStrategies.block()}};let y1e=0,BP=(()=>{class t{constructor(e,r,i,o,a,l){this._overlay=e,this._injector=r,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new me,this._afterOpenedAtThisLevel=new me,this._ariaHiddenElements=new Map,this.afterAllClosed=yf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Oc(void 0))),this._scrollStrategy=l}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,r){(r={...this._defaultOptions||new vh,...r}).id=r.id||"cdk-dialog-"+y1e++,r.id&&this.getDialogById(r.id);const o=this._getOverlayConfig(r),a=this._overlay.create(o),l=new Jm(a,r),f=this._attachContainer(a,l,r);return l.containerInstance=f,this._attachDialogContent(e,l,f,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){eg(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){eg(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),eg(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const r=new PP({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachContainer(e,r,i){const o=i.injector||i.viewContainerRef?.injector,a=[{provide:vh,useValue:i},{provide:Jm,useValue:r},{provide:Mu,useValue:e}];let l;i.container?"function"==typeof i.container?l=i.container:(l=i.container.type,a.push(...i.container.providers(i))):l=RP;const f=new ph(l,i.viewContainerRef,xs.create({parent:o||this._injector,providers:a}),i.componentFactoryResolver);return e.attach(f).instance}_attachDialogContent(e,r,i,o){if(e instanceof X1){const a=this._createInjector(o,r,i,void 0);let l={$implicit:o.data,dialogRef:r};o.templateContext&&(l={...l,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),i.attachTemplatePortal(new EP(e,null,l,a))}else{const a=this._createInjector(o,r,i,this._injector),l=i.attachComponentPortal(new ph(e,o.viewContainerRef,a,o.componentFactoryResolver));r.componentInstance=l.instance}}_createInjector(e,r,i,o){const a=e.injector||e.viewContainerRef?.injector,l=[{provide:m1e,useValue:e.data},{provide:Jm,useValue:r}];return e.providers&&("function"==typeof e.providers?l.push(...e.providers(r,e,i)):l.push(...e.providers)),e.direction&&(!a||!a.get(_4,null,cn.Optional))&&l.push({provide:_4,useValue:{value:e.direction,change:Jt()}}),xs.create({parent:a||o,providers:l})}_removeOpenDialog(e,r){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let i=r.length-1;i>-1;i--){const o=r[i];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return t.\u0275fac=function(e){return new(e||t)(nt(uc),nt(xs),nt(g1e,8),nt(t,12),nt(gh),nt(FP))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})();function eg(t,n){let e=t.length;for(;e--;)n(t[e])}let C1e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({providers:[BP,_1e],imports:[Qm,mh,tw,mh]}),t})();function b1e(t,n){}const E3={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},M1e={dialogContainer:t5("dialogContainer",[w4("void, exit",ba({opacity:0,transform:"scale(0.7)"})),w4("enter",ba({transform:"none"})),x4("* => enter",dw([M4("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",ba({transform:"none",opacity:1})),gw("@*",mw(),{optional:!0})]),E3),x4("* => void, * => exit",dw([M4("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",ba({opacity:0})),gw("@*",mw(),{optional:!0})]),E3)])};class _h{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=E3.params.enterAnimationDuration,this.exitAnimationDuration=E3.params.exitAnimationDuration}}let w1e=(()=>{class t extends RP{constructor(e,r,i,o,a,l,f,d){super(e,r,i,o,a,l,f,d),this._animationStateChanged=new jr}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return t.\u0275fac=function(e){return new(e||t)(Xe(ci),Xe(Qp),Xe(On,8),Xe(_h),Xe(hf),Xe(kn),Xe(Mu),Xe(Zl))},t.\u0275cmp=ei({type:t,selectors:[["ng-component"]],features:[jn],decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})(),x1e=(()=>{class t extends w1e{constructor(e,r,i,o,a,l,f,d,m){super(e,r,i,o,a,l,f,m),this._changeDetectorRef=d,this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?this._openAnimationDone(r):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:r})}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||E3.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||E3.params.exitAnimationDuration}}}}return t.\u0275fac=function(e){return new(e||t)(Xe(ci),Xe(Qp),Xe(On,8),Xe(_h),Xe(hf),Xe(kn),Xe(Mu),Xe(b2),Xe(Zl))},t.\u0275cmp=ei({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,r){1&e&&bd("@dialogContainer.start",function(o){return r._onAnimationStart(o)})("@dialogContainer.done",function(o){return r._onAnimationDone(o)}),2&e&&(Nl("id",r._config.id),mo("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Pd("@dialogContainer",r._getAnimationState()))},features:[jn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&Rr(0,b1e,0,0,"ng-template",0)},dependencies:[Xm],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[M1e.dialogContainer]}}),t})();class tg{constructor(n,e,r){this._ref=n,this._containerInstance=r,this._afterOpened=new me,this._beforeClosed=new me,this._state=0,this.disableClose=e.disableClose,this.id=n.id,r._animationStateChanged.pipe(Qs(i=>"opened"===i.state),Ks(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Qs(i=>"closed"===i.state),Ks(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),fn(this.backdropClick(),this.keydownEvents().pipe(Qs(i=>27===i.keyCode&&!this.disableClose&&!jp(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),UP(this,"keydown"===i.type?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe(Qs(e=>"closing"===e.state),Ks(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function UP(t,n,e){return t._closeInteractionType=n,t.close(e)}const jP=new wt("MatDialogData"),E1e=new wt("mat-dialog-default-options"),GP=new wt("mat-dialog-scroll-strategy"),L1e={provide:GP,deps:[uc],useFactory:function S1e(t){return()=>t.scrollStrategies.block()}};let D1e=0,P1e=(()=>{class t{constructor(e,r,i,o,a,l,f,d,m,_){this._overlay=e,this._defaultOptions=i,this._parentDialog=o,this._dialogRefConstructor=f,this._dialogContainerType=d,this._dialogDataToken=m,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new me,this._afterOpenedAtThisLevel=new me,this._idPrefix="mat-dialog-",this.afterAllClosed=yf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Oc(void 0))),this._scrollStrategy=l,this._dialog=r.get(BP)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){let i;(r={...this._defaultOptions||new _h,...r}).id=r.id||`${this._idPrefix}${D1e++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:_h,useValue:r},{provide:vh,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(a,l,f)=>(i=new this._dialogRefConstructor(a,r,f),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:f},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(i);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return t.\u0275fac=function(e){W3()},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})(),yh=(()=>{class t extends P1e{constructor(e,r,i,o,a,l,f,d){super(e,r,o,l,f,a,tg,x1e,jP,d)}}return t.\u0275fac=function(e){return new(e||t)(nt(uc),nt(xs),nt(l4,8),nt(E1e,8),nt(GP),nt(t,12),nt(gh),nt(K1,8))},t.\u0275prov=_t({token:t,factory:t.\u0275fac}),t})(),z1e=(()=>{class t{constructor(e,r,i){this.dialogRef=e,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function V1e(t,n){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?n.find(r=>r.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const r=e._matDialogClose||e._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(e){UP(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(Xe(tg,8),Xe(ci),Xe(yh))},t.\u0275dir=Ht({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,r){1&e&&Vn("click",function(o){return r._onButtonClick(o)}),2&e&&mo("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Nt]}),t})(),H1e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ht({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),A1e=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ht({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,r){2&e&&Os("mat-dialog-actions-align-center","center"===r.align)("mat-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}}),t})(),T1e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({providers:[yh,L1e],imports:[C1e,Qm,mh,Js,Js]}),t})();U(9529);let I1e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({}),t})();const N1e=["input"],k1e=["label"],O1e=function(t){return{enterDuration:t}},R1e=["*"],F1e=new wt("mat-checkbox-default-options",{providedIn:"root",factory:qP});function qP(){return{color:"accent",clickAction:"check-indeterminate"}}let B1e=0;const $P=qP(),U1e={provide:L1,useExisting:Hr(()=>WP),multi:!0};class j1e{}const G1e=xZ(pf(ow(iw(class{constructor(t){this._elementRef=t}}))));let q1e=(()=>{class t extends G1e{constructor(e,r,i,o,a,l,f){super(r),this._changeDetectorRef=i,this._ngZone=o,this._animationMode=l,this._options=f,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new jr,this.indeterminateChange=new jr,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||$P,this.color=this.defaultColor=this._options.color||$P.color,this.tabIndex=parseInt(a)||0,this.id=this._uniqueId=`${e}${++B1e}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Oa(e)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const r=Oa(e);r!=this.checked&&(this._checked=r,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const r=Oa(e);r!==this.disabled&&(this._disabled=r,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const r=e!=this._indeterminate;this._indeterminate=Oa(e),r&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let r=this._currentCheckState,i=this._getAnimationTargetElement();if(r!==e&&i&&(this._currentAnimationClass&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,r){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===r)return this._animationClasses.uncheckedToChecked;if(3==r)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===r?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===r?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===r?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const r=this._inputElement;r&&(r.nativeElement.indeterminate=e)}}return t.\u0275fac=function(e){W3()},t.\u0275dir=Ht({type:t,viewQuery:function(e,r){if(1&e&&(M1(N1e,5),M1(k1e,5),M1(mf,5)),2&e){let i;Lo(i=Do())&&(r._inputElement=i.first),Lo(i=Do())&&(r._labelElement=i.first),Lo(i=Do())&&(r.ripple=i.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[jn]}),t})(),WP=(()=>{class t extends q1e{constructor(e,r,i,o,a,l,f){super("mat-checkbox-",e,r,o,a,l,f),this._focusMonitor=i,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(e){const r=new j1e;return r.source=this,r.checked=e,r}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(e){e.stopPropagation(),super._handleInputClick()}focus(e,r){e?this._focusMonitor.focusVia(this._inputElement,e,r):this._inputElement.nativeElement.focus(r)}}return t.\u0275fac=function(e){return new(e||t)(Xe(ci),Xe(b2),Xe(Zl),Xe(kn),xc("tabindex"),Xe(K1,8),Xe(F1e,8))},t.\u0275cmp=ei({type:t,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,r){2&e&&(Nl("id",r.id),mo("tabindex",null)("aria-label",null)("aria-labelledby",null),Os("mat-checkbox-indeterminate",r.indeterminate)("mat-checkbox-checked",r.checked)("mat-checkbox-disabled",r.disabled)("mat-checkbox-label-before","before"==r.labelPosition)("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[li([U1e]),jn],ngContentSelectors:R1e,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,r){if(1&e&&(Tl(),At(0,"label",0,1)(2,"span",2)(3,"input",3,4),Vn("change",function(o){return r._onInteractionEvent(o)})("click",function(o){return r._onInputClick(o)}),Vt(),At(5,"span",5),So(6,"span",6),Vt(),So(7,"span",7),At(8,"span",8),function A9(){le.lFrame.currentNamespace=$s}(),At(9,"svg",9),So(10,"path",10),Vt(),function V9(){!function TO(){le.lFrame.currentNamespace=null}()}(),So(11,"span",11),Vt()(),At(12,"span",12,13),Vn("cdkObserveContent",function(){return r._onLabelTextChange()}),At(14,"span",14),Nn(15,"\xa0"),Vt(),Ia(16),Vt()()),2&e){const i=b0(1),o=b0(13);mo("for",r.inputId),Ft(2),Os("mat-checkbox-inner-container-no-side-margin",!o.textContent||!o.textContent.trim()),Ft(1),Wt("id",r.inputId)("required",r.required)("checked",r.checked)("disabled",r.disabled)("tabIndex",r.tabIndex),mo("value",r.value)("name",r.name)("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-checked",r._getAriaChecked())("aria-describedby",r.ariaDescribedby),Ft(2),Wt("matRippleTrigger",i)("matRippleDisabled",r._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",function wC(t,n,e,r){return xC(ct(),Ws(),t,n,e,r)}(19,O1e,"NoopAnimations"===r._animationMode?0:150))}},dependencies:[mf,kM],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),t})(),YP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({}),t})(),Y1e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({imports:[uw,Js,Wp,YP,Js,YP]}),t})(),Z1e=(()=>{class t{OnMouseEnter(e){try{this.patient.marker.getElement()?.classList.add("patient-icon-hovered")}catch{}}OnMouseLeave(e){try{this.patient.marker.getElement()?.classList.remove("patient-icon-hovered")}catch{}}ReassignClusterRequest(e){this.mainComponent.OnPatientReassignRequest(e,this.patient)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ei({type:t,selectors:[["app-patient-panel"]],inputs:{patient:"patient",mainComponent:"mainComponent",cluster:"cluster"},decls:9,vars:8,consts:[[1,"container",3,"mouseenter","mouseleave"],[1,"name"],[1,"cluster"],[1,"address"],["mat-flat-button","","color","accent",3,"disabled","click"]],template:function(e,r){1&e&&(At(0,"div",0),Vn("mouseenter",function(){return r.OnMouseEnter(r)})("mouseleave",function(){return r.OnMouseLeave(r)}),At(1,"p",1),Nn(2),Vt(),At(3,"p",2),Nn(4),Vt(),At(5,"p",3),Nn(6),Vt(),At(7,"button",4),Vn("click",function(o){return r.ReassignClusterRequest(o)}),Nn(8),Vt()()),2&e&&(Ft(2),Na("Patient ",r.patient.patUID,""),Ft(2),Z2(null==r.cluster?"unclustered":"Within Cluster "+r.cluster.patients.length),Ft(2),Dd("",r.patient.memberAddress,", ",r.patient.city,", ",r.patient.state,", ",r.patient.zip,""),Ft(1),Wt("disabled",r.mainComponent.IsChoosingNewClusterForPatient&&r.mainComponent.SelectedPatient!=r.patient),Ft(1),Na(" ",r.mainComponent.IsChoosingNewClusterForPatient&&r.mainComponent.SelectedPatient==r.patient?"Cancel":"Change Cluster"," "))},dependencies:[b4],styles:['*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box;margin:0;padding:0}@font-face{font-family:DidactGothicRegular;src:url(/LocationClusterer/assets/DidactGothic-Regular.ttf) format("truetype")}html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow-x:hidden}.container[_ngcontent-%COMP%]{width:100%;height:130px;padding:0 5px;margin:5px 0;display:flex;flex-direction:column;background-color:#f0f0f0;border-radius:3px}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:5px}.name[_ngcontent-%COMP%]{font-size:1.25rem}.cluster[_ngcontent-%COMP%]{font-size:1rem;color:#282828}.address[_ngcontent-%COMP%]{font-size:.75rem;text-overflow:ellipsis;color:#282828}']}),t})();function X1e(t,n){if(1&t){const e=r1();At(0,"div",6)(1,"button",7),Vn("click",function(i){return Or(e),Di(Nr().GetClusterMilage(i))}),Nn(2," Get Milage "),Vt()()}if(2&t){const e=Nr();Wt("matTooltipDisabled",-1==e.cluster.milageEstimate&&e.cluster.patients.length<12),Ft(1),Wt("matTooltipDisabled",!1)("disabled",-1!=e.cluster.milageEstimate||e.cluster.patients.length>=12)}}function K1e(t,n){if(1&t&&(At(0,"p"),Nn(1),Vt()),2&t){const e=Nr();Ft(1),Na("Milage: ",e.cluster.milageEstimate," miles")}}function Q1e(t,n){if(1&t&&(At(0,"p"),Nn(1),Vt()),2&t){const e=Nr();Ft(1),Na("Diameter: ",e.cluster.diameter," miles")}}function J1e(t,n){if(1&t){const e=r1();$2(0),At(1,"div",8)(2,"button",9),Vn("click",function(i){return Or(e),Di(Nr().RunKmeans(i))}),Nn(3,"Auto Partition"),Vt(),At(4,"input",10),Vn("ngModelChange",function(i){return Or(e),Di(Nr().k=i)}),Vt()(),At(5,"div",11)(6,"button",12),Vn("click",function(i){return Or(e),Di(Nr().RunGridCluster(i))}),Nn(7,"Grid Partition"),Vt(),At(8,"input",13),Vn("ngModelChange",function(i){return Or(e),Di(Nr().rows=i)}),Vt(),At(9,"input",14),Vn("ngModelChange",function(i){return Or(e),Di(Nr().columns=i)}),Vt()(),W2()}if(2&t){const e=Nr();Ft(2),Wt("disabled",e.cluster.hasBeenPartitioned||e.mainComponent.ShowSpinner),Ft(2),Wt("ngModel",e.k),Ft(2),Wt("disabled",e.cluster.hasBeenPartitioned||!e.AreGridSettingsValid()||e.mainComponent.ShowSpinner),Ft(2),Wt("ngModel",e.rows),Ft(1),Wt("ngModel",e.columns)}}let e2e=(()=>{class t{constructor(){this.k=2,this.rows=2,this.columns=2}RunKmeans(e){this.k>this.cluster.patients.length||this.mainComponent.RunKmeans(e,this.k)}AutoPartition(e){this.mainComponent.AutoPartitionCluster(e)}GetClusterMilage(e){this.mainComponent.GetClusterEstimatedMilage(e)}DeleteCluster(e){this.mainComponent.DeleteCluster(e)}RunGridCluster(e){this.mainComponent.RunGridCluster(e,this.rows,this.columns)}AreGridSettingsValid(){return!(this.rows<1||this.rows>8||this.columns<1||this.columns>8||null==this.rows||null==this.columns||1==this.rows&&1==this.columns)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ei({type:t,selectors:[["app-cluster-panel"]],inputs:{cluster:"cluster",mainComponent:"mainComponent"},decls:13,vars:8,consts:[[1,"container"],[1,"name"],[3,"checked","change"],["matTooltip","Can only calculate milage for clusters of size < 12","matTooltipClass","primary-tooltip","matTooltipPosition","right",3,"matTooltipDisabled",4,"ngIf"],[4,"ngIf"],["color","warn","mat-flat-button","",1,"delete-button",3,"disabled","click"],["matTooltip","Can only calculate milage for clusters of size < 12","matTooltipClass","primary-tooltip","matTooltipPosition","right",3,"matTooltipDisabled"],["mat-flat-button","","matTooltipPosition","right","matTooltip","Milage","matTooltipClass","primary-tooltip","color","accent",1,"milage-button",3,"matTooltipDisabled","disabled","click"],[1,"kmeans-settings"],["mat-flat-button","","color","accent","matTooltipPosition","right","matTooltip","Partitions using K-means clustering algorithm","matTooltipClass","primary-tooltip",3,"disabled","click"],["type","number","min","2","max","12","matTooltipPosition","right","matTooltip","The number of partitions","matTooltipClass","primary-tooltip",3,"ngModel","ngModelChange"],[1,"grid-partition-settings"],["mat-flat-button","","color","accent","matTooltipPosition","right","matTooltip","Partitions using a grid layout","matTooltipClass","primary-tooltip",3,"disabled","click"],["type","number","min","1","max","8","matTooltipPosition","right","matTooltip","The number of rows (from 1 to 8)","matTooltipClass","primary-tooltip",3,"ngModel","ngModelChange"],["type","number","min","1","max","8","matTooltipPosition","right","matTooltip","The number of columns (from 1 to 8)","matTooltipClass","primary-tooltip",3,"ngModel","ngModelChange"]],template:function(e,r){1&e&&(At(0,"div",0)(1,"p",1),Nn(2),Vt(),At(3,"mat-checkbox",2),Vn("change",function(o){return r.cluster.shouldDisplayArea=o.checked}),Nn(4," Display Area "),Vt(),At(5,"mat-checkbox",2),Vn("change",function(o){return r.cluster.shouldDisplayPatients=o.checked}),Nn(6," Display Patients "),Vt(),Rr(7,X1e,3,3,"div",3),Rr(8,K1e,2,1,"p",4),Rr(9,Q1e,2,1,"p",4),Rr(10,J1e,10,5,"ng-container",4),At(11,"button",5),Vn("click",function(o){return r.DeleteCluster(o)}),Nn(12," Delete Cluster "),Vt()()),2&e&&(Ft(2),Na("Cluster ",r.cluster.patients.length,""),Ft(1),Wt("checked",r.cluster.shouldDisplayArea),Ft(2),Wt("checked",r.cluster.shouldDisplayPatients),Ft(2),Wt("ngIf",r.cluster.milageEstimate<0),Ft(1),Wt("ngIf",r.cluster.milageEstimate>=0&&r.cluster.patients.length>1),Ft(1),Wt("ngIf",r.cluster.diameter>=0),Ft(1),Wt("ngIf",!r.cluster.hasBeenPartitioned),Ft(1),Wt("disabled",r.mainComponent.ShowSpinner))},dependencies:[ql,b4,c3,n6,qf,n7,t7,t6,OP,WP],styles:['*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box;margin:0;padding:0}@font-face{font-family:DidactGothicRegular;src:url(/LocationClusterer/assets/DidactGothic-Regular.ttf) format("truetype")}html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow-x:hidden}.container[_ngcontent-%COMP%]{width:100%;height:300px;padding:0 5px;margin:5px 0;display:flex;flex-direction:column;background-color:#f0f0f0;border-radius:3px}.name[_ngcontent-%COMP%]{font-size:1.25rem}.auto-partition-button[_ngcontent-%COMP%]{margin:5px}.milage-button[_ngcontent-%COMP%]{width:100%}.kmeans-settings[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:start;padding:5px}.kmeans-settings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 10px}.kmeans-settings[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{align-self:center;width:40px;height:95%;text-align:center;margin:0 10px}.grid-partition-settings[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:start;padding:5px}.grid-partition-settings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 10px}.grid-partition-settings[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{align-self:center;width:40px;height:95%;text-align:center;margin:0 10px}.delete-button[_ngcontent-%COMP%]{margin:auto 5px 5px}']}),t})();var wu=(()=>{return(t=wu||(wu={}))[t.Complete=0]="Complete",t[t.Progess=1]="Progess",t[t.Error=2]="Error",wu;var t})(),t2e=U(8660);let n2e=(()=>{class t{constructor(){this.Message="",this.messageTimeout=null}LogMessage(e,r=!1){this.clearMessageTimeout(),this.Message=e,r&&(this.messageTimeout=setTimeout(this.clearMessage,3e3))}clearMessageTimeout(){null!=this.messageTimeout&&(clearTimeout(this.messageTimeout),this.messageTimeout=null)}clearMessage(){this.Message=""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function r2e(t,n){if(1&t&&(At(0,"mat-icon",3),Nn(1),Od(2,"lowercase"),Vt()),2&t){const e=Nr();Ft(1),Z2(Rd(2,1,e.icon))}}let i2e=(()=>{class t{constructor(e,r){this.data=e,this.dialogRef=r,this.message="An unspecified error has occurred",this.icon="",this.buttonText="Ok",e?.icon&&(this.icon=e.icon),e?.message&&(this.message=e.message),e?.buttonText&&(this.buttonText=e.buttonText)}closeDialog(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(Xe(jP),Xe(tg))},t.\u0275cmp=ei({type:t,selectors:[["app-alert-dialog"]],decls:6,vars:3,consts:[["style","margin-right:0.25em;",4,"ngIf"],["align","end"],["mat-raised-button","","color","primary","mat-dialog-close",""],[2,"margin-right","0.25em"]],template:function(e,r){1&e&&(At(0,"mat-dialog-content"),Rr(1,r2e,3,3,"mat-icon",0),Nn(2),Vt(),At(3,"mat-dialog-actions",1)(4,"button",2),Nn(5),Vt()()),2&e&&(Ft(1),Wt("ngIf",r.icon),Ft(1),Na(" ",r.message,"\n"),Ft(3),Na(" ",r.buttonText," "))},dependencies:[ql,b4,kS,z1e,H1e,A1e,eM],styles:['*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box;margin:0;padding:0}@font-face{font-family:DidactGothicRegular;src:url(/LocationClusterer/assets/DidactGothic-Regular.ttf) format("truetype")}html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow-x:hidden}mat-dialog-content[_ngcontent-%COMP%]{font-family:DidactGothicRegular,Open Sans,sans-serif}']}),t})(),o2e=(()=>{class t{constructor(e){this.dialog=e,this.OpenAlertDialog=r=>{this.dialog.open(i2e,{data:r})}}}return t.\u0275fac=function(e){return new(e||t)(nt(yh))},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const s2e=["map"];function a2e(t,n){1&t&&(At(0,"mat-error"),Nn(1,"Must be between 1 and 25."),Vt())}function c2e(t,n){if(1&t){const e=r1();At(0,"button",14),Vn("click",function(){return Or(e),Di(Nr().SaveFile())}),Nn(1," Download Clustered Data "),Vt()}if(2&t){const e=Nr();Wt("disabled",e.settingsForm.invalid||e.ShowSpinner||null==e.UploadedFile)}}function l2e(t,n){if(1&t&&(At(0,"p"),Nn(1),Vt()),2&t){const e=Nr();Ft(1),Z2(e.loadLoggerService.Message)}}function u2e(t,n){1&t&&So(0,"app-loading-spinner")}function f2e(t,n){if(1&t&&(At(0,"div"),So(1,"app-patient-panel",29),Vt()),2&t){const e=n.$implicit,r=Nr(2);Ft(1),Wt("patient",e)("mainComponent",r)("cluster",r.SelectedCluster)}}function h2e(t,n){if(1&t&&($2(0),Rr(1,f2e,2,3,"div",28),W2()),2&t){const e=Nr();Ft(1),Wt("ngForOf",e.SelectedPatients)}}function d2e(t,n){if(1&t&&($2(0),So(1,"app-cluster-panel",30),W2()),2&t){const e=Nr();Ft(1),Wt("cluster",e.SelectedCluster)("mainComponent",e)}}function p2e(t,n){if(1&t){const e=r1();At(0,"button",33),Vn("click",function(i){return Or(e),Di(Nr(2).OnPatientReassignRequest(i,null))}),Nn(1),Vt()}if(2&t){const e=Nr(2);Wt("disabled",e.SelectedPatients.length<=1||e.IsChoosingNewClusterForPatient&&null!=e.SelectedPatient),Ft(1),Na(" ",e.IsChoosingNewClusterForPatient&&null==e.SelectedPatient?"Cancel":"Reassign Points to Cluster"," ")}}function m2e(t,n){if(1&t){const e=r1();At(0,"button",33),Vn("click",function(i){return Or(e),Di(Nr(2).CreateClusterFromSelectedPatients(i))}),Nn(1,"Create Cluster from Points"),Vt()}if(2&t){const e=Nr(2);Wt("disabled",e.IsChoosingNewClusterForPatient||e.SelectedPatients.length<=1)}}function g2e(t,n){if(1&t&&(At(0,"div",31),Rr(1,p2e,2,2,"button",32),Rr(2,m2e,2,1,"button",32),Vt()),2&t){const e=Nr();Ft(1),Wt("ngIf",0!=e.SelectedPatients.length),Ft(1),Wt("ngIf",0!=e.SelectedPatients.length)}}function v2e(t,n){1&t&&(At(0,"p",34),Nn(1,"Choose A Cluster"),Vt())}function _2e(t,n){if(1&t&&(At(0,"p",35),Nn(1),Vt()),2&t){const e=Nr();Ft(1),Na("Unclustered Patients: ",e.mapComponent.UnclusteredPatientCount,"")}}function y2e(t,n){if(1&t){const e=r1();At(0,"button",36),Vn("click",function(i){return Or(e),Di(Nr().RestoreClusters(i))}),Nn(1,"Undo"),Vt()}}function C2e(t,n){if(1&t){const e=r1();At(0,"button",37),Vn("click",function(){return Or(e),Di(Nr().mapComponent.HideAllDisplayedClusteredPatients())}),Nn(1,"Hide Patients"),Vt()}}function b2e(t,n){if(1&t){const e=r1();At(0,"button",38),Vn("click",function(){return Or(e),Di(Nr().AutoAssignUnclusteredPatients())}),Nn(1,"Auto Assign Unclustered Patients"),Vt()}}var M2e=U(8151);let ZP=(()=>{class t{constructor(e,r,i,o){this.loadLoggerService=e,this.dialog=r,this.http=i,this.alertDialogService=o,this.title="Location-Cluster",this.LONGITUDE="longitude",this.LATITUDE="latitude",this.Clusters=[],this.UploadedFile=void 0,this.UploadedFileName="",this.patients=[],this.dataFrame=[],this.ShowSpinner=!1,this.SelectedCluster=null,this.SelectedPatient=null,this.SelectedPatients=[],this.IsChoosingNewClusterForPatient=!1,this.timeOfLastBoxSelect=Date.now(),this.HasInitializedMap=!1,this.settingsForm=new sJ({maxDiameter:new vJ(10,[Uf.min(1),Uf.max(25),Uf.required])})}ngAfterViewInit(){this.mapComponent.OnClusterClicked.subscribe(({cluster:e})=>{this.OnClusterClicked(e)}),this.mapComponent.OnBoxSelect.subscribe(({bounds:e})=>{this.OnBoxSelect(e)}),this.mapComponent.OnPatientsClicked.subscribe(({patients:e,cluster:r})=>{this.OnPatientsClicked(e,r)}),this.mapComponent.OnDeselect.subscribe(({})=>{this.OnDeselect()}),this.HasInitializedMap=!0}GetClusterEstimatedMilage(e){null==this.SelectedCluster||this.SelectedCluster.patients.length>=12||this.GetClusterMilage(this.SelectedCluster).subscribe(r=>{if(console.log(r),r.code)if("Ok"==r.code){if(r.trips.length>0){try{let o=M2e.decode(r.trips[0].geometry);this.mapComponent.DrawClusterRoundTripRoute(this.SelectedCluster,o)}catch(o){console.log(o)}let i=Math.round(r.trips[0].distance/1609.34*10)/10;this.SelectedCluster.milageEstimate=i}}else console.log("mapbox API failure");else console.log("mapbox API failure")})}OnDeselect(){Date.now()-this.timeOfLastBoxSelect<500||(null!=this.SelectedCluster&&(this.SelectedCluster.isHighlighted=!1,this.SelectedCluster.shouldDisplayArea=!0),this.CancelPatientSelection(),this.SelectedCluster=null)}DeleteCluster(e){e.preventDefault(),null!=this.SelectedCluster&&(this.mapComponent.DeleteCluster(this.SelectedCluster),this.SelectedCluster=null)}CancelPatientSelection(){for(let e=0;e<this.SelectedPatients.length;e++)try{this.SelectedPatients[e].marker.getElement()?.classList.remove("patient-icon-hovered","patient-icon-highlighted")}catch{}this.SelectedPatients=[],this.SelectedPatient=null}OnClusterClicked(e){if(!(Date.now()-this.timeOfLastBoxSelect<500)){if(this.IsChoosingNewClusterForPatient)return void this.OnPatientReassignConfirmation(e);this.CancelPatientSelection(),null!=this.SelectedCluster&&(this.SelectedCluster.isHighlighted=!1,this.SelectedCluster.shouldDisplayArea=!0),this.SelectedCluster=e,this.SelectedCluster.isHighlighted=!0}}OnPatientReassignRequest(e,r){if(e.preventDefault(),this.IsChoosingNewClusterForPatient)return this.IsChoosingNewClusterForPatient=!1,void(this.SelectedPatient=null);this.IsChoosingNewClusterForPatient=!0,this.SelectedPatient=r}OnPatientReassignConfirmation(e){this.IsChoosingNewClusterForPatient=!1,null!=this.SelectedPatient?this.mapComponent.SwitchPatientsAssignedCluster([this.SelectedPatient],null==this.SelectedCluster?null:this.SelectedCluster,e):this.SelectedPatients.length>0&&this.mapComponent.SwitchPatientsAssignedCluster(this.SelectedPatients,null==this.SelectedCluster?null:this.SelectedCluster,e),this.CancelPatientSelection(),this.OnDeselect()}OnPatientsClicked(e,r){if(!this.IsChoosingNewClusterForPatient){this.CancelPatientSelection();for(let i=0;i<this.SelectedPatients.length;i++)try{this.SelectedPatients[i].marker.getElement()?.classList.remove("patient-icon-hovered","patient-icon-highlighted")}catch{}this.SelectedPatients=[];for(let i=0;i<e.length;i++){try{e[i].marker.getElement()?.classList.add("patient-icon-highlighted")}catch{}this.SelectedPatients.push(e[i])}null!=r?null!=this.SelectedCluster?this.SelectedCluster!=r&&(this.SelectedCluster.isHighlighted=!1,r.isHighlighted=!0,this.SelectedCluster=r):(r.isHighlighted=!0,this.SelectedCluster=r):null!=this.SelectedCluster&&(this.SelectedCluster.isHighlighted=!1,this.SelectedCluster.shouldDisplayArea=!0,this.SelectedCluster=null)}}OnBoxSelect(e){let r=[];for(let o=0;o<this.patients.length;o++)e.contains(this.patients[o].location)&&r.push(this.patients[o]);for(let o=r.length-1;o>=0;o--)for(let a=0;a<this.mapComponent.Clusters.length;a++)if(this.mapComponent.Clusters[a].patients.includes(r[o])&&!this.mapComponent.Clusters[a].shouldDisplayPatients){r.splice(o,1);break}if(0==r.length){for(let o=0;o<this.SelectedPatients.length;o++)try{this.SelectedPatients[o].marker.getElement()?.classList.remove("patient-icon-hovered","patient-icon-highlighted")}catch{}return void(this.SelectedPatients=[])}let i=null;for(let o=0;o<this.mapComponent.Clusters.length;o++)for(let a=0;a<r.length;a++)if(this.mapComponent.Clusters[o].patients.includes(r[a])){if(null!=i&&i!=this.mapComponent.Clusters[o])return void console.log("points in different clusters");i=this.mapComponent.Clusters[o]}null==this.SelectedCluster?(this.SelectedCluster=i,null!=this.SelectedCluster&&(this.SelectedCluster.isHighlighted=!0)):(this.SelectedCluster.isHighlighted=!1,this.SelectedCluster=i,null!=this.SelectedCluster&&(this.SelectedCluster.isHighlighted=!0)),this.timeOfLastBoxSelect=Date.now();for(let o=0;o<r.length;o++)this.SelectedPatients.push(r[o]);this.SelectedPatients=Array.from(new Set(this.SelectedPatients));for(let o=0;o<this.SelectedPatients.length;o++)try{this.SelectedPatients[o].marker.getElement()?.classList.add("patient-icon-highlighted")}catch{}}UploadedFileChanged(e){if(!e.target.files[0])return;this.UploadedFile=e.target.files[0];let r=new FileReader;r.onload=i=>{t2e().fromString(r.result).then(o=>{if(this.dataFrame=o,!this.isValidCsvFile())return this.UploadedFile=void 0,this.UploadedFileName="",this.dataFrame=[],null!=document.getElementById("file-input")&&(document.getElementById("file-input").value=""),void this.alertDialogService.OpenAlertDialog({message:"Invalid File: missing longitude and/or latitude information",buttonText:"Ok",icon:void 0});this.UploadedFileName=this.UploadedFile.name,this.setLongitudeAndLatitudeConstants(),this.dataFrameLocations=new Array(this.dataFrame.length).fill([0,0]);for(let a=0;a<this.dataFrame.length;a++){let l=new I2;this.dataFrameLocations[a]=[parseFloat(this.dataFrame[a][this.LATITUDE]),parseFloat(this.dataFrame[a][this.LONGITUDE])],l.latitude=parseFloat(this.dataFrame[a][this.LATITUDE]),l.longitude=parseFloat(this.dataFrame[a][this.LONGITUDE]),l.patUID=this.dataFrame[a].PatUID,l.memberAddress=this.dataFrame[a].MemberAddress,l.city=this.dataFrame[a].City,l.state=this.dataFrame[a].State,l.zip=this.dataFrame[a].Zip,l.county=this.dataFrame[a].County,this.patients.push(l),isNaN(this.dataFrameLocations[a][0])&&(console.log(`dataframe[${a}][Latitude]: ${this.dataFrame[a][this.LATITUDE]} is not a number`),this.dataFrameLocations[a]=[0,this.dataFrameLocations[a][1]]),isNaN(this.dataFrameLocations[a][1])&&(console.log(`dataframe[${a}][Longitude]: ${this.dataFrame[a][this.LONGITUDE]} is not a number`),this.dataFrameLocations[a]=[this.dataFrameLocations[a][0],0])}this.mapComponent.LoadPatients(this.patients)},o=>{console.error(o)})},r.onprogress=i=>{},r.readAsText(this.UploadedFile)}CreateClusterFromSelectedPatients(e){e.preventDefault(),!(this.SelectedPatients.length<=1)&&(this.mapComponent.CreateClusterFromSelectedPatients(this.SelectedPatients),this.CancelPatientSelection())}AutoPartitionCluster(e){null!=this.SelectedCluster&&this.mapComponent.PartitionCluster(this.SelectedCluster)}RunGridCluster(e,r,i){var o=this;e.preventDefault(),null!=this.SelectedCluster&&(this.loadLoggerService.LogMessage("Grid Partitioning"),this.ShowSpinner=!0,setTimeout(o2(function*(){null!=o.SelectedCluster&&o.mapComponent.GridCutCluster(o.SelectedCluster,r,i),o.OnDeselect(),o.loadLoggerService.LogMessage(""),o.ShowSpinner=!1}),100))}RunKmeans(e,r){if(e.preventDefault(),null==this.SelectedCluster)return;this.ShowSpinner=!0,this.loadLoggerService.LogMessage("Auto Partitioning");let i=[];for(let o=0;o<this.SelectedCluster.patients.length;o++)i.push(this.SelectedCluster.patients[o].location);if(typeof Worker<"u"){const o=new Worker(U.tu(new URL(U.p+U.u(352),U.b)));o.onmessage=({data:a})=>{let l=a;if(l.status==wu.Progess)this.loadLoggerService.LogMessage(l.message||"");else if(l.status==wu.Error)this.loadLoggerService.LogMessage(l.message||"",!0),this.ShowSpinner=!1;else{let f=l.data.labels;null!=this.SelectedCluster&&(this.SelectedCluster.isHighlighted=!1,this.mapComponent.HandleKmeansResults(this.SelectedCluster,r,f),this.SelectedCluster=null),this.loadLoggerService.LogMessage(""),this.ShowSpinner=!1}},o.postMessage({k:r,patientLocations:i})}else console.warn("Workers aren't available"),this.loadLoggerService.LogMessage("Web Workers are unavailable in your browser",!0),this.ShowSpinner=!1}AutoAssignUnclusteredPatients(){var e=this;this.loadLoggerService.LogMessage("Auto Assigning"),this.ShowSpinner=!0,setTimeout(o2(function*(){e.mapComponent.AutoAssignUnclusteredPatients(),e.OnDeselect(),e.loadLoggerService.LogMessage(""),e.ShowSpinner=!1}),100)}SaveFile(){let r=this.mapComponent.Clusters;for(let d=0;d<this.dataFrame.length;d++){let m=0,_=this.dataFrame[d].PatUID,C=!1;for(m=0;m<r.length;m++)if(r[m].patients.findIndex(W=>W.patUID===_)>=0){C=!0;break}this.dataFrame[d].cluster=C?m+1:-1}let a=function e(d){let m=d.map(_=>Object.values(_));return m.unshift(Object.keys(d[0])),`${m.join("\n").replace(/,/g,",")}`}(this.dataFrame);const l=new Blob([a],{type:"text/csv"}),f=document.createElement("a");f.href=URL.createObjectURL(l),f.download="ClusteredData.csv",f.click(),f.remove()}resetClusterValues(){for(let e=0;e<this.dataFrame.length;e++)"cluster"in this.dataFrame[e]&&(this.dataFrame[e].cluster=0)}RestoreClusters(e){this.OnDeselect(),this.mapComponent.RestoreClusters()}isValidCsvFile(){return!!(this.dataFrame[0].Longitude||this.dataFrame[0].longitude||this.dataFrame[0].Lng||this.dataFrame[0].lng)}setLongitudeAndLatitudeConstants(){this.dataFrame[0].Longitude?this.LONGITUDE="Longitude":this.dataFrame[0].longitude?this.LONGITUDE="longitude":this.dataFrame[0].Lng?this.LONGITUDE="Lng":this.dataFrame[0].lng&&(this.LONGITUDE="lng"),this.dataFrame[0].Latitude?this.LATITUDE="Latitude":this.dataFrame[0].latitude?this.LATITUDE="latitude":this.dataFrame[0].Lat?this.LATITUDE="Lat":this.dataFrame[0].lat&&(this.LATITUDE="lat")}GenerateClusters(){var e=this;return o2(function*(){0!=e.patients.length?e.ShowSpinner||(e.OnDeselect(),e.ShowSpinner=!0,e.mapComponent.ClearMarkers(),null!=e.dataFrame[0].cluster?(e.loadLoggerService.LogMessage("Loading Existing Clusters"),setTimeout(o2(function*(){let r=[...new Set(e.dataFrame.map(a=>a.cluster))].length,i=[],o=[];for(let a=0;a<r;a++)i.push([]);for(let a=0;a<e.dataFrame.length;a++){let l=e.dataFrame[a].cluster;-1!=l?i[l-1].push(e.patients[a]):o.push(e.patients[a])}yield e.mapComponent.CreateClustersFromPatientGroups(i,e.patients,o),e.loadLoggerService.LogMessage(""),e.ShowSpinner=!1}),100)):(e.loadLoggerService.LogMessage("Finding Clusters"),setTimeout(o2(function*(){let r=e.settingsForm.controls.maxDiameter.value-1.5;r=Math.max(1,r),yield e.mapComponent.CreateMarkerClusters(e.patients,r/2),e.loadLoggerService.LogMessage(""),e.ShowSpinner=!1}),100))):e.alertDialogService.OpenAlertDialog({message:"No data to cluster",buttonText:"Ok",icon:void 0})})()}GetClusterMilage(e){let r=[];for(let d=0;d<e.patients.length;d++)r.push([e.patients[d].longitude,e.patients[d].latitude]);let i=[];for(let d=0;d<r.length;d++)i.push(r[d].join(","));let o=i.join(";");return this.http.get(`https://api.mapbox.com/optimized-trips/v1/mapbox/driving/${o}?steps=true&access_token=pk.eyJ1IjoidHJleWRldHRtZXIiLCJhIjoiY2xoOGRsd3JzMDQ1ejNkbzZiZmNvNGNxaCJ9.fGOdn3Ju30RKt11nZ_fBww`).pipe(re(d=>d),e2((d,m)=>{throw console.error(d),d}))}CalculateInterquartileRange(){let e=[],r=[];for(let i=0;i<this.dataFrameLocations.length;i++)e.push(this.dataFrameLocations[i][0]),r.push(this.dataFrameLocations[i][1])}}return t.\u0275fac=function(e){return new(e||t)(Xe(n2e),Xe(yh),Xe(M6),Xe(o2e))},t.\u0275cmp=ei({type:t,selectors:[["app-main"]],viewQuery:function(e,r){if(1&e&&M1(s2e,5),2&e){let i;Lo(i=Do())&&(r.mapComponent=i.first)}},decls:44,vars:15,consts:[[1,"page-container"],[1,"header"],[1,"inputs-container"],[1,"file-upload-container"],["id","file-input","type","file","accept",".csv",1,"file-input",3,"input"],["fileUpload",""],[1,"file-upload"],["mat-icon-button","","matTooltipPosition","right","matTooltip","Upload a CSV file containing longitude and latitude columns","matTooltipClass","primary-tooltip",1,"upload-button","gradient-button",3,"click"],[1,"cluster-settings-form",3,"formGroup"],[1,"cluster-settings-container"],["appearance","outline","color","primary",1,"cluster-settings-wide-form-field"],["matInput","","type","number","matTooltipPosition","right","matTooltip","The maximum distance between any two points in a cluster","matTooltipClass","primary-tooltip","formControlName","maxDiameter"],[4,"ngIf"],[1,"buttons-container"],["mat-flat-button","",1,"cluster-button","gradient-button",3,"disabled","click"],["mat-flat-button","","class"," cluster-button gradient-button",3,"disabled","click",4,"ngIf"],[1,"log-container"],[1,"content"],[1,"side-panel"],[1,"side-panel-scrollbox"],["class","side-panel-footer",4,"ngIf"],[1,"map-container"],["map",""],["class","reassign-cluster-prompt",4,"ngIf"],["class","unclustered-patients-prompt",4,"ngIf"],["class","undo-button","color","accent","mat-raised-button","",3,"click",4,"ngIf"],["class","reset-button","color","accent","mat-raised-button","",3,"click",4,"ngIf"],["matTooltipPosition","right","matTooltip","Assigns unclustered patients to nearest clusters","matTooltipClass","primary-tooltip","class","auto-assign-button","color","accent","mat-raised-button","",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"patient","mainComponent","cluster"],[3,"cluster","mainComponent"],[1,"side-panel-footer"],["color","accent","mat-flat-button","",3,"disabled","click",4,"ngIf"],["color","accent","mat-flat-button","",3,"disabled","click"],[1,"reassign-cluster-prompt"],[1,"unclustered-patients-prompt"],["color","accent","mat-raised-button","",1,"undo-button",3,"click"],["color","accent","mat-raised-button","",1,"reset-button",3,"click"],["matTooltipPosition","right","matTooltip","Assigns unclustered patients to nearest clusters","matTooltipClass","primary-tooltip","color","accent","mat-raised-button","",1,"auto-assign-button",3,"click"]],template:function(e,r){if(1&e){const i=r1();At(0,"div",0)(1,"div",1)(2,"h1"),Nn(3,"Location Clusterer"),Vt()(),At(4,"div",2)(5,"div",3)(6,"input",4,5),Vn("input",function(a){return r.UploadedFileChanged(a)}),Vt(),At(8,"div",6),Nn(9),At(10,"button",7),Vn("click",function(){return Or(i),Di(b0(7).click())}),At(11,"mat-icon"),Nn(12,"attach_file"),Vt()()()(),At(13,"form",8)(14,"div",9)(15,"mat-form-field",10)(16,"mat-label"),Nn(17,"Maximum Cluster Diameter (miles)"),Vt(),So(18,"input",11),Rr(19,a2e,2,0,"mat-error",12),Vt()(),At(20,"div",13)(21,"button",14),Vn("click",function(){return r.GenerateClusters()}),Nn(22," Generate Clusters "),Vt(),Rr(23,c2e,2,1,"button",15),Vt()()(),At(24,"div",16),Rr(25,l2e,2,1,"p",12),Rr(26,u2e,1,0,"app-loading-spinner",12),Vt(),At(27,"div",17)(28,"div",18)(29,"div",19),Rr(30,h2e,2,1,"ng-container",12),Rr(31,d2e,2,2,"ng-container",12),Vt(),Rr(32,g2e,3,2,"div",20),Vt(),At(33,"div",21),So(34,"app-map",null,22),Rr(36,v2e,2,0,"p",23),Rr(37,_2e,2,1,"p",24),Rr(38,y2e,2,0,"button",25),Rr(39,C2e,2,0,"button",26),Rr(40,b2e,2,0,"button",27),Vt()(),At(41,"footer")(42,"p"),Nn(43,"\xa9 2023 Trey Dettmer"),Vt()()()}2&e&&(Ft(9),Na(" ",r.UploadedFileName||"No file uploaded yet."," "),Ft(4),Wt("formGroup",r.settingsForm),Ft(6),Wt("ngIf",r.settingsForm.controls.maxDiameter.invalid&&(r.settingsForm.controls.maxDiameter.dirty||r.settingsForm.controls.maxDiameter.touched)),Ft(2),Wt("disabled",r.settingsForm.invalid||r.ShowSpinner||null==r.UploadedFile),Ft(2),Wt("ngIf",!!r.HasInitializedMap&&r.mapComponent.Clusters.length>0),Ft(2),Wt("ngIf",""!=r.loadLoggerService.Message),Ft(1),Wt("ngIf",r.ShowSpinner),Ft(4),Wt("ngIf",0!=r.SelectedPatients.length),Ft(1),Wt("ngIf",r.SelectedCluster&&0==r.SelectedPatients.length),Ft(1),Wt("ngIf",0!=r.SelectedPatients.length),Ft(4),Wt("ngIf",r.IsChoosingNewClusterForPatient),Ft(1),Wt("ngIf",r.HasInitializedMap&&r.mapComponent.Clusters.length>0),Ft(1),Wt("ngIf",r.HasInitializedMap&&r.mapComponent.CanUndo),Ft(1),Wt("ngIf",r.HasInitializedMap&&r.mapComponent.PatientsAreVisible),Ft(1),Wt("ngIf",r.HasInitializedMap&&r.mapComponent.Clusters.length>0&&r.mapComponent.UnclusteredPatientCount>0&&r.mapComponent.AreMappedPolygonsVisible()))},styles:['*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box;margin:0;padding:0}@font-face{font-family:DidactGothicRegular;src:url(/LocationClusterer/assets/DidactGothic-Regular.ttf) format("truetype")}html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow-x:hidden}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-family:DidactGothicRegular,Open Sans,sans-serif;min-height:100%;width:100vw;margin:0;padding:0;position:relative}.header[_ngcontent-%COMP%]{height:7vh;display:flex;width:100vw;flex-direction:column;justify-content:center;align-items:center}h1[_ngcontent-%COMP%]{font-size:2rem;font-family:DidactGothicRegular,Open Sans,sans-serif;font-weight:400}.inputs-container[_ngcontent-%COMP%]{width:100vw;display:flex;flex-direction:column;align-items:center;gap:20px}.cluster-settings-form[_ngcontent-%COMP%]{padding-bottom:15px}.cluster-settings-wide-form-field[_ngcontent-%COMP%]{width:min(260px,70vw)}  .primary-tooltip{font-size:.75rem}.input-error[_ngcontent-%COMP%]{display:block;color:red;padding:0;margin:0}.file-upload-container[_ngcontent-%COMP%]{width:min(900px,70vw);display:flex;justify-content:center}.file-upload[_ngcontent-%COMP%]{padding-top:10px;width:min(400px,70vw);display:flex;justify-content:center;align-items:center;gap:10px;font-family:DidactGothicRegular,Open Sans,sans-serif}.file-input[_ngcontent-%COMP%]{display:none}.upload-button[_ngcontent-%COMP%]{color:#fff}.cluster-settings-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cluster-settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:min(900px,70vw);justify-content:center;gap:10px}.cluster-settings-form-field[_ngcontent-%COMP%]{font-family:DidactGothicRegular,Open Sans,sans-serif}.buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.cluster-button[_ngcontent-%COMP%]{position:relative;font-family:DidactGothicRegular,Open Sans,sans-serif;color:#fff;margin:0 5px}.gradient-button[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--theme-gradient-color1),var(--theme-gradient-color2),var(--theme-gradient-color2),var(--theme-gradient-color1));background-size:320%;background-position:left;transition:.1s background-position linear}.gradient-button[_ngcontent-%COMP%]:hover{background-position:right}.log-container[_ngcontent-%COMP%]{height:3vh;width:90vw;color:#000;display:flex;flex-direction:row;justify-content:center;align-items:center;align-self:center;gap:10px}.content[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.side-panel[_ngcontent-%COMP%]{width:300px;height:60vh;background-color:#e2e3e4;margin:10px;display:flex;flex-direction:column;align-items:center}.side-panel-footer[_ngcontent-%COMP%]{padding:5px;display:flex;flex-direction:column;background-color:#ccc;width:100%;justify-content:center;margin-top:auto}.side-panel-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px 0}.side-panel-scrollbox[_ngcontent-%COMP%]{width:100%;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none;display:flex;flex-direction:column;align-items:stretch;padding:0 5px}.side-panel-scrollbox[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.map-container[_ngcontent-%COMP%]{height:60vh;width:min(900px,60vw);align-self:center;padding:0;margin:10px;position:relative}.undo-button[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:10px;z-index:400}.reset-button[_ngcontent-%COMP%]{position:absolute;top:60px;right:10px;z-index:400}.auto-assign-button[_ngcontent-%COMP%]{position:absolute;bottom:50px;left:10px;z-index:400}.reassign-cluster-prompt[_ngcontent-%COMP%]{position:absolute;top:10px;left:20%;right:20%;background-color:#f5f5f5f2;padding:5px;color:#000;z-index:400;text-align:center}.unclustered-patients-prompt[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:30%;right:30%;background-color:#f5f5f5cd;padding:5px;color:#000;z-index:400;text-align:center}.map-legend[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:stretch;background-color:#a1a1a180;width:min(150px,11.67vw);height:30vh;right:0;top:0;z-index:1}.legend-title[_ngcontent-%COMP%]{text-align:center;text-decoration:underline}.cluster-info[_ngcontent-%COMP%]{text-align:left;padding:5px}#map[_ngcontent-%COMP%]{position:absolute;left:0;top:0}footer[_ngcontent-%COMP%]{background:#e2e3e4;color:#181d24;text-align:center;font-family:DidactGothicRegular,Open Sans,sans-serif;padding:1em 0;margin-top:auto}  .patient-icon{background-color:#000;width:30px;height:30px;border-radius:50%;border:1px solid #FFFFFF;text-align:center;color:#fff;box-shadow:2px 2px 3px gray;z-index:10;transform-origin:bottom right;position:absolute;transition:all .2s ease-in-out}  .patient-icon.patient-icon-highlighted{background-color:#ffd500!important;border:1px solid #000000!important}  .patient-icon.patient-icon-hovered{background-color:#ff7300!important;border:1px solid #000000!important;z-index:10000!important;width:15px!important;height:15px!important}']}),t})();var pH={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},qV={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]};const xk=U(8012),Ek="738ef1c0f31e0da20e0e635108cce5dc7c71062628b143d7ee1f0083e04e05b2";let Sk=(()=>{class t{canActivate(){return null!=sessionStorage.getItem("info")&&xk(sessionStorage.getItem("info"))==Ek&&(console.log("logged in user"),!0)}hashPasswordInput(e){return xk(e)==Ek&&(sessionStorage.setItem("info",e),!0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Lk(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,r)}return e}function qt(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Lk(Object(e),!0).forEach(function(r){es(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Lk(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function Nh(t){return(Nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function Dk(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function es(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Zg(t,n){return function XSe(t){if(Array.isArray(t))return t}(t)||function QSe(t,n){var e=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var a,l,r=[],i=!0,o=!1;try{for(e=e.call(t);!(i=(a=e.next()).done)&&(r.push(a.value),!n||r.length!==n);i=!0);}catch(f){o=!0,l=f}finally{try{!i&&null!=e.return&&e.return()}finally{if(o)throw l}}return r}}(t,n)||Pk(t,n)||function eLe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zu(t){return function ZSe(t){if(Array.isArray(t))return Xg(t)}(t)||function KSe(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Pk(t)||function JSe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pk(t,n){if(t){if("string"==typeof t)return Xg(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Xg(t,n)}}function Xg(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var zk=function(){},Kg={},Hk={},Ak=null,Vk={mark:zk,measure:zk};try{typeof window<"u"&&(Kg=window),typeof document<"u"&&(Hk=document),typeof MutationObserver<"u"&&(Ak=MutationObserver),typeof performance<"u"&&(Vk=performance)}catch{}var Rh,Fh,Bh,Uh,jh,Tk=(Kg.navigator||{}).userAgent,Ik=void 0===Tk?"":Tk,fc=Kg,Yi=Hk,Nk=Ak,Oh=Vk,N2=!!Yi.documentElement&&!!Yi.head&&"function"==typeof Yi.addEventListener&&"function"==typeof Yi.createElement,kk=~Ik.indexOf("MSIE")||~Ik.indexOf("Trident/"),k2="___FONT_AWESOME___",Qg=16,Ok="fa",Rk="svg-inline--fa",el="data-fa-i2svg",Jg="data-fa-pseudo-element",nLe="data-fa-pseudo-element-pending",e9="data-prefix",t9="data-icon",Fk="fontawesome-i2svg",rLe="async",iLe=["HTML","HEAD","STYLE","SCRIPT"],Bk=function(){try{return!0}catch{return!1}}(),Zi="classic",_o="sharp",n9=[Zi,_o];function Hu(t){return new Proxy(t,{get:function(e,r){return r in e?e[r]:e[Zi]}})}var Au=Hu((es(Rh={},Zi,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),es(Rh,_o,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Rh)),Vu=Hu((es(Fh={},Zi,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),es(Fh,_o,{solid:"fass",regular:"fasr",light:"fasl"}),Fh)),Tu=Hu((es(Bh={},Zi,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),es(Bh,_o,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Bh)),oLe=Hu((es(Uh={},Zi,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),es(Uh,_o,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),Uh)),sLe=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,Uk="fa-layers-text",aLe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,cLe=Hu((es(jh={},Zi,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),es(jh,_o,{900:"fass",400:"fasr",300:"fasl"}),jh)),jk=[1,2,3,4,5,6,7,8,9,10],lLe=jk.concat([11,12,13,14,15,16,17,18,19,20]),uLe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],tl={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Iu=new Set;Object.keys(Vu[Zi]).map(Iu.add.bind(Iu)),Object.keys(Vu[_o]).map(Iu.add.bind(Iu));var fLe=[].concat(n9,zu(Iu),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",tl.GROUP,tl.SWAP_OPACITY,tl.PRIMARY,tl.SECONDARY]).concat(jk.map(function(t){return"".concat(t,"x")})).concat(lLe.map(function(t){return"w-".concat(t)})),Nu=fc.FontAwesomeConfig||{};Yi&&"function"==typeof Yi.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var n=Zg(t,2),r=n[1],i=function dLe(t){return""===t||"false"!==t&&("true"===t||t)}(function hLe(t){var n=Yi.querySelector("script["+t+"]");if(n)return n.getAttribute(t)}(n[0]));null!=i&&(Nu[r]=i)});var Gk={styleDefault:"solid",familyDefault:"classic",cssPrefix:Ok,replacementClass:Rk,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Nu.familyPrefix&&(Nu.cssPrefix=Nu.familyPrefix);var S3=qt(qt({},Gk),Nu);S3.autoReplaceSvg||(S3.observeMutations=!1);var en={};Object.keys(Gk).forEach(function(t){Object.defineProperty(en,t,{enumerable:!0,set:function(e){S3[t]=e,ku.forEach(function(r){return r(en)})},get:function(){return S3[t]}})}),Object.defineProperty(en,"familyPrefix",{enumerable:!0,set:function(n){S3.cssPrefix=n,ku.forEach(function(e){return e(en)})},get:function(){return S3.cssPrefix}}),fc.FontAwesomeConfig=en;var ku=[],hc=Qg,u2={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},vLe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ou(){for(var t=12,n="";t-- >0;)n+=vLe[62*Math.random()|0];return n}function L3(t){for(var n=[],e=(t||[]).length>>>0;e--;)n[e]=t[e];return n}function r9(t){return t.classList?L3(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(n){return n})}function qk(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Gh(t){return Object.keys(t||{}).reduce(function(n,e){return n+"".concat(e,": ").concat(t[e].trim(),";")},"")}function i9(t){return t.size!==u2.size||t.x!==u2.x||t.y!==u2.y||t.rotate!==u2.rotate||t.flipX||t.flipY}var bLe=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function $k(){var t=Ok,n=Rk,e=en.cssPrefix,r=en.replacementClass,i=bLe;if(e!==t||r!==n){var o=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),l=new RegExp("\\.".concat(n),"g");i=i.replace(o,".".concat(e,"-")).replace(a,"--".concat(e,"-")).replace(l,".".concat(r))}return i}var Wk=!1;function o9(){en.autoAddCss&&!Wk&&(function gLe(t){if(t&&N2){var n=Yi.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=t;for(var e=Yi.head.childNodes,r=null,i=e.length-1;i>-1;i--){var o=e[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}Yi.head.insertBefore(n,r)}}($k()),Wk=!0)}var MLe={mixout:function(){return{dom:{css:$k,insertCss:o9}}},hooks:function(){return{beforeDOMElementCreation:function(){o9()},beforeI2svg:function(){o9()}}}},O2=fc||{};O2[k2]||(O2[k2]={}),O2[k2].styles||(O2[k2].styles={}),O2[k2].hooks||(O2[k2].hooks={}),O2[k2].shims||(O2[k2].shims=[]);var P1=O2[k2],Yk=[],qh=!1;function Ru(t){var n=t.tag,e=t.attributes,r=void 0===e?{}:e,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?qk(t):"<".concat(n," ").concat(function _Le(t){return Object.keys(t||{}).reduce(function(n,e){return n+"".concat(e,'="').concat(qk(t[e]),'" ')},"").trim()}(r),">").concat(o.map(Ru).join(""),"</").concat(n,">")}function Zk(t,n,e){if(t&&t[n]&&t[n][e])return{prefix:n,iconName:e,icon:t[n][e]}}N2&&((qh=(Yi.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Yi.readyState))||Yi.addEventListener("DOMContentLoaded",function t(){Yi.removeEventListener("DOMContentLoaded",t),qh=1,Yk.map(function(n){return n()})}));var s9=function(n,e,r,i){var f,d,m,o=Object.keys(n),a=o.length,l=void 0!==i?function(n,e){return function(r,i,o,a){return n.call(e,r,i,o,a)}}(e,i):e;for(void 0===r?(f=1,m=n[o[0]]):(f=0,m=r);f<a;f++)m=l(m,n[d=o[f]],d,n);return m};function a9(t){var n=function SLe(t){for(var n=[],e=0,r=t.length;e<r;){var i=t.charCodeAt(e++);if(i>=55296&&i<=56319&&e<r){var o=t.charCodeAt(e++);56320==(64512&o)?n.push(((1023&i)<<10)+(1023&o)+65536):(n.push(i),e--)}else n.push(i)}return n}(t);return 1===n.length?n[0].toString(16):null}function Xk(t){return Object.keys(t).reduce(function(n,e){var r=t[e];return r.icon?n[r.iconName]=r.icon:n[e]=r,n},{})}function c9(t,n){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,o=Xk(n);"function"!=typeof P1.hooks.addPack||i?P1.styles[t]=qt(qt({},P1.styles[t]||{}),o):P1.hooks.addPack(t,Xk(n)),"fas"===t&&c9("fa",n)}var $h,Wh,Yh,D3=P1.styles,DLe=P1.shims,PLe=(es($h={},Zi,Object.values(Tu[Zi])),es($h,_o,Object.values(Tu[_o])),$h),l9=null,Kk={},Qk={},Jk={},eO={},tO={},zLe=(es(Wh={},Zi,Object.keys(Au[Zi])),es(Wh,_o,Object.keys(Au[_o])),Wh);var nO=function(){var n=function(o){return s9(D3,function(a,l,f){return a[f]=s9(l,o,{}),a},{})};Kk=n(function(i,o,a){return o[3]&&(i[o[3]]=a),o[2]&&o[2].filter(function(f){return"number"==typeof f}).forEach(function(f){i[f.toString(16)]=a}),i}),Qk=n(function(i,o,a){return i[a]=a,o[2]&&o[2].filter(function(f){return"string"==typeof f}).forEach(function(f){i[f]=a}),i}),tO=n(function(i,o,a){var l=o[2];return i[a]=a,l.forEach(function(f){i[f]=a}),i});var e="far"in D3||en.autoFetchSvg,r=s9(DLe,function(i,o){var a=o[0],l=o[1],f=o[2];return"far"===l&&!e&&(l="fas"),"string"==typeof a&&(i.names[a]={prefix:l,iconName:f}),"number"==typeof a&&(i.unicodes[a.toString(16)]={prefix:l,iconName:f}),i},{names:{},unicodes:{}});Jk=r.names,eO=r.unicodes,l9=Zh(en.styleDefault,{family:en.familyDefault})};function u9(t,n){return(Kk[t]||{})[n]}function nl(t,n){return(tO[t]||{})[n]}function rO(t){return Jk[t]||{prefix:null,iconName:null}}function dc(){return l9}(function mLe(t){ku.push(t)})(function(t){l9=Zh(t.styleDefault,{family:en.familyDefault})}),nO();var f9=function(){return{prefix:null,iconName:null,rest:[]}};function Zh(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===e?Zi:e;return Vu[r][t]||Vu[r][Au[r][t]]||(t in P1.styles?t:null)||null}var iO=(es(Yh={},Zi,Object.keys(Tu[Zi])),es(Yh,_o,Object.keys(Tu[_o])),Yh);function Xh(t){var n,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,o=(es(n={},Zi,"".concat(en.cssPrefix,"-").concat(Zi)),es(n,_o,"".concat(en.cssPrefix,"-").concat(_o)),n),a=null,l=Zi;(t.includes(o[Zi])||t.some(function(d){return iO[Zi].includes(d)}))&&(l=Zi),(t.includes(o[_o])||t.some(function(d){return iO[_o].includes(d)}))&&(l=_o);var f=t.reduce(function(d,m){var _=function ALe(t,n){var e=n.split("-"),r=e[0],i=e.slice(1).join("-");return r!==t||""===i||function HLe(t){return~fLe.indexOf(t)}(i)?null:i}(en.cssPrefix,m);if(D3[m]?(m=PLe[l].includes(m)?oLe[l][m]:m,a=m,d.prefix=m):zLe[l].indexOf(m)>-1?(a=m,d.prefix=Zh(m,{family:l})):_?d.iconName=_:m!==en.replacementClass&&m!==o[Zi]&&m!==o[_o]&&d.rest.push(m),!i&&d.prefix&&d.iconName){var C="fa"===a?rO(d.iconName):{},S=nl(d.prefix,d.iconName);C.prefix&&(a=null),d.iconName=C.iconName||S||d.iconName,d.prefix=C.prefix||d.prefix,"far"===d.prefix&&!D3.far&&D3.fas&&!en.autoFetchSvg&&(d.prefix="fas")}return d},f9());return(t.includes("fa-brands")||t.includes("fab"))&&(f.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(f.prefix="fad"),!f.prefix&&l===_o&&(D3.fass||en.autoFetchSvg)&&(f.prefix="fass",f.iconName=nl(f.prefix,f.iconName)||f.iconName),("fa"===f.prefix||"fa"===a)&&(f.prefix=dc()||"fas"),f}var ILe=function(){function t(){(function $Se(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function WSe(t,n,e){n&&Dk(t.prototype,n),e&&Dk(t,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var e=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(l){e.definitions[l]=qt(qt({},e.definitions[l]||{}),a[l]),c9(l,a[l]);var f=Tu[Zi][l];f&&c9(f,a[l]),nO()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(o){var a=i[o],l=a.prefix,f=a.iconName,d=a.icon,m=d[2];e[l]||(e[l]={}),m.length>0&&m.forEach(function(_){"string"==typeof _&&(e[l][_]=d)}),e[l][f]=d}),e}}]),t}(),oO=[],P3={},z3={},NLe=Object.keys(z3);function h9(t,n){for(var e=arguments.length,r=new Array(e>2?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];return(P3[t]||[]).forEach(function(a){n=a.apply(null,[n].concat(r))}),n}function rl(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];(P3[t]||[]).forEach(function(o){o.apply(null,e)})}function R2(){var t=arguments[0],n=Array.prototype.slice.call(arguments,1);return z3[t]?z3[t].apply(null,n):void 0}function d9(t){"fa"===t.prefix&&(t.prefix="fas");var n=t.iconName,e=t.prefix||dc();if(n)return n=nl(e,n)||n,Zk(sO.definitions,e,n)||Zk(P1.styles,e,n)}var sO=new ILe,RLe={i2svg:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return N2?(rl("beforeI2svg",n),R2("pseudoElements2svg",n),R2("i2svg",n)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.autoReplaceSvgRoot;!1===en.autoReplaceSvg&&(en.autoReplaceSvg=!0),en.observeMutations=!0,function xLe(t){N2&&(qh?setTimeout(t,0):Yk.push(t))}(function(){BLe({autoReplaceSvgRoot:e}),rl("watch",n)})}},qa={noAuto:function(){en.autoReplaceSvg=!1,en.observeMutations=!1,rl("noAuto")},config:en,dom:RLe,parse:{icon:function(n){if(null===n)return null;if("object"===Nh(n)&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:nl(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&2===n.length){var e=0===n[1].indexOf("fa-")?n[1].slice(3):n[1],r=Zh(n[0]);return{prefix:r,iconName:nl(r,e)||e}}if("string"==typeof n&&(n.indexOf("".concat(en.cssPrefix,"-"))>-1||n.match(sLe))){var i=Xh(n.split(" "),{skipLookups:!0});return{prefix:i.prefix||dc(),iconName:nl(i.prefix,i.iconName)||i.iconName}}if("string"==typeof n){var o=dc();return{prefix:o,iconName:nl(o,n)||n}}}},library:sO,findIconDefinition:d9,toHtml:Ru},BLe=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===e?Yi:e;(Object.keys(P1.styles).length>0||en.autoFetchSvg)&&N2&&en.autoReplaceSvg&&qa.dom.i2svg({node:r})};function Kh(t,n){return Object.defineProperty(t,"abstract",{get:n}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Ru(r)})}}),Object.defineProperty(t,"node",{get:function(){if(N2){var r=Yi.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function p9(t){var n=t.icons,e=n.main,r=n.mask,i=t.prefix,o=t.iconName,a=t.transform,l=t.symbol,f=t.title,d=t.maskId,m=t.titleId,_=t.extra,C=t.watchable,S=void 0!==C&&C,W=r.found?r:e,Q=W.width,Ce=W.height,ge="fak"===i,ue=[en.replacementClass,o?"".concat(en.cssPrefix,"-").concat(o):""].filter(function(ke){return-1===_.classes.indexOf(ke)}).filter(function(ke){return""!==ke||!!ke}).concat(_.classes).join(" "),pe={children:[],attributes:qt(qt({},_.attributes),{},{"data-prefix":i,"data-icon":o,class:ue,role:_.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Q," ").concat(Ce)})},Te=ge&&!~_.classes.indexOf("fa-fw")?{width:"".concat(Q/Ce*16*.0625,"em")}:{};S&&(pe.attributes[el]=""),f&&(pe.children.push({tag:"title",attributes:{id:pe.attributes["aria-labelledby"]||"title-".concat(m||Ou())},children:[f]}),delete pe.attributes.title);var Oe=qt(qt({},pe),{},{prefix:i,iconName:o,main:e,mask:r,maskId:d,transform:a,symbol:l,styles:qt(qt({},Te),_.styles)}),We=r.found&&e.found?R2("generateAbstractMask",Oe)||{children:[],attributes:{}}:R2("generateAbstractIcon",Oe)||{children:[],attributes:{}},et=We.attributes;return Oe.children=We.children,Oe.attributes=et,l?function jLe(t){var e=t.iconName,r=t.children,i=t.attributes,o=t.symbol,a=!0===o?"".concat(t.prefix,"-").concat(en.cssPrefix,"-").concat(e):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:qt(qt({},i),{},{id:a}),children:r}]}]}(Oe):function ULe(t){var n=t.children,e=t.main,r=t.mask,i=t.attributes,o=t.styles,a=t.transform;if(i9(a)&&e.found&&!r.found){var d={x:e.width/e.height/2,y:.5};i.style=Gh(qt(qt({},o),{},{"transform-origin":"".concat(d.x+a.x/16,"em ").concat(d.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:n}]}(Oe)}function aO(t){var n=t.content,e=t.width,r=t.height,i=t.transform,o=t.title,a=t.extra,l=t.watchable,f=void 0!==l&&l,d=qt(qt(qt({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});f&&(d[el]="");var m=qt({},a.styles);i9(i)&&(m.transform=function CLe(t){var n=t.transform,e=t.width,i=t.height,o=void 0===i?Qg:i,a=t.startCentered,l=void 0!==a&&a,f="";return f+=l&&kk?"translate(".concat(n.x/hc-(void 0===e?Qg:e)/2,"em, ").concat(n.y/hc-o/2,"em) "):l?"translate(calc(-50% + ".concat(n.x/hc,"em), calc(-50% + ").concat(n.y/hc,"em)) "):"translate(".concat(n.x/hc,"em, ").concat(n.y/hc,"em) "),(f+="scale(".concat(n.size/hc*(n.flipX?-1:1),", ").concat(n.size/hc*(n.flipY?-1:1),") "))+"rotate(".concat(n.rotate,"deg) ")}({transform:i,startCentered:!0,width:e,height:r}),m["-webkit-transform"]=m.transform);var _=Gh(m);_.length>0&&(d.style=_);var C=[];return C.push({tag:"span",attributes:d,children:[n]}),o&&C.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),C}var m9=P1.styles;function g9(t){var n=t[0],e=t[1],o=Zg(t.slice(4),1)[0];return{found:!0,width:n,height:e,icon:Array.isArray(o)?{tag:"g",attributes:{class:"".concat(en.cssPrefix,"-").concat(tl.GROUP)},children:[{tag:"path",attributes:{class:"".concat(en.cssPrefix,"-").concat(tl.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(en.cssPrefix,"-").concat(tl.PRIMARY),fill:"currentColor",d:o[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:o}}}}var qLe={found:!1,width:512,height:512};function v9(t,n){var e=n;return"fa"===n&&null!==en.styleDefault&&(n=dc()),new Promise(function(r,i){if(R2("missingIconAbstract"),"fa"===e){var a=rO(t)||{};t=a.iconName||t,n=a.prefix||n}if(t&&n&&m9[n]&&m9[n][t])return r(g9(m9[n][t]));(function $Le(t,n){!Bk&&!en.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(n,'" is missing.'))})(t,n),r(qt(qt({},qLe),{},{icon:en.showMissingIcons&&t&&R2("missingIconAbstract")||{}}))})}var cO=function(){},_9=en.measurePerformance&&Oh&&Oh.mark&&Oh.measure?Oh:{mark:cO,measure:cO},Fu='FA "6.4.0"',lO=function(n){_9.mark("".concat(Fu," ").concat(n," ends")),_9.measure("".concat(Fu," ").concat(n),"".concat(Fu," ").concat(n," begins"),"".concat(Fu," ").concat(n," ends"))},y9={begin:function(n){return _9.mark("".concat(Fu," ").concat(n," begins")),function(){return lO(n)}},end:lO},Qh=function(){};function uO(t){return"string"==typeof(t.getAttribute?t.getAttribute(el):null)}function KLe(t){return Yi.createElementNS("http://www.w3.org/2000/svg",t)}function QLe(t){return Yi.createElement(t)}function fO(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===e?"svg"===t.tag?KLe:QLe:e;if("string"==typeof t)return Yi.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(a){i.setAttribute(a,t.attributes[a])}),(t.children||[]).forEach(function(a){i.appendChild(fO(a,{ceFn:r}))}),i}var Jh={replace:function(n){var e=n[0];if(e.parentNode)if(n[1].forEach(function(i){e.parentNode.insertBefore(fO(i),e)}),null===e.getAttribute(el)&&en.keepOriginalSource){var r=Yi.createComment(function JLe(t){var n=" ".concat(t.outerHTML," ");return"".concat(n,"Font Awesome fontawesome.com ")}(e));e.parentNode.replaceChild(r,e)}else e.remove()},nest:function(n){var e=n[0],r=n[1];if(~r9(e).indexOf(en.replacementClass))return Jh.replace(n);var i=new RegExp("".concat(en.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var o=r[0].attributes.class.split(" ").reduce(function(l,f){return f===en.replacementClass||f.match(i)?l.toSvg.push(f):l.toNode.push(f),l},{toNode:[],toSvg:[]});r[0].attributes.class=o.toSvg.join(" "),0===o.toNode.length?e.removeAttribute("class"):e.setAttribute("class",o.toNode.join(" "))}var a=r.map(function(l){return Ru(l)}).join("\n");e.setAttribute(el,""),e.innerHTML=a}};function hO(t){t()}function dO(t,n){var e="function"==typeof n?n:Qh;if(0===t.length)e();else{var r=hO;en.mutateApproach===rLe&&(r=fc.requestAnimationFrame||hO),r(function(){var i=function XLe(){return!0===en.autoReplaceSvg?Jh.replace:Jh[en.autoReplaceSvg]||Jh.replace}(),o=y9.begin("mutate");t.map(i),o(),e()})}}var C9=!1;function pO(){C9=!0}function b9(){C9=!1}var e8=null;function mO(t){if(Nk&&en.observeMutations){var n=t.treeCallback,e=void 0===n?Qh:n,r=t.nodeCallback,i=void 0===r?Qh:r,o=t.pseudoElementsCallback,a=void 0===o?Qh:o,l=t.observeMutationsRoot,f=void 0===l?Yi:l;e8=new Nk(function(d){if(!C9){var m=dc();L3(d).forEach(function(_){if("childList"===_.type&&_.addedNodes.length>0&&!uO(_.addedNodes[0])&&(en.searchPseudoElements&&a(_.target),e(_.target)),"attributes"===_.type&&_.target.parentNode&&en.searchPseudoElements&&a(_.target.parentNode),"attributes"===_.type&&uO(_.target)&&~uLe.indexOf(_.attributeName))if("class"===_.attributeName&&function YLe(t){var n=t.getAttribute?t.getAttribute(e9):null,e=t.getAttribute?t.getAttribute(t9):null;return n&&e}(_.target)){var C=Xh(r9(_.target)),W=C.iconName;_.target.setAttribute(e9,C.prefix||m),W&&_.target.setAttribute(t9,W)}else(function ZLe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(en.replacementClass)})(_.target)&&i(_.target)})}}),N2&&e8.observe(f,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function gO(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},e=function nDe(t){var n=t.getAttribute("data-prefix"),e=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=Xh(r9(t));return i.prefix||(i.prefix=dc()),n&&e&&(i.prefix=n,i.iconName=e),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function VLe(t,n){return(Qk[t]||{})[n]}(i.prefix,t.innerText)||u9(i.prefix,a9(t.innerText))),!i.iconName&&en.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=e.iconName,i=e.prefix,o=e.rest,a=function rDe(t){var n=L3(t.attributes).reduce(function(i,o){return"class"!==i.name&&"style"!==i.name&&(i[o.name]=o.value),i},{}),e=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return en.autoA11y&&(e?n["aria-labelledby"]="".concat(en.replacementClass,"-title-").concat(r||Ou()):(n["aria-hidden"]="true",n.focusable="false")),n}(t),l=h9("parseNodeAttributes",{},t),f=n.styleParser?function tDe(t){var n=t.getAttribute("style"),e=[];return n&&(e=n.split(";").reduce(function(r,i){var o=i.split(":"),a=o[0],l=o.slice(1);return a&&l.length>0&&(r[a]=l.join(":").trim()),r},{})),e}(t):[];return qt({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:u2,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:f,attributes:a}},l)}var oDe=P1.styles;function vO(t){var n="nest"===en.autoReplaceSvg?gO(t,{styleParser:!1}):gO(t);return~n.extra.classes.indexOf(Uk)?R2("generateLayersText",t,n):R2("generateSvgReplacementMutation",t,n)}var pc=new Set;function _O(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!N2)return Promise.resolve();var e=Yi.documentElement.classList,r=function(_){return e.add("".concat(Fk,"-").concat(_))},i=function(_){return e.remove("".concat(Fk,"-").concat(_))},o=en.autoFetchSvg?pc:n9.map(function(m){return"fa-".concat(m)}).concat(Object.keys(oDe));o.includes("fa")||o.push("fa");var a=[".".concat(Uk,":not([").concat(el,"])")].concat(o.map(function(m){return".".concat(m,":not([").concat(el,"])")})).join(", ");if(0===a.length)return Promise.resolve();var l=[];try{l=L3(t.querySelectorAll(a))}catch{}if(!(l.length>0))return Promise.resolve();r("pending"),i("complete");var f=y9.begin("onTree"),d=l.reduce(function(m,_){try{var C=vO(_);C&&m.push(C)}catch(S){Bk||"MissingIcon"===S.name&&console.error(S)}return m},[]);return new Promise(function(m,_){Promise.all(d).then(function(C){dO(C,function(){r("active"),r("complete"),i("pending"),"function"==typeof n&&n(),f(),m()})}).catch(function(C){f(),_(C)})})}function sDe(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;vO(t).then(function(e){e&&dO([e],n)})}n9.map(function(t){pc.add("fa-".concat(t))}),Object.keys(Au[Zi]).map(pc.add.bind(pc)),Object.keys(Au[_o]).map(pc.add.bind(pc)),pc=zu(pc);var cDe=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.transform,i=void 0===r?u2:r,o=e.symbol,a=void 0!==o&&o,l=e.mask,f=void 0===l?null:l,d=e.maskId,m=void 0===d?null:d,_=e.title,C=void 0===_?null:_,S=e.titleId,W=void 0===S?null:S,Q=e.classes,Ce=void 0===Q?[]:Q,ge=e.attributes,ue=void 0===ge?{}:ge,pe=e.styles,Te=void 0===pe?{}:pe;if(n){var Oe=n.prefix,We=n.iconName,Ze=n.icon;return Kh(qt({type:"icon"},n),function(){return rl("beforeDOMElementCreation",{iconDefinition:n,params:e}),en.autoA11y&&(C?ue["aria-labelledby"]="".concat(en.replacementClass,"-title-").concat(W||Ou()):(ue["aria-hidden"]="true",ue.focusable="false")),p9({icons:{main:g9(Ze),mask:f?g9(f.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Oe,iconName:We,transform:qt(qt({},u2),i),symbol:a,title:C,maskId:m,titleId:W,extra:{attributes:ue,styles:Te,classes:Ce}})})}},lDe={mixout:function(){return{icon:(t=cDe,function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(n||{}).icon?n:d9(n||{}),i=e.mask;return i&&(i=(i||{}).icon?i:d9(i||{})),t(r,qt(qt({},e),{},{mask:i}))})};var t},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=_O,e.nodeCallback=sDe,e}}},provides:function(n){n.i2svg=function(e){var r=e.node,o=e.callback;return _O(void 0===r?Yi:r,void 0===o?function(){}:o)},n.generateSvgReplacementMutation=function(e,r){var i=r.iconName,o=r.title,a=r.titleId,l=r.prefix,f=r.transform,d=r.symbol,m=r.mask,_=r.maskId,C=r.extra;return new Promise(function(S,W){Promise.all([v9(i,l),m.iconName?v9(m.iconName,m.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(Q){var Ce=Zg(Q,2);S([e,p9({icons:{main:Ce[0],mask:Ce[1]},prefix:l,iconName:i,transform:f,symbol:d,maskId:_,title:o,titleId:a,extra:C,watchable:!0})])}).catch(W)})},n.generateAbstractIcon=function(e){var d,r=e.children,i=e.attributes,o=e.main,a=e.transform,f=Gh(e.styles);return f.length>0&&(i.style=f),i9(a)&&(d=R2("generateAbstractTransformGrouping",{main:o,transform:a,containerWidth:o.width,iconWidth:o.width})),r.push(d||o.icon),{children:r,attributes:i}}}},uDe={mixout:function(){return{layer:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,o=void 0===i?[]:i;return Kh({type:"layer"},function(){rl("beforeDOMElementCreation",{assembler:e,params:r});var a=[];return e(function(l){Array.isArray(l)?l.map(function(f){a=a.concat(f.abstract)}):a=a.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(en.cssPrefix,"-layers")].concat(zu(o)).join(" ")},children:a}]})}}}},fDe={mixout:function(){return{counter:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,o=void 0===i?null:i,a=r.classes,l=void 0===a?[]:a,f=r.attributes,d=void 0===f?{}:f,m=r.styles,_=void 0===m?{}:m;return Kh({type:"counter",content:e},function(){return rl("beforeDOMElementCreation",{content:e,params:r}),function GLe(t){var n=t.content,e=t.title,r=t.extra,i=qt(qt(qt({},r.attributes),e?{title:e}:{}),{},{class:r.classes.join(" ")}),o=Gh(r.styles);o.length>0&&(i.style=o);var a=[];return a.push({tag:"span",attributes:i,children:[n]}),e&&a.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),a}({content:e.toString(),title:o,extra:{attributes:d,styles:_,classes:["".concat(en.cssPrefix,"-layers-counter")].concat(zu(l))}})})}}}},hDe={mixout:function(){return{text:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,o=void 0===i?u2:i,a=r.title,l=void 0===a?null:a,f=r.classes,d=void 0===f?[]:f,m=r.attributes,_=void 0===m?{}:m,C=r.styles,S=void 0===C?{}:C;return Kh({type:"text",content:e},function(){return rl("beforeDOMElementCreation",{content:e,params:r}),aO({content:e,transform:qt(qt({},u2),o),title:l,extra:{attributes:_,styles:S,classes:["".concat(en.cssPrefix,"-layers-text")].concat(zu(d))}})})}}},provides:function(n){n.generateLayersText=function(e,r){var i=r.title,o=r.transform,a=r.extra,l=null,f=null;if(kk){var d=parseInt(getComputedStyle(e).fontSize,10),m=e.getBoundingClientRect();l=m.width/d,f=m.height/d}return en.autoA11y&&!i&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,aO({content:e.innerHTML,width:l,height:f,transform:o,title:i,extra:a,watchable:!0})])}}},dDe=new RegExp('"',"ug"),yO=[1105920,1112319];function CO(t,n){var e="".concat(nLe).concat(n.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(e))return r();var a=L3(t.children).filter(function(Ze){return Ze.getAttribute(Jg)===n})[0],l=fc.getComputedStyle(t,n),f=l.getPropertyValue("font-family").match(aLe),d=l.getPropertyValue("font-weight"),m=l.getPropertyValue("content");if(a&&!f)return t.removeChild(a),r();if(f&&"none"!==m&&""!==m){var _=l.getPropertyValue("content"),C=~["Sharp"].indexOf(f[2])?_o:Zi,S=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(f[2])?Vu[C][f[2].toLowerCase()]:cLe[C][d],W=function pDe(t){var n=t.replace(dDe,""),e=function LLe(t,n){var i,e=t.length,r=t.charCodeAt(n);return r>=55296&&r<=56319&&e>n+1&&(i=t.charCodeAt(n+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(n,0),r=e>=yO[0]&&e<=yO[1],i=2===n.length&&n[0]===n[1];return{value:a9(i?n[0]:n),isSecondary:r||i}}(_),Q=W.value,Ce=W.isSecondary,ge=f[0].startsWith("FontAwesome"),ue=u9(S,Q),pe=ue;if(ge){var Te=function TLe(t){var n=eO[t],e=u9("fas",t);return n||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}(Q);Te.iconName&&Te.prefix&&(ue=Te.iconName,S=Te.prefix)}if(!ue||Ce||a&&a.getAttribute(e9)===S&&a.getAttribute(t9)===pe)r();else{t.setAttribute(e,pe),a&&t.removeChild(a);var Oe=function iDe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:u2,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),We=Oe.extra;We.attributes[Jg]=n,v9(ue,S).then(function(Ze){var et=p9(qt(qt({},Oe),{},{icons:{main:Ze,mask:f9()},prefix:S,iconName:pe,extra:We,watchable:!0})),ke=Yi.createElement("svg");"::before"===n?t.insertBefore(ke,t.firstChild):t.appendChild(ke),ke.outerHTML=et.map(function(Bt){return Ru(Bt)}).join("\n"),t.removeAttribute(e),r()}).catch(i)}}else r()})}function mDe(t){return Promise.all([CO(t,"::before"),CO(t,"::after")])}function gDe(t){return!(t.parentNode===document.head||~iLe.indexOf(t.tagName.toUpperCase())||t.getAttribute(Jg)||t.parentNode&&"svg"===t.parentNode.tagName)}function bO(t){if(N2)return new Promise(function(n,e){var r=L3(t.querySelectorAll("*")).filter(gDe).map(mDe),i=y9.begin("searchPseudoElements");pO(),Promise.all(r).then(function(){i(),b9(),n()}).catch(function(){i(),b9(),e()})})}var MO=!1,wO=function(n){return n.toLowerCase().split(" ").reduce(function(r,i){var o=i.toLowerCase().split("-"),a=o[0],l=o.slice(1).join("-");if(a&&"h"===l)return r.flipX=!0,r;if(a&&"v"===l)return r.flipY=!0,r;if(l=parseFloat(l),isNaN(l))return r;switch(a){case"grow":r.size=r.size+l;break;case"shrink":r.size=r.size-l;break;case"left":r.x=r.x-l;break;case"right":r.x=r.x+l;break;case"up":r.y=r.y-l;break;case"down":r.y=r.y+l;break;case"rotate":r.rotate=r.rotate+l}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},M9={x:0,y:0,width:"100%",height:"100%"};function xO(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}!function kLe(t,n){var e=n.mixoutsTo;oO=t,P3={},Object.keys(z3).forEach(function(r){-1===NLe.indexOf(r)&&delete z3[r]}),oO.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(a){"function"==typeof i[a]&&(e[a]=i[a]),"object"===Nh(i[a])&&Object.keys(i[a]).forEach(function(l){e[a]||(e[a]={}),e[a][l]=i[a][l]})}),r.hooks){var o=r.hooks();Object.keys(o).forEach(function(a){P3[a]||(P3[a]=[]),P3[a].push(o[a])})}r.provides&&r.provides(z3)})}([MLe,lDe,uDe,fDe,hDe,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=bO,e}}},provides:function(n){n.pseudoElements2svg=function(e){var r=e.node;en.searchPseudoElements&&bO(void 0===r?Yi:r)}}},{mixout:function(){return{dom:{unwatch:function(){pO(),MO=!0}}}},hooks:function(){return{bootstrap:function(){mO(h9("mutationObserverCallbacks",{}))},noAuto:function(){!function eDe(){e8&&e8.disconnect()}()},watch:function(e){var r=e.observeMutationsRoot;MO?b9():mO(h9("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(e){return wO(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,r){var i=r.getAttribute("data-fa-transform");return i&&(e.transform=wO(i)),e}}},provides:function(n){n.generateAbstractTransformGrouping=function(e){var r=e.main,i=e.transform,a=e.iconWidth,l={transform:"translate(".concat(e.containerWidth/2," 256)")},f="translate(".concat(32*i.x,", ").concat(32*i.y,") "),d="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),m="rotate(".concat(i.rotate," 0 0)"),S={outer:l,inner:{transform:"".concat(f," ").concat(d," ").concat(m)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:qt({},S.outer),children:[{tag:"g",attributes:qt({},S.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:qt(qt({},r.icon.attributes),S.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(e,r){var i=r.getAttribute("data-fa-mask"),o=i?Xh(i.split(" ").map(function(a){return a.trim()})):f9();return o.prefix||(o.prefix=dc()),e.mask=o,e.maskId=r.getAttribute("data-fa-mask-id"),e}}},provides:function(n){n.generateAbstractMask=function(e){var t,r=e.children,i=e.attributes,o=e.main,a=e.mask,l=e.maskId,m=o.icon,C=a.icon,S=function yLe(t){var n=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),a="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(a," ").concat(l)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:e.transform,containerWidth:a.width,iconWidth:o.width}),W={tag:"rect",attributes:qt(qt({},M9),{},{fill:"white"})},Q=m.children?{children:m.children.map(xO)}:{},Ce={tag:"g",attributes:qt({},S.inner),children:[xO(qt({tag:m.tag,attributes:qt(qt({},m.attributes),S.path)},Q))]},ge={tag:"g",attributes:qt({},S.outer),children:[Ce]},ue="mask-".concat(l||Ou()),pe="clip-".concat(l||Ou()),Te={tag:"mask",attributes:qt(qt({},M9),{},{id:ue,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[W,ge]},Oe={tag:"defs",children:[{tag:"clipPath",attributes:{id:pe},children:(t=C,"g"===t.tag?t.children:[t])},Te]};return r.push(Oe,{tag:"rect",attributes:qt({fill:"currentColor","clip-path":"url(#".concat(pe,")"),mask:"url(#".concat(ue,")")},M9)}),{children:r,attributes:i}}}},{provides:function(n){var e=!1;fc.matchMedia&&(e=fc.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:qt(qt({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=qt(qt({},o),{},{attributeName:"opacity"}),l={tag:"circle",attributes:qt(qt({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||l.children.push({tag:"animate",attributes:qt(qt({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:qt(qt({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(l),r.push({tag:"path",attributes:qt(qt({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:qt(qt({},a),{},{values:"1;0;0;0;0;1;"})}]}),e||r.push({tag:"path",attributes:qt(qt({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:qt(qt({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(e,r){var i=r.getAttribute("data-fa-symbol");return e.symbol=null!==i&&(""===i||i),e}}}}],{mixoutsTo:qa});var EDe=qa.parse,SDe=qa.icon;const LDe=["*"],zDe=t=>{const n={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(n).map(e=>n[e]?e:null).filter(e=>e)};let VDe=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),TDe=(()=>{class t{constructor(){this.definitions={}}addIcons(...e){for(const r of e){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...e){for(const r of e){const i=Object.keys(r).map(o=>r[o]);this.addIcons(...i)}}getIconDefinition(e,r){return e in this.definitions&&r in this.definitions[e]?this.definitions[e][r]:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),IDe=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ht({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Nt]}),t})(),NDe=(()=>{class t{constructor(e,r){this.renderer=e,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}}return t.\u0275fac=function(e){return new(e||t)(Xe(q1),Xe(ci))},t.\u0275cmp=ei({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Nt],ngContentSelectors:LDe,decls:1,vars:0,template:function(e,r){1&e&&(Tl(),Ia(0))},encapsulation:2}),t})(),kDe=(()=>{class t{constructor(e,r,i,o,a){this.sanitizer=e,this.config=r,this.iconLibrary=i,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}set spin(e){this.animation=e?"spin":void 0}set pulse(e){this.animation=e?"spin-pulse":void 0}ngOnChanges(e){if(null!=this.icon||null!=this.config.fallbackIcon){if(e){const i=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=i){const o=this.buildParams();this.renderIcon(i,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(e){const r=((t,n)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:n,iconName:t}:{prefix:t[0],iconName:t[1]})(e,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(r),null)}buildParams(){const e={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?EDe.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...zDe(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,r){const i=SDe(e,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return t.\u0275fac=function(e){return new(e||t)(Xe(nf),Xe(VDe),Xe(TDe),Xe(IDe,8),Xe(NDe,8))},t.\u0275cmp=ei({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(e,r){2&e&&(Nl("innerHTML",r.renderedIconHTML,Gv),mo("title",r.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Nt],decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})(),ODe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=Hn({}),t})();function RDe(t,n){1&t&&(At(0,"p",9),Nn(1,"Incorrect Password"),Vt())}let EO=(()=>{class t{constructor(e,r){this.permissionsService=e,this.router=r,this.password="",this.hasAttempted=!1,this.revealPassword=!1,this.faEye=qV,this.faEyeSlash=pH}OnPasswordInputChanged(){this.hasAttempted=!1}TogglePasswordVisibility(){this.revealPassword=!this.revealPassword}OnSubmit(){this.permissionsService.hashPasswordInput(this.password)?this.router.navigateByUrl("/main"):(this.password="",this.hasAttempted=!0)}}return t.\u0275fac=function(e){return new(e||t)(Xe(Sk),Xe(ea))},t.\u0275cmp=ei({type:t,selectors:[["app-login"]],decls:17,vars:5,consts:[[1,"page-container"],[1,"header"],[1,"login-container"],["appearance","outline"],["matInput","","placeholder","","value","",3,"type","ngModel","ngModelChange","input"],["mat-icon-button","","matSuffix","","color","black","aria-label","Reveal Password",1,"password-reveal-button",3,"click"],[3,"icon"],["color","accent","mat-raised-button","",3,"disabled","click"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(e,r){1&e&&(At(0,"div",0)(1,"div",1)(2,"h1"),Nn(3,"Location Clusterer"),Vt()(),At(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),Nn(7,"Enter password"),Vt(),At(8,"input",4),Vn("ngModelChange",function(o){return r.password=o})("input",function(){return r.OnPasswordInputChanged()}),Vt(),At(9,"button",5),Vn("click",function(){return r.TogglePasswordVisibility()}),So(10,"fa-icon",6),Vt()(),At(11,"button",7),Vn("click",function(){return r.OnSubmit()}),Nn(12,"Login"),Vt(),Rr(13,RDe,2,0,"p",8),Vt(),At(14,"footer")(15,"p"),Nn(16,"\xa9 2023 Trey Dettmer"),Vt()()()),2&e&&(Ft(8),Wt("type",r.revealPassword?"text":"password")("ngModel",r.password),Ft(2),Wt("icon",r.revealPassword?r.faEye:r.faEyeSlash),Ft(1),Wt("disabled",0==r.password.length),Ft(2),Wt("ngIf",0==r.password.length&&1==r.hasAttempted))},dependencies:[ql,b4,xw,vf,pX,IE,c3,qf,t6,kDe],styles:['*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box;margin:0;padding:0}@font-face{font-family:DidactGothicRegular;src:url(/LocationClusterer/assets/DidactGothic-Regular.ttf) format("truetype")}html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow-x:hidden}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-family:DidactGothicRegular,Open Sans,sans-serif;min-height:100%;width:100vw;margin:0;padding:0;position:relative}.header[_ngcontent-%COMP%]{height:7vh;display:flex;width:100vw;flex-direction:column;justify-content:center;align-items:center}h1[_ngcontent-%COMP%]{font-size:2rem;font-family:DidactGothicRegular,Open Sans,sans-serif;font-weight:400}form[_ngcontent-%COMP%]{align-self:center;width:300px;height:300px;border-radius:3px;border:1px red solid}.login-container[_ngcontent-%COMP%]{width:300px;height:300px;border:2px grey solid;border-radius:10px;margin:auto;display:flex;flex-direction:column;align-items:center;justify-content:center}mat-form-field[_ngcontent-%COMP%]{width:80%;padding:5px}  .mat-form-field-infix{top:0!important}  .mat-form-field-suffix{top:0!important}.error-message[_ngcontent-%COMP%]{color:#a00;font-size:1rem}.password-reveal-button[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto;align-self:center;align-items:center;justify-self:center;height:100%;vertical-align:middle}footer[_ngcontent-%COMP%]{background:#e2e3e4;color:#181d24;text-align:center;font-family:DidactGothicRegular,Open Sans,sans-serif;padding:1em 0;margin-top:auto}']}),t})();const FDe=[{path:"main",component:ZP,canActivate:[(t,n)=>{const e=Cn(Sk),r=Cn(ea);return!!e.canActivate()||(r.navigateByUrl("/login"),!1)}]},{path:"login",component:EO},{path:"",redirectTo:"/main",pathMatch:"full"},{path:"**",component:EO}];let BDe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Pn({type:t,bootstrap:[jQ]}),t.\u0275inj=Hn({imports:[SM,Xte,kZ,o5,KJ,Hne,qJ,$J,d1e,T1e,yne,I1e,Y1e,ODe,NQ.forRoot(FDe)]}),t})();(function ji(t,n,e){const r=t.\u0275cmp;r.directiveDefs=bo(n,!1),r.pipeDefs=bo(e,!0)})(ZP,function(){return[Yb,ql,b4,lX,xw,vf,IE,kS,CE,c3,n6,qf,aE,$4,Q5,OP,Ane,xae,Z1e,e2e]},[]),vY().bootstrapModule(BDe).catch(t=>console.error(t))},1503:(Qe,fe,U)=>{"use strict";var D=U(3269);function y(b){var w=[1/0,1/0,-1/0,-1/0];return D.coordEach(b,function(E){w[0]>E[0]&&(w[0]=E[0]),w[1]>E[1]&&(w[1]=E[1]),w[2]<E[0]&&(w[2]=E[0]),w[3]<E[1]&&(w[3]=E[1])}),w}y.default=y,fe.Z=y},8095:Qe=>{"use strict";Qe.exports={eudist:function(U,P,D){for(var y=U.length,b=0,w=0;w<y;w++){var E=(U[w]||0)-(P[w]||0);b+=E*E}return D?Math.sqrt(b):b},mandist:function(U,P,D){for(var y=U.length,b=0,w=0;w<y;w++)b+=Math.abs((U[w]||0)-(P[w]||0));return D?Math.sqrt(b):b},dist:function(U,P,D){var y=Math.abs(U-P);return D?y:y*y}}},945:(Qe,fe,U)=>{"use strict";var P=U(8095),D=P.eudist,y=P.dist;Qe.exports={kmrand:function(w,E){for(var I={},M=[],R=E<<2,Y=w.length,$=w[0].length>0;M.length<E&&R-- >0;){var J=w[Math.floor(Math.random()*Y)],G=$?J.join("_"):""+J;I[G]||(I[G]=!0,M.push(J))}if(M.length<E)throw new Error("Error initializating clusters");return M},kmpp:function(w,E){var I=w[0].length?D:y,M=[],R=w.length,Y=w[0].length>0,J=w[Math.floor(Math.random()*R)];for(Y&&J.join("_"),M.push(J);M.length<E;){for(var ne=[],N=M.length,T=0,V=[],O=0;O<R;O++){for(var z=1/0,j=0;j<N;j++){var k=I(w[O],M[j]);k<=z&&(z=k)}ne[O]=z}for(var K=0;K<R;K++)T+=ne[K];for(var oe=0;oe<R;oe++)V[oe]={i:oe,v:w[oe],pr:ne[oe]/T,cs:0};V.sort(function(ce,te){return ce.pr-te.pr}),V[0].cs=V[0].pr;for(var B=1;B<R;B++)V[B].cs=V[B-1].cs+V[B].pr;for(var ie=Math.random(),ee=0;ee<R-1&&V[ee++].cs<ie;);M.push(V[ee-1].v)}return M}}},5331:(Qe,fe,U)=>{"use strict";var P=U(8095),D=U(945),y=P.eudist,E=D.kmrand,I=D.kmpp;function R($,J,G){G=G||[];for(var ne=0;ne<$;ne++)G[ne]=J;return G}Qe.exports=function Y($,J,G,ne){var N=[],T=[],V=[],O=[],z=!1,j=ne||1e4,k=$.length,K=$[0].length,oe=K>0,B=[];if(G)N="kmrand"==G?E($,J):"kmpp"==G?I($,J):G;else for(var ie={};N.length<J;){var ee=Math.floor(Math.random()*k);ie[ee]||(ie[ee]=!0,N.push($[ee]))}do{R(J,0,B);for(var ce=0;ce<k;ce++){for(var te=1/0,Le=0,Pe=0;Pe<J;Pe++)(O=oe?y($[ce],N[Pe]):Math.abs($[ce]-N[Pe]))<=te&&(te=O,Le=Pe);V[ce]=Le,B[Le]++}for(var ve=[],ye=(T=[],0);ye<J;ye++)ve[ye]=oe?R(K,0,ve[ye]):0,T[ye]=N[ye];if(oe){for(var de=0;de<J;de++)N[de]=[];for(var he=0;he<k;he++)for(var Ie=ve[V[he]],me=$[he],Ae=0;Ae<K;Ae++)Ie[Ae]+=me[Ae];z=!0;for(var ze=0;ze<J;ze++){for(var Ge=N[ze],Ke=ve[ze],X=T[ze],re=B[ze],_e=0;_e<K;_e++)Ge[_e]=Ke[_e]/re||0;if(z)for(var He=0;He<K;He++)if(X[He]!=Ge[He]){z=!1;break}}}else{for(var Fe=0;Fe<k;Fe++)ve[V[Fe]]+=$[Fe];for(var ft=0;ft<J;ft++)N[ft]=ve[ft]/B[ft]||0;z=!0;for(var ht=0;ht<J;ht++)if(T[ht]!=N[ht]){z=!1;break}}z=z||--j<=0}while(!z);return{it:1e4-j,k:J,idxs:V,centroids:N}}},8275:(Qe,fe)=>{"use strict";function U(ee,ce,te){void 0===te&&(te={});var Le={type:"Feature"};return(0===te.id||te.id)&&(Le.id=te.id),te.bbox&&(Le.bbox=te.bbox),Le.properties=ce||{},Le.geometry=ee,Le}function D(ee,ce,te){if(void 0===te&&(te={}),!ee)throw new Error("coordinates is required");if(!Array.isArray(ee))throw new Error("coordinates must be an Array");if(ee.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!K(ee[0])||!K(ee[1]))throw new Error("coordinates must contain numbers");return U({type:"Point",coordinates:ee},ce,te)}function b(ee,ce,te){void 0===te&&(te={});for(var Le=0,Pe=ee;Le<Pe.length;Le++){var ve=Pe[Le];if(ve.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var xe=0;xe<ve[ve.length-1].length;xe++)if(ve[ve.length-1][xe]!==ve[0][xe])throw new Error("First and last Position are not equivalent.")}return U({type:"Polygon",coordinates:ee},ce,te)}function E(ee,ce,te){if(void 0===te&&(te={}),ee.length<2)throw new Error("coordinates must be an array of two or more positions");return U({type:"LineString",coordinates:ee},ce,te)}function M(ee,ce){void 0===ce&&(ce={});var te={type:"FeatureCollection"};return ce.id&&(te.id=ce.id),ce.bbox&&(te.bbox=ce.bbox),te.features=ee,te}function R(ee,ce,te){return void 0===te&&(te={}),U({type:"MultiLineString",coordinates:ee},ce,te)}function Y(ee,ce,te){return void 0===te&&(te={}),U({type:"MultiPoint",coordinates:ee},ce,te)}function $(ee,ce,te){return void 0===te&&(te={}),U({type:"MultiPolygon",coordinates:ee},ce,te)}function ne(ee,ce){void 0===ce&&(ce="kilometers");var te=fe.factors[ce];if(!te)throw new Error(ce+" units is invalid");return ee*te}function N(ee,ce){void 0===ce&&(ce="kilometers");var te=fe.factors[ce];if(!te)throw new Error(ce+" units is invalid");return ee/te}function O(ee){return ee%(2*Math.PI)*180/Math.PI}function K(ee){return!isNaN(ee)&&null!==ee&&!Array.isArray(ee)}Object.defineProperty(fe,"__esModule",{value:!0}),fe.earthRadius=6371008.8,fe.factors={centimeters:100*fe.earthRadius,centimetres:100*fe.earthRadius,degrees:fe.earthRadius/111325,feet:3.28084*fe.earthRadius,inches:39.37*fe.earthRadius,kilometers:fe.earthRadius/1e3,kilometres:fe.earthRadius/1e3,meters:fe.earthRadius,metres:fe.earthRadius,miles:fe.earthRadius/1609.344,millimeters:1e3*fe.earthRadius,millimetres:1e3*fe.earthRadius,nauticalmiles:fe.earthRadius/1852,radians:1,yards:1.0936*fe.earthRadius},fe.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/fe.earthRadius,yards:1.0936133},fe.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},fe.feature=U,fe.geometry=function P(ee,ce,te){switch(void 0===te&&(te={}),ee){case"Point":return D(ce).geometry;case"LineString":return E(ce).geometry;case"Polygon":return b(ce).geometry;case"MultiPoint":return Y(ce).geometry;case"MultiLineString":return R(ce).geometry;case"MultiPolygon":return $(ce).geometry;default:throw new Error(ee+" is invalid")}},fe.point=D,fe.points=function y(ee,ce,te){return void 0===te&&(te={}),M(ee.map(function(Le){return D(Le,ce)}),te)},fe.polygon=b,fe.polygons=function w(ee,ce,te){return void 0===te&&(te={}),M(ee.map(function(Le){return b(Le,ce)}),te)},fe.lineString=E,fe.lineStrings=function I(ee,ce,te){return void 0===te&&(te={}),M(ee.map(function(Le){return E(Le,ce)}),te)},fe.featureCollection=M,fe.multiLineString=R,fe.multiPoint=Y,fe.multiPolygon=$,fe.geometryCollection=function J(ee,ce,te){return void 0===te&&(te={}),U({type:"GeometryCollection",geometries:ee},ce,te)},fe.round=function G(ee,ce){if(void 0===ce&&(ce=0),ce&&!(ce>=0))throw new Error("precision must be a positive number");var te=Math.pow(10,ce||0);return Math.round(ee*te)/te},fe.radiansToLength=ne,fe.lengthToRadians=N,fe.lengthToDegrees=function T(ee,ce){return O(N(ee,ce))},fe.bearingToAzimuth=function V(ee){var ce=ee%360;return ce<0&&(ce+=360),ce},fe.radiansToDegrees=O,fe.degreesToRadians=function z(ee){return ee%360*Math.PI/180},fe.convertLength=function j(ee,ce,te){if(void 0===ce&&(ce="kilometers"),void 0===te&&(te="kilometers"),!(ee>=0))throw new Error("length must be a positive number");return ne(N(ee,ce),te)},fe.convertArea=function k(ee,ce,te){if(void 0===ce&&(ce="meters"),void 0===te&&(te="kilometers"),!(ee>=0))throw new Error("area must be a positive number");var Le=fe.areaFactors[ce];if(!Le)throw new Error("invalid original units");var Pe=fe.areaFactors[te];if(!Pe)throw new Error("invalid final units");return ee/Le*Pe},fe.isNumber=K,fe.isObject=function oe(ee){return!!ee&&ee.constructor===Object},fe.validateBBox=function B(ee){if(!ee)throw new Error("bbox is required");if(!Array.isArray(ee))throw new Error("bbox must be an Array");if(4!==ee.length&&6!==ee.length)throw new Error("bbox must be an Array of 4 or 6 numbers");ee.forEach(function(ce){if(!K(ce))throw new Error("bbox must only contain numbers")})},fe.validateId=function ie(ee){if(!ee)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof ee))throw new Error("id must be a number or a string")}},3269:(Qe,fe,U)=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});var P=U(8275);function D(z,j,k){if(null!==z)for(var K,oe,B,ie,ee,ce,te,ve,Le=0,Pe=0,xe=z.type,ye="FeatureCollection"===xe,de="Feature"===xe,he=ye?z.features.length:1,ae=0;ae<he;ae++){ee=(ve=!!(te=ye?z.features[ae].geometry:de?z.geometry:z)&&"GeometryCollection"===te.type)?te.geometries.length:1;for(var Ie=0;Ie<ee;Ie++){var me=0,Ae=0;if(null!==(ie=ve?te.geometries[Ie]:te)){ce=ie.coordinates;var ze=ie.type;switch(Le=!k||"Polygon"!==ze&&"MultiPolygon"!==ze?0:1,ze){case null:break;case"Point":if(!1===j(ce,Pe,ae,me,Ae))return!1;Pe++,me++;break;case"LineString":case"MultiPoint":for(K=0;K<ce.length;K++){if(!1===j(ce[K],Pe,ae,me,Ae))return!1;Pe++,"MultiPoint"===ze&&me++}"LineString"===ze&&me++;break;case"Polygon":case"MultiLineString":for(K=0;K<ce.length;K++){for(oe=0;oe<ce[K].length-Le;oe++){if(!1===j(ce[K][oe],Pe,ae,me,Ae))return!1;Pe++}"MultiLineString"===ze&&me++,"Polygon"===ze&&Ae++}"Polygon"===ze&&me++;break;case"MultiPolygon":for(K=0;K<ce.length;K++){for(Ae=0,oe=0;oe<ce[K].length;oe++){for(B=0;B<ce[K][oe].length-Le;B++){if(!1===j(ce[K][oe][B],Pe,ae,me,Ae))return!1;Pe++}Ae++}me++}break;case"GeometryCollection":for(K=0;K<ie.geometries.length;K++)if(!1===D(ie.geometries[K],j,k))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function b(z,j){var k;switch(z.type){case"FeatureCollection":for(k=0;k<z.features.length&&!1!==j(z.features[k].properties,k);k++);break;case"Feature":j(z.properties,0)}}function E(z,j){if("Feature"===z.type)j(z,0);else if("FeatureCollection"===z.type)for(var k=0;k<z.features.length&&!1!==j(z.features[k],k);k++);}function R(z,j){var k,K,oe,B,ie,ee,ce,te,Le,Pe,ve=0,xe="FeatureCollection"===z.type,ye="Feature"===z.type,de=xe?z.features.length:1;for(k=0;k<de;k++){for(te=xe?z.features[k].properties:ye?z.properties:{},Le=xe?z.features[k].bbox:ye?z.bbox:void 0,Pe=xe?z.features[k].id:ye?z.id:void 0,ie=(ce=!!(ee=xe?z.features[k].geometry:ye?z.geometry:z)&&"GeometryCollection"===ee.type)?ee.geometries.length:1,oe=0;oe<ie;oe++)if(null!==(B=ce?ee.geometries[oe]:ee))switch(B.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===j(B,ve,te,Le,Pe))return!1;break;case"GeometryCollection":for(K=0;K<B.geometries.length;K++)if(!1===j(B.geometries[K],ve,te,Le,Pe))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===j(null,ve,te,Le,Pe))return!1;ve++}}function $(z,j){R(z,function(k,K,oe,B,ie){var ce,ee=null===k?null:k.type;switch(ee){case null:case"Point":case"LineString":case"Polygon":return!1!==j(P.feature(k,oe,{bbox:B,id:ie}),K,0)&&void 0}switch(ee){case"MultiPoint":ce="Point";break;case"MultiLineString":ce="LineString";break;case"MultiPolygon":ce="Polygon"}for(var te=0;te<k.coordinates.length;te++)if(!1===j(P.feature({type:ce,coordinates:k.coordinates[te]},oe),K,te))return!1})}function G(z,j){$(z,function(k,K,oe){var B=0;if(k.geometry){var ie=k.geometry.type;if("Point"!==ie&&"MultiPoint"!==ie){var ee,ce=0,te=0,Le=0;if(!1===D(k,function(Pe,ve,xe,ye,de){if(void 0===ee||K>ce||ye>te||de>Le)return ee=Pe,ce=K,te=ye,Le=de,void(B=0);var he=P.lineString([ee,Pe],k.properties);if(!1===j(he,K,oe,de,B))return!1;B++,ee=Pe}))return!1}}})}function N(z,j){if(!z)throw new Error("geojson is required");$(z,function(k,K,oe){if(null!==k.geometry){var ie=k.geometry.coordinates;switch(k.geometry.type){case"LineString":if(!1===j(k,K,oe,0,0))return!1;break;case"Polygon":for(var ee=0;ee<ie.length;ee++)if(!1===j(P.lineString(ie[ee],k.properties),K,oe,ee))return!1}}})}fe.coordAll=function M(z){var j=[];return D(z,function(k){j.push(k)}),j},fe.coordEach=D,fe.coordReduce=function y(z,j,k,K){var oe=k;return D(z,function(B,ie,ee,ce,te){oe=0===ie&&void 0===k?B:j(oe,B,ie,ee,ce,te)},K),oe},fe.featureEach=E,fe.featureReduce=function I(z,j,k){var K=k;return E(z,function(oe,B){K=0===B&&void 0===k?oe:j(K,oe,B)}),K},fe.findPoint=function O(z,j){if(!P.isObject(j=j||{}))throw new Error("options is invalid");var ee,k=j.featureIndex||0,K=j.multiFeatureIndex||0,oe=j.geometryIndex||0,B=j.coordIndex||0,ie=j.properties;switch(z.type){case"FeatureCollection":k<0&&(k=z.features.length+k),ie=ie||z.features[k].properties,ee=z.features[k].geometry;break;case"Feature":ie=ie||z.properties,ee=z.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":ee=z;break;default:throw new Error("geojson is invalid")}if(null===ee)return null;var ce=ee.coordinates;switch(ee.type){case"Point":return P.point(ce,ie,j);case"MultiPoint":return K<0&&(K=ce.length+K),P.point(ce[K],ie,j);case"LineString":return B<0&&(B=ce.length+B),P.point(ce[B],ie,j);case"Polygon":return oe<0&&(oe=ce.length+oe),B<0&&(B=ce[oe].length+B),P.point(ce[oe][B],ie,j);case"MultiLineString":return K<0&&(K=ce.length+K),B<0&&(B=ce[K].length+B),P.point(ce[K][B],ie,j);case"MultiPolygon":return K<0&&(K=ce.length+K),oe<0&&(oe=ce[K].length+oe),B<0&&(B=ce[K][oe].length-B),P.point(ce[K][oe][B],ie,j)}throw new Error("geojson is invalid")},fe.findSegment=function V(z,j){if(!P.isObject(j=j||{}))throw new Error("options is invalid");var ee,k=j.featureIndex||0,K=j.multiFeatureIndex||0,oe=j.geometryIndex||0,B=j.segmentIndex||0,ie=j.properties;switch(z.type){case"FeatureCollection":k<0&&(k=z.features.length+k),ie=ie||z.features[k].properties,ee=z.features[k].geometry;break;case"Feature":ie=ie||z.properties,ee=z.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":ee=z;break;default:throw new Error("geojson is invalid")}if(null===ee)return null;var ce=ee.coordinates;switch(ee.type){case"Point":case"MultiPoint":return null;case"LineString":return B<0&&(B=ce.length+B-1),P.lineString([ce[B],ce[B+1]],ie,j);case"Polygon":return oe<0&&(oe=ce.length+oe),B<0&&(B=ce[oe].length+B-1),P.lineString([ce[oe][B],ce[oe][B+1]],ie,j);case"MultiLineString":return K<0&&(K=ce.length+K),B<0&&(B=ce[K].length+B-1),P.lineString([ce[K][B],ce[K][B+1]],ie,j);case"MultiPolygon":return K<0&&(K=ce.length+K),oe<0&&(oe=ce[K].length+oe),B<0&&(B=ce[K][oe].length-B-1),P.lineString([ce[K][oe][B],ce[K][oe][B+1]],ie,j)}throw new Error("geojson is invalid")},fe.flattenEach=$,fe.flattenReduce=function J(z,j,k){var K=k;return $(z,function(oe,B,ie){K=0===B&&0===ie&&void 0===k?oe:j(K,oe,B,ie)}),K},fe.geomEach=R,fe.geomReduce=function Y(z,j,k){var K=k;return R(z,function(oe,B,ie,ee,ce){K=0===B&&void 0===k?oe:j(K,oe,B,ie,ee,ce)}),K},fe.lineEach=N,fe.lineReduce=function T(z,j,k){var K=k;return N(z,function(oe,B,ie,ee){K=0===B&&void 0===k?oe:j(K,oe,B,ie,ee)}),K},fe.propEach=b,fe.propReduce=function w(z,j,k){var K=k;return b(z,function(oe,B){K=0===B&&void 0===k?oe:j(K,oe,B)}),K},fe.segmentEach=G,fe.segmentReduce=function ne(z,j,k){var K=k,oe=!1;return G(z,function(B,ie,ee,ce,te){K=!1===oe&&void 0===k?B:j(K,B,ie,ee,ce,te),oe=!0}),K}},5834:(Qe,fe,U)=>{"use strict";var P=U(5203),D=U(5685),y=D(P("String.prototype.indexOf"));Qe.exports=function(w,E){var I=P(w,!!E);return"function"==typeof I&&y(w,".prototype.")>-1?D(I):I}},5685:(Qe,fe,U)=>{"use strict";var P=U(4444),D=U(5203),y=D("%Function.prototype.apply%"),b=D("%Function.prototype.call%"),w=D("%Reflect.apply%",!0)||P.call(b,y),E=D("%Object.getOwnPropertyDescriptor%",!0),I=D("%Object.defineProperty%",!0),M=D("%Math.max%");if(I)try{I({},"a",{value:1})}catch{I=null}Qe.exports=function($){var J=w(P,b,arguments);return E&&I&&E(J,"length").configurable&&I(J,"length",{value:1+M(0,$.length-(arguments.length-1))}),J};var R=function(){return w(P,y,arguments)};I?I(Qe.exports,"apply",{value:R}):Qe.exports.apply=R},1335:(Qe,fe,U)=>{"use strict";var P=U(3156),D=U(7253),y=U(3870),b=U(7563).orient2d;function w(k,K,oe){K=Math.max(0,void 0===K?2:K),oe=oe||0;var B=function ne(k){for(var K=k[0],oe=k[0],B=k[0],ie=k[0],ee=0;ee<k.length;ee++){var ce=k[ee];ce[0]<K[0]&&(K=ce),ce[0]>B[0]&&(B=ce),ce[1]<oe[1]&&(oe=ce),ce[1]>ie[1]&&(ie=ce)}var te=[K,oe,B,ie],Le=te.slice();for(ee=0;ee<k.length;ee++)y(k[ee],te)||Le.push(k[ee]);return function j(k){k.sort(z);for(var K=[],oe=0;oe<k.length;oe++){for(;K.length>=2&&$(K[K.length-2],K[K.length-1],k[oe])<=0;)K.pop();K.push(k[oe])}for(var B=[],ie=k.length-1;ie>=0;ie--){for(;B.length>=2&&$(B[B.length-2],B[B.length-1],k[ie])<=0;)B.pop();B.push(k[ie])}return B.pop(),K.pop(),K.concat(B)}(Le)}(k),ie=new P(16);ie.toBBox=function(Ae){return{minX:Ae[0],minY:Ae[1],maxX:Ae[0],maxY:Ae[1]}},ie.compareMinX=function(Ae,ze){return Ae[0]-ze[0]},ie.compareMinY=function(Ae,ze){return Ae[1]-ze[1]},ie.load(k);for(var te,ee=[],ce=0;ce<B.length;ce++){var Le=B[ce];ie.remove(Le),te=N(Le,te),ee.push(te)}var Pe=new P(16);for(ce=0;ce<ee.length;ce++)Pe.insert(G(ee[ce]));for(var ve=K*K,xe=oe*oe;ee.length;){var ye=ee.shift(),de=ye.p,he=ye.next.p,ae=T(de,he);if(!(ae<xe)){var Ie=ae/ve;(Le=E(ie,ye.prev.p,de,he,ye.next.next.p,Ie,Pe))&&Math.min(T(Le,de),T(Le,he))<=Ie&&(ee.push(ye),ee.push(N(Le,ye)),ie.remove(Le),Pe.remove(ye),Pe.insert(G(ye)),Pe.insert(G(ye.next)))}}ye=te;var me=[];do{me.push(ye.p),ye=ye.next}while(ye!==te);return me.push(ye.p),me}function E(k,K,oe,B,ie,ee,ce){for(var te=new D([],I),Le=k.data;Le;){for(var Pe=0;Pe<Le.children.length;Pe++){var ve=Le.children[Pe],xe=Le.leaf?V(ve,oe,B):M(oe,B,ve);xe>ee||te.push({node:ve,dist:xe})}for(;te.length&&!te.peek().node.children;){var ye=te.pop(),de=ye.node,he=V(de,K,oe),ae=V(de,B,ie);if(ye.dist<he&&ye.dist<ae&&Y(oe,de,ce)&&Y(B,de,ce))return de}(Le=te.pop())&&(Le=Le.node)}return null}function I(k,K){return k.dist-K.dist}function M(k,K,oe){if(R(k,oe)||R(K,oe))return 0;var B=O(k[0],k[1],K[0],K[1],oe.minX,oe.minY,oe.maxX,oe.minY);if(0===B)return 0;var ie=O(k[0],k[1],K[0],K[1],oe.minX,oe.minY,oe.minX,oe.maxY);if(0===ie)return 0;var ee=O(k[0],k[1],K[0],K[1],oe.maxX,oe.minY,oe.maxX,oe.maxY);if(0===ee)return 0;var ce=O(k[0],k[1],K[0],K[1],oe.minX,oe.maxY,oe.maxX,oe.maxY);return 0===ce?0:Math.min(B,ie,ee,ce)}function R(k,K){return k[0]>=K.minX&&k[0]<=K.maxX&&k[1]>=K.minY&&k[1]<=K.maxY}function Y(k,K,oe){for(var B=Math.min(k[0],K[0]),ie=Math.min(k[1],K[1]),ee=Math.max(k[0],K[0]),ce=Math.max(k[1],K[1]),te=oe.search({minX:B,minY:ie,maxX:ee,maxY:ce}),Le=0;Le<te.length;Le++)if(J(te[Le].p,te[Le].next.p,k,K))return!1;return!0}function $(k,K,oe){return b(k[0],k[1],K[0],K[1],oe[0],oe[1])}function J(k,K,oe,B){return k!==B&&K!==oe&&$(k,K,oe)>0!=$(k,K,B)>0&&$(oe,B,k)>0!=$(oe,B,K)>0}function G(k){var K=k.p,oe=k.next.p;return k.minX=Math.min(K[0],oe[0]),k.minY=Math.min(K[1],oe[1]),k.maxX=Math.max(K[0],oe[0]),k.maxY=Math.max(K[1],oe[1]),k}function N(k,K){var oe={p:k,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return K?(oe.next=K.next,oe.prev=K,K.next.prev=oe,K.next=oe):(oe.prev=oe,oe.next=oe),oe}function T(k,K){var oe=k[0]-K[0],B=k[1]-K[1];return oe*oe+B*B}function V(k,K,oe){var B=K[0],ie=K[1],ee=oe[0]-B,ce=oe[1]-ie;if(0!==ee||0!==ce){var te=((k[0]-B)*ee+(k[1]-ie)*ce)/(ee*ee+ce*ce);te>1?(B=oe[0],ie=oe[1]):te>0&&(B+=ee*te,ie+=ce*te)}return(ee=k[0]-B)*ee+(ce=k[1]-ie)*ce}function O(k,K,oe,B,ie,ee,ce,te){var Ge,Ke,X,re,Le=oe-k,Pe=B-K,ve=ce-ie,xe=te-ee,ye=k-ie,de=K-ee,he=Le*Le+Pe*Pe,ae=Le*ve+Pe*xe,Ie=ve*ve+xe*xe,me=Le*ye+Pe*de,Ae=ve*ye+xe*de,ze=he*Ie-ae*ae,_e=ze,He=ze;0===ze?(Ke=0,_e=1,re=Ae,He=Ie):(re=he*Ae-ae*me,(Ke=ae*Ae-Ie*me)<0?(Ke=0,re=Ae,He=Ie):Ke>_e&&(Ke=_e,re=Ae+ae,He=Ie)),re<0?(re=0,-me<0?Ke=0:-me>he?Ke=_e:(Ke=-me,_e=he)):re>He&&(re=He,-me+ae<0?Ke=0:-me+ae>he?Ke=_e:(Ke=-me+ae,_e=he));var Ct=(1-(X=0===re?0:re/He))*ie+X*ce-((1-(Ge=0===Ke?0:Ke/_e))*k+Ge*oe),$e=(1-X)*ee+X*te-((1-Ge)*K+Ge*B);return Ct*Ct+$e*$e}function z(k,K){return k[0]===K[0]?k[1]-K[1]:k[0]-K[0]}D.default&&(D=D.default),Qe.exports=w,Qe.exports.default=w},3156:function(Qe){Qe.exports=function(){"use strict";function fe(N,T,V,O,z){!function j(k,K,oe,B,ie){for(;B>oe;){if(B-oe>600){var ee=B-oe+1,ce=K-oe+1,te=Math.log(ee),Le=.5*Math.exp(2*te/3),Pe=.5*Math.sqrt(te*Le*(ee-Le)/ee)*(ce-ee/2<0?-1:1);j(k,K,Math.max(oe,Math.floor(K-ce*Le/ee+Pe)),Math.min(B,Math.floor(K+(ee-ce)*Le/ee+Pe)),ie)}var ye=k[K],de=oe,he=B;for(U(k,oe,K),ie(k[B],ye)>0&&U(k,oe,B);de<he;){for(U(k,de,he),de++,he--;ie(k[de],ye)<0;)de++;for(;ie(k[he],ye)>0;)he--}0===ie(k[oe],ye)?U(k,oe,he):U(k,++he,B),he<=K&&(oe=he+1),K<=he&&(B=he-1)}}(N,T,V||0,O||N.length-1,z||P)}function U(N,T,V){var O=N[T];N[T]=N[V],N[V]=O}function P(N,T){return N<T?-1:N>T?1:0}var D=function(N){void 0===N&&(N=9),this._maxEntries=Math.max(4,N),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function y(N,T,V){if(!V)return T.indexOf(N);for(var O=0;O<T.length;O++)if(V(N,T[O]))return O;return-1}function b(N,T){w(N,0,N.children.length,T,N)}function w(N,T,V,O,z){z||(z=G(null)),z.minX=1/0,z.minY=1/0,z.maxX=-1/0,z.maxY=-1/0;for(var j=T;j<V;j++){var k=N.children[j];E(z,N.leaf?O(k):k)}return z}function E(N,T){return N.minX=Math.min(N.minX,T.minX),N.minY=Math.min(N.minY,T.minY),N.maxX=Math.max(N.maxX,T.maxX),N.maxY=Math.max(N.maxY,T.maxY),N}function I(N,T){return N.minX-T.minX}function M(N,T){return N.minY-T.minY}function R(N){return(N.maxX-N.minX)*(N.maxY-N.minY)}function Y(N){return N.maxX-N.minX+(N.maxY-N.minY)}function $(N,T){return N.minX<=T.minX&&N.minY<=T.minY&&T.maxX<=N.maxX&&T.maxY<=N.maxY}function J(N,T){return T.minX<=N.maxX&&T.minY<=N.maxY&&T.maxX>=N.minX&&T.maxY>=N.minY}function G(N){return{children:N,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ne(N,T,V,O,z){for(var j=[T,V];j.length;)if(!((V=j.pop())-(T=j.pop())<=O)){var k=T+Math.ceil((V-T)/O/2)*O;fe(N,k,T,V,z),j.push(T,k,k,V)}}return D.prototype.all=function(){return this._all(this.data,[])},D.prototype.search=function(N){var T=this.data,V=[];if(!J(N,T))return V;for(var O=this.toBBox,z=[];T;){for(var j=0;j<T.children.length;j++){var k=T.children[j],K=T.leaf?O(k):k;J(N,K)&&(T.leaf?V.push(k):$(N,K)?this._all(k,V):z.push(k))}T=z.pop()}return V},D.prototype.collides=function(N){var T=this.data;if(!J(N,T))return!1;for(var V=[];T;){for(var O=0;O<T.children.length;O++){var z=T.children[O],j=T.leaf?this.toBBox(z):z;if(J(N,j)){if(T.leaf||$(N,j))return!0;V.push(z)}}T=V.pop()}return!1},D.prototype.load=function(N){if(!N||!N.length)return this;if(N.length<this._minEntries){for(var T=0;T<N.length;T++)this.insert(N[T]);return this}var V=this._build(N.slice(),0,N.length-1,0);if(this.data.children.length)if(this.data.height===V.height)this._splitRoot(this.data,V);else{if(this.data.height<V.height){var O=this.data;this.data=V,V=O}this._insert(V,this.data.height-V.height-1,!0)}else this.data=V;return this},D.prototype.insert=function(N){return N&&this._insert(N,this.data.height-1),this},D.prototype.clear=function(){return this.data=G([]),this},D.prototype.remove=function(N,T){if(!N)return this;for(var V,O,z,j=this.data,k=this.toBBox(N),K=[],oe=[];j||K.length;){if(j||(j=K.pop(),O=K[K.length-1],V=oe.pop(),z=!0),j.leaf){var B=y(N,j.children,T);if(-1!==B)return j.children.splice(B,1),K.push(j),this._condense(K),this}z||j.leaf||!$(j,k)?O?(V++,j=O.children[V],z=!1):j=null:(K.push(j),oe.push(V),V=0,O=j,j=j.children[0])}return this},D.prototype.toBBox=function(N){return N},D.prototype.compareMinX=function(N,T){return N.minX-T.minX},D.prototype.compareMinY=function(N,T){return N.minY-T.minY},D.prototype.toJSON=function(){return this.data},D.prototype.fromJSON=function(N){return this.data=N,this},D.prototype._all=function(N,T){for(var V=[];N;)N.leaf?T.push.apply(T,N.children):V.push.apply(V,N.children),N=V.pop();return T},D.prototype._build=function(N,T,V,O){var z,j=V-T+1,k=this._maxEntries;if(j<=k)return b(z=G(N.slice(T,V+1)),this.toBBox),z;O||(O=Math.ceil(Math.log(j)/Math.log(k)),k=Math.ceil(j/Math.pow(k,O-1))),(z=G([])).leaf=!1,z.height=O;var K=Math.ceil(j/k),oe=K*Math.ceil(Math.sqrt(k));ne(N,T,V,oe,this.compareMinX);for(var B=T;B<=V;B+=oe){var ie=Math.min(B+oe-1,V);ne(N,B,ie,K,this.compareMinY);for(var ee=B;ee<=ie;ee+=K){var ce=Math.min(ee+K-1,ie);z.children.push(this._build(N,ee,ce,O-1))}}return b(z,this.toBBox),z},D.prototype._chooseSubtree=function(N,T,V,O){for(;O.push(T),!T.leaf&&O.length-1!==V;){for(var z=1/0,j=1/0,k=void 0,K=0;K<T.children.length;K++){var oe=T.children[K],B=R(oe),ie=(ee=N,ce=oe,(Math.max(ce.maxX,ee.maxX)-Math.min(ce.minX,ee.minX))*(Math.max(ce.maxY,ee.maxY)-Math.min(ce.minY,ee.minY))-B);ie<j?(j=ie,z=B<z?B:z,k=oe):ie===j&&B<z&&(z=B,k=oe)}T=k||T.children[0]}var ee,ce;return T},D.prototype._insert=function(N,T,V){var O=V?N:this.toBBox(N),z=[],j=this._chooseSubtree(O,this.data,T,z);for(j.children.push(N),E(j,O);T>=0&&z[T].children.length>this._maxEntries;)this._split(z,T),T--;this._adjustParentBBoxes(O,z,T)},D.prototype._split=function(N,T){var V=N[T],O=V.children.length,z=this._minEntries;this._chooseSplitAxis(V,z,O);var j=this._chooseSplitIndex(V,z,O),k=G(V.children.splice(j,V.children.length-j));k.height=V.height,k.leaf=V.leaf,b(V,this.toBBox),b(k,this.toBBox),T?N[T-1].children.push(k):this._splitRoot(V,k)},D.prototype._splitRoot=function(N,T){this.data=G([N,T]),this.data.height=N.height+1,this.data.leaf=!1,b(this.data,this.toBBox)},D.prototype._chooseSplitIndex=function(N,T,V){for(var O,z,j,k,K,oe,B,ie=1/0,ee=1/0,ce=T;ce<=V-T;ce++){var te=w(N,0,ce,this.toBBox),Le=w(N,ce,V,this.toBBox),Pe=(z=te,j=Le,void 0,void 0,void 0,void 0,k=Math.max(z.minX,j.minX),K=Math.max(z.minY,j.minY),oe=Math.min(z.maxX,j.maxX),B=Math.min(z.maxY,j.maxY),Math.max(0,oe-k)*Math.max(0,B-K)),ve=R(te)+R(Le);Pe<ie?(ie=Pe,O=ce,ee=ve<ee?ve:ee):Pe===ie&&ve<ee&&(ee=ve,O=ce)}return O||V-T},D.prototype._chooseSplitAxis=function(N,T,V){var O=N.leaf?this.compareMinX:I,z=N.leaf?this.compareMinY:M;this._allDistMargin(N,T,V,O)<this._allDistMargin(N,T,V,z)&&N.children.sort(O)},D.prototype._allDistMargin=function(N,T,V,O){N.children.sort(O);for(var z=this.toBBox,j=w(N,0,T,z),k=w(N,V-T,V,z),K=Y(j)+Y(k),oe=T;oe<V-T;oe++){var B=N.children[oe];E(j,N.leaf?z(B):B),K+=Y(j)}for(var ie=V-T-1;ie>=T;ie--){var ee=N.children[ie];E(k,N.leaf?z(ee):ee),K+=Y(k)}return K},D.prototype._adjustParentBBoxes=function(N,T,V){for(var O=V;O>=0;O--)E(T[O],N)},D.prototype._condense=function(N){for(var T=N.length-1,V=void 0;T>=0;T--)0===N[T].children.length?T>0?(V=N[T-1].children).splice(V.indexOf(N[T]),1):this.clear():b(N[T],this.toBBox)},D}()},6128:function(Qe){!function(fe){"use strict";var U={bytesToHex:function(y){return function P(y){return y.map(function(b){return function D(y,b){return y.length>b?y:Array(b-y.length+1).join("0")+y}(b.toString(16),2)}).join("")}(y)},hexToBytes:function(y){if(y.length%2==1)throw new Error("hexToBytes can't have a string with an odd number of characters.");return 0===y.indexOf("0x")&&(y=y.slice(2)),y.match(/../g).map(function(b){return parseInt(b,16)})}};Qe.exports?Qe.exports=U:fe.convertHex=U}(this)},5612:function(Qe){!function(fe){"use strict";var U={bytesToString:function(P){return P.map(function(D){return String.fromCharCode(D)}).join("")},stringToBytes:function(P){return P.split("").map(function(D){return D.charCodeAt(0)})}};U.UTF8={bytesToString:function(P){return decodeURIComponent(escape(U.bytesToString(P)))},stringToBytes:function(P){return U.stringToBytes(unescape(encodeURIComponent(P)))}},Qe.exports?Qe.exports=U:fe.convertString=U}(this)},8660:Qe=>{Qe.exports=function(fe){var U={};function P(D){if(U[D])return U[D].exports;var y=U[D]={i:D,l:!1,exports:{}};return fe[D].call(y.exports,y,y.exports,P),y.l=!0,y.exports}return P.m=fe,P.c=U,P.d=function(D,y,b){P.o(D,y)||Object.defineProperty(D,y,{enumerable:!0,get:b})},P.r=function(D){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(D,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(D,"__esModule",{value:!0})},P.t=function(D,y){if(1&y&&(D=P(D)),8&y||4&y&&"object"==typeof D&&D&&D.__esModule)return D;var b=Object.create(null);if(P.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:D}),2&y&&"string"!=typeof D)for(var w in D)P.d(b,w,function(E){return D[E]}.bind(null,w));return b},P.n=function(D){var y=D&&D.__esModule?function(){return D.default}:function(){return D};return P.d(y,"a",y),y},P.o=function(D,y){return Object.prototype.hasOwnProperty.call(D,y)},P.p="",P(P.s=32)}([function(fe,U){var P;P=function(){return this}();try{P=P||Function("return this")()||(0,eval)("this")}catch{"object"==typeof window&&(P=window)}fe.exports=P},function(fe,U,P){"use strict";var D=P(6),y=Object.keys||function(G){var ne=[];for(var N in G)ne.push(N);return ne};fe.exports=Y;var b=P(5);b.inherits=P(2);var w=P(23),E=P(14);b.inherits(Y,w);for(var I=y(E.prototype),M=0;M<I.length;M++){var R=I[M];Y.prototype[R]||(Y.prototype[R]=E.prototype[R])}function Y(G){if(!(this instanceof Y))return new Y(G);w.call(this,G),E.call(this,G),G&&!1===G.readable&&(this.readable=!1),G&&!1===G.writable&&(this.writable=!1),this.allowHalfOpen=!0,G&&!1===G.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",$)}function $(){this.allowHalfOpen||this._writableState.ended||D.nextTick(J,this)}function J(G){G.end()}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(G){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=G,this._writableState.destroyed=G)}}),Y.prototype._destroy=function(G,ne){this.push(null),this.end(),D.nextTick(ne,G)}},function(fe,U){fe.exports="function"==typeof Object.create?function(P,D){P.super_=D,P.prototype=Object.create(D.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}})}:function(P,D){P.super_=D;var y=function(){};y.prototype=D.prototype,P.prototype=new y,P.prototype.constructor=P}},function(fe,U,P){"use strict";(function(D){var y=P(38),b=P(39),w=P(40);function E(){return M.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function I(X,re){if(E()<re)throw new RangeError("Invalid typed array length");return M.TYPED_ARRAY_SUPPORT?(X=new Uint8Array(re)).__proto__=M.prototype:(null===X&&(X=new M(re)),X.length=re),X}function M(X,re,_e){if(!(M.TYPED_ARRAY_SUPPORT||this instanceof M))return new M(X,re,_e);if("number"==typeof X){if("string"==typeof re)throw new Error("If encoding is specified then the first argument must be a string");return $(this,X)}return R(this,X,re,_e)}function R(X,re,_e,He){if("number"==typeof re)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&re instanceof ArrayBuffer?function(Fe,Ye,ft,ht){if(ft<0||Ye.byteLength<ft)throw new RangeError("'offset' is out of bounds");if(Ye.byteLength<ft+(ht||0))throw new RangeError("'length' is out of bounds");return Ye=void 0===ft&&void 0===ht?new Uint8Array(Ye):void 0===ht?new Uint8Array(Ye,ft):new Uint8Array(Ye,ft,ht),M.TYPED_ARRAY_SUPPORT?(Fe=Ye).__proto__=M.prototype:Fe=J(Fe,Ye),Fe}(X,re,_e,He):"string"==typeof re?function(Fe,Ye,ft){if("string"==typeof ft&&""!==ft||(ft="utf8"),!M.isEncoding(ft))throw new TypeError('"encoding" must be a valid string encoding');var ht=0|ne(Ye,ft),Ct=(Fe=I(Fe,ht)).write(Ye,ft);return Ct!==ht&&(Fe=Fe.slice(0,Ct)),Fe}(X,re,_e):function(Fe,Ye){if(M.isBuffer(Ye)){var ft=0|G(Ye.length);return 0===(Fe=I(Fe,ft)).length||Ye.copy(Fe,0,0,ft),Fe}if(Ye){if(typeof ArrayBuffer<"u"&&Ye.buffer instanceof ArrayBuffer||"length"in Ye)return"number"!=typeof Ye.length||(ht=Ye.length)!=ht?I(Fe,0):J(Fe,Ye);if("Buffer"===Ye.type&&w(Ye.data))return J(Fe,Ye.data)}var ht;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(X,re)}function Y(X){if("number"!=typeof X)throw new TypeError('"size" argument must be a number');if(X<0)throw new RangeError('"size" argument must not be negative')}function $(X,re){if(Y(re),X=I(X,re<0?0:0|G(re)),!M.TYPED_ARRAY_SUPPORT)for(var _e=0;_e<re;++_e)X[_e]=0;return X}function J(X,re){var _e=re.length<0?0:0|G(re.length);X=I(X,_e);for(var He=0;He<_e;He+=1)X[He]=255&re[He];return X}function G(X){if(X>=E())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E().toString(16)+" bytes");return 0|X}function ne(X,re){if(M.isBuffer(X))return X.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(X)||X instanceof ArrayBuffer))return X.byteLength;"string"!=typeof X&&(X=""+X);var _e=X.length;if(0===_e)return 0;for(var He=!1;;)switch(re){case"ascii":case"latin1":case"binary":return _e;case"utf8":case"utf-8":case void 0:return ze(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*_e;case"hex":return _e>>>1;case"base64":return Ge(X).length;default:if(He)return ze(X).length;re=(""+re).toLowerCase(),He=!0}}function N(X,re,_e){var He=X[re];X[re]=X[_e],X[_e]=He}function T(X,re,_e,He,Fe){if(0===X.length)return-1;if("string"==typeof _e?(He=_e,_e=0):_e>2147483647?_e=2147483647:_e<-2147483648&&(_e=-2147483648),_e=+_e,isNaN(_e)&&(_e=Fe?0:X.length-1),_e<0&&(_e=X.length+_e),_e>=X.length){if(Fe)return-1;_e=X.length-1}else if(_e<0){if(!Fe)return-1;_e=0}if("string"==typeof re&&(re=M.from(re,He)),M.isBuffer(re))return 0===re.length?-1:V(X,re,_e,He,Fe);if("number"==typeof re)return re&=255,M.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?Fe?Uint8Array.prototype.indexOf.call(X,re,_e):Uint8Array.prototype.lastIndexOf.call(X,re,_e):V(X,[re],_e,He,Fe);throw new TypeError("val must be string, number or Buffer")}function V(X,re,_e,He,Fe){var Ye,ft=1,ht=X.length,Ct=re.length;if(void 0!==He&&("ucs2"===(He=String(He).toLowerCase())||"ucs-2"===He||"utf16le"===He||"utf-16le"===He)){if(X.length<2||re.length<2)return-1;ft=2,ht/=2,Ct/=2,_e/=2}function $e(Ne,Re){return 1===ft?Ne[Re]:Ne.readUInt16BE(Re*ft)}if(Fe){var we=-1;for(Ye=_e;Ye<ht;Ye++)if($e(X,Ye)===$e(re,-1===we?0:Ye-we)){if(-1===we&&(we=Ye),Ye-we+1===Ct)return we*ft}else-1!==we&&(Ye-=Ye-we),we=-1}else for(_e+Ct>ht&&(_e=ht-Ct),Ye=_e;Ye>=0;Ye--){for(var Me=!0,be=0;be<Ct;be++)if($e(X,Ye+be)!==$e(re,be)){Me=!1;break}if(Me)return Ye}return-1}function O(X,re,_e,He){_e=Number(_e)||0;var Fe=X.length-_e;He?(He=Number(He))>Fe&&(He=Fe):He=Fe;var Ye=re.length;if(Ye%2!=0)throw new TypeError("Invalid hex string");He>Ye/2&&(He=Ye/2);for(var ft=0;ft<He;++ft){var ht=parseInt(re.substr(2*ft,2),16);if(isNaN(ht))return ft;X[_e+ft]=ht}return ft}function z(X,re,_e,He){return Ke(ze(re,X.length-_e),X,_e,He)}function j(X,re,_e,He){return Ke(function(Fe){for(var Ye=[],ft=0;ft<Fe.length;++ft)Ye.push(255&Fe.charCodeAt(ft));return Ye}(re),X,_e,He)}function k(X,re,_e,He){return j(X,re,_e,He)}function K(X,re,_e,He){return Ke(Ge(re),X,_e,He)}function oe(X,re,_e,He){return Ke(function(Fe,Ye){for(var ft,ht,$e=[],we=0;we<Fe.length&&!((Ye-=2)<0);++we)ht=(ft=Fe.charCodeAt(we))>>8,$e.push(ft%256),$e.push(ht);return $e}(re,X.length-_e),X,_e,He)}function B(X,re,_e){return y.fromByteArray(0===re&&_e===X.length?X:X.slice(re,_e))}function ie(X,re,_e){_e=Math.min(X.length,_e);for(var He=[],Fe=re;Fe<_e;){var Ye,ft,ht,Ct,$e=X[Fe],we=null,Me=$e>239?4:$e>223?3:$e>191?2:1;if(Fe+Me<=_e)switch(Me){case 1:$e<128&&(we=$e);break;case 2:128==(192&(Ye=X[Fe+1]))&&(Ct=(31&$e)<<6|63&Ye)>127&&(we=Ct);break;case 3:ft=X[Fe+2],128==(192&(Ye=X[Fe+1]))&&128==(192&ft)&&(Ct=(15&$e)<<12|(63&Ye)<<6|63&ft)>2047&&(Ct<55296||Ct>57343)&&(we=Ct);break;case 4:ft=X[Fe+2],ht=X[Fe+3],128==(192&(Ye=X[Fe+1]))&&128==(192&ft)&&128==(192&ht)&&(Ct=(15&$e)<<18|(63&Ye)<<12|(63&ft)<<6|63&ht)>65535&&Ct<1114112&&(we=Ct)}null===we?(we=65533,Me=1):we>65535&&(He.push((we-=65536)>>>10&1023|55296),we=56320|1023&we),He.push(we),Fe+=Me}return function(be){var Ne=be.length;if(Ne<=ee)return String.fromCharCode.apply(String,be);for(var Re="",Ve=0;Ve<Ne;)Re+=String.fromCharCode.apply(String,be.slice(Ve,Ve+=ee));return Re}(He)}U.Buffer=M,U.SlowBuffer=function(X){return+X!=X&&(X=0),M.alloc(+X)},U.INSPECT_MAX_BYTES=50,M.TYPED_ARRAY_SUPPORT=void 0!==D.TYPED_ARRAY_SUPPORT?D.TYPED_ARRAY_SUPPORT:function(){try{var X=new Uint8Array(1);return X.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===X.foo()&&"function"==typeof X.subarray&&0===X.subarray(1,1).byteLength}catch{return!1}}(),U.kMaxLength=E(),M.poolSize=8192,M._augment=function(X){return X.__proto__=M.prototype,X},M.from=function(X,re,_e){return R(null,X,re,_e)},M.TYPED_ARRAY_SUPPORT&&(M.prototype.__proto__=Uint8Array.prototype,M.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&M[Symbol.species]===M&&Object.defineProperty(M,Symbol.species,{value:null,configurable:!0})),M.alloc=function(X,re,_e){return Ye=re,ft=_e,Y(Fe=X),Fe<=0?I(null,Fe):void 0!==Ye?"string"==typeof ft?I(null,Fe).fill(Ye,ft):I(null,Fe).fill(Ye):I(null,Fe);var Fe,Ye,ft},M.allocUnsafe=function(X){return $(null,X)},M.allocUnsafeSlow=function(X){return $(null,X)},M.isBuffer=function(X){return!(null==X||!X._isBuffer)},M.compare=function(X,re){if(!M.isBuffer(X)||!M.isBuffer(re))throw new TypeError("Arguments must be Buffers");if(X===re)return 0;for(var _e=X.length,He=re.length,Fe=0,Ye=Math.min(_e,He);Fe<Ye;++Fe)if(X[Fe]!==re[Fe]){_e=X[Fe],He=re[Fe];break}return _e<He?-1:He<_e?1:0},M.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(X,re){if(!w(X))throw new TypeError('"list" argument must be an Array of Buffers');if(0===X.length)return M.alloc(0);var _e;if(void 0===re)for(re=0,_e=0;_e<X.length;++_e)re+=X[_e].length;var He=M.allocUnsafe(re),Fe=0;for(_e=0;_e<X.length;++_e){var Ye=X[_e];if(!M.isBuffer(Ye))throw new TypeError('"list" argument must be an Array of Buffers');Ye.copy(He,Fe),Fe+=Ye.length}return He},M.byteLength=ne,M.prototype._isBuffer=!0,M.prototype.swap16=function(){var X=this.length;if(X%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var re=0;re<X;re+=2)N(this,re,re+1);return this},M.prototype.swap32=function(){var X=this.length;if(X%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var re=0;re<X;re+=4)N(this,re,re+3),N(this,re+1,re+2);return this},M.prototype.swap64=function(){var X=this.length;if(X%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var re=0;re<X;re+=8)N(this,re,re+7),N(this,re+1,re+6),N(this,re+2,re+5),N(this,re+3,re+4);return this},M.prototype.toString=function(){var X=0|this.length;return 0===X?"":0===arguments.length?ie(this,0,X):function(re,_e,He){var Fe=!1;if((void 0===_e||_e<0)&&(_e=0),_e>this.length||((void 0===He||He>this.length)&&(He=this.length),He<=0)||(He>>>=0)<=(_e>>>=0))return"";for(re||(re="utf8");;)switch(re){case"hex":return Le(this,_e,He);case"utf8":case"utf-8":return ie(this,_e,He);case"ascii":return ce(this,_e,He);case"latin1":case"binary":return te(this,_e,He);case"base64":return B(this,_e,He);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pe(this,_e,He);default:if(Fe)throw new TypeError("Unknown encoding: "+re);re=(re+"").toLowerCase(),Fe=!0}}.apply(this,arguments)},M.prototype.equals=function(X){if(!M.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X||0===M.compare(this,X)},M.prototype.inspect=function(){var X="",re=U.INSPECT_MAX_BYTES;return this.length>0&&(X=this.toString("hex",0,re).match(/.{2}/g).join(" "),this.length>re&&(X+=" ... ")),"<Buffer "+X+">"},M.prototype.compare=function(X,re,_e,He,Fe){if(!M.isBuffer(X))throw new TypeError("Argument must be a Buffer");if(void 0===re&&(re=0),void 0===_e&&(_e=X?X.length:0),void 0===He&&(He=0),void 0===Fe&&(Fe=this.length),re<0||_e>X.length||He<0||Fe>this.length)throw new RangeError("out of range index");if(He>=Fe&&re>=_e)return 0;if(He>=Fe)return-1;if(re>=_e)return 1;if(this===X)return 0;for(var Ye=(Fe>>>=0)-(He>>>=0),ft=(_e>>>=0)-(re>>>=0),ht=Math.min(Ye,ft),Ct=this.slice(He,Fe),$e=X.slice(re,_e),we=0;we<ht;++we)if(Ct[we]!==$e[we]){Ye=Ct[we],ft=$e[we];break}return Ye<ft?-1:ft<Ye?1:0},M.prototype.includes=function(X,re,_e){return-1!==this.indexOf(X,re,_e)},M.prototype.indexOf=function(X,re,_e){return T(this,X,re,_e,!0)},M.prototype.lastIndexOf=function(X,re,_e){return T(this,X,re,_e,!1)},M.prototype.write=function(X,re,_e,He){if(void 0===re)He="utf8",_e=this.length,re=0;else if(void 0===_e&&"string"==typeof re)He=re,_e=this.length,re=0;else{if(!isFinite(re))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");re|=0,isFinite(_e)?(_e|=0,void 0===He&&(He="utf8")):(He=_e,_e=void 0)}var Fe=this.length-re;if((void 0===_e||_e>Fe)&&(_e=Fe),X.length>0&&(_e<0||re<0)||re>this.length)throw new RangeError("Attempt to write outside buffer bounds");He||(He="utf8");for(var Ye=!1;;)switch(He){case"hex":return O(this,X,re,_e);case"utf8":case"utf-8":return z(this,X,re,_e);case"ascii":return j(this,X,re,_e);case"latin1":case"binary":return k(this,X,re,_e);case"base64":return K(this,X,re,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,X,re,_e);default:if(Ye)throw new TypeError("Unknown encoding: "+He);He=(""+He).toLowerCase(),Ye=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;function ce(X,re,_e){var He="";_e=Math.min(X.length,_e);for(var Fe=re;Fe<_e;++Fe)He+=String.fromCharCode(127&X[Fe]);return He}function te(X,re,_e){var He="";_e=Math.min(X.length,_e);for(var Fe=re;Fe<_e;++Fe)He+=String.fromCharCode(X[Fe]);return He}function Le(X,re,_e){var He=X.length;(!re||re<0)&&(re=0),(!_e||_e<0||_e>He)&&(_e=He);for(var Fe="",Ye=re;Ye<_e;++Ye)Fe+=Ae(X[Ye]);return Fe}function Pe(X,re,_e){for(var He=X.slice(re,_e),Fe="",Ye=0;Ye<He.length;Ye+=2)Fe+=String.fromCharCode(He[Ye]+256*He[Ye+1]);return Fe}function ve(X,re,_e){if(X%1!=0||X<0)throw new RangeError("offset is not uint");if(X+re>_e)throw new RangeError("Trying to access beyond buffer length")}function xe(X,re,_e,He,Fe,Ye){if(!M.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(re>Fe||re<Ye)throw new RangeError('"value" argument is out of bounds');if(_e+He>X.length)throw new RangeError("Index out of range")}function ye(X,re,_e,He){re<0&&(re=65535+re+1);for(var Fe=0,Ye=Math.min(X.length-_e,2);Fe<Ye;++Fe)X[_e+Fe]=(re&255<<8*(He?Fe:1-Fe))>>>8*(He?Fe:1-Fe)}function de(X,re,_e,He){re<0&&(re=4294967295+re+1);for(var Fe=0,Ye=Math.min(X.length-_e,4);Fe<Ye;++Fe)X[_e+Fe]=re>>>8*(He?Fe:3-Fe)&255}function he(X,re,_e,He,Fe,Ye){if(_e+He>X.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("Index out of range")}function ae(X,re,_e,He,Fe){return Fe||he(X,0,_e,4),b.write(X,re,_e,He,23,4),_e+4}function Ie(X,re,_e,He,Fe){return Fe||he(X,0,_e,8),b.write(X,re,_e,He,52,8),_e+8}M.prototype.slice=function(X,re){var _e,He=this.length;if((X=~~X)<0?(X+=He)<0&&(X=0):X>He&&(X=He),(re=void 0===re?He:~~re)<0?(re+=He)<0&&(re=0):re>He&&(re=He),re<X&&(re=X),M.TYPED_ARRAY_SUPPORT)(_e=this.subarray(X,re)).__proto__=M.prototype;else{var Fe=re-X;_e=new M(Fe,void 0);for(var Ye=0;Ye<Fe;++Ye)_e[Ye]=this[Ye+X]}return _e},M.prototype.readUIntLE=function(X,re,_e){X|=0,re|=0,_e||ve(X,re,this.length);for(var He=this[X],Fe=1,Ye=0;++Ye<re&&(Fe*=256);)He+=this[X+Ye]*Fe;return He},M.prototype.readUIntBE=function(X,re,_e){X|=0,re|=0,_e||ve(X,re,this.length);for(var He=this[X+--re],Fe=1;re>0&&(Fe*=256);)He+=this[X+--re]*Fe;return He},M.prototype.readUInt8=function(X,re){return re||ve(X,1,this.length),this[X]},M.prototype.readUInt16LE=function(X,re){return re||ve(X,2,this.length),this[X]|this[X+1]<<8},M.prototype.readUInt16BE=function(X,re){return re||ve(X,2,this.length),this[X]<<8|this[X+1]},M.prototype.readUInt32LE=function(X,re){return re||ve(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+16777216*this[X+3]},M.prototype.readUInt32BE=function(X,re){return re||ve(X,4,this.length),16777216*this[X]+(this[X+1]<<16|this[X+2]<<8|this[X+3])},M.prototype.readIntLE=function(X,re,_e){X|=0,re|=0,_e||ve(X,re,this.length);for(var He=this[X],Fe=1,Ye=0;++Ye<re&&(Fe*=256);)He+=this[X+Ye]*Fe;return He>=(Fe*=128)&&(He-=Math.pow(2,8*re)),He},M.prototype.readIntBE=function(X,re,_e){X|=0,re|=0,_e||ve(X,re,this.length);for(var He=re,Fe=1,Ye=this[X+--He];He>0&&(Fe*=256);)Ye+=this[X+--He]*Fe;return Ye>=(Fe*=128)&&(Ye-=Math.pow(2,8*re)),Ye},M.prototype.readInt8=function(X,re){return re||ve(X,1,this.length),128&this[X]?-1*(255-this[X]+1):this[X]},M.prototype.readInt16LE=function(X,re){re||ve(X,2,this.length);var _e=this[X]|this[X+1]<<8;return 32768&_e?4294901760|_e:_e},M.prototype.readInt16BE=function(X,re){re||ve(X,2,this.length);var _e=this[X+1]|this[X]<<8;return 32768&_e?4294901760|_e:_e},M.prototype.readInt32LE=function(X,re){return re||ve(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},M.prototype.readInt32BE=function(X,re){return re||ve(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},M.prototype.readFloatLE=function(X,re){return re||ve(X,4,this.length),b.read(this,X,!0,23,4)},M.prototype.readFloatBE=function(X,re){return re||ve(X,4,this.length),b.read(this,X,!1,23,4)},M.prototype.readDoubleLE=function(X,re){return re||ve(X,8,this.length),b.read(this,X,!0,52,8)},M.prototype.readDoubleBE=function(X,re){return re||ve(X,8,this.length),b.read(this,X,!1,52,8)},M.prototype.writeUIntLE=function(X,re,_e,He){X=+X,re|=0,_e|=0,He||xe(this,X,re,_e,Math.pow(2,8*_e)-1,0);var Fe=1,Ye=0;for(this[re]=255&X;++Ye<_e&&(Fe*=256);)this[re+Ye]=X/Fe&255;return re+_e},M.prototype.writeUIntBE=function(X,re,_e,He){X=+X,re|=0,_e|=0,He||xe(this,X,re,_e,Math.pow(2,8*_e)-1,0);var Fe=_e-1,Ye=1;for(this[re+Fe]=255&X;--Fe>=0&&(Ye*=256);)this[re+Fe]=X/Ye&255;return re+_e},M.prototype.writeUInt8=function(X,re,_e){return X=+X,re|=0,_e||xe(this,X,re,1,255,0),M.TYPED_ARRAY_SUPPORT||(X=Math.floor(X)),this[re]=255&X,re+1},M.prototype.writeUInt16LE=function(X,re,_e){return X=+X,re|=0,_e||xe(this,X,re,2,65535,0),M.TYPED_ARRAY_SUPPORT?(this[re]=255&X,this[re+1]=X>>>8):ye(this,X,re,!0),re+2},M.prototype.writeUInt16BE=function(X,re,_e){return X=+X,re|=0,_e||xe(this,X,re,2,65535,0),M.TYPED_ARRAY_SUPPORT?(this[re]=X>>>8,this[re+1]=255&X):ye(this,X,re,!1),re+2},M.prototype.writeUInt32LE=function(X,re,_e){return X=+X,re|=0,_e||xe(this,X,re,4,4294967295,0),M.TYPED_ARRAY_SUPPORT?(this[re+3]=X>>>24,this[re+2]=X>>>16,this[re+1]=X>>>8,this[re]=255&X):de(this,X,re,!0),re+4},M.prototype.writeUInt32BE=function(X,re,_e){return X=+X,re|=0,_e||xe(this,X,re,4,4294967295,0),M.TYPED_ARRAY_SUPPORT?(this[re]=X>>>24,this[re+1]=X>>>16,this[re+2]=X>>>8,this[re+3]=255&X):de(this,X,re,!1),re+4},M.prototype.writeIntLE=function(X,re,_e,He){if(X=+X,re|=0,!He){var Fe=Math.pow(2,8*_e-1);xe(this,X,re,_e,Fe-1,-Fe)}var Ye=0,ft=1,ht=0;for(this[re]=255&X;++Ye<_e&&(ft*=256);)X<0&&0===ht&&0!==this[re+Ye-1]&&(ht=1),this[re+Ye]=(X/ft>>0)-ht&255;return re+_e},M.prototype.writeIntBE=function(X,re,_e,He){if(X=+X,re|=0,!He){var Fe=Math.pow(2,8*_e-1);xe(this,X,re,_e,Fe-1,-Fe)}var Ye=_e-1,ft=1,ht=0;for(this[re+Ye]=255&X;--Ye>=0&&(ft*=256);)X<0&&0===ht&&0!==this[re+Ye+1]&&(ht=1),this[re+Ye]=(X/ft>>0)-ht&255;return re+_e},M.prototype.writeInt8=function(X,re,_e){return X=+X,re|=0,_e||xe(this,X,re,1,127,-128),M.TYPED_ARRAY_SUPPORT||(X=Math.floor(X)),X<0&&(X=255+X+1),this[re]=255&X,re+1},M.prototype.writeInt16LE=function(X,re,_e){return X=+X,re|=0,_e||xe(this,X,re,2,32767,-32768),M.TYPED_ARRAY_SUPPORT?(this[re]=255&X,this[re+1]=X>>>8):ye(this,X,re,!0),re+2},M.prototype.writeInt16BE=function(X,re,_e){return X=+X,re|=0,_e||xe(this,X,re,2,32767,-32768),M.TYPED_ARRAY_SUPPORT?(this[re]=X>>>8,this[re+1]=255&X):ye(this,X,re,!1),re+2},M.prototype.writeInt32LE=function(X,re,_e){return X=+X,re|=0,_e||xe(this,X,re,4,2147483647,-2147483648),M.TYPED_ARRAY_SUPPORT?(this[re]=255&X,this[re+1]=X>>>8,this[re+2]=X>>>16,this[re+3]=X>>>24):de(this,X,re,!0),re+4},M.prototype.writeInt32BE=function(X,re,_e){return X=+X,re|=0,_e||xe(this,X,re,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),M.TYPED_ARRAY_SUPPORT?(this[re]=X>>>24,this[re+1]=X>>>16,this[re+2]=X>>>8,this[re+3]=255&X):de(this,X,re,!1),re+4},M.prototype.writeFloatLE=function(X,re,_e){return ae(this,X,re,!0,_e)},M.prototype.writeFloatBE=function(X,re,_e){return ae(this,X,re,!1,_e)},M.prototype.writeDoubleLE=function(X,re,_e){return Ie(this,X,re,!0,_e)},M.prototype.writeDoubleBE=function(X,re,_e){return Ie(this,X,re,!1,_e)},M.prototype.copy=function(X,re,_e,He){if(_e||(_e=0),He||0===He||(He=this.length),re>=X.length&&(re=X.length),re||(re=0),He>0&&He<_e&&(He=_e),He===_e||0===X.length||0===this.length)return 0;if(re<0)throw new RangeError("targetStart out of bounds");if(_e<0||_e>=this.length)throw new RangeError("sourceStart out of bounds");if(He<0)throw new RangeError("sourceEnd out of bounds");He>this.length&&(He=this.length),X.length-re<He-_e&&(He=X.length-re+_e);var Fe,Ye=He-_e;if(this===X&&_e<re&&re<He)for(Fe=Ye-1;Fe>=0;--Fe)X[Fe+re]=this[Fe+_e];else if(Ye<1e3||!M.TYPED_ARRAY_SUPPORT)for(Fe=0;Fe<Ye;++Fe)X[Fe+re]=this[Fe+_e];else Uint8Array.prototype.set.call(X,this.subarray(_e,_e+Ye),re);return Ye},M.prototype.fill=function(X,re,_e,He){if("string"==typeof X){if("string"==typeof re?(He=re,re=0,_e=this.length):"string"==typeof _e&&(He=_e,_e=this.length),1===X.length){var Fe=X.charCodeAt(0);Fe<256&&(X=Fe)}if(void 0!==He&&"string"!=typeof He)throw new TypeError("encoding must be a string");if("string"==typeof He&&!M.isEncoding(He))throw new TypeError("Unknown encoding: "+He)}else"number"==typeof X&&(X&=255);if(re<0||this.length<re||this.length<_e)throw new RangeError("Out of range index");if(_e<=re)return this;var Ye;if(re>>>=0,_e=void 0===_e?this.length:_e>>>0,X||(X=0),"number"==typeof X)for(Ye=re;Ye<_e;++Ye)this[Ye]=X;else{var ft=M.isBuffer(X)?X:ze(new M(X,He).toString()),ht=ft.length;for(Ye=0;Ye<_e-re;++Ye)this[Ye+re]=ft[Ye%ht]}return this};var me=/[^+\/0-9A-Za-z-_]/g;function Ae(X){return X<16?"0"+X.toString(16):X.toString(16)}function ze(X,re){var _e;re=re||1/0;for(var He=X.length,Fe=null,Ye=[],ft=0;ft<He;++ft){if((_e=X.charCodeAt(ft))>55295&&_e<57344){if(!Fe){if(_e>56319){(re-=3)>-1&&Ye.push(239,191,189);continue}if(ft+1===He){(re-=3)>-1&&Ye.push(239,191,189);continue}Fe=_e;continue}if(_e<56320){(re-=3)>-1&&Ye.push(239,191,189),Fe=_e;continue}_e=65536+(Fe-55296<<10|_e-56320)}else Fe&&(re-=3)>-1&&Ye.push(239,191,189);if(Fe=null,_e<128){if((re-=1)<0)break;Ye.push(_e)}else if(_e<2048){if((re-=2)<0)break;Ye.push(_e>>6|192,63&_e|128)}else if(_e<65536){if((re-=3)<0)break;Ye.push(_e>>12|224,_e>>6&63|128,63&_e|128)}else{if(!(_e<1114112))throw new Error("Invalid code point");if((re-=4)<0)break;Ye.push(_e>>18|240,_e>>12&63|128,_e>>6&63|128,63&_e|128)}}return Ye}function Ge(X){return y.toByteArray(function(re){if((re=(_e=re,_e.trim?_e.trim():_e.replace(/^\s+|\s+$/g,"")).replace(me,"")).length<2)return"";for(var _e;re.length%4!=0;)re+="=";return re}(X))}function Ke(X,re,_e,He){for(var Fe=0;Fe<He&&!(Fe+_e>=re.length||Fe>=X.length);++Fe)re[Fe+_e]=X[Fe];return Fe}}).call(this,P(0))},function(fe,U){var P,D,y=fe.exports={};function b(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}function E(N){if(P===setTimeout)return setTimeout(N,0);if((P===b||!P)&&setTimeout)return P=setTimeout,setTimeout(N,0);try{return P(N,0)}catch{try{return P.call(null,N,0)}catch{return P.call(this,N,0)}}}!function(){try{P="function"==typeof setTimeout?setTimeout:b}catch{P=b}try{D="function"==typeof clearTimeout?clearTimeout:w}catch{D=w}}();var I,M=[],R=!1,Y=-1;function $(){R&&I&&(R=!1,I.length?M=I.concat(M):Y=-1,M.length&&J())}function J(){if(!R){var N=E($);R=!0;for(var T=M.length;T;){for(I=M,M=[];++Y<T;)I&&I[Y].run();Y=-1,T=M.length}I=null,R=!1,function(V){if(D===clearTimeout)return clearTimeout(V);if((D===w||!D)&&clearTimeout)return D=clearTimeout,clearTimeout(V);try{D(V)}catch{try{return D.call(null,V)}catch{return D.call(this,V)}}}(N)}}function G(N,T){this.fun=N,this.array=T}function ne(){}y.nextTick=function(N){var T=new Array(arguments.length-1);if(arguments.length>1)for(var V=1;V<arguments.length;V++)T[V-1]=arguments[V];M.push(new G(N,T)),1!==M.length||R||E(J)},G.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=ne,y.addListener=ne,y.once=ne,y.off=ne,y.removeListener=ne,y.removeAllListeners=ne,y.emit=ne,y.prependListener=ne,y.prependOnceListener=ne,y.listeners=function(N){return[]},y.binding=function(N){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(N){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},function(fe,U,P){(function(D){function y(b){return Object.prototype.toString.call(b)}U.isArray=function(b){return Array.isArray?Array.isArray(b):"[object Array]"===y(b)},U.isBoolean=function(b){return"boolean"==typeof b},U.isNull=function(b){return null===b},U.isNullOrUndefined=function(b){return null==b},U.isNumber=function(b){return"number"==typeof b},U.isString=function(b){return"string"==typeof b},U.isSymbol=function(b){return"symbol"==typeof b},U.isUndefined=function(b){return void 0===b},U.isRegExp=function(b){return"[object RegExp]"===y(b)},U.isObject=function(b){return"object"==typeof b&&null!==b},U.isDate=function(b){return"[object Date]"===y(b)},U.isError=function(b){return"[object Error]"===y(b)||b instanceof Error},U.isFunction=function(b){return"function"==typeof b},U.isPrimitive=function(b){return null===b||"boolean"==typeof b||"number"==typeof b||"string"==typeof b||"symbol"==typeof b||void 0===b},U.isBuffer=D.isBuffer}).call(this,P(3).Buffer)},function(fe,U,P){"use strict";(function(D){fe.exports=!D.version||0===D.version.indexOf("v0.")||0===D.version.indexOf("v1.")&&0!==D.version.indexOf("v1.8.")?{nextTick:function(y,b,w,E){if("function"!=typeof y)throw new TypeError('"callback" argument must be a function');var I,M,R=arguments.length;switch(R){case 0:case 1:return D.nextTick(y);case 2:return D.nextTick(function(){y.call(null,b)});case 3:return D.nextTick(function(){y.call(null,b,w)});case 4:return D.nextTick(function(){y.call(null,b,w,E)});default:for(I=new Array(R-1),M=0;M<I.length;)I[M++]=arguments[M];return D.nextTick(function(){y.apply(null,I)})}}}:D}).call(this,P(4))},function(fe,U,P){var D=P(3),y=D.Buffer;function b(E,I){for(var M in E)I[M]=E[M]}function w(E,I,M){return y(E,I,M)}y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?fe.exports=D:(b(D,U),U.Buffer=w),b(y,w),w.from=function(E,I,M){if("number"==typeof E)throw new TypeError("Argument must not be a number");return y(E,I,M)},w.alloc=function(E,I,M){if("number"!=typeof E)throw new TypeError("Argument must be a number");var R=y(E);return void 0!==I?"string"==typeof M?R.fill(I,M):R.fill(I):R.fill(0),R},w.allocUnsafe=function(E){if("number"!=typeof E)throw new TypeError("Argument must be a number");return y(E)},w.allocUnsafeSlow=function(E){if("number"!=typeof E)throw new TypeError("Argument must be a number");return D.SlowBuffer(E)}},function(fe,U,P){var D=P(17)(Object,"create");fe.exports=D},function(fe,U,P){var D=P(31);fe.exports=function(y,b){for(var w=y.length;w--;)if(D(y[w][0],b))return w;return-1}},function(fe,U,P){var D=P(96);fe.exports=function(y,b){var w=y.__data__;return D(b)?w["string"==typeof b?"string":"hash"]:w.map}},function(fe,U,P){(function(D){var y=void 0!==D&&D||typeof self<"u"&&self||window,b=Function.prototype.apply;function w(E,I){this._id=E,this._clearFn=I}U.setTimeout=function(){return new w(b.call(setTimeout,y,arguments),clearTimeout)},U.setInterval=function(){return new w(b.call(setInterval,y,arguments),clearInterval)},U.clearTimeout=U.clearInterval=function(E){E&&E.close()},w.prototype.unref=w.prototype.ref=function(){},w.prototype.close=function(){this._clearFn.call(y,this._id)},U.enroll=function(E,I){clearTimeout(E._idleTimeoutId),E._idleTimeout=I},U.unenroll=function(E){clearTimeout(E._idleTimeoutId),E._idleTimeout=-1},U._unrefActive=U.active=function(E){clearTimeout(E._idleTimeoutId);var I=E._idleTimeout;I>=0&&(E._idleTimeoutId=setTimeout(function(){E._onTimeout&&E._onTimeout()},I))},P(35),U.setImmediate=typeof self<"u"&&self.setImmediate||void 0!==D&&D.setImmediate||this&&this.setImmediate,U.clearImmediate=typeof self<"u"&&self.clearImmediate||void 0!==D&&D.clearImmediate||this&&this.clearImmediate}).call(this,P(0))},function(fe,U){function P(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function D(w){return"function"==typeof w}function y(w){return"object"==typeof w&&null!==w}function b(w){return void 0===w}fe.exports=P,P.EventEmitter=P,P.prototype._events=void 0,P.prototype._maxListeners=void 0,P.defaultMaxListeners=10,P.prototype.setMaxListeners=function(w){if("number"!=typeof w||w<0||isNaN(w))throw TypeError("n must be a positive number");return this._maxListeners=w,this},P.prototype.emit=function(w){var E,I,M,R,Y,$;if(this._events||(this._events={}),"error"===w&&(!this._events.error||y(this._events.error)&&!this._events.error.length)){if((E=arguments[1])instanceof Error)throw E;var J=new Error('Uncaught, unspecified "error" event. ('+E+")");throw J.context=E,J}if(b(I=this._events[w]))return!1;if(D(I))switch(arguments.length){case 1:I.call(this);break;case 2:I.call(this,arguments[1]);break;case 3:I.call(this,arguments[1],arguments[2]);break;default:R=Array.prototype.slice.call(arguments,1),I.apply(this,R)}else if(y(I))for(R=Array.prototype.slice.call(arguments,1),M=($=I.slice()).length,Y=0;Y<M;Y++)$[Y].apply(this,R);return!0},P.prototype.on=P.prototype.addListener=function(w,E){var I;if(!D(E))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",w,D(E.listener)?E.listener:E),this._events[w]?y(this._events[w])?this._events[w].push(E):this._events[w]=[this._events[w],E]:this._events[w]=E,y(this._events[w])&&!this._events[w].warned&&(I=b(this._maxListeners)?P.defaultMaxListeners:this._maxListeners)&&I>0&&this._events[w].length>I&&(this._events[w].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[w].length),"function"==typeof console.trace&&console.trace()),this},P.prototype.once=function(w,E){if(!D(E))throw TypeError("listener must be a function");var I=!1;function M(){this.removeListener(w,M),I||(I=!0,E.apply(this,arguments))}return M.listener=E,this.on(w,M),this},P.prototype.removeListener=function(w,E){var I,M,R,Y;if(!D(E))throw TypeError("listener must be a function");if(!this._events||!this._events[w])return this;if(R=(I=this._events[w]).length,M=-1,I===E||D(I.listener)&&I.listener===E)delete this._events[w],this._events.removeListener&&this.emit("removeListener",w,E);else if(y(I)){for(Y=R;Y-- >0;)if(I[Y]===E||I[Y].listener&&I[Y].listener===E){M=Y;break}if(M<0)return this;1===I.length?(I.length=0,delete this._events[w]):I.splice(M,1),this._events.removeListener&&this.emit("removeListener",w,E)}return this},P.prototype.removeAllListeners=function(w){var E,I;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[w]&&delete this._events[w],this;if(0===arguments.length){for(E in this._events)"removeListener"!==E&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events={},this}if(D(I=this._events[w]))this.removeListener(w,I);else if(I)for(;I.length;)this.removeListener(w,I[I.length-1]);return delete this._events[w],this},P.prototype.listeners=function(w){return this._events&&this._events[w]?D(this._events[w])?[this._events[w]]:this._events[w].slice():[]},P.prototype.listenerCount=function(w){if(this._events){var E=this._events[w];if(D(E))return 1;if(E)return E.length}return 0},P.listenerCount=function(w,E){return w.listenerCount(E)}},function(fe,U,P){(U=fe.exports=P(23)).Stream=U,U.Readable=U,U.Writable=P(14),U.Duplex=P(1),U.Transform=P(27),U.PassThrough=P(45)},function(fe,U,P){"use strict";(function(D,y,b){var w=P(6);function E(ie){var ee=this;this.next=null,this.entry=null,this.finish=function(){!function(ce,te,Le){var Pe=ce.entry;for(ce.entry=null;Pe;){var ve=Pe.callback;te.pendingcb--,ve(void 0),Pe=Pe.next}te.corkedRequestsFree?te.corkedRequestsFree.next=ce:te.corkedRequestsFree=ce}(ee,ie)}}fe.exports=O;var I,M=!D.browser&&["v0.10","v0.9."].indexOf(D.version.slice(0,5))>-1?y:w.nextTick;O.WritableState=V;var R=P(5);R.inherits=P(2);var Y,$={deprecate:P(44)},J=P(24),G=P(7).Buffer,ne=b.Uint8Array||function(){},N=P(25);function T(){}function V(ie,ee){I=I||P(1);var ce=ee instanceof I;this.objectMode=!!(ie=ie||{}).objectMode,ce&&(this.objectMode=this.objectMode||!!ie.writableObjectMode);var te=ie.highWaterMark,Le=ie.writableHighWaterMark;this.highWaterMark=te||0===te?te:ce&&(Le||0===Le)?Le:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ie.decodeStrings),this.defaultEncoding=ie.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(xe){!function(ye,de){var Ae,he=ye._writableState,ae=he.sync,Ie=he.writecb;if((Ae=he).writing=!1,Ae.writecb=null,Ae.length-=Ae.writelen,Ae.writelen=0,de)!function(Ae,ze,Ge,Ke,X){--ze.pendingcb,Ge?(w.nextTick(X,Ke),w.nextTick(B,Ae,ze),Ae._writableState.errorEmitted=!0,Ae.emit("error",Ke)):(X(Ke),Ae._writableState.errorEmitted=!0,Ae.emit("error",Ke),B(Ae,ze))}(ye,he,ae,de,Ie);else{var me=K(he);me||he.corked||he.bufferProcessing||!he.bufferedRequest||k(ye,he),ae?M(j,ye,he,me,Ie):j(ye,he,me,Ie)}}(ee,xe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new E(this)}function O(ie){if(I=I||P(1),!(Y.call(O,this)||this instanceof I))return new O(ie);this._writableState=new V(ie,this),this.writable=!0,ie&&("function"==typeof ie.write&&(this._write=ie.write),"function"==typeof ie.writev&&(this._writev=ie.writev),"function"==typeof ie.destroy&&(this._destroy=ie.destroy),"function"==typeof ie.final&&(this._final=ie.final)),J.call(this)}function z(ie,ee,ce,te,Le,Pe,ve){ee.writelen=te,ee.writecb=ve,ee.writing=!0,ee.sync=!0,ce?ie._writev(Le,ee.onwrite):ie._write(Le,Pe,ee.onwrite),ee.sync=!1}function j(ie,ee,ce,te){var Le,Pe;ce||(Le=ie,0===(Pe=ee).length&&Pe.needDrain&&(Pe.needDrain=!1,Le.emit("drain"))),ee.pendingcb--,te(),B(ie,ee)}function k(ie,ee){ee.bufferProcessing=!0;var ce=ee.bufferedRequest;if(ie._writev&&ce&&ce.next){var Le=new Array(ee.bufferedRequestCount),Pe=ee.corkedRequestsFree;Pe.entry=ce;for(var ve=0,xe=!0;ce;)Le[ve]=ce,ce.isBuf||(xe=!1),ce=ce.next,ve+=1;Le.allBuffers=xe,z(ie,ee,!0,ee.length,Le,"",Pe.finish),ee.pendingcb++,ee.lastBufferedRequest=null,Pe.next?(ee.corkedRequestsFree=Pe.next,Pe.next=null):ee.corkedRequestsFree=new E(ee),ee.bufferedRequestCount=0}else{for(;ce;){var ye=ce.chunk;if(z(ie,ee,!1,ee.objectMode?1:ye.length,ye,ce.encoding,ce.callback),ce=ce.next,ee.bufferedRequestCount--,ee.writing)break}null===ce&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=ce,ee.bufferProcessing=!1}function K(ie){return ie.ending&&0===ie.length&&null===ie.bufferedRequest&&!ie.finished&&!ie.writing}function oe(ie,ee){ie._final(function(ce){ee.pendingcb--,ce&&ie.emit("error",ce),ee.prefinished=!0,ie.emit("prefinish"),B(ie,ee)})}function B(ie,ee){var te,Le,ce=K(ee);return ce&&(te=ie,(Le=ee).prefinished||Le.finalCalled||("function"==typeof te._final?(Le.pendingcb++,Le.finalCalled=!0,w.nextTick(oe,te,Le)):(Le.prefinished=!0,te.emit("prefinish"))),0===ee.pendingcb&&(ee.finished=!0,ie.emit("finish"))),ce}R.inherits(O,J),V.prototype.getBuffer=function(){for(var ie=this.bufferedRequest,ee=[];ie;)ee.push(ie),ie=ie.next;return ee},function(){try{Object.defineProperty(V.prototype,"buffer",{get:$.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Y=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(ie){return!!Y.call(this,ie)||this===O&&ie&&ie._writableState instanceof V}})):Y=function(ie){return ie instanceof this},O.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},O.prototype.write=function(ie,ee,ce){var ve,te=this._writableState,Le=!1,Pe=!te.objectMode&&(G.isBuffer(ve=ie)||ve instanceof ne);return Pe&&!G.isBuffer(ie)&&(ie=function(ve){return G.from(ve)}(ie)),"function"==typeof ee&&(ce=ee,ee=null),Pe?ee="buffer":ee||(ee=te.defaultEncoding),"function"!=typeof ce&&(ce=T),te.ended?function(ve,xe){var ye=new Error("write after end");ve.emit("error",ye),w.nextTick(xe,ye)}(this,ce):(Pe||function(ve,xe,ye,de){var he=!0,ae=!1;return null===ye?ae=new TypeError("May not write null values to stream"):"string"==typeof ye||void 0===ye||xe.objectMode||(ae=new TypeError("Invalid non-string/buffer chunk")),ae&&(ve.emit("error",ae),w.nextTick(de,ae),he=!1),he}(this,te,ie,ce))&&(te.pendingcb++,Le=function(ve,xe,ye,de,he,ae){if(!ye){var Ie=(Ke=de,(Ge=xe).objectMode||!1===Ge.decodeStrings||"string"!=typeof Ke||(Ke=G.from(Ke,he)),Ke);de!==Ie&&(ye=!0,he="buffer",de=Ie)}var Ge,Ke,me=xe.objectMode?1:de.length;xe.length+=me;var Ae=xe.length<xe.highWaterMark;if(Ae||(xe.needDrain=!0),xe.writing||xe.corked){var ze=xe.lastBufferedRequest;xe.lastBufferedRequest={chunk:de,encoding:he,isBuf:ye,callback:ae,next:null},ze?ze.next=xe.lastBufferedRequest:xe.bufferedRequest=xe.lastBufferedRequest,xe.bufferedRequestCount+=1}else z(ve,xe,!1,me,de,he,ae);return Ae}(this,te,Pe,ie,ee,ce)),Le},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var ie=this._writableState;ie.corked&&(ie.corked--,ie.writing||ie.corked||ie.finished||ie.bufferProcessing||!ie.bufferedRequest||k(this,ie))},O.prototype.setDefaultEncoding=function(ie){if("string"==typeof ie&&(ie=ie.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ie+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+ie);return this._writableState.defaultEncoding=ie,this},Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),O.prototype._write=function(ie,ee,ce){ce(new Error("_write() is not implemented"))},O.prototype._writev=null,O.prototype.end=function(ie,ee,ce){var Pe,ve,te=this._writableState;"function"==typeof ie?(ce=ie,ie=null,ee=null):"function"==typeof ee&&(ce=ee,ee=null),null!=ie&&this.write(ie,ee),te.corked&&(te.corked=1,this.uncork()),te.ending||te.finished||(this,ve=ce,(Pe=te).ending=!0,B(this,Pe),ve&&(Pe.finished?w.nextTick(ve):this.once("finish",ve)),Pe.ended=!0,this.writable=!1)},Object.defineProperty(O.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ie){this._writableState&&(this._writableState.destroyed=ie)}}),O.prototype.destroy=N.destroy,O.prototype._undestroy=N.undestroy,O.prototype._destroy=function(ie,ee){this.end(),ee(ie)}}).call(this,P(4),P(11).setImmediate,P(0))},function(fe,U,P){(function(D,y,b){fe.exports=function w(E,I,M){function R(J,G){if(!I[J]){if(!E[J]){var ne="function"==typeof _dereq_&&_dereq_;if(!G&&ne)return ne(J,!0);if(Y)return Y(J,!0);var N=new Error("Cannot find module '"+J+"'");throw N.code="MODULE_NOT_FOUND",N}var T=I[J]={exports:{}};E[J][0].call(T.exports,function(V){return R(E[J][1][V]||V)},T,T.exports,w,E,I,M)}return I[J].exports}for(var Y="function"==typeof _dereq_&&_dereq_,$=0;$<M.length;$++)R(M[$]);return R}({1:[function(w,E,I){"use strict";E.exports=function(M){var R=M._SomePromiseArray;function Y($){var J=new R($),G=J.promise();return J.setHowMany(1),J.setUnwrap(),J.init(),G}M.any=function($){return Y($)},M.prototype.any=function(){return Y(this)}}},{}],2:[function(w,E,I){"use strict";var M;try{throw new Error}catch(T){M=T}var R=w("./schedule"),Y=w("./queue"),$=w("./util");function J(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new Y(16),this._normalQueue=new Y(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var T=this;this.drainQueues=function(){T._drainQueues()},this._schedule=R}function G(T,V,O){this._lateQueue.push(T,V,O),this._queueTick()}function ne(T,V,O){this._normalQueue.push(T,V,O),this._queueTick()}function N(T){this._normalQueue._pushOne(T),this._queueTick()}J.prototype.setScheduler=function(T){var V=this._schedule;return this._schedule=T,this._customScheduler=!0,V},J.prototype.hasCustomScheduler=function(){return this._customScheduler},J.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},J.prototype.disableTrampolineIfNecessary=function(){$.hasDevTools&&(this._trampolineEnabled=!1)},J.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},J.prototype.fatalError=function(T,V){V?(D.stderr.write("Fatal "+(T instanceof Error?T.stack:T)+"\n"),D.exit(2)):this.throwLater(T)},J.prototype.throwLater=function(T,V){if(1===arguments.length&&(V=T,T=function(){throw V}),typeof setTimeout<"u")setTimeout(function(){T(V)},0);else try{this._schedule(function(){T(V)})}catch{throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},$.hasDevTools?(J.prototype.invokeLater=function(T,V,O){this._trampolineEnabled?G.call(this,T,V,O):this._schedule(function(){setTimeout(function(){T.call(V,O)},100)})},J.prototype.invoke=function(T,V,O){this._trampolineEnabled?ne.call(this,T,V,O):this._schedule(function(){T.call(V,O)})},J.prototype.settlePromises=function(T){this._trampolineEnabled?N.call(this,T):this._schedule(function(){T._settlePromises()})}):(J.prototype.invokeLater=G,J.prototype.invoke=ne,J.prototype.settlePromises=N),J.prototype._drainQueue=function(T){for(;T.length()>0;){var V=T.shift();if("function"==typeof V){var O=T.shift(),z=T.shift();V.call(O,z)}else V._settlePromises()}},J.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},J.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},J.prototype._reset=function(){this._isTickUsed=!1},E.exports=J,E.exports.firstLineError=M},{"./queue":26,"./schedule":29,"./util":36}],3:[function(w,E,I){"use strict";E.exports=function(M,R,Y,$){var J=!1,G=function(V,O){this._reject(O)},ne=function(V,O){O.promiseRejectionQueued=!0,O.bindingPromise._then(G,G,null,this,V)},N=function(V,O){!(50397184&this._bitField)&&this._resolveCallback(O.target)},T=function(V,O){O.promiseRejectionQueued||this._reject(V)};M.prototype.bind=function(V){J||(J=!0,M.prototype._propagateFrom=$.propagateFromFunction(),M.prototype._boundValue=$.boundValueFunction());var O=Y(V),z=new M(R);z._propagateFrom(this,1);var j=this._target();if(z._setBoundTo(O),O instanceof M){var k={promiseRejectionQueued:!1,promise:z,target:j,bindingPromise:O};j._then(R,ne,void 0,z,k),O._then(N,T,void 0,z,k),z._setOnCancel(O)}else z._resolveCallback(j);return z},M.prototype._setBoundTo=function(V){void 0!==V?(this._bitField=2097152|this._bitField,this._boundTo=V):this._bitField=-2097153&this._bitField},M.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},M.bind=function(V,O){return M.resolve(O).bind(V)}}},{}],4:[function(w,E,I){"use strict";var M;typeof Promise<"u"&&(M=Promise);var R=w("./promise")();R.noConflict=function(){try{Promise===R&&(Promise=M)}catch{}return R},E.exports=R},{"./promise":22}],5:[function(w,E,I){"use strict";var M=Object.create;if(M){var R=M(null),Y=M(null);R[" size"]=Y[" size"]=0}E.exports=function($){var J=w("./util"),G=J.canEvaluate;function ne(V){return function(O,z){var j;if(null!=O&&(j=O[z]),"function"!=typeof j){var k="Object "+J.classString(O)+" has no method '"+J.toString(z)+"'";throw new $.TypeError(k)}return j}(V,this.pop()).apply(V,this)}function N(V){return V[this]}function T(V){var O=+this;return O<0&&(O=Math.max(0,O+V.length)),V[O]}$.prototype.call=function(V){var O=[].slice.call(arguments,1);return O.push(V),this._then(ne,void 0,void 0,O,void 0)},$.prototype.get=function(V){var O;if("number"==typeof V)O=T;else if(G){var z=(void 0)(V);O=null!==z?z:N}else O=N;return this._then(O,void 0,void 0,V,void 0)}}},{"./util":36}],6:[function(w,E,I){"use strict";E.exports=function(M,R,Y,$){var J=w("./util"),G=J.tryCatch,ne=J.errorObj,N=M._async;M.prototype.break=M.prototype.cancel=function(){if(!$.cancellation())return this._warn("cancellation is disabled");for(var T=this,V=T;T._isCancellable();){if(!T._cancelBy(V)){V._isFollowing()?V._followee().cancel():V._cancelBranched();break}var O=T._cancellationParent;if(null==O||!O._isCancellable()){T._isFollowing()?T._followee().cancel():T._cancelBranched();break}T._isFollowing()&&T._followee().cancel(),T._setWillBeCancelled(),V=T,T=O}},M.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},M.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},M.prototype._cancelBy=function(T){return T===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},M.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},M.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),N.invoke(this._cancelPromises,this,void 0))},M.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},M.prototype._unsetOnCancel=function(){this._onCancelField=void 0},M.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},M.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},M.prototype._doInvokeOnCancel=function(T,V){if(J.isArray(T))for(var O=0;O<T.length;++O)this._doInvokeOnCancel(T[O],V);else if(void 0!==T)if("function"==typeof T){if(!V){var z=G(T).call(this._boundValue());z===ne&&(this._attachExtraTrace(z.e),N.throwLater(z.e))}}else T._resultCancelled(this)},M.prototype._invokeOnCancel=function(){var T=this._onCancel();this._unsetOnCancel(),N.invoke(this._doInvokeOnCancel,this,T)},M.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},M.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(w,E,I){"use strict";E.exports=function(M){var R=w("./util"),Y=w("./es5").keys,$=R.tryCatch,J=R.errorObj;return function(G,ne,N){return function(T){var V=N._boundValue();e:for(var O=0;O<G.length;++O){var z=G[O];if(z===Error||null!=z&&z.prototype instanceof Error){if(T instanceof z)return $(ne).call(V,T)}else if("function"==typeof z){var j=$(z).call(V,T);if(j===J)return j;if(j)return $(ne).call(V,T)}else if(R.isObject(T)){for(var k=Y(z),K=0;K<k.length;++K){var oe=k[K];if(z[oe]!=T[oe])continue e}return $(ne).call(V,T)}}return M}}}},{"./es5":13,"./util":36}],8:[function(w,E,I){"use strict";E.exports=function(M){var R=!1,Y=[];function $(){this._trace=new $.CapturedTrace(J())}function J(){var G=Y.length-1;if(G>=0)return Y[G]}return M.prototype._promiseCreated=function(){},M.prototype._pushContext=function(){},M.prototype._popContext=function(){return null},M._peekContext=M.prototype._peekContext=function(){},$.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,Y.push(this._trace))},$.prototype._popContext=function(){if(void 0!==this._trace){var G=Y.pop(),ne=G._promiseCreated;return G._promiseCreated=null,ne}return null},$.CapturedTrace=null,$.create=function(){if(R)return new $},$.deactivateLongStackTraces=function(){},$.activateLongStackTraces=function(){var G=M.prototype._pushContext,ne=M.prototype._popContext,N=M._peekContext,T=M.prototype._peekContext,V=M.prototype._promiseCreated;$.deactivateLongStackTraces=function(){M.prototype._pushContext=G,M.prototype._popContext=ne,M._peekContext=N,M.prototype._peekContext=T,M.prototype._promiseCreated=V,R=!1},R=!0,M.prototype._pushContext=$.prototype._pushContext,M.prototype._popContext=$.prototype._popContext,M._peekContext=M.prototype._peekContext=J,M.prototype._promiseCreated=function(){var O=this._peekContext();O&&null==O._promiseCreated&&(O._promiseCreated=this)}},$}},{}],9:[function(w,E,I){"use strict";E.exports=function(M,R){var Y,$,J,G=M._getDomain,ne=M._async,N=w("./errors").Warning,T=w("./util"),V=T.canAttachTrace,O=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,z=/\((?:timers\.js):\d+:\d+\)/,j=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,k=null,K=null,oe=!1,B=0!=T.env("BLUEBIRD_DEBUG"),ie=!(0==T.env("BLUEBIRD_WARNINGS")||!B&&!T.env("BLUEBIRD_WARNINGS")),ee=!(0==T.env("BLUEBIRD_LONG_STACK_TRACES")||!B&&!T.env("BLUEBIRD_LONG_STACK_TRACES")),ce=0!=T.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(ie||!!T.env("BLUEBIRD_W_FORGOTTEN_RETURN"));M.prototype.suppressUnhandledRejections=function(){var Ve=this._target();Ve._bitField=-1048577&Ve._bitField|524288},M.prototype._ensurePossibleRejectionHandled=function(){if(!(524288&this._bitField)){this._setRejectionIsUnhandled();var Ve=this;setTimeout(function(){Ve._notifyUnhandledRejection()},1)}},M.prototype._notifyUnhandledRejectionIsHandled=function(){ft("rejectionHandled",Y,void 0,this)},M.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},M.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},M.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var Ve=this._settledValue();this._setUnhandledRejectionIsNotified(),ft("unhandledRejection",$,Ve,this)}},M.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},M.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},M.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},M.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},M.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},M.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},M.prototype._warn=function(Ve,Ue,Je){return _e(Ve,Ue,Je||this)},M.onPossiblyUnhandledRejection=function(Ve){var Ue=G();$="function"==typeof Ve?null===Ue?Ve:T.domainBind(Ue,Ve):void 0},M.onUnhandledRejectionHandled=function(Ve){var Ue=G();Y="function"==typeof Ve?null===Ue?Ve:T.domainBind(Ue,Ve):void 0};var te=function(){};M.longStackTraces=function(){if(ne.haveItemsQueued()&&!Re.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!Re.longStackTraces&&Ct()){var Ve=M.prototype._captureStackTrace,Ue=M.prototype._attachExtraTrace;Re.longStackTraces=!0,te=function(){if(ne.haveItemsQueued()&&!Re.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");M.prototype._captureStackTrace=Ve,M.prototype._attachExtraTrace=Ue,R.deactivateLongStackTraces(),ne.enableTrampoline(),Re.longStackTraces=!1},M.prototype._captureStackTrace=X,M.prototype._attachExtraTrace=re,R.activateLongStackTraces(),ne.disableTrampolineIfNecessary()}},M.hasLongStackTraces=function(){return Re.longStackTraces&&Ct()};var Le=function(){try{if("function"==typeof CustomEvent){var Ve=new CustomEvent("CustomEvent");return T.global.dispatchEvent(Ve),function(Ue,Je){var qe=new CustomEvent(Ue.toLowerCase(),{detail:Je,cancelable:!0});return!T.global.dispatchEvent(qe)}}return"function"==typeof Event?(Ve=new Event("CustomEvent"),T.global.dispatchEvent(Ve),function(Ue,Je){var qe=new Event(Ue.toLowerCase(),{cancelable:!0});return qe.detail=Je,!T.global.dispatchEvent(qe)}):((Ve=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),T.global.dispatchEvent(Ve),function(Ue,Je){var qe=document.createEvent("CustomEvent");return qe.initCustomEvent(Ue.toLowerCase(),!1,!0,Je),!T.global.dispatchEvent(qe)})}catch{}return function(){return!1}}(),Pe=T.isNode?function(){return D.emit.apply(D,arguments)}:T.global?function(Ve){var Ue="on"+Ve.toLowerCase(),Je=T.global[Ue];return!!Je&&(Je.apply(T.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function ve(Ve,Ue){return{promise:Ue}}var xe={promiseCreated:ve,promiseFulfilled:ve,promiseRejected:ve,promiseResolved:ve,promiseCancelled:ve,promiseChained:function(Ve,Ue,Je){return{promise:Ue,child:Je}},warning:function(Ve,Ue){return{warning:Ue}},unhandledRejection:function(Ve,Ue,Je){return{reason:Ue,promise:Je}},rejectionHandled:ve},ye=function(Ve){var Ue=!1;try{Ue=Pe.apply(null,arguments)}catch(qe){ne.throwLater(qe),Ue=!0}var Je=!1;try{Je=Le(Ve,xe[Ve].apply(null,arguments))}catch(qe){ne.throwLater(qe),Je=!0}return Je||Ue};function de(){return!1}function he(Ve,Ue,Je){var qe=this;try{Ve(Ue,Je,function(gt){if("function"!=typeof gt)throw new TypeError("onCancel must be a function, got: "+T.toString(gt));qe._attachCancellationCallback(gt)})}catch(gt){return gt}}function ae(Ve){if(!this._isCancellable())return this;var Ue=this._onCancel();void 0!==Ue?T.isArray(Ue)?Ue.push(Ve):this._setOnCancel([Ue,Ve]):this._setOnCancel(Ve)}function Ie(){return this._onCancelField}function me(Ve){this._onCancelField=Ve}function Ae(){this._cancellationParent=void 0,this._onCancelField=void 0}function ze(Ve,Ue){if(1&Ue){this._cancellationParent=Ve;var Je=Ve._branchesRemainingToCancel;void 0===Je&&(Je=0),Ve._branchesRemainingToCancel=Je+1}2&Ue&&Ve._isBound()&&this._setBoundTo(Ve._boundTo)}M.config=function(Ve){if("longStackTraces"in(Ve=Object(Ve))&&(Ve.longStackTraces?M.longStackTraces():!Ve.longStackTraces&&M.hasLongStackTraces()&&te()),"warnings"in Ve){var Ue=Ve.warnings;Re.warnings=!!Ue,ce=Re.warnings,T.isObject(Ue)&&"wForgottenReturn"in Ue&&(ce=!!Ue.wForgottenReturn)}if("cancellation"in Ve&&Ve.cancellation&&!Re.cancellation){if(ne.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");M.prototype._clearCancellationData=Ae,M.prototype._propagateFrom=ze,M.prototype._onCancel=Ie,M.prototype._setOnCancel=me,M.prototype._attachCancellationCallback=ae,M.prototype._execute=he,Ge=ze,Re.cancellation=!0}return"monitoring"in Ve&&(Ve.monitoring&&!Re.monitoring?(Re.monitoring=!0,M.prototype._fireEvent=ye):!Ve.monitoring&&Re.monitoring&&(Re.monitoring=!1,M.prototype._fireEvent=de)),M},M.prototype._fireEvent=de,M.prototype._execute=function(Ve,Ue,Je){try{Ve(Ue,Je)}catch(qe){return qe}},M.prototype._onCancel=function(){},M.prototype._setOnCancel=function(Ve){},M.prototype._attachCancellationCallback=function(Ve){},M.prototype._captureStackTrace=function(){},M.prototype._attachExtraTrace=function(){},M.prototype._clearCancellationData=function(){},M.prototype._propagateFrom=function(Ve,Ue){};var Ge=function(Ve,Ue){2&Ue&&Ve._isBound()&&this._setBoundTo(Ve._boundTo)};function Ke(){var Ve=this._boundTo;return void 0!==Ve&&Ve instanceof M?Ve.isFulfilled()?Ve.value():void 0:Ve}function X(){this._trace=new be(this._peekContext())}function re(Ve,Ue){if(V(Ve)){var Je=this._trace;if(void 0!==Je&&Ue&&(Je=Je._parent),void 0!==Je)Je.attachExtraTrace(Ve);else if(!Ve.__stackCleaned__){var qe=Fe(Ve);T.notEnumerableProp(Ve,"stack",qe.message+"\n"+qe.stack.join("\n")),T.notEnumerableProp(Ve,"__stackCleaned__",!0)}}}function _e(Ve,Ue,Je){if(Re.warnings){var qe,gt=new N(Ve);if(Ue)Je._attachExtraTrace(gt);else if(Re.longStackTraces&&(qe=M._peekContext()))qe.attachExtraTrace(gt);else{var yt=Fe(gt);gt.stack=yt.message+"\n"+yt.stack.join("\n")}ye("warning",gt)||Ye(gt,"",!0)}}function He(Ve){for(var Ue=[],Je=0;Je<Ve.length;++Je){var qe=Ve[Je],gt="    (No stack trace)"===qe||k.test(qe),yt=gt&&$e(qe);gt&&!yt&&(oe&&" "!==qe.charAt(0)&&(qe="    "+qe),Ue.push(qe))}return Ue}function Fe(Ve){var Ue=Ve.stack,Je=Ve.toString();return Ue="string"==typeof Ue&&Ue.length>0?function(qe){for(var gt=qe.stack.replace(/\s+$/g,"").split("\n"),yt=0;yt<gt.length;++yt){var it=gt[yt];if("    (No stack trace)"===it||k.test(it))break}return yt>0&&"SyntaxError"!=qe.name&&(gt=gt.slice(yt)),gt}(Ve):["    (No stack trace)"],{message:Je,stack:"SyntaxError"==Ve.name?Ue:He(Ue)}}function Ye(Ve,Ue,Je){var qe;typeof console<"u"&&(qe=T.isObject(Ve)?Ue+K(Ve.stack,Ve):Ue+String(Ve),"function"==typeof J?J(qe,Je):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(qe))}function ft(Ve,Ue,Je,qe){var gt=!1;try{"function"==typeof Ue&&(gt=!0,"rejectionHandled"===Ve?Ue(qe):Ue(Je,qe))}catch(yt){ne.throwLater(yt)}"unhandledRejection"===Ve?ye(Ve,Je,qe)||gt||Ye(Je,"Unhandled rejection "):ye(Ve,qe)}function ht(Ve){var Ue,Je;if("function"==typeof Ve)Ue="[function "+(Ve.name||"anonymous")+"]";else{if(Ue=Ve&&"function"==typeof Ve.toString?Ve.toString():T.toString(Ve),/\[object [a-zA-Z0-9$_]+\]/.test(Ue))try{Ue=JSON.stringify(Ve)}catch{}0===Ue.length&&(Ue="(empty array)")}return"(<"+((Je=Ue).length<41?Je:Je.substr(0,38)+"...")+">, no stack trace)"}function Ct(){return"function"==typeof Ne}var $e=function(){return!1},we=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function Me(Ve){var Ue=Ve.match(we);if(Ue)return{fileName:Ue[1],line:parseInt(Ue[2],10)}}function be(Ve){this._parent=Ve,this._promisesCreated=0;var Ue=this._length=1+(void 0===Ve?0:Ve._length);Ne(this,be),Ue>32&&this.uncycle()}T.inherits(be,Error),R.CapturedTrace=be,be.prototype.uncycle=function(){var Ve=this._length;if(!(Ve<2)){for(var Ue=[],Je={},qe=0,gt=this;void 0!==gt;++qe)Ue.push(gt),gt=gt._parent;for(qe=(Ve=this._length=qe)-1;qe>=0;--qe){var yt=Ue[qe].stack;void 0===Je[yt]&&(Je[yt]=qe)}for(qe=0;qe<Ve;++qe){var it=Je[Ue[qe].stack];if(void 0!==it&&it!==qe){it>0&&(Ue[it-1]._parent=void 0,Ue[it-1]._length=1),Ue[qe]._parent=void 0,Ue[qe]._length=1;var Et=qe>0?Ue[qe-1]:this;it<Ve-1?(Et._parent=Ue[it+1],Et._parent.uncycle(),Et._length=Et._parent._length+1):(Et._parent=void 0,Et._length=1);for(var yn=Et._length+1,Gt=qe-2;Gt>=0;--Gt)Ue[Gt]._length=yn,yn++;return}}}},be.prototype.attachExtraTrace=function(Ve){if(!Ve.__stackCleaned__){this.uncycle();for(var Ue=Fe(Ve),Je=Ue.message,qe=[Ue.stack],gt=this;void 0!==gt;)qe.push(He(gt.stack.split("\n"))),gt=gt._parent;(function(yt){for(var it=yt[0],Et=1;Et<yt.length;++Et){for(var yn=yt[Et],Gt=it.length-1,En=it[Gt],Tn=-1,zr=yn.length-1;zr>=0;--zr)if(yn[zr]===En){Tn=zr;break}for(zr=Tn;zr>=0&&it[Gt]===yn[zr];--zr)it.pop(),Gt--;it=yn}})(qe),function(yt){for(var it=0;it<yt.length;++it)(0===yt[it].length||it+1<yt.length&&yt[it][0]===yt[it+1][0])&&(yt.splice(it,1),it--)}(qe),T.notEnumerableProp(Ve,"stack",function(yt,it){for(var Et=0;Et<it.length-1;++Et)it[Et].push("From previous event:"),it[Et]=it[Et].join("\n");return Et<it.length&&(it[Et]=it[Et].join("\n")),yt+"\n"+it.join("\n")}(Je,qe)),T.notEnumerableProp(Ve,"__stackCleaned__",!0)}};var Ne=function(){var Ve=/^\s*at\s*/,Ue=function(yt,it){return"string"==typeof yt?yt:void 0!==it.name&&void 0!==it.message?it.toString():ht(it)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,k=Ve,K=Ue;var Je=Error.captureStackTrace;return $e=function(yt){return O.test(yt)},function(yt,it){Error.stackTraceLimit+=6,Je(yt,it),Error.stackTraceLimit-=6}}var qe,gt=new Error;if("string"==typeof gt.stack&&gt.stack.split("\n")[0].indexOf("stackDetection@")>=0)return k=/@/,K=Ue,oe=!0,function(yt){yt.stack=(new Error).stack};try{throw new Error}catch(yt){qe="stack"in yt}return"stack"in gt||!qe||"number"!=typeof Error.stackTraceLimit?(K=function(yt,it){return"string"==typeof yt?yt:"object"!=typeof it&&"function"!=typeof it||void 0===it.name||void 0===it.message?ht(it):it.toString()},null):(k=Ve,K=Ue,function(yt){Error.stackTraceLimit+=6;try{throw new Error}catch(it){yt.stack=it.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&void 0!==console.warn&&(J=function(Ve){console.warn(Ve)},T.isNode&&D.stderr.isTTY?J=function(Ve,Ue){console.warn((Ue?"\x1b[33m":"\x1b[31m")+Ve+"\x1b[0m\n")}:T.isNode||"string"!=typeof(new Error).stack||(J=function(Ve,Ue){console.warn("%c"+Ve,Ue?"color: darkorange":"color: red")}));var Re={warnings:ie,longStackTraces:!1,cancellation:!1,monitoring:!1};return ee&&M.longStackTraces(),{longStackTraces:function(){return Re.longStackTraces},warnings:function(){return Re.warnings},cancellation:function(){return Re.cancellation},monitoring:function(){return Re.monitoring},propagateFromFunction:function(){return Ge},boundValueFunction:function(){return Ke},checkForgottenReturns:function(Ve,Ue,Je,qe,gt){if(void 0===Ve&&null!==Ue&&ce){if(void 0!==gt&&gt._returnedNonUndefined()||!(65535&qe._bitField))return;Je&&(Je+=" ");var yt="",it="";if(Ue._trace){for(var Et=Ue._trace.stack.split("\n"),yn=He(Et),Gt=yn.length-1;Gt>=0;--Gt){var En=yn[Gt];if(!z.test(En)){var Tn=En.match(j);Tn&&(yt="at "+Tn[1]+":"+Tn[2]+":"+Tn[3]+" ");break}}if(yn.length>0){var zr=yn[0];for(Gt=0;Gt<Et.length;++Gt)if(Et[Gt]===zr){Gt>0&&(it="\n"+Et[Gt-1]);break}}}qe._warn("a promise was created in a "+Je+"handler "+yt+"but was not returned from it, see http://goo.gl/rRqMUw"+it,!0,Ue)}},setBounds:function(Ve,Ue){if(Ct()){for(var Je,qe,gt=Ve.stack.split("\n"),yt=Ue.stack.split("\n"),it=-1,Et=-1,yn=0;yn<gt.length;++yn)if(Gt=Me(gt[yn])){Je=Gt.fileName,it=Gt.line;break}for(yn=0;yn<yt.length;++yn){var Gt;if(Gt=Me(yt[yn])){qe=Gt.fileName,Et=Gt.line;break}}it<0||Et<0||!Je||!qe||Je!==qe||it>=Et||($e=function(En){if(O.test(En))return!0;var Tn=Me(En);return!!(Tn&&Tn.fileName===Je&&it<=Tn.line&&Tn.line<=Et)})}},warn:_e,deprecated:function(Ve,Ue){var Je=Ve+" is deprecated and will be removed in a future version.";return Ue&&(Je+=" Use "+Ue+" instead."),_e(Je)},CapturedTrace:be,fireDomEvent:Le,fireGlobalEvent:Pe}}},{"./errors":12,"./util":36}],10:[function(w,E,I){"use strict";E.exports=function(M){function R(){return this.value}function Y(){throw this.reason}M.prototype.return=M.prototype.thenReturn=function($){return $ instanceof M&&$.suppressUnhandledRejections(),this._then(R,void 0,void 0,{value:$},void 0)},M.prototype.throw=M.prototype.thenThrow=function($){return this._then(Y,void 0,void 0,{reason:$},void 0)},M.prototype.catchThrow=function($){if(arguments.length<=1)return this._then(void 0,Y,void 0,{reason:$},void 0);var J=arguments[1];return this.caught($,function(){throw J})},M.prototype.catchReturn=function($){if(arguments.length<=1)return $ instanceof M&&$.suppressUnhandledRejections(),this._then(void 0,R,void 0,{value:$},void 0);var J=arguments[1];return J instanceof M&&J.suppressUnhandledRejections(),this.caught($,function(){return J})}}},{}],11:[function(w,E,I){"use strict";E.exports=function(M,R){var Y=M.reduce,$=M.all;function J(){return $(this)}M.prototype.each=function(G){return Y(this,G,R,0)._then(J,void 0,void 0,this,void 0)},M.prototype.mapSeries=function(G){return Y(this,G,R,R)},M.each=function(G,ne){return Y(G,ne,R,0)._then(J,void 0,void 0,G,void 0)},M.mapSeries=function(G,ne){return Y(G,ne,R,R)}}},{}],12:[function(w,E,I){"use strict";var M,R,Y=w("./es5"),$=Y.freeze,J=w("./util"),G=J.inherits,ne=J.notEnumerableProp;function N(ie,ee){function ce(te){if(!(this instanceof ce))return new ce(te);ne(this,"message","string"==typeof te?te:ee),ne(this,"name",ie),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return G(ce,Error),ce}var T=N("Warning","warning"),V=N("CancellationError","cancellation error"),O=N("TimeoutError","timeout error"),z=N("AggregateError","aggregate error");try{M=TypeError,R=RangeError}catch{M=N("TypeError","type error"),R=N("RangeError","range error")}for(var j="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),k=0;k<j.length;++k)"function"==typeof Array.prototype[j[k]]&&(z.prototype[j[k]]=Array.prototype[j[k]]);Y.defineProperty(z.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),z.prototype.isOperational=!0;var K=0;function oe(ie){if(!(this instanceof oe))return new oe(ie);ne(this,"name","OperationalError"),ne(this,"message",ie),this.cause=ie,this.isOperational=!0,ie instanceof Error?(ne(this,"message",ie.message),ne(this,"stack",ie.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}z.prototype.toString=function(){var ie=Array(4*K+1).join(" "),ee="\n"+ie+"AggregateError of:\n";K++,ie=Array(4*K+1).join(" ");for(var ce=0;ce<this.length;++ce){for(var te=this[ce]===this?"[Circular AggregateError]":this[ce]+"",Le=te.split("\n"),Pe=0;Pe<Le.length;++Pe)Le[Pe]=ie+Le[Pe];ee+=(te=Le.join("\n"))+"\n"}return K--,ee},G(oe,Error);var B=Error.__BluebirdErrorTypes__;B||(B=$({CancellationError:V,TimeoutError:O,OperationalError:oe,RejectionError:oe,AggregateError:z}),Y.defineProperty(Error,"__BluebirdErrorTypes__",{value:B,writable:!1,enumerable:!1,configurable:!1})),E.exports={Error,TypeError:M,RangeError:R,CancellationError:B.CancellationError,OperationalError:B.OperationalError,TimeoutError:B.TimeoutError,AggregateError:B.AggregateError,Warning:T}},{"./es5":13,"./util":36}],13:[function(w,E,I){var M=function(){"use strict";return void 0===this}();if(M)E.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:M,propertyIsWritable:function(G,ne){var N=Object.getOwnPropertyDescriptor(G,ne);return!(N&&!N.writable&&!N.set)}};else{var R={}.hasOwnProperty,Y={}.toString,$={}.constructor.prototype,J=function(G){var ne=[];for(var N in G)R.call(G,N)&&ne.push(N);return ne};E.exports={isArray:function(G){try{return"[object Array]"===Y.call(G)}catch{return!1}},keys:J,names:J,defineProperty:function(G,ne,N){return G[ne]=N.value,G},getDescriptor:function(G,ne){return{value:G[ne]}},freeze:function(G){return G},getPrototypeOf:function(G){try{return Object(G).constructor.prototype}catch{return $}},isES5:M,propertyIsWritable:function(){return!0}}}},{}],14:[function(w,E,I){"use strict";E.exports=function(M,R){var Y=M.map;M.prototype.filter=function($,J){return Y(this,$,J,R)},M.filter=function($,J,G){return Y($,J,G,R)}}},{}],15:[function(w,E,I){"use strict";E.exports=function(M,R,Y){var $=w("./util"),J=M.CancellationError,G=$.errorObj,ne=w("./catch_filter")(Y);function N(k,K,oe){this.promise=k,this.type=K,this.handler=oe,this.called=!1,this.cancelPromise=null}function T(k){this.finallyHandler=k}function V(k,K){return null!=k.cancelPromise&&(arguments.length>1?k.cancelPromise._reject(K):k.cancelPromise._cancel(),k.cancelPromise=null,!0)}function O(){return j.call(this,this.promise._target()._settledValue())}function z(k){if(!V(this,k))return G.e=k,G}function j(k){var K=this.promise,oe=this.handler;if(!this.called){this.called=!0;var B=this.isFinallyHandler()?oe.call(K._boundValue()):oe.call(K._boundValue(),k);if(B===Y)return B;if(void 0!==B){K._setReturnedNonUndefined();var ie=R(B,K);if(ie instanceof M){if(null!=this.cancelPromise){if(ie._isCancelled()){var ee=new J("late cancellation observer");return K._attachExtraTrace(ee),G.e=ee,G}ie.isPending()&&ie._attachCancellationCallback(new T(this))}return ie._then(O,z,void 0,this,void 0)}}}return K.isRejected()?(V(this),G.e=k,G):(V(this),k)}return N.prototype.isFinallyHandler=function(){return 0===this.type},T.prototype._resultCancelled=function(){V(this.finallyHandler)},M.prototype._passThrough=function(k,K,oe,B){return"function"!=typeof k?this.then():this._then(oe,B,void 0,new N(this,K,k),void 0)},M.prototype.lastly=M.prototype.finally=function(k){return this._passThrough(k,0,j,j)},M.prototype.tap=function(k){return this._passThrough(k,1,j)},M.prototype.tapCatch=function(k){var K=arguments.length;if(1===K)return this._passThrough(k,1,void 0,j);var oe,B=new Array(K-1),ie=0;for(oe=0;oe<K-1;++oe){var ee=arguments[oe];if(!$.isObject(ee))return M.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+$.classString(ee)));B[ie++]=ee}return B.length=ie,this._passThrough(ne(B,arguments[oe],this),1,void 0,j)},N}},{"./catch_filter":7,"./util":36}],16:[function(w,E,I){"use strict";E.exports=function(M,R,Y,$,J,G){var ne=w("./errors").TypeError,N=w("./util"),T=N.errorObj,V=N.tryCatch,O=[];function z(j,k,K,oe){if(G.cancellation()){var B=new M(Y),ie=this._finallyPromise=new M(Y);this._promise=B.lastly(function(){return ie}),B._captureStackTrace(),B._setOnCancel(this)}else(this._promise=new M(Y))._captureStackTrace();this._stack=oe,this._generatorFunction=j,this._receiver=k,this._generator=void 0,this._yieldHandlers="function"==typeof K?[K].concat(O):O,this._yieldedPromise=null,this._cancellationPhase=!1}N.inherits(z,J),z.prototype._isResolved=function(){return null===this._promise},z.prototype._cleanup=function(){this._promise=this._generator=null,G.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},z.prototype._promiseCancelled=function(){if(!this._isResolved()){var j;if(void 0!==this._generator.return)this._promise._pushContext(),j=V(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var k=new M.CancellationError("generator .return() sentinel");M.coroutine.returnSentinel=k,this._promise._attachExtraTrace(k),this._promise._pushContext(),j=V(this._generator.throw).call(this._generator,k),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(j)}},z.prototype._promiseFulfilled=function(j){this._yieldedPromise=null,this._promise._pushContext();var k=V(this._generator.next).call(this._generator,j);this._promise._popContext(),this._continue(k)},z.prototype._promiseRejected=function(j){this._yieldedPromise=null,this._promise._attachExtraTrace(j),this._promise._pushContext();var k=V(this._generator.throw).call(this._generator,j);this._promise._popContext(),this._continue(k)},z.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof M){var j=this._yieldedPromise;this._yieldedPromise=null,j.cancel()}},z.prototype.promise=function(){return this._promise},z.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},z.prototype._continue=function(j){var k=this._promise;if(j===T)return this._cleanup(),this._cancellationPhase?k.cancel():k._rejectCallback(j.e,!1);var K=j.value;if(!0===j.done)return this._cleanup(),this._cancellationPhase?k.cancel():k._resolveCallback(K);var oe=$(K,this._promise);if(oe instanceof M||null!==(oe=function(ie,ee,ce){for(var te=0;te<ee.length;++te){ce._pushContext();var Le=V(ee[te])(ie);if(ce._popContext(),Le===T){ce._pushContext();var Pe=M.reject(T.e);return ce._popContext(),Pe}var ve=$(Le,ce);if(ve instanceof M)return ve}return null}(oe,this._yieldHandlers,this._promise))){var B=(oe=oe._target())._bitField;50397184&B?33554432&B?M._async.invoke(this._promiseFulfilled,this,oe._value()):16777216&B?M._async.invoke(this._promiseRejected,this,oe._reason()):this._promiseCancelled():(this._yieldedPromise=oe,oe._proxy(this,null))}else this._promiseRejected(new ne("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(K))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},M.coroutine=function(j,k){if("function"!=typeof j)throw new ne("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var K=Object(k).yieldHandler,oe=z,B=(new Error).stack;return function(){var ie=j.apply(this,arguments),ee=new oe(void 0,void 0,K,B),ce=ee.promise();return ee._generator=ie,ee._promiseFulfilled(void 0),ce}},M.coroutine.addYieldHandler=function(j){if("function"!=typeof j)throw new ne("expecting a function but got "+N.classString(j));O.push(j)},M.spawn=function(j){if(G.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof j)return R("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var k=new z(j,this),K=k.promise();return k._run(M.spawn),K}}},{"./errors":12,"./util":36}],17:[function(w,E,I){"use strict";E.exports=function(M,R,Y,$,J,G){w("./util"),M.join=function(){var N,T=arguments.length-1;T>0&&"function"==typeof arguments[T]&&(N=arguments[T]);var V=[].slice.call(arguments);N&&V.pop();var O=new R(V).promise();return void 0!==N?O.spread(N):O}}},{"./util":36}],18:[function(w,E,I){"use strict";E.exports=function(M,R,Y,$,J,G){var ne=M._getDomain,N=w("./util"),T=N.tryCatch,V=N.errorObj,O=M._async;function z(k,K,oe,B){this.constructor$(k),this._promise._captureStackTrace();var ie=ne();this._callback=null===ie?K:N.domainBind(ie,K),this._preservedValues=B===J?new Array(this.length()):null,this._limit=oe,this._inFlight=0,this._queue=[],O.invoke(this._asyncInit,this,void 0)}function j(k,K,oe,B){if("function"!=typeof K)return Y("expecting a function but got "+N.classString(K));var ie=0;if(void 0!==oe){if("object"!=typeof oe||null===oe)return M.reject(new TypeError("options argument must be an object but it is "+N.classString(oe)));if("number"!=typeof oe.concurrency)return M.reject(new TypeError("'concurrency' must be a number but it is "+N.classString(oe.concurrency)));ie=oe.concurrency}return new z(k,K,ie="number"==typeof ie&&isFinite(ie)&&ie>=1?ie:0,B).promise()}N.inherits(z,R),z.prototype._asyncInit=function(){this._init$(void 0,-2)},z.prototype._init=function(){},z.prototype._promiseFulfilled=function(k,K){var oe=this._values,B=this.length(),ie=this._preservedValues,ee=this._limit;if(K<0){if(oe[K=-1*K-1]=k,ee>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(ee>=1&&this._inFlight>=ee)return oe[K]=k,this._queue.push(K),!1;null!==ie&&(ie[K]=k);var ce=this._promise,te=this._callback,Le=ce._boundValue();ce._pushContext();var Pe=T(te).call(Le,k,K,B),ve=ce._popContext();if(G.checkForgottenReturns(Pe,ve,null!==ie?"Promise.filter":"Promise.map",ce),Pe===V)return this._reject(Pe.e),!0;var xe=$(Pe,this._promise);if(xe instanceof M){var ye=(xe=xe._target())._bitField;if(!(50397184&ye))return ee>=1&&this._inFlight++,oe[K]=xe,xe._proxy(this,-1*(K+1)),!1;if(!(33554432&ye))return 16777216&ye?(this._reject(xe._reason()),!0):(this._cancel(),!0);Pe=xe._value()}oe[K]=Pe}return++this._totalResolved>=B&&(null!==ie?this._filter(oe,ie):this._resolve(oe),!0)},z.prototype._drainQueue=function(){for(var k=this._queue,K=this._limit,oe=this._values;k.length>0&&this._inFlight<K;){if(this._isResolved())return;var B=k.pop();this._promiseFulfilled(oe[B],B)}},z.prototype._filter=function(k,K){for(var oe=K.length,B=new Array(oe),ie=0,ee=0;ee<oe;++ee)k[ee]&&(B[ie++]=K[ee]);B.length=ie,this._resolve(B)},z.prototype.preservedValues=function(){return this._preservedValues},M.prototype.map=function(k,K){return j(this,k,K,null)},M.map=function(k,K,oe,B){return j(k,K,oe,B)}}},{"./util":36}],19:[function(w,E,I){"use strict";E.exports=function(M,R,Y,$,J){var G=w("./util"),ne=G.tryCatch;M.method=function(N){if("function"!=typeof N)throw new M.TypeError("expecting a function but got "+G.classString(N));return function(){var T=new M(R);T._captureStackTrace(),T._pushContext();var V=ne(N).apply(this,arguments),O=T._popContext();return J.checkForgottenReturns(V,O,"Promise.method",T),T._resolveFromSyncValue(V),T}},M.attempt=M.try=function(N){if("function"!=typeof N)return $("expecting a function but got "+G.classString(N));var T,V=new M(R);if(V._captureStackTrace(),V._pushContext(),arguments.length>1){J.deprecated("calling Promise.try with more than 1 argument");var O=arguments[1],z=arguments[2];T=G.isArray(O)?ne(N).apply(z,O):ne(N).call(z,O)}else T=ne(N)();var j=V._popContext();return J.checkForgottenReturns(T,j,"Promise.try",V),V._resolveFromSyncValue(T),V},M.prototype._resolveFromSyncValue=function(N){N===G.errorObj?this._rejectCallback(N.e,!1):this._resolveCallback(N,!0)}}},{"./util":36}],20:[function(w,E,I){"use strict";var M=w("./util"),R=M.maybeWrapAsError,Y=w("./errors").OperationalError,$=w("./es5"),J=/^(?:name|message|stack|cause)$/;E.exports=function(ne,N){return function(T,V){if(null!==ne){if(T){var O=function G(ne){var N,z;if((z=ne)instanceof Error&&$.getPrototypeOf(z)===Error.prototype){(N=new Y(ne)).name=ne.name,N.message=ne.message,N.stack=ne.stack;for(var T=$.keys(ne),V=0;V<T.length;++V){var O=T[V];J.test(O)||(N[O]=ne[O])}return N}return M.markAsOriginatingFromRejection(ne),ne}(R(T));ne._attachExtraTrace(O),ne._reject(O)}else if(N){var z=[].slice.call(arguments,1);ne._fulfill(z)}else ne._fulfill(V);ne=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(w,E,I){"use strict";E.exports=function(M){var R=w("./util"),Y=M._async,$=R.tryCatch,J=R.errorObj;function G(T,V){if(!R.isArray(T))return ne.call(this,T,V);var O=$(V).apply(this._boundValue(),[null].concat(T));O===J&&Y.throwLater(O.e)}function ne(T,V){var O=this._boundValue(),z=void 0===T?$(V).call(O,null):$(V).call(O,null,T);z===J&&Y.throwLater(z.e)}function N(T,V){if(!T){var O=new Error(T+"");O.cause=T,T=O}var z=$(V).call(this._boundValue(),T);z===J&&Y.throwLater(z.e)}M.prototype.asCallback=M.prototype.nodeify=function(T,V){if("function"==typeof T){var O=ne;void 0!==V&&Object(V).spread&&(O=G),this._then(O,N,void 0,this,T)}return this}}},{"./util":36}],22:[function(w,E,I){"use strict";E.exports=function(){var M=function(){return new z("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},R=function(){return new de.PromiseInspection(this._target())},Y=function(me){return de.reject(new z(me))};function $(){}var J,G={},ne=w("./util");ne.notEnumerableProp(de,"_getDomain",J=ne.isNode?function(){var me=D.domain;return void 0===me&&(me=null),me}:function(){return null});var N=w("./es5"),T=w("./async"),V=new T;N.defineProperty(de,"_async",{value:V});var O=w("./errors"),z=de.TypeError=O.TypeError;de.RangeError=O.RangeError;var j=de.CancellationError=O.CancellationError;de.TimeoutError=O.TimeoutError,de.OperationalError=O.OperationalError,de.RejectionError=O.OperationalError,de.AggregateError=O.AggregateError;var k=function(){},K={},oe={},B=w("./thenables")(de,k),ie=w("./promise_array")(de,k,B,Y,$),ee=w("./context")(de),ce=ee.create,te=w("./debuggability")(de,ee),Le=w("./finally")(de,B,oe),Pe=w("./catch_filter")(oe),ve=w("./nodeback"),xe=ne.errorObj,ye=ne.tryCatch;function de(me){me!==k&&function(Ae,ze){if(null==Ae||Ae.constructor!==de)throw new z("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof ze)throw new z("expecting a function but got "+ne.classString(ze))}(this,me),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(me),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function he(me){this.promise._resolveCallback(me)}function ae(me){this.promise._rejectCallback(me,!1)}function Ie(me){var Ae=new de(k);Ae._fulfillmentHandler0=me,Ae._rejectionHandler0=me,Ae._promise0=me,Ae._receiver0=me}return de.prototype.toString=function(){return"[object Promise]"},de.prototype.caught=de.prototype.catch=function(me){var Ae=arguments.length;if(Ae>1){var ze,Ge=new Array(Ae-1),Ke=0;for(ze=0;ze<Ae-1;++ze){var X=arguments[ze];if(!ne.isObject(X))return Y("Catch statement predicate: expecting an object but got "+ne.classString(X));Ge[Ke++]=X}return Ge.length=Ke,this.then(void 0,Pe(Ge,me=arguments[ze],this))}return this.then(void 0,me)},de.prototype.reflect=function(){return this._then(R,R,void 0,this,void 0)},de.prototype.then=function(me,Ae){if(te.warnings()&&arguments.length>0&&"function"!=typeof me&&"function"!=typeof Ae){var ze=".then() only accepts functions but was passed: "+ne.classString(me);arguments.length>1&&(ze+=", "+ne.classString(Ae)),this._warn(ze)}return this._then(me,Ae,void 0,void 0,void 0)},de.prototype.done=function(me,Ae){this._then(me,Ae,void 0,void 0,void 0)._setIsFinal()},de.prototype.spread=function(me){return"function"!=typeof me?Y("expecting a function but got "+ne.classString(me)):this.all()._then(me,void 0,void 0,K,void 0)},de.prototype.toJSON=function(){var me={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(me.fulfillmentValue=this.value(),me.isFulfilled=!0):this.isRejected()&&(me.rejectionReason=this.reason(),me.isRejected=!0),me},de.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new ie(this).promise()},de.prototype.error=function(me){return this.caught(ne.originatesFromRejection,me)},de.getNewLibraryCopy=E.exports,de.is=function(me){return me instanceof de},de.fromNode=de.fromCallback=function(me){var Ae=new de(k);Ae._captureStackTrace();var ze=arguments.length>1&&!!Object(arguments[1]).multiArgs,Ge=ye(me)(ve(Ae,ze));return Ge===xe&&Ae._rejectCallback(Ge.e,!0),Ae._isFateSealed()||Ae._setAsyncGuaranteed(),Ae},de.all=function(me){return new ie(me).promise()},de.cast=function(me){var Ae=B(me);return Ae instanceof de||((Ae=new de(k))._captureStackTrace(),Ae._setFulfilled(),Ae._rejectionHandler0=me),Ae},de.resolve=de.fulfilled=de.cast,de.reject=de.rejected=function(me){var Ae=new de(k);return Ae._captureStackTrace(),Ae._rejectCallback(me,!0),Ae},de.setScheduler=function(me){if("function"!=typeof me)throw new z("expecting a function but got "+ne.classString(me));return V.setScheduler(me)},de.prototype._then=function(me,Ae,ze,Ge,Ke){var X=void 0!==Ke,re=X?Ke:new de(k),_e=this._target(),He=_e._bitField;X||(re._propagateFrom(this,3),re._captureStackTrace(),void 0===Ge&&2097152&this._bitField&&(Ge=50397184&He?this._boundValue():_e===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,re));var Fe=J();if(50397184&He){var Ye,ft,ht=_e._settlePromiseCtx;33554432&He?(ft=_e._rejectionHandler0,Ye=me):16777216&He?(ft=_e._fulfillmentHandler0,Ye=Ae,_e._unsetRejectionIsUnhandled()):(ht=_e._settlePromiseLateCancellationObserver,ft=new j("late cancellation observer"),_e._attachExtraTrace(ft),Ye=Ae),V.invoke(ht,_e,{handler:null===Fe?Ye:"function"==typeof Ye&&ne.domainBind(Fe,Ye),promise:re,receiver:Ge,value:ft})}else _e._addCallbacks(me,Ae,re,Ge,Fe);return re},de.prototype._length=function(){return 65535&this._bitField},de.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},de.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},de.prototype._setLength=function(me){this._bitField=-65536&this._bitField|65535&me},de.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},de.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},de.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},de.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},de.prototype._isFinal=function(){return(4194304&this._bitField)>0},de.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},de.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},de.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},de.prototype._setAsyncGuaranteed=function(){V.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},de.prototype._receiverAt=function(me){var Ae=0===me?this._receiver0:this[4*me-4+3];if(Ae!==G)return void 0===Ae&&this._isBound()?this._boundValue():Ae},de.prototype._promiseAt=function(me){return this[4*me-4+2]},de.prototype._fulfillmentHandlerAt=function(me){return this[4*me-4+0]},de.prototype._rejectionHandlerAt=function(me){return this[4*me-4+1]},de.prototype._boundValue=function(){},de.prototype._migrateCallback0=function(me){var Ae=me._fulfillmentHandler0,ze=me._rejectionHandler0,Ge=me._promise0,Ke=me._receiverAt(0);void 0===Ke&&(Ke=G),this._addCallbacks(Ae,ze,Ge,Ke,null)},de.prototype._migrateCallbackAt=function(me,Ae){var ze=me._fulfillmentHandlerAt(Ae),Ge=me._rejectionHandlerAt(Ae),Ke=me._promiseAt(Ae),X=me._receiverAt(Ae);void 0===X&&(X=G),this._addCallbacks(ze,Ge,Ke,X,null)},de.prototype._addCallbacks=function(me,Ae,ze,Ge,Ke){var X=this._length();if(X>=65531&&(X=0,this._setLength(0)),0===X)this._promise0=ze,this._receiver0=Ge,"function"==typeof me&&(this._fulfillmentHandler0=null===Ke?me:ne.domainBind(Ke,me)),"function"==typeof Ae&&(this._rejectionHandler0=null===Ke?Ae:ne.domainBind(Ke,Ae));else{var re=4*X-4;this[re+2]=ze,this[re+3]=Ge,"function"==typeof me&&(this[re+0]=null===Ke?me:ne.domainBind(Ke,me)),"function"==typeof Ae&&(this[re+1]=null===Ke?Ae:ne.domainBind(Ke,Ae))}return this._setLength(X+1),X},de.prototype._proxy=function(me,Ae){this._addCallbacks(void 0,void 0,Ae,me,null)},de.prototype._resolveCallback=function(me,Ae){if(!(117506048&this._bitField)){if(me===this)return this._rejectCallback(M(),!1);var ze=B(me,this);if(!(ze instanceof de))return this._fulfill(me);Ae&&this._propagateFrom(ze,2);var Ge=ze._target();if(Ge!==this){var Ke=Ge._bitField;if(50397184&Ke)if(33554432&Ke)this._fulfill(Ge._value());else if(16777216&Ke)this._reject(Ge._reason());else{var _e=new j("late cancellation observer");Ge._attachExtraTrace(_e),this._reject(_e)}else{var X=this._length();X>0&&Ge._migrateCallback0(this);for(var re=1;re<X;++re)Ge._migrateCallbackAt(this,re);this._setFollowing(),this._setLength(0),this._setFollowee(Ge)}}else this._reject(M())}},de.prototype._rejectCallback=function(me,Ae,ze){var Ge=ne.ensureErrorObject(me),Ke=Ge===me;if(!Ke&&!ze&&te.warnings()){var X="a promise was rejected with a non-error: "+ne.classString(me);this._warn(X,!0)}this._attachExtraTrace(Ge,!!Ae&&Ke),this._reject(me)},de.prototype._resolveFromExecutor=function(me){if(me!==k){var Ae=this;this._captureStackTrace(),this._pushContext();var ze=!0,Ge=this._execute(me,function(Ke){Ae._resolveCallback(Ke)},function(Ke){Ae._rejectCallback(Ke,ze)});ze=!1,this._popContext(),void 0!==Ge&&Ae._rejectCallback(Ge,!0)}},de.prototype._settlePromiseFromHandler=function(me,Ae,ze,Ge){var Ke=Ge._bitField;if(!(65536&Ke)){var X;Ge._pushContext(),Ae===K?ze&&"number"==typeof ze.length?X=ye(me).apply(this._boundValue(),ze):(X=xe).e=new z("cannot .spread() a non-array: "+ne.classString(ze)):X=ye(me).call(Ae,ze);var re=Ge._popContext();!(65536&(Ke=Ge._bitField))&&(X===oe?Ge._reject(ze):X===xe?Ge._rejectCallback(X.e,!1):(te.checkForgottenReturns(X,re,"",Ge,this),Ge._resolveCallback(X)))}},de.prototype._target=function(){for(var me=this;me._isFollowing();)me=me._followee();return me},de.prototype._followee=function(){return this._rejectionHandler0},de.prototype._setFollowee=function(me){this._rejectionHandler0=me},de.prototype._settlePromise=function(me,Ae,ze,Ge){var Ke=me instanceof de,X=this._bitField,re=0!=(134217728&X);65536&X?(Ke&&me._invokeInternalOnCancel(),ze instanceof Le&&ze.isFinallyHandler()?(ze.cancelPromise=me,ye(Ae).call(ze,Ge)===xe&&me._reject(xe.e)):Ae===R?me._fulfill(R.call(ze)):ze instanceof $?ze._promiseCancelled(me):Ke||me instanceof ie?me._cancel():ze.cancel()):"function"==typeof Ae?Ke?(re&&me._setAsyncGuaranteed(),this._settlePromiseFromHandler(Ae,ze,Ge,me)):Ae.call(ze,Ge,me):ze instanceof $?ze._isResolved()||(33554432&X?ze._promiseFulfilled(Ge,me):ze._promiseRejected(Ge,me)):Ke&&(re&&me._setAsyncGuaranteed(),33554432&X?me._fulfill(Ge):me._reject(Ge))},de.prototype._settlePromiseLateCancellationObserver=function(me){var Ae=me.handler,ze=me.promise,Ge=me.receiver,Ke=me.value;"function"==typeof Ae?ze instanceof de?this._settlePromiseFromHandler(Ae,Ge,Ke,ze):Ae.call(Ge,Ke,ze):ze instanceof de&&ze._reject(Ke)},de.prototype._settlePromiseCtx=function(me){this._settlePromise(me.promise,me.handler,me.receiver,me.value)},de.prototype._settlePromise0=function(me,Ae,ze){var Ge=this._promise0,Ke=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(Ge,me,Ke,Ae)},de.prototype._clearCallbackDataAtIndex=function(me){var Ae=4*me-4;this[Ae+2]=this[Ae+3]=this[Ae+0]=this[Ae+1]=void 0},de.prototype._fulfill=function(me){var Ae=this._bitField;if(!((117506048&Ae)>>>16)){if(me===this){var ze=M();return this._attachExtraTrace(ze),this._reject(ze)}this._setFulfilled(),this._rejectionHandler0=me,(65535&Ae)>0&&(134217728&Ae?this._settlePromises():V.settlePromises(this))}},de.prototype._reject=function(me){var Ae=this._bitField;if(!((117506048&Ae)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=me,this._isFinal())return V.fatalError(me,ne.isNode);(65535&Ae)>0?V.settlePromises(this):this._ensurePossibleRejectionHandled()}},de.prototype._fulfillPromises=function(me,Ae){for(var ze=1;ze<me;ze++){var Ge=this._fulfillmentHandlerAt(ze),Ke=this._promiseAt(ze),X=this._receiverAt(ze);this._clearCallbackDataAtIndex(ze),this._settlePromise(Ke,Ge,X,Ae)}},de.prototype._rejectPromises=function(me,Ae){for(var ze=1;ze<me;ze++){var Ge=this._rejectionHandlerAt(ze),Ke=this._promiseAt(ze),X=this._receiverAt(ze);this._clearCallbackDataAtIndex(ze),this._settlePromise(Ke,Ge,X,Ae)}},de.prototype._settlePromises=function(){var me=this._bitField,Ae=65535&me;if(Ae>0){if(16842752&me){var ze=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,ze,me),this._rejectPromises(Ae,ze)}else{var Ge=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,Ge,me),this._fulfillPromises(Ae,Ge)}this._setLength(0)}this._clearCancellationData()},de.prototype._settledValue=function(){var me=this._bitField;return 33554432&me?this._rejectionHandler0:16777216&me?this._fulfillmentHandler0:void 0},de.defer=de.pending=function(){return te.deprecated("Promise.defer","new Promise"),{promise:new de(k),resolve:he,reject:ae}},ne.notEnumerableProp(de,"_makeSelfResolutionError",M),w("./method")(de,k,B,Y,te),w("./bind")(de,k,B,te),w("./cancel")(de,ie,Y,te),w("./direct_resolve")(de),w("./synchronous_inspection")(de),w("./join")(de,ie,B,k,V,J),de.Promise=de,de.version="3.5.1",w("./map.js")(de,ie,Y,B,k,te),w("./call_get.js")(de),w("./using.js")(de,Y,B,ce,k,te),w("./timers.js")(de,k,te),w("./generators.js")(de,Y,k,B,$,te),w("./nodeify.js")(de),w("./promisify.js")(de,k),w("./props.js")(de,ie,B,Y),w("./race.js")(de,k,B,Y),w("./reduce.js")(de,ie,Y,B,k,te),w("./settle.js")(de,ie,te),w("./some.js")(de,ie,Y),w("./filter.js")(de,k),w("./each.js")(de,k),w("./any.js")(de),ne.toFastProperties(de),ne.toFastProperties(de.prototype),Ie({a:1}),Ie({b:2}),Ie({c:3}),Ie(1),Ie(function(){}),Ie(void 0),Ie(!1),Ie(new de(k)),te.setBounds(T.firstLineError,ne.lastLineError),de}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(w,E,I){"use strict";E.exports=function(M,R,Y,$,J){var G=w("./util");function ne(N){var T=this._promise=new M(R);N instanceof M&&T._propagateFrom(N,3),T._setOnCancel(this),this._values=N,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return G.inherits(ne,J),ne.prototype.length=function(){return this._length},ne.prototype.promise=function(){return this._promise},ne.prototype._init=function N(T,V){var O=Y(this._values,this._promise);if(O instanceof M){var z=(O=O._target())._bitField;if(this._values=O,0==(50397184&z))return this._promise._setAsyncGuaranteed(),O._then(N,this._reject,void 0,this,V);if(!(33554432&z))return 16777216&z?this._reject(O._reason()):this._cancel();O=O._value()}if(null!==(O=G.asArray(O)))0!==O.length?this._iterate(O):-5===V?this._resolveEmptyArray():this._resolve(function(k){switch(V){case-2:return[];case-3:return{};case-6:return new Map}}());else{var j=$("expecting an array or an iterable object but got "+G.classString(O)).reason();this._promise._rejectCallback(j,!1)}},ne.prototype._iterate=function(N){var T=this.getActualLength(N.length);this._length=T,this._values=this.shouldCopyValues()?new Array(T):this._values;for(var V=this._promise,O=!1,z=null,j=0;j<T;++j){var k=Y(N[j],V);z=k instanceof M?(k=k._target())._bitField:null,O?null!==z&&k.suppressUnhandledRejections():null!==z?50397184&z?O=33554432&z?this._promiseFulfilled(k._value(),j):16777216&z?this._promiseRejected(k._reason(),j):this._promiseCancelled(j):(k._proxy(this,j),this._values[j]=k):O=this._promiseFulfilled(k,j)}O||V._setAsyncGuaranteed()},ne.prototype._isResolved=function(){return null===this._values},ne.prototype._resolve=function(N){this._values=null,this._promise._fulfill(N)},ne.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},ne.prototype._reject=function(N){this._values=null,this._promise._rejectCallback(N,!1)},ne.prototype._promiseFulfilled=function(N,T){return this._values[T]=N,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},ne.prototype._promiseCancelled=function(){return this._cancel(),!0},ne.prototype._promiseRejected=function(N){return this._totalResolved++,this._reject(N),!0},ne.prototype._resultCancelled=function(){if(!this._isResolved()){var N=this._values;if(this._cancel(),N instanceof M)N.cancel();else for(var T=0;T<N.length;++T)N[T]instanceof M&&N[T].cancel()}},ne.prototype.shouldCopyValues=function(){return!0},ne.prototype.getActualLength=function(N){return N},ne}},{"./util":36}],24:[function(w,E,I){"use strict";E.exports=function(M,R){var Y={},$=w("./util"),J=w("./nodeback"),G=$.withAppended,ne=$.maybeWrapAsError,N=$.canEvaluate,T=w("./errors").TypeError,V={__isPromisified__:!0},O=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),z=function(ce){return $.isIdentifier(ce)&&"_"!==ce.charAt(0)&&"constructor"!==ce};function j(ce){return!O.test(ce)}function k(ce){try{return!0===ce.__isPromisified__}catch{return!1}}function K(ce,te,Le){var Pe=$.getDataPropertyOrDefault(ce,te+Le,V);return!!Pe&&k(Pe)}var B=function(ce){return ce.replace(/([$])/,"\\$")},ie=N?void 0:function(ce,te,Le,Pe,ve,xe){var ye=function(){return this}(),de=ce;function he(){var ae=te;te===Y&&(ae=this);var Ie=new M(R);Ie._captureStackTrace();var me="string"==typeof de&&this!==ye?this[de]:ce,Ae=J(Ie,xe);try{me.apply(ae,G(arguments,Ae))}catch(ze){Ie._rejectCallback(ne(ze),!0,!0)}return Ie._isFateSealed()||Ie._setAsyncGuaranteed(),Ie}return"string"==typeof de&&(ce=Pe),$.notEnumerableProp(he,"__isPromisified__",!0),he};function ee(ce,te,Le,Pe,ve){for(var xe=new RegExp(B(te)+"$"),ye=function oe(ce,te,Le,Pe){for(var ve=$.inheritedDataKeys(ce),xe=[],ye=0;ye<ve.length;++ye){var de=ve[ye],he=ce[de],ae=Pe===z||z(de,he,ce);"function"!=typeof he||k(he)||K(ce,de,te)||!Pe(de,he,ce,ae)||xe.push(de,he)}return function(Ie,me,Ae){for(var ze=0;ze<Ie.length;ze+=2){var Ge=Ie[ze];if(Ae.test(Ge))for(var Ke=Ge.replace(Ae,""),X=0;X<Ie.length;X+=2)if(Ie[X]===Ke)throw new T("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",me))}}(xe,te,Le),xe}(ce,te,xe,Le),de=0,he=ye.length;de<he;de+=2){var ae=ye[de],Ie=ye[de+1],me=ae+te;if(Pe===ie)ce[me]=ie(ae,Y,ae,Ie,te,ve);else{var Ae=Pe(Ie,function(){return ie(ae,Y,ae,Ie,te,ve)});$.notEnumerableProp(Ae,"__isPromisified__",!0),ce[me]=Ae}}return $.toFastProperties(ce),ce}M.promisify=function(ce,te){if("function"!=typeof ce)throw new T("expecting a function but got "+$.classString(ce));if(k(ce))return ce;var xe,Le=void 0===(te=Object(te)).context?Y:te.context,ve=ie(xe=ce,Le,void 0,xe,null,!!te.multiArgs);return $.copyDescriptors(ce,ve,j),ve},M.promisifyAll=function(ce,te){if("function"!=typeof ce&&"object"!=typeof ce)throw new T("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var Le=!!(te=Object(te)).multiArgs,Pe=te.suffix;"string"!=typeof Pe&&(Pe="Async");var ve=te.filter;"function"!=typeof ve&&(ve=z);var xe=te.promisifier;if("function"!=typeof xe&&(xe=ie),!$.isIdentifier(Pe))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var ye=$.inheritedDataKeys(ce),de=0;de<ye.length;++de){var he=ce[ye[de]];"constructor"!==ye[de]&&$.isClass(he)&&(ee(he.prototype,Pe,ve,xe,Le),ee(he,Pe,ve,xe,Le))}return ee(ce,Pe,ve,xe,Le)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(w,E,I){"use strict";E.exports=function(M,R,Y,$){var J,G=w("./util"),ne=G.isObject,N=w("./es5");"function"==typeof Map&&(J=Map);var T=function(){var z=0,j=0;function k(K,oe){this[z]=K,this[z+j]=oe,z++}return function(K){j=K.size,z=0;var oe=new Array(2*K.size);return K.forEach(k,oe),oe}}();function V(z){var j,k=!1;if(void 0!==J&&z instanceof J)j=T(z),k=!0;else{var K=N.keys(z),oe=K.length;j=new Array(2*oe);for(var B=0;B<oe;++B){var ie=K[B];j[B]=z[ie],j[B+oe]=ie}}this.constructor$(j),this._isMap=k,this._init$(void 0,k?-6:-3)}function O(z){var j,k=Y(z);return ne(k)?(j=k instanceof M?k._then(M.props,void 0,void 0,void 0,void 0):new V(k).promise(),k instanceof M&&j._propagateFrom(k,2),j):$("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}G.inherits(V,R),V.prototype._init=function(){},V.prototype._promiseFulfilled=function(z,j){if(this._values[j]=z,++this._totalResolved>=this._length){var k;if(this._isMap)k=function(ie){for(var ee=new J,ce=ie.length/2|0,te=0;te<ce;++te)ee.set(ie[ce+te],ie[te]);return ee}(this._values);else{k={};for(var K=this.length(),oe=0,B=this.length();oe<B;++oe)k[this._values[oe+K]]=this._values[oe]}return this._resolve(k),!0}return!1},V.prototype.shouldCopyValues=function(){return!1},V.prototype.getActualLength=function(z){return z>>1},M.prototype.props=function(){return O(this)},M.props=function(z){return O(z)}}},{"./es5":13,"./util":36}],26:[function(w,E,I){"use strict";function M(R){this._capacity=R,this._length=0,this._front=0}M.prototype._willBeOverCapacity=function(R){return this._capacity<R},M.prototype._pushOne=function(R){var Y=this.length();this._checkCapacity(Y+1),this[this._front+Y&this._capacity-1]=R,this._length=Y+1},M.prototype.push=function(R,Y,$){var J=this.length()+3;if(this._willBeOverCapacity(J))return this._pushOne(R),this._pushOne(Y),void this._pushOne($);var G=this._front+J-3;this._checkCapacity(J);var ne=this._capacity-1;this[G+0&ne]=R,this[G+1&ne]=Y,this[G+2&ne]=$,this._length=J},M.prototype.shift=function(){var R=this._front,Y=this[R];return this[R]=void 0,this._front=R+1&this._capacity-1,this._length--,Y},M.prototype.length=function(){return this._length},M.prototype._checkCapacity=function(R){this._capacity<R&&this._resizeTo(this._capacity<<1)},M.prototype._resizeTo=function(R){var Y=this._capacity;this._capacity=R,function($,J,G,ne,N){for(var T=0;T<N;++T)G[T+ne]=$[T+0],$[T+0]=void 0}(this,0,this,Y,this._front+this._length&Y-1)},E.exports=M},{}],27:[function(w,E,I){"use strict";E.exports=function(M,R,Y,$){var J=w("./util"),G=function(N){return N.then(function(T){return ne(T,N)})};function ne(N,T){var V=Y(N);if(V instanceof M)return G(V);if(null===(N=J.asArray(N)))return $("expecting an array or an iterable object but got "+J.classString(N));var O=new M(R);void 0!==T&&O._propagateFrom(T,3);for(var z=O._fulfill,j=O._reject,k=0,K=N.length;k<K;++k){var oe=N[k];(void 0!==oe||k in N)&&M.cast(oe)._then(z,j,void 0,O,null)}return O}M.race=function(N){return ne(N,void 0)},M.prototype.race=function(){return ne(this,void 0)}}},{"./util":36}],28:[function(w,E,I){"use strict";E.exports=function(M,R,Y,$,J,G){var ne=M._getDomain,N=w("./util"),T=N.tryCatch;function V(K,oe,B,ie){this.constructor$(K);var ee=ne();this._fn=null===ee?oe:N.domainBind(ee,oe),void 0!==B&&(B=M.resolve(B))._attachCancellationCallback(this),this._initialValue=B,this._currentCancellable=null,this._eachValues=ie===J?Array(this._length):0===ie?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function O(K,oe){this.isFulfilled()?oe._resolve(K):oe._reject(K)}function z(K,oe,B,ie){return"function"!=typeof oe?Y("expecting a function but got "+N.classString(oe)):new V(K,oe,B,ie).promise()}function j(K){this.accum=K,this.array._gotAccum(K);var oe=$(this.value,this.array._promise);return oe instanceof M?(this.array._currentCancellable=oe,oe._then(k,void 0,void 0,this,void 0)):k.call(this,oe)}function k(K){var oe,B=this.array,ie=B._promise,ee=T(B._fn);ie._pushContext(),(oe=void 0!==B._eachValues?ee.call(ie._boundValue(),K,this.index,this.length):ee.call(ie._boundValue(),this.accum,K,this.index,this.length))instanceof M&&(B._currentCancellable=oe);var ce=ie._popContext();return G.checkForgottenReturns(oe,ce,void 0!==B._eachValues?"Promise.each":"Promise.reduce",ie),oe}N.inherits(V,R),V.prototype._gotAccum=function(K){null!=this._eachValues&&K!==J&&this._eachValues.push(K)},V.prototype._eachComplete=function(K){return null!==this._eachValues&&this._eachValues.push(K),this._eachValues},V.prototype._init=function(){},V.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},V.prototype.shouldCopyValues=function(){return!1},V.prototype._resolve=function(K){this._promise._resolveCallback(K),this._values=null},V.prototype._resultCancelled=function(K){if(K===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof M&&this._currentCancellable.cancel(),this._initialValue instanceof M&&this._initialValue.cancel())},V.prototype._iterate=function(K){var oe,B;this._values=K;var ie=K.length;if(void 0!==this._initialValue?(oe=this._initialValue,B=0):(oe=M.resolve(K[0]),B=1),this._currentCancellable=oe,!oe.isRejected())for(;B<ie;++B)oe=oe._then(j,void 0,void 0,{accum:null,value:K[B],index:B,length:ie,array:this},void 0);void 0!==this._eachValues&&(oe=oe._then(this._eachComplete,void 0,void 0,this,void 0)),oe._then(O,O,void 0,oe,this)},M.prototype.reduce=function(K,oe){return z(this,K,oe,null)},M.reduce=function(K,oe,B,ie){return z(K,oe,B,ie)}}},{"./util":36}],29:[function(w,E,I){"use strict";var M,ne,N,T,V,R=w("./util"),Y=R.getNativePromise();if(R.isNode&&typeof MutationObserver>"u"){var $=y.setImmediate,J=D.nextTick;M=R.isRecentNode?function(ne){$.call(y,ne)}:function(ne){J.call(D,ne)}}else if("function"==typeof Y&&"function"==typeof Y.resolve){var G=Y.resolve();M=function(ne){G.then(ne)}}else M=typeof MutationObserver>"u"||typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==b?function(ne){b(ne)}:typeof setTimeout<"u"?function(ne){setTimeout(ne,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(ne=document.createElement("div"),N={attributes:!0},T=!1,V=document.createElement("div"),new MutationObserver(function(){ne.classList.toggle("foo"),T=!1}).observe(V,N),function(O){var z=new MutationObserver(function(){z.disconnect(),O()});z.observe(ne,N),T||(T=!0,V.classList.toggle("foo"))});E.exports=M},{"./util":36}],30:[function(w,E,I){"use strict";E.exports=function(M,R,Y){var $=M.PromiseInspection;function J(G){this.constructor$(G)}w("./util").inherits(J,R),J.prototype._promiseResolved=function(G,ne){return this._values[G]=ne,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},J.prototype._promiseFulfilled=function(G,ne){var N=new $;return N._bitField=33554432,N._settledValueField=G,this._promiseResolved(ne,N)},J.prototype._promiseRejected=function(G,ne){var N=new $;return N._bitField=16777216,N._settledValueField=G,this._promiseResolved(ne,N)},M.settle=function(G){return Y.deprecated(".settle()",".reflect()"),new J(G).promise()},M.prototype.settle=function(){return M.settle(this)}}},{"./util":36}],31:[function(w,E,I){"use strict";E.exports=function(M,R,Y){var $=w("./util"),J=w("./errors").RangeError,G=w("./errors").AggregateError,ne=$.isArray,N={};function T(O){this.constructor$(O),this._howMany=0,this._unwrap=!1,this._initialized=!1}function V(O,z){if((0|z)!==z||z<0)return Y("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var j=new T(O),k=j.promise();return j.setHowMany(z),j.init(),k}$.inherits(T,R),T.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var O=ne(this._values);!this._isResolved()&&O&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},T.prototype.init=function(){this._initialized=!0,this._init()},T.prototype.setUnwrap=function(){this._unwrap=!0},T.prototype.howMany=function(){return this._howMany},T.prototype.setHowMany=function(O){this._howMany=O},T.prototype._promiseFulfilled=function(O){return this._addFulfilled(O),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},T.prototype._promiseRejected=function(O){return this._addRejected(O),this._checkOutcome()},T.prototype._promiseCancelled=function(){return this._values instanceof M||null==this._values?this._cancel():(this._addRejected(N),this._checkOutcome())},T.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var O=new G,z=this.length();z<this._values.length;++z)this._values[z]!==N&&O.push(this._values[z]);return O.length>0?this._reject(O):this._cancel(),!0}return!1},T.prototype._fulfilled=function(){return this._totalResolved},T.prototype._rejected=function(){return this._values.length-this.length()},T.prototype._addRejected=function(O){this._values.push(O)},T.prototype._addFulfilled=function(O){this._values[this._totalResolved++]=O},T.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},T.prototype._getRangeError=function(O){return new J("Input array must contain at least "+this._howMany+" items but contains only "+O+" items")},T.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},M.some=function(O,z){return V(O,z)},M.prototype.some=function(O){return V(this,O)},M._SomePromiseArray=T}},{"./errors":12,"./util":36}],32:[function(w,E,I){"use strict";E.exports=function(M){function R(T){void 0!==T?(T=T._target(),this._bitField=T._bitField,this._settledValueField=T._isFateSealed()?T._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}R.prototype._settledValue=function(){return this._settledValueField};var Y=R.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},$=R.prototype.error=R.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},J=R.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},G=R.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},ne=R.prototype.isPending=function(){return 0==(50397184&this._bitField)},N=R.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};R.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},M.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},M.prototype._isCancelled=function(){return this._target().__isCancelled()},M.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},M.prototype.isPending=function(){return ne.call(this._target())},M.prototype.isRejected=function(){return G.call(this._target())},M.prototype.isFulfilled=function(){return J.call(this._target())},M.prototype.isResolved=function(){return N.call(this._target())},M.prototype.value=function(){return Y.call(this._target())},M.prototype.reason=function(){var T=this._target();return T._unsetRejectionIsUnhandled(),$.call(T)},M.prototype._value=function(){return this._settledValue()},M.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},M.PromiseInspection=R}},{}],33:[function(w,E,I){"use strict";E.exports=function(M,R){var Y=w("./util"),$=Y.errorObj,J=Y.isObject,G={}.hasOwnProperty;return function(ne,N){if(J(ne)){if(ne instanceof M)return ne;var T=function(O){try{return(z=O).then}catch(z){return $.e=z,$}var z}(ne);if(T===$){N&&N._pushContext();var V=M.reject(T.e);return N&&N._popContext(),V}if("function"==typeof T)return function(O){try{return G.call(O,"_promise0")}catch{return!1}}(ne)?(V=new M(R),ne._then(V._fulfill,V._reject,void 0,V,null),V):function(O,z,j){var k=new M(R),K=k;j&&j._pushContext(),k._captureStackTrace(),j&&j._popContext();var oe=!0,B=Y.tryCatch(z).call(O,function(ie){k&&(k._resolveCallback(ie),k=null)},function(ie){k&&(k._rejectCallback(ie,oe,!0),k=null)});return oe=!1,k&&B===$&&(k._rejectCallback(B.e,!0,!0),k=null),K}(ne,T,N)}return ne}}},{"./util":36}],34:[function(w,E,I){"use strict";E.exports=function(M,R,Y){var $=w("./util"),J=M.TimeoutError;function G(O){this.handle=O}G.prototype._resultCancelled=function(){clearTimeout(this.handle)};var ne=function(O){return N(+this).thenReturn(O)},N=M.delay=function(O,z){var j,k;return void 0!==z?(j=M.resolve(z)._then(ne,null,null,O,void 0),Y.cancellation()&&z instanceof M&&j._setOnCancel(z)):(j=new M(R),k=setTimeout(function(){j._fulfill()},+O),Y.cancellation()&&j._setOnCancel(new G(k)),j._captureStackTrace()),j._setAsyncGuaranteed(),j};function T(O){return clearTimeout(this.handle),O}function V(O){throw clearTimeout(this.handle),O}M.prototype.delay=function(O){return N(O,this)},M.prototype.timeout=function(O,z){var j,k;O=+O;var K=new G(setTimeout(function(){var oe,B,ie,ee;j.isPending()&&(oe=j,ie=k,ee="string"!=typeof(B=z)?B instanceof Error?B:new J("operation timed out"):new J(B),$.markAsOriginatingFromRejection(ee),oe._attachExtraTrace(ee),oe._reject(ee),ie?.cancel())},O));return Y.cancellation()?(k=this.then(),(j=k._then(T,V,void 0,K,void 0))._setOnCancel(K)):j=this._then(T,V,void 0,K,void 0),j}}},{"./util":36}],35:[function(w,E,I){"use strict";E.exports=function(M,R,Y,$,J,G){var ne=w("./util"),N=w("./errors").TypeError,T=w("./util").inherits,V=ne.errorObj,O=ne.tryCatch,z={};function j(ee){setTimeout(function(){throw ee},0)}function K(ee,ce,te){this._data=ee,this._promise=ce,this._context=te}function oe(ee,ce,te){this.constructor$(ee,ce,te)}function B(ee){return K.isDisposer(ee)?(this.resources[this.index]._setDisposable(ee),ee.promise()):ee}function ie(ee){this.length=ee,this.promise=null,this[ee-1]=null}K.prototype.data=function(){return this._data},K.prototype.promise=function(){return this._promise},K.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():z},K.prototype.tryDispose=function(ee){var ce=this.resource(),te=this._context;void 0!==te&&te._pushContext();var Le=ce!==z?this.doDispose(ce,ee):null;return void 0!==te&&te._popContext(),this._promise._unsetDisposable(),this._data=null,Le},K.isDisposer=function(ee){return null!=ee&&"function"==typeof ee.resource&&"function"==typeof ee.tryDispose},T(oe,K),oe.prototype.doDispose=function(ee,ce){return this.data().call(ee,ee,ce)},ie.prototype._resultCancelled=function(){for(var ee=this.length,ce=0;ce<ee;++ce){var te=this[ce];te instanceof M&&te.cancel()}},M.using=function(){var ee=arguments.length;if(ee<2)return R("you must pass at least 2 arguments to Promise.using");var ce,te=arguments[ee-1];if("function"!=typeof te)return R("expecting a function but got "+ne.classString(te));var Le=!0;2===ee&&Array.isArray(arguments[0])?(ee=(ce=arguments[0]).length,Le=!1):(ce=arguments,ee--);for(var Pe=new ie(ee),ve=0;ve<ee;++ve){var xe=ce[ve];if(K.isDisposer(xe)){var ye=xe;(xe=xe.promise())._setDisposable(ye)}else{var de=Y(xe);de instanceof M&&(xe=de._then(B,null,null,{resources:Pe,index:ve},void 0))}Pe[ve]=xe}var he=new Array(Pe.length);for(ve=0;ve<he.length;++ve)he[ve]=M.resolve(Pe[ve]).reflect();var ae=M.all(he).then(function(me){for(var Ae=0;Ae<me.length;++Ae){var ze=me[Ae];if(ze.isRejected())return V.e=ze.error(),V;if(!ze.isFulfilled())return void ae.cancel();me[Ae]=ze.value()}Ie._pushContext(),te=O(te);var Ge=Le?te.apply(void 0,me):te(me),Ke=Ie._popContext();return G.checkForgottenReturns(Ge,Ke,"Promise.using",Ie),Ge}),Ie=ae.lastly(function(){var me=new M.PromiseInspection(ae);return function k(ee,ce){var te=0,Le=ee.length,Pe=new M(J);return function ve(){if(te>=Le)return Pe._fulfill();var ye,de,xe=(ye=ee[te++],(de=Y(ye))!==ye&&"function"==typeof ye._isDisposable&&"function"==typeof ye._getDisposer&&ye._isDisposable()&&de._setDisposable(ye._getDisposer()),de);if(xe instanceof M&&xe._isDisposable()){try{xe=Y(xe._getDisposer().tryDispose(ce),ee.promise)}catch(ye){return j(ye)}if(xe instanceof M)return xe._then(ve,j,null,null,null)}ve()}(),Pe}(Pe,me)});return Pe.promise=Ie,Ie._setOnCancel(Pe),Ie},M.prototype._setDisposable=function(ee){this._bitField=131072|this._bitField,this._disposer=ee},M.prototype._isDisposable=function(){return(131072&this._bitField)>0},M.prototype._getDisposer=function(){return this._disposer},M.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},M.prototype.disposer=function(ee){if("function"==typeof ee)return new oe(ee,this,$());throw new N}}},{"./errors":12,"./util":36}],36:[function(w,E,I){"use strict";var M,R=w("./es5"),Y=typeof navigator>"u",$={e:{}},J=typeof self<"u"?self:typeof window<"u"?window:void 0!==y?y:void 0!==this?this:null;function G(){try{var Le=M;return M=null,Le.apply(this,arguments)}catch(Pe){return $.e=Pe,$}}function ne(Le){return null==Le||!0===Le||!1===Le||"string"==typeof Le||"number"==typeof Le}function N(Le,Pe,ve){return ne(Le)||R.defineProperty(Le,Pe,{value:ve,configurable:!0,enumerable:!1,writable:!0}),Le}var T=function(){var Le=[Array.prototype,Object.prototype,Function.prototype],Pe=function(ye){for(var de=0;de<Le.length;++de)if(Le[de]===ye)return!0;return!1};if(R.isES5){var ve=Object.getOwnPropertyNames;return function(ye){for(var de=[],he=Object.create(null);null!=ye&&!Pe(ye);){var ae;try{ae=ve(ye)}catch{return de}for(var Ie=0;Ie<ae.length;++Ie){var me=ae[Ie];if(!he[me]){he[me]=!0;var Ae=Object.getOwnPropertyDescriptor(ye,me);null!=Ae&&null==Ae.get&&null==Ae.set&&de.push(me)}}ye=R.getPrototypeOf(ye)}return de}}var xe={}.hasOwnProperty;return function(ye){if(Pe(ye))return[];var de=[];e:for(var he in ye)if(xe.call(ye,he))de.push(he);else{for(var ae=0;ae<Le.length;++ae)if(xe.call(Le[ae],he))continue e;de.push(he)}return de}}(),V=/this\s*\.\s*\S+\s*=/,O=/^[a-z$_][a-z$_0-9]*$/i;function z(Le){try{return Le+""}catch{return"[no string representation]"}}function j(Le){return Le instanceof Error||null!==Le&&"object"==typeof Le&&"string"==typeof Le.message&&"string"==typeof Le.name}function k(Le){return j(Le)&&R.propertyIsWritable(Le,"stack")}var K="stack"in new Error?function(Le){return k(Le)?Le:new Error(z(Le))}:function(Le){if(k(Le))return Le;try{throw new Error(z(Le))}catch(Pe){return Pe}};function oe(Le){return{}.toString.call(Le)}var B=function(Le){return R.isArray(Le)?Le:null};if(typeof Symbol<"u"&&Symbol.iterator){var ie="function"==typeof Array.from?function(Le){return Array.from(Le)}:function(Le){for(var Pe,ve=[],xe=Le[Symbol.iterator]();!(Pe=xe.next()).done;)ve.push(Pe.value);return ve};B=function(Le){return R.isArray(Le)?Le:null!=Le&&"function"==typeof Le[Symbol.iterator]?ie(Le):null}}var Le,ee=void 0!==D&&"[object process]"===oe(D).toLowerCase(),ce=void 0!==D&&void 0!==D.env,te={isClass:function(Le){try{if("function"==typeof Le){var Pe=R.names(Le.prototype),ve=R.isES5&&Pe.length>1,xe=Pe.length>0&&!(1===Pe.length&&"constructor"===Pe[0]),ye=V.test(Le+"")&&R.names(Le).length>0;if(ve||xe||ye)return!0}return!1}catch{return!1}},isIdentifier:function(Le){return O.test(Le)},inheritedDataKeys:T,getDataPropertyOrDefault:function(Le,Pe,ve){if(!R.isES5)return{}.hasOwnProperty.call(Le,Pe)?Le[Pe]:void 0;var xe=Object.getOwnPropertyDescriptor(Le,Pe);return null!=xe?null==xe.get&&null==xe.set?xe.value:ve:void 0},thrower:function(Le){throw Le},isArray:R.isArray,asArray:B,notEnumerableProp:N,isPrimitive:ne,isObject:function(Le){return"function"==typeof Le||"object"==typeof Le&&null!==Le},isError:j,canEvaluate:Y,errorObj:$,tryCatch:function(Le){return M=Le,G},inherits:function(Le,Pe){var ve={}.hasOwnProperty;function xe(){for(var ye in this.constructor=Le,this.constructor$=Pe,Pe.prototype)ve.call(Pe.prototype,ye)&&"$"!==ye.charAt(ye.length-1)&&(this[ye+"$"]=Pe.prototype[ye])}return xe.prototype=Pe.prototype,Le.prototype=new xe,Le.prototype},withAppended:function(Le,Pe){var ve,xe=Le.length,ye=new Array(xe+1);for(ve=0;ve<xe;++ve)ye[ve]=Le[ve];return ye[ve]=Pe,ye},maybeWrapAsError:function(Le){return ne(Le)?new Error(z(Le)):Le},toFastProperties:function(Le){function Pe(){}Pe.prototype=Le;for(var ve=8;ve--;)new Pe;return Le},filledRange:function(Le,Pe,ve){for(var xe=new Array(Le),ye=0;ye<Le;++ye)xe[ye]=Pe+ye+ve;return xe},toString:z,canAttachTrace:k,ensureErrorObject:K,originatesFromRejection:function(Le){return null!=Le&&(Le instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===Le.isOperational)},markAsOriginatingFromRejection:function(Le){try{N(Le,"isOperational",!0)}catch{}},classString:oe,copyDescriptors:function(Le,Pe,ve){for(var xe=R.names(Le),ye=0;ye<xe.length;++ye){var de=xe[ye];if(ve(de))try{R.defineProperty(Pe,de,R.getDescriptor(Le,de))}catch{}}},hasDevTools:typeof chrome<"u"&&chrome&&"function"==typeof chrome.loadTimes,isNode:ee,hasEnvVariables:ce,env:function(Le){return ce?D.env[Le]:void 0},global:J,getNativePromise:function(){if("function"==typeof Promise)try{var Le=new Promise(function(){});if("[object Promise]"==={}.toString.call(Le))return Promise}catch{}},domainBind:function(Le,Pe){return Le.bind(Pe)}};te.isRecentNode=te.isNode&&(0===(Le=D.versions.node.split(".").map(Number))[0]&&Le[1]>10||Le[0]>0),te.isNode&&te.toFastProperties(D);try{throw new Error}catch(Le){te.lastLineError=Le}E.exports=te},{"./es5":13}]},{},[4])(4),typeof window<"u"&&null!==window?window.P=window.Promise:typeof self<"u"&&null!==self&&(self.P=self.Promise)}).call(this,P(4),P(0),P(11).setImmediate)},function(fe,U,P){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.default=function(D,y){if(!y.eol&&D)for(var b=0,w=D.length;b<w;b++)if("\r"===D[b]){if("\n"===D[b+1]){y.eol="\r\n";break}if(D[b+1]){y.eol="\r";break}}else if("\n"===D[b]){y.eol="\n";break}return y.eol||"\n"}},function(fe,U,P){var D=P(65),y=P(73);fe.exports=function(b,w){var E=y(b,w);return D(E)?E:void 0}},function(fe,U,P){var D=P(19).Symbol;fe.exports=D},function(fe,U,P){var D=P(67),y="object"==typeof self&&self&&self.Object===Object&&self,b=D||y||Function("return this")();fe.exports=b},function(fe,U){fe.exports=function(P){var D=typeof P;return null!=P&&("object"==D||"function"==D)}},function(fe,U){fe.exports=Array.isArray},function(fe,U,P){var D=P(30),y=P(76);fe.exports=function(b){return"symbol"==typeof b||y(b)&&"[object Symbol]"==D(b)}},function(fe,U,P){"use strict";(function(D,y){var b=P(6);fe.exports=z;var w,E=P(37);z.ReadableState=O,P(12);var I=function(he,ae){return he.listeners(ae).length},M=P(24),R=P(7).Buffer,Y=D.Uint8Array||function(){},$=P(5);$.inherits=P(2);var J=P(41),G=void 0;G=J&&J.debuglog?J.debuglog("stream"):function(){};var ne,N=P(42),T=P(25);$.inherits(z,M);var V=["error","close","destroy","pause","resume"];function O(he,ae){var Ie=ae instanceof(w=w||P(1));this.objectMode=!!(he=he||{}).objectMode,Ie&&(this.objectMode=this.objectMode||!!he.readableObjectMode);var me=he.highWaterMark,Ae=he.readableHighWaterMark;this.highWaterMark=me||0===me?me:Ie&&(Ae||0===Ae)?Ae:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new N,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=he.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,he.encoding&&(ne||(ne=P(26).StringDecoder),this.decoder=new ne(he.encoding),this.encoding=he.encoding)}function z(he){if(w=w||P(1),!(this instanceof z))return new z(he);this._readableState=new O(he,this),this.readable=!0,he&&("function"==typeof he.read&&(this._read=he.read),"function"==typeof he.destroy&&(this._destroy=he.destroy)),M.call(this)}function j(he,ae,Ie,me,Ae){var ze,Ke,X,re,_e,Ge=he._readableState;return null===ae?(Ge.reading=!1,function(Ke,X){if(!X.ended){if(X.decoder){var re=X.decoder.end();re&&re.length&&(X.buffer.push(re),X.length+=X.objectMode?1:re.length)}X.ended=!0,B(Ke)}}(he,Ge)):(Ae||(Ke=Ge,R.isBuffer(_e=X=ae)||_e instanceof Y||"string"==typeof X||void 0===X||Ke.objectMode||(re=new TypeError("Invalid non-string/buffer chunk")),ze=re),ze?he.emit("error",ze):Ge.objectMode||ae&&ae.length>0?("string"==typeof ae||Ge.objectMode||Object.getPrototypeOf(ae)===R.prototype||(ae=function(Ke){return R.from(Ke)}(ae)),me?Ge.endEmitted?he.emit("error",new Error("stream.unshift() after end event")):k(he,Ge,ae,!0):Ge.ended?he.emit("error",new Error("stream.push() after EOF")):(Ge.reading=!1,Ge.decoder&&!Ie?(ae=Ge.decoder.write(ae),Ge.objectMode||0!==ae.length?k(he,Ge,ae,!1):ee(he,Ge)):k(he,Ge,ae,!1))):me||(Ge.reading=!1)),function(Ke){return!Ke.ended&&(Ke.needReadable||Ke.length<Ke.highWaterMark||0===Ke.length)}(Ge)}function k(he,ae,Ie,me){ae.flowing&&0===ae.length&&!ae.sync?(he.emit("data",Ie),he.read(0)):(ae.length+=ae.objectMode?1:Ie.length,me?ae.buffer.unshift(Ie):ae.buffer.push(Ie),ae.needReadable&&B(he)),ee(he,ae)}Object.defineProperty(z.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(he){this._readableState&&(this._readableState.destroyed=he)}}),z.prototype.destroy=T.destroy,z.prototype._undestroy=T.undestroy,z.prototype._destroy=function(he,ae){this.push(null),ae(he)},z.prototype.push=function(he,ae){var Ie,me=this._readableState;return me.objectMode?Ie=!0:"string"==typeof he&&((ae=ae||me.defaultEncoding)!==me.encoding&&(he=R.from(he,ae),ae=""),Ie=!0),j(this,he,ae,!1,Ie)},z.prototype.unshift=function(he){return j(this,he,null,!0,!1)},z.prototype.isPaused=function(){return!1===this._readableState.flowing},z.prototype.setEncoding=function(he){return ne||(ne=P(26).StringDecoder),this._readableState.decoder=new ne(he),this._readableState.encoding=he,this};var K=8388608;function oe(he,ae){return he<=0||0===ae.length&&ae.ended?0:ae.objectMode?1:he!=he?ae.flowing&&ae.length?ae.buffer.head.data.length:ae.length:(he>ae.highWaterMark&&(ae.highWaterMark=((Ie=he)>=K?Ie=K:(Ie--,Ie|=Ie>>>1,Ie|=Ie>>>2,Ie|=Ie>>>4,Ie|=Ie>>>8,Ie|=Ie>>>16,Ie++),Ie)),he<=ae.length?he:ae.ended?ae.length:(ae.needReadable=!0,0));var Ie}function B(he){var ae=he._readableState;ae.needReadable=!1,ae.emittedReadable||(G("emitReadable",ae.flowing),ae.emittedReadable=!0,ae.sync?b.nextTick(ie,he):ie(he))}function ie(he){G("emit readable"),he.emit("readable"),Pe(he)}function ee(he,ae){ae.readingMore||(ae.readingMore=!0,b.nextTick(ce,he,ae))}function ce(he,ae){for(var Ie=ae.length;!ae.reading&&!ae.flowing&&!ae.ended&&ae.length<ae.highWaterMark&&(G("maybeReadMore read 0"),he.read(0),Ie!==ae.length);)Ie=ae.length;ae.readingMore=!1}function te(he){G("readable nexttick read 0"),he.read(0)}function Le(he,ae){ae.reading||(G("resume read 0"),he.read(0)),ae.resumeScheduled=!1,ae.awaitDrain=0,he.emit("resume"),Pe(he),ae.flowing&&!ae.reading&&he.read(0)}function Pe(he){var ae=he._readableState;for(G("flow",ae.flowing);ae.flowing&&null!==he.read(););}function ve(he,ae){return 0===ae.length?null:(ae.objectMode?Ie=ae.buffer.shift():!he||he>=ae.length?(Ie=ae.decoder?ae.buffer.join(""):1===ae.buffer.length?ae.buffer.head.data:ae.buffer.concat(ae.length),ae.buffer.clear()):(ze=ae.decoder,(me=he)<(Ae=ae.buffer).head.data.length?(Ge=Ae.head.data.slice(0,me),Ae.head.data=Ae.head.data.slice(me)):Ge=me===Ae.head.data.length?Ae.shift():ze?function(Ke,X){var re=X.head,_e=1,He=re.data;for(Ke-=He.length;re=re.next;){var Fe=re.data,Ye=Ke>Fe.length?Fe.length:Ke;if(He+=Ye===Fe.length?Fe:Fe.slice(0,Ke),0==(Ke-=Ye)){Ye===Fe.length?(++_e,X.head=re.next?re.next:X.tail=null):(X.head=re,re.data=Fe.slice(Ye));break}++_e}return X.length-=_e,He}(me,Ae):function(Ke,X){var re=R.allocUnsafe(Ke),_e=X.head,He=1;for(_e.data.copy(re),Ke-=_e.data.length;_e=_e.next;){var Fe=_e.data,Ye=Ke>Fe.length?Fe.length:Ke;if(Fe.copy(re,re.length-Ke,0,Ye),0==(Ke-=Ye)){Ye===Fe.length?(++He,X.head=_e.next?_e.next:X.tail=null):(X.head=_e,_e.data=Fe.slice(Ye));break}++He}return X.length-=He,re}(me,Ae),Ie=Ge),Ie);var me,Ae,ze,Ge,Ie}function xe(he){var ae=he._readableState;if(ae.length>0)throw new Error('"endReadable()" called on non-empty stream');ae.endEmitted||(ae.ended=!0,b.nextTick(ye,ae,he))}function ye(he,ae){he.endEmitted||0!==he.length||(he.endEmitted=!0,ae.readable=!1,ae.emit("end"))}function de(he,ae){for(var Ie=0,me=he.length;Ie<me;Ie++)if(he[Ie]===ae)return Ie;return-1}z.prototype.read=function(he){G("read",he),he=parseInt(he,10);var ae=this._readableState,Ie=he;if(0!==he&&(ae.emittedReadable=!1),0===he&&ae.needReadable&&(ae.length>=ae.highWaterMark||ae.ended))return G("read: emitReadable",ae.length,ae.ended),0===ae.length&&ae.ended?xe(this):B(this),null;if(0===(he=oe(he,ae))&&ae.ended)return 0===ae.length&&xe(this),null;var me,Ae=ae.needReadable;return G("need readable",Ae),(0===ae.length||ae.length-he<ae.highWaterMark)&&G("length less than watermark",Ae=!0),ae.ended||ae.reading?G("reading or ended",Ae=!1):Ae&&(G("do read"),ae.reading=!0,ae.sync=!0,0===ae.length&&(ae.needReadable=!0),this._read(ae.highWaterMark),ae.sync=!1,ae.reading||(he=oe(Ie,ae))),null===(me=he>0?ve(he,ae):null)?(ae.needReadable=!0,he=0):ae.length-=he,0===ae.length&&(ae.ended||(ae.needReadable=!0),Ie!==he&&ae.ended&&xe(this)),null!==me&&this.emit("data",me),me},z.prototype._read=function(he){this.emit("error",new Error("_read() is not implemented"))},z.prototype.pipe=function(he,ae){var Ie=this,me=this._readableState;switch(me.pipesCount){case 0:me.pipes=he;break;case 1:me.pipes=[me.pipes,he];break;default:me.pipes.push(he)}me.pipesCount+=1,G("pipe count=%d opts=%j",me.pipesCount,ae);var Ae=ae&&!1===ae.end||he===y.stdout||he===y.stderr?Ye:ze;function ze(){G("onend"),he.end()}me.endEmitted?b.nextTick(Ae):Ie.once("end",Ae),he.on("unpipe",function ft(ht,Ct){G("onunpipe"),ht===Ie&&Ct&&!1===Ct.hasUnpiped&&(Ct.hasUnpiped=!0,G("cleanup"),he.removeListener("close",He),he.removeListener("finish",Fe),he.removeListener("drain",Ge),he.removeListener("error",_e),he.removeListener("unpipe",ft),Ie.removeListener("end",ze),Ie.removeListener("end",Ye),Ie.removeListener("data",re),Ke=!0,!me.awaitDrain||he._writableState&&!he._writableState.needDrain||Ge())});var ft,Ge=(ft=Ie,function(){var ht=ft._readableState;G("pipeOnDrain",ht.awaitDrain),ht.awaitDrain&&ht.awaitDrain--,0===ht.awaitDrain&&I(ft,"data")&&(ht.flowing=!0,Pe(ft))});he.on("drain",Ge);var Ke=!1,X=!1;function re(ft){G("ondata"),X=!1,!1!==he.write(ft)||X||((1===me.pipesCount&&me.pipes===he||me.pipesCount>1&&-1!==de(me.pipes,he))&&!Ke&&(G("false write response, pause",Ie._readableState.awaitDrain),Ie._readableState.awaitDrain++,X=!0),Ie.pause())}function _e(ft){G("onerror",ft),Ye(),he.removeListener("error",_e),0===I(he,"error")&&he.emit("error",ft)}function He(){he.removeListener("finish",Fe),Ye()}function Fe(){G("onfinish"),he.removeListener("close",He),Ye()}function Ye(){G("unpipe"),Ie.unpipe(he)}return Ie.on("data",re),function(ft,ht,Ct){if("function"==typeof ft.prependListener)return ft.prependListener(ht,Ct);ft._events&&ft._events[ht]?E(ft._events[ht])?ft._events[ht].unshift(Ct):ft._events[ht]=[Ct,ft._events[ht]]:ft.on(ht,Ct)}(he,"error",_e),he.once("close",He),he.once("finish",Fe),he.emit("pipe",Ie),me.flowing||(G("pipe resume"),Ie.resume()),he},z.prototype.unpipe=function(he){var ae=this._readableState,Ie={hasUnpiped:!1};if(0===ae.pipesCount)return this;if(1===ae.pipesCount)return he&&he!==ae.pipes||(he||(he=ae.pipes),ae.pipes=null,ae.pipesCount=0,ae.flowing=!1,he&&he.emit("unpipe",this,Ie)),this;if(!he){var me=ae.pipes,Ae=ae.pipesCount;ae.pipes=null,ae.pipesCount=0,ae.flowing=!1;for(var ze=0;ze<Ae;ze++)me[ze].emit("unpipe",this,Ie);return this}var Ge=de(ae.pipes,he);return-1===Ge||(ae.pipes.splice(Ge,1),ae.pipesCount-=1,1===ae.pipesCount&&(ae.pipes=ae.pipes[0]),he.emit("unpipe",this,Ie)),this},z.prototype.addListener=z.prototype.on=function(he,ae){var Ie=M.prototype.on.call(this,he,ae);if("data"===he)!1!==this._readableState.flowing&&this.resume();else if("readable"===he){var me=this._readableState;me.endEmitted||me.readableListening||(me.readableListening=me.needReadable=!0,me.emittedReadable=!1,me.reading?me.length&&B(this):b.nextTick(te,this))}return Ie},z.prototype.resume=function(){var Ie,he=this._readableState;return he.flowing||(G("resume"),he.flowing=!0,this,(Ie=he).resumeScheduled||(Ie.resumeScheduled=!0,b.nextTick(Le,this,Ie))),this},z.prototype.pause=function(){return G("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(G("pause"),this._readableState.flowing=!1,this.emit("pause")),this},z.prototype.wrap=function(he){var ae=this,Ie=this._readableState,me=!1;for(var Ae in he.on("end",function(){if(G("wrapped end"),Ie.decoder&&!Ie.ended){var Ge=Ie.decoder.end();Ge&&Ge.length&&ae.push(Ge)}ae.push(null)}),he.on("data",function(Ge){G("wrapped data"),Ie.decoder&&(Ge=Ie.decoder.write(Ge)),(!Ie.objectMode||null!=Ge)&&(Ie.objectMode||Ge&&Ge.length)&&(ae.push(Ge)||(me=!0,he.pause()))}),he)void 0===this[Ae]&&"function"==typeof he[Ae]&&(this[Ae]=function(Ge){return function(){return he[Ge].apply(he,arguments)}}(Ae));for(var ze=0;ze<V.length;ze++)he.on(V[ze],this.emit.bind(this,V[ze]));return this._read=function(Ge){G("wrapped _read",Ge),me&&(me=!1,he.resume())},this},Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),z._fromList=ve}).call(this,P(0),P(4))},function(fe,U,P){fe.exports=P(12).EventEmitter},function(fe,U,P){"use strict";var D=P(6);function y(b,w){b.emit("error",w)}fe.exports={destroy:function(b,w){var E=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(w?w(b):!b||this._writableState&&this._writableState.errorEmitted||D.nextTick(y,this,b),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(R){!w&&R?(D.nextTick(y,E,R),E._writableState&&(E._writableState.errorEmitted=!0)):w&&w(R)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(fe,U,P){"use strict";var D=P(7).Buffer,y=D.isEncoding||function(G){switch((G=""+G)&&G.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function b(G){var ne;switch(this.encoding=function(N){var T=function(V){if(!V)return"utf8";for(var O;;)switch(V){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return V;default:if(O)return;V=(""+V).toLowerCase(),O=!0}}(N);if("string"!=typeof T&&(D.isEncoding===y||!y(N)))throw new Error("Unknown encoding: "+N);return T||N}(G),this.encoding){case"utf16le":this.text=I,this.end=M,ne=4;break;case"utf8":this.fillLast=E,ne=4;break;case"base64":this.text=R,this.end=Y,ne=3;break;default:return this.write=$,void(this.end=J)}this.lastNeed=0,this.lastTotal=0,this.lastChar=D.allocUnsafe(ne)}function w(G){return G<=127?0:G>>5==6?2:G>>4==14?3:G>>3==30?4:G>>6==2?-1:-2}function E(G){var ne=this.lastTotal-this.lastNeed,N=function(T,V,O){if(128!=(192&V[0]))return T.lastNeed=0,"\ufffd";if(T.lastNeed>1&&V.length>1){if(128!=(192&V[1]))return T.lastNeed=1,"\ufffd";if(T.lastNeed>2&&V.length>2&&128!=(192&V[2]))return T.lastNeed=2,"\ufffd"}}(this,G);return void 0!==N?N:this.lastNeed<=G.length?(G.copy(this.lastChar,ne,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(G.copy(this.lastChar,ne,0,G.length),void(this.lastNeed-=G.length))}function I(G,ne){if((G.length-ne)%2==0){var N=G.toString("utf16le",ne);if(N){var T=N.charCodeAt(N.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=G[G.length-2],this.lastChar[1]=G[G.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=G[G.length-1],G.toString("utf16le",ne,G.length-1)}function M(G){var ne=G&&G.length?this.write(G):"";return this.lastNeed?ne+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):ne}function R(G,ne){var N=(G.length-ne)%3;return 0===N?G.toString("base64",ne):(this.lastNeed=3-N,this.lastTotal=3,1===N?this.lastChar[0]=G[G.length-1]:(this.lastChar[0]=G[G.length-2],this.lastChar[1]=G[G.length-1]),G.toString("base64",ne,G.length-N))}function Y(G){var ne=G&&G.length?this.write(G):"";return this.lastNeed?ne+this.lastChar.toString("base64",0,3-this.lastNeed):ne}function $(G){return G.toString(this.encoding)}function J(G){return G&&G.length?this.write(G):""}U.StringDecoder=b,b.prototype.write=function(G){if(0===G.length)return"";var ne,N;if(this.lastNeed){if(void 0===(ne=this.fillLast(G)))return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<G.length?ne?ne+this.text(G,N):this.text(G,N):ne||""},b.prototype.end=function(G){var ne=G&&G.length?this.write(G):"";return this.lastNeed?ne+"\ufffd":ne},b.prototype.text=function(G,ne){var N=function(V,O,z){var j=O.length-1;if(j<z)return 0;var k=w(O[j]);return k>=0?(k>0&&(V.lastNeed=k-1),k):--j<z||-2===k?0:(k=w(O[j]))>=0?(k>0&&(V.lastNeed=k-2),k):--j<z||-2===k?0:(k=w(O[j]))>=0?(k>0&&(2===k?k=0:V.lastNeed=k-3),k):0}(this,G,ne);if(!this.lastNeed)return G.toString("utf8",ne);this.lastTotal=N;var T=G.length-(N-this.lastNeed);return G.copy(this.lastChar,0,T),G.toString("utf8",ne,T)},b.prototype.fillLast=function(G){if(this.lastNeed<=G.length)return G.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);G.copy(this.lastChar,this.lastTotal-this.lastNeed,0,G.length),this.lastNeed-=G.length}},function(fe,U,P){"use strict";fe.exports=b;var D=P(1),y=P(5);function b(I){if(!(this instanceof b))return new b(I);D.call(this,I),this._transformState={afterTransform:function(M,R){var Y=this._transformState;Y.transforming=!1;var $=Y.writecb;if(!$)return this.emit("error",new Error("write callback called multiple times"));Y.writechunk=null,Y.writecb=null,null!=R&&this.push(R),$(M);var J=this._readableState;J.reading=!1,(J.needReadable||J.length<J.highWaterMark)&&this._read(J.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,I&&("function"==typeof I.transform&&(this._transform=I.transform),"function"==typeof I.flush&&(this._flush=I.flush)),this.on("prefinish",w)}function w(){var I=this;"function"==typeof this._flush?this._flush(function(M,R){E(I,M,R)}):E(this,null,null)}function E(I,M,R){if(M)return I.emit("error",M);if(null!=R&&I.push(R),I._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(I._transformState.transforming)throw new Error("Calling transform done when still transforming");return I.push(null)}y.inherits=P(2),y.inherits(b,D),b.prototype.push=function(I,M){return this._transformState.needTransform=!1,D.prototype.push.call(this,I,M)},b.prototype._transform=function(I,M,R){throw new Error("_transform() is not implemented")},b.prototype._write=function(I,M,R){var Y=this._transformState;if(Y.writecb=R,Y.writechunk=I,Y.writeencoding=M,!Y.transforming){var $=this._readableState;(Y.needTransform||$.needReadable||$.length<$.highWaterMark)&&this._read($.highWaterMark)}},b.prototype._read=function(I){var M=this._transformState;null!==M.writechunk&&M.writecb&&!M.transforming?(M.transforming=!0,this._transform(M.writechunk,M.writeencoding,M.afterTransform)):M.needTransform=!0},b.prototype._destroy=function(I,M){var R=this;D.prototype._destroy.call(this,I,function(Y){M(Y),R.emit("close")})}},function(fe,U,P){"use strict";(function(D){Object.defineProperty(U,"__esModule",{value:!0}),U.bufFromString=function(y){var b=D.byteLength(y),w=D.allocUnsafe?D.allocUnsafe(b):new D(b);return w.write(y),w},U.emptyBuffer=function(){return D.allocUnsafe?D.allocUnsafe(0):new D(0)},U.filterArray=function(y,b){for(var w=[],E=0;E<y.length;E++)b.indexOf(E)>-1&&w.push(y[E]);return w},U.trimLeft=String.prototype.trimLeft?function(y){return y.trimLeft()}:function(y){return y.replace(/^\s+/,"")},U.trimRight=String.prototype.trimRight?function(y){return y.trimRight()}:function(y){return y.replace(/\s+$/,"")}}).call(this,P(3).Buffer)},function(fe,U,P){"use strict";var b,D=this&&this.__extends||(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var I in E)E.hasOwnProperty(I)&&(w[I]=E[I])},function(w,E){function I(){this.constructor=w}b(w,E),w.prototype=null===E?Object.create(E):(I.prototype=E.prototype,new I)});Object.defineProperty(U,"__esModule",{value:!0});var y=function(b){function w(E,I,M){var R=b.call(this,"Error: "+E+". JSON Line number: "+I+(M?" near: "+M:""))||this;return R.err=E,R.line=I,R.extra=M,R.name="CSV Parse Error",R}return D(w,b),w.column_mismatched=function(E,I){return new w("column_mismatched",E,I)},w.unclosed_quote=function(E,I){return new w("unclosed_quote",E,I)},w.fromJSON=function(E){return new w(E.err,E.line,E.extra)},w.prototype.toJSON=function(){return{err:this.err,line:this.line,extra:this.extra}},w}(Error);U.default=y},function(fe,U,P){var D=P(18),y=P(68),b=P(69),w=D?D.toStringTag:void 0;fe.exports=function(E){return null==E?void 0===E?"[object Undefined]":"[object Null]":w&&w in Object(E)?y(E):b(E)}},function(fe,U){fe.exports=function(P,D){return P===D||P!=P&&D!=D}},function(fe,U,P){fe.exports=P(33)},function(fe,U,P){"use strict";var D=P(34),y=function(b,w){return new D.Converter(b,w)};y.csv=y,y.Converter=D.Converter,fe.exports=y},function(fe,U,P){"use strict";(function(D){var J,y=this&&this.__extends||(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,ne){G.__proto__=ne}||function(G,ne){for(var N in ne)ne.hasOwnProperty(N)&&(G[N]=ne[N])},function(G,ne){function N(){this.constructor=G}J(G,ne),G.prototype=null===ne?Object.create(ne):(N.prototype=ne.prototype,new N)}),b=this&&this.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(U,"__esModule",{value:!0});var w=P(36),E=P(50),I=P(51),M=b(P(15)),R=P(52),Y=P(105),$=function(J){function G(ne,N){void 0===N&&(N={});var T=J.call(this,N)||this;return T.options=N,T.params=E.mergeParams(ne),T.runtime=I.initParseRuntime(T),T.result=new Y.Result(T),T.processor=new R.ProcessorLocal(T),T.once("error",function(V){D(function(){T.result.processError(V),T.emit("done",V)})}),T.once("done",function(){T.processor.destroy()}),T}return y(G,J),G.prototype.preRawData=function(ne){return this.runtime.preRawDataHook=ne,this},G.prototype.preFileLine=function(ne){return this.runtime.preFileLineHook=ne,this},G.prototype.subscribe=function(ne,N,T){return this.parseRuntime.subscribe={onNext:ne,onError:N,onCompleted:T},this},G.prototype.fromFile=function(ne,N){var T=this,V=P(!function(){var O=new Error("Cannot find module 'fs'");throw O.code="MODULE_NOT_FOUND",O}());return V.exists(ne,function(O){O?V.createReadStream(ne,N).pipe(T):T.emit("error",new Error("File does not exist. Check to make sure the file path to your csv is correct."))}),this},G.prototype.fromStream=function(ne){return ne.pipe(this),this},G.prototype.fromString=function(ne){ne.toString();var N=new w.Readable,T=0;return N._read=function(V){if(T>=ne.length)this.push(null);else{var O=ne.substr(T,V);this.push(O),T+=V}},this.fromStream(N)},G.prototype.then=function(ne,N){var T=this;return new M.default(function(V,O){T.parseRuntime.then={onfulfilled:function(z){V(ne?ne(z):z)},onrejected:function(z){N?V(N(z)):O(z)}}})},Object.defineProperty(G.prototype,"parseParam",{get:function(){return this.params},enumerable:!0,configurable:!0}),Object.defineProperty(G.prototype,"parseRuntime",{get:function(){return this.runtime},enumerable:!0,configurable:!0}),G.prototype._transform=function(ne,N,T){var V=this;this.processor.process(ne).then(function(O){if(O.length>0)return V.runtime.started=!0,V.result.processResult(O)}).then(function(){V.emit("drained"),T()},function(O){V.runtime.hasError=!0,V.runtime.error=O,V.emit("error",O),T()})},G.prototype._flush=function(ne){var N=this;this.processor.flush().then(function(T){if(T.length>0)return N.result.processResult(T)}).then(function(){N.processEnd(ne)},function(T){N.emit("error",T),ne()})},G.prototype.processEnd=function(ne){this.result.endProcess(),this.emit("done"),ne()},Object.defineProperty(G.prototype,"parsedLineNumber",{get:function(){return this.runtime.parsedLineNumber},enumerable:!0,configurable:!0}),G}(w.Transform);U.Converter=$}).call(this,P(11).setImmediate)},function(fe,U,P){(function(D,y){!function(b,w){"use strict";if(!b.setImmediate){var E,I=1,M={},R=!1,Y=b.document,$=Object.getPrototypeOf&&Object.getPrototypeOf(b);$=$&&$.setTimeout?$:b,"[object process]"==={}.toString.call(b.process)?E=function(ne){y.nextTick(function(){G(ne)})}:function(){if(b.postMessage&&!b.importScripts){var ne=!0,N=b.onmessage;return b.onmessage=function(){ne=!1},b.postMessage("","*"),b.onmessage=N,ne}}()?(ne="setImmediate$"+Math.random()+"$",N=function(T){T.source===b&&"string"==typeof T.data&&0===T.data.indexOf(ne)&&G(+T.data.slice(ne.length))},b.addEventListener?b.addEventListener("message",N,!1):b.attachEvent("onmessage",N),E=function(T){b.postMessage(ne+T,"*")}):b.MessageChannel?function(){var ne=new MessageChannel;ne.port1.onmessage=function(N){G(N.data)},E=function(N){ne.port2.postMessage(N)}}():Y&&"onreadystatechange"in Y.createElement("script")?function(){var ne=Y.documentElement;E=function(N){var T=Y.createElement("script");T.onreadystatechange=function(){G(N),T.onreadystatechange=null,ne.removeChild(T),T=null},ne.appendChild(T)}}():E=function(ne){setTimeout(G,0,ne)},$.setImmediate=function(ne){"function"!=typeof ne&&(ne=new Function(""+ne));for(var N=new Array(arguments.length-1),T=0;T<N.length;T++)N[T]=arguments[T+1];return M[I]={callback:ne,args:N},E(I),I++},$.clearImmediate=J}var ne,N;function J(ne){delete M[ne]}function G(ne){if(R)setTimeout(G,0,ne);else{var N=M[ne];if(N){R=!0;try{!function(T){var V=T.callback,O=T.args;switch(O.length){case 0:V();break;case 1:V(O[0]);break;case 2:V(O[0],O[1]);break;case 3:V(O[0],O[1],O[2]);break;default:V.apply(w,O)}}(N)}finally{J(ne),R=!1}}}}}(typeof self>"u"?void 0===D?this:D:self)}).call(this,P(0),P(4))},function(fe,U,P){fe.exports=y;var D=P(12).EventEmitter;function y(){D.call(this)}P(2)(y,D),y.Readable=P(13),y.Writable=P(46),y.Duplex=P(47),y.Transform=P(48),y.PassThrough=P(49),y.Stream=y,y.prototype.pipe=function(b,w){var E=this;function I(ne){b.writable&&!1===b.write(ne)&&E.pause&&E.pause()}function M(){E.readable&&E.resume&&E.resume()}E.on("data",I),b.on("drain",M),b._isStdio||w&&!1===w.end||(E.on("end",Y),E.on("close",$));var R=!1;function Y(){R||(R=!0,b.end())}function $(){R||(R=!0,"function"==typeof b.destroy&&b.destroy())}function J(ne){if(G(),0===D.listenerCount(this,"error"))throw ne}function G(){E.removeListener("data",I),b.removeListener("drain",M),E.removeListener("end",Y),E.removeListener("close",$),E.removeListener("error",J),b.removeListener("error",J),E.removeListener("end",G),E.removeListener("close",G),b.removeListener("close",G)}return E.on("error",J),b.on("error",J),E.on("end",G),E.on("close",G),b.on("close",G),b.emit("pipe",E),b}},function(fe,U){var P={}.toString;fe.exports=Array.isArray||function(D){return"[object Array]"==P.call(D)}},function(fe,U,P){"use strict";U.byteLength=function($){var J=M($),ne=J[1];return 3*(J[0]+ne)/4-ne},U.toByteArray=function($){for(var J,G=M($),ne=G[0],N=G[1],T=new b(3*(ne+N)/4-N),V=0,O=N>0?ne-4:ne,z=0;z<O;z+=4)J=y[$.charCodeAt(z)]<<18|y[$.charCodeAt(z+1)]<<12|y[$.charCodeAt(z+2)]<<6|y[$.charCodeAt(z+3)],T[V++]=J>>16&255,T[V++]=J>>8&255,T[V++]=255&J;return 2===N&&(J=y[$.charCodeAt(z)]<<2|y[$.charCodeAt(z+1)]>>4,T[V++]=255&J),1===N&&(J=y[$.charCodeAt(z)]<<10|y[$.charCodeAt(z+1)]<<4|y[$.charCodeAt(z+2)]>>2,T[V++]=J>>8&255,T[V++]=255&J),T},U.fromByteArray=function($){for(var J,G=$.length,ne=G%3,N=[],T=0,V=G-ne;T<V;T+=16383)N.push(Y($,T,T+16383>V?V:T+16383));return 1===ne?N.push(D[(J=$[G-1])>>2]+D[J<<4&63]+"=="):2===ne&&N.push(D[(J=($[G-2]<<8)+$[G-1])>>10]+D[J>>4&63]+D[J<<2&63]+"="),N.join("")};for(var D=[],y=[],b=typeof Uint8Array<"u"?Uint8Array:Array,w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=0,I=w.length;E<I;++E)D[E]=w[E],y[w.charCodeAt(E)]=E;function M($){var J=$.length;if(J%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var G=$.indexOf("=");return-1===G&&(G=J),[G,G===J?0:4-G%4]}function R($){return D[$>>18&63]+D[$>>12&63]+D[$>>6&63]+D[63&$]}function Y($,J,G){for(var N=[],T=J;T<G;T+=3)N.push(R(($[T]<<16&16711680)+($[T+1]<<8&65280)+(255&$[T+2])));return N.join("")}y["-".charCodeAt(0)]=62,y["_".charCodeAt(0)]=63},function(fe,U){U.read=function(P,D,y,b,w){var E,I,M=8*w-b-1,R=(1<<M)-1,Y=R>>1,$=-7,J=y?w-1:0,G=y?-1:1,ne=P[D+J];for(J+=G,E=ne&(1<<-$)-1,ne>>=-$,$+=M;$>0;E=256*E+P[D+J],J+=G,$-=8);for(I=E&(1<<-$)-1,E>>=-$,$+=b;$>0;I=256*I+P[D+J],J+=G,$-=8);if(0===E)E=1-Y;else{if(E===R)return I?NaN:1/0*(ne?-1:1);I+=Math.pow(2,b),E-=Y}return(ne?-1:1)*I*Math.pow(2,E-b)},U.write=function(P,D,y,b,w,E){var I,M,R,Y=8*E-w-1,$=(1<<Y)-1,J=$>>1,G=23===w?Math.pow(2,-24)-Math.pow(2,-77):0,ne=b?0:E-1,N=b?1:-1,T=D<0||0===D&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(M=isNaN(D)?1:0,I=$):(I=Math.floor(Math.log(D)/Math.LN2),D*(R=Math.pow(2,-I))<1&&(I--,R*=2),(D+=I+J>=1?G/R:G*Math.pow(2,1-J))*R>=2&&(I++,R/=2),I+J>=$?(M=0,I=$):I+J>=1?(M=(D*R-1)*Math.pow(2,w),I+=J):(M=D*Math.pow(2,J-1)*Math.pow(2,w),I=0));w>=8;P[y+ne]=255&M,ne+=N,M/=256,w-=8);for(I=I<<w|M,Y+=w;Y>0;P[y+ne]=255&I,ne+=N,I/=256,Y-=8);P[y+ne-N]|=128*T}},function(fe,U){var P={}.toString;fe.exports=Array.isArray||function(D){return"[object Array]"==P.call(D)}},function(fe,U){},function(fe,U,P){"use strict";var D=P(7).Buffer,y=P(43);function b(w,E,I){w.copy(E,I)}fe.exports=function(){function w(){(function(E,I){if(!(E instanceof I))throw new TypeError("Cannot call a class as a function")})(this,w),this.head=null,this.tail=null,this.length=0}return w.prototype.push=function(E){var I={data:E,next:null};this.length>0?this.tail.next=I:this.head=I,this.tail=I,++this.length},w.prototype.unshift=function(E){var I={data:E,next:this.head};0===this.length&&(this.tail=I),this.head=I,++this.length},w.prototype.shift=function(){if(0!==this.length){var E=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,E}},w.prototype.clear=function(){this.head=this.tail=null,this.length=0},w.prototype.join=function(E){if(0===this.length)return"";for(var I=this.head,M=""+I.data;I=I.next;)M+=E+I.data;return M},w.prototype.concat=function(E){if(0===this.length)return D.alloc(0);if(1===this.length)return this.head.data;for(var I=D.allocUnsafe(E>>>0),M=this.head,R=0;M;)b(M.data,I,R),R+=M.data.length,M=M.next;return I},w}(),y&&y.inspect&&y.inspect.custom&&(fe.exports.prototype[y.inspect.custom]=function(){var w=y.inspect({length:this.length});return this.constructor.name+" "+w})},function(fe,U){},function(fe,U,P){(function(D){function y(b){try{if(!D.localStorage)return!1}catch{return!1}var w=D.localStorage[b];return null!=w&&"true"===String(w).toLowerCase()}fe.exports=function(b,w){if(y("noDeprecation"))return b;var E=!1;return function(){if(!E){if(y("throwDeprecation"))throw new Error(w);y("traceDeprecation")?console.trace(w):console.warn(w),E=!0}return b.apply(this,arguments)}}}).call(this,P(0))},function(fe,U,P){"use strict";fe.exports=b;var D=P(27),y=P(5);function b(w){if(!(this instanceof b))return new b(w);D.call(this,w)}y.inherits=P(2),y.inherits(b,D),b.prototype._transform=function(w,E,I){I(null,w)}},function(fe,U,P){fe.exports=P(14)},function(fe,U,P){fe.exports=P(1)},function(fe,U,P){fe.exports=P(13).Transform},function(fe,U,P){fe.exports=P(13).PassThrough},function(fe,U,P){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.mergeParams=function(D){var y={delimiter:",",ignoreColumns:void 0,includeColumns:void 0,quote:'"',trim:!0,checkType:!1,ignoreEmpty:!1,noheader:!1,headers:void 0,flatKeys:!1,maxRowLength:0,checkColumn:!1,escape:'"',colParser:{},eol:void 0,alwaysSplitAtEOL:!1,output:"json",nullObject:!1,downstreamFormat:"line",needEmitAll:!0};for(var b in D||(D={}),D)D.hasOwnProperty(b)&&(y[b]=Array.isArray(D[b])?[].concat(D[b]):D[b]);return y}},function(fe,U,P){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.initParseRuntime=function(D){var y=D.parseParam,b={needProcessIgnoreColumn:!1,needProcessIncludeColumn:!1,selectedColumns:void 0,ended:!1,hasError:!1,error:void 0,delimiter:D.parseParam.delimiter,eol:D.parseParam.eol,columnConv:[],headerType:[],headerTitle:[],headerFlag:[],headers:void 0,started:!1,parsedLineNumber:0,columnValueSetter:[]};return y.ignoreColumns&&(b.needProcessIgnoreColumn=!0),y.includeColumns&&(b.needProcessIncludeColumn=!0),b}},function(fe,U,P){"use strict";(function(D){var N,y=this&&this.__extends||(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,V){T.__proto__=V}||function(T,V){for(var O in V)V.hasOwnProperty(O)&&(T[O]=V[O])},function(T,V){function O(){this.constructor=T}N(T,V),T.prototype=null===V?Object.create(V):(O.prototype=V.prototype,new O)}),b=this&&this.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(U,"__esModule",{value:!0});var w=P(53),E=b(P(15)),I=P(54),M=b(P(16)),R=P(57),Y=P(28),$=P(58),J=b(P(59)),G=b(P(29)),ne=function(N){function T(){var V=null!==N&&N.apply(this,arguments)||this;return V.rowSplit=new $.RowSplit(V.converter),V.eolEmitted=!1,V._needEmitEol=void 0,V.headEmitted=!1,V._needEmitHead=void 0,V}return y(T,N),T.prototype.flush=function(){var V=this;if(this.runtime.csvLineBuffer&&this.runtime.csvLineBuffer.length>0){var O=this.runtime.csvLineBuffer;return this.runtime.csvLineBuffer=void 0,this.process(O,!0).then(function(z){return V.runtime.csvLineBuffer&&V.runtime.csvLineBuffer.length>0?E.default.reject(G.default.unclosed_quote(V.runtime.parsedLineNumber,V.runtime.csvLineBuffer.toString())):E.default.resolve(z)})}return E.default.resolve([])},T.prototype.destroy=function(){return E.default.resolve()},Object.defineProperty(T.prototype,"needEmitEol",{get:function(){return void 0===this._needEmitEol&&(this._needEmitEol=this.converter.listeners("eol").length>0),this._needEmitEol},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"needEmitHead",{get:function(){return void 0===this._needEmitHead&&(this._needEmitHead=this.converter.listeners("header").length>0),this._needEmitHead},enumerable:!0,configurable:!0}),T.prototype.process=function(V,O){var z,j=this;return void 0===O&&(O=!1),z=O?V.toString():I.prepareData(V,this.converter.parseRuntime),E.default.resolve().then(function(){return j.runtime.preRawDataHook?j.runtime.preRawDataHook(z):z}).then(function(k){return k&&k.length>0?j.processCSV(k,O):E.default.resolve([])})},T.prototype.processCSV=function(V,O){var z=this,j=this.params,k=this.runtime;k.eol||M.default(V,k),this.needEmitEol&&!this.eolEmitted&&k.eol&&(this.converter.emit("eol",k.eol),this.eolEmitted=!0),j.ignoreEmpty&&!k.started&&(V=Y.trimLeft(V));var K=R.stringToLines(V,k);return O?(K.lines.push(K.partial),K.partial=""):this.prependLeftBuf(Y.bufFromString(K.partial)),K.lines.length>0?(k.preFileLineHook?this.runPreLineHook(K.lines):E.default.resolve(K.lines)).then(function(oe){return k.started||z.runtime.headers?z.processCSVBody(oe):z.processDataWithHead(oe)}):E.default.resolve([])},T.prototype.processDataWithHead=function(V){if(this.params.noheader)this.runtime.headers=this.params.headers?this.params.headers:[];else{for(var O="",z=[];V.length;){var j=O+V.shift(),k=this.rowSplit.parse(j);if(k.closed){z=k.cells,O="";break}O=j+M.default(j,this.runtime)}if(this.prependLeftBuf(Y.bufFromString(O)),0===z.length)return[];this.runtime.headers=this.params.headers?this.params.headers:z}return(this.runtime.needProcessIgnoreColumn||this.runtime.needProcessIncludeColumn)&&this.filterHeader(),this.needEmitHead&&!this.headEmitted&&(this.converter.emit("header",this.runtime.headers),this.headEmitted=!0),this.processCSVBody(V)},T.prototype.filterHeader=function(){if(this.runtime.selectedColumns=[],this.runtime.headers){for(var V=this.runtime.headers,O=0;O<V.length;O++)if(this.params.ignoreColumns)if(this.params.ignoreColumns.test(V[O])){if(!this.params.includeColumns||!this.params.includeColumns.test(V[O]))continue;this.runtime.selectedColumns.push(O)}else this.runtime.selectedColumns.push(O);else this.params.includeColumns?this.params.includeColumns.test(V[O])&&this.runtime.selectedColumns.push(O):this.runtime.selectedColumns.push(O);this.runtime.headers=Y.filterArray(this.runtime.headers,this.runtime.selectedColumns)}},T.prototype.processCSVBody=function(V){if("line"===this.params.output)return V;var O=this.rowSplit.parseMultiLines(V);return this.prependLeftBuf(Y.bufFromString(O.partial)),"csv"===this.params.output?O.rowsCells:J.default(O.rowsCells,this.converter)},T.prototype.prependLeftBuf=function(V){V&&(this.runtime.csvLineBuffer=this.runtime.csvLineBuffer?D.concat([V,this.runtime.csvLineBuffer]):V)},T.prototype.runPreLineHook=function(V){var O=this;return new E.default(function(z,j){!function k(K,oe,B,ie){if(B>=K.length)ie();else if(oe.preFileLineHook){var ce=oe.preFileLineHook(K[B],oe.parsedLineNumber+B);if(B++,ce&&ce.then)ce.then(function(te){K[B-1]=te,k(K,oe,B,ie)});else{for(K[B-1]=ce;B<K.length;)K[B]=oe.preFileLineHook(K[B],oe.parsedLineNumber+B),B++;ie()}}else ie()}(V,O.runtime,0,function(k){k?j(k):z(V)})})},T}(w.Processor);U.ProcessorLocal=ne}).call(this,P(3).Buffer)},function(fe,U,P){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Processor=function(y){this.converter=y,this.params=y.parseParam,this.runtime=y.parseRuntime}},function(fe,U,P){"use strict";(function(D){var y=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(U,"__esModule",{value:!0});var b=y(P(55));U.prepareData=function(w,E){var R,Y,I=(R=w,(Y=E).csvLineBuffer&&Y.csvLineBuffer.length>0?D.concat([Y.csvLineBuffer,R]):R);E.csvLineBuffer=void 0;var M=function(R,Y){var $=R.length-1;if(128&R[$]){for(;128==(192&R[$]);)$--;$--}return $!=R.length-1?(Y.csvLineBuffer=R.slice($+1),R.slice(0,$+1)):R}(I,E).toString("utf8");return!1===E.started?b.default(M):M}}).call(this,P(3).Buffer)},function(fe,U,P){"use strict";(function(D){var y=P(56);fe.exports=function(b){return"string"==typeof b&&65279===b.charCodeAt(0)?b.slice(1):D.isBuffer(b)&&y(b)&&239===b[0]&&187===b[1]&&191===b[2]?b.slice(3):b}}).call(this,P(3).Buffer)},function(fe,U){fe.exports=function(P){for(var D=0;D<P.length;)if(9==P[D]||10==P[D]||13==P[D]||32<=P[D]&&P[D]<=126)D+=1;else if(194<=P[D]&&P[D]<=223&&128<=P[D+1]&&P[D+1]<=191)D+=2;else if(224==P[D]&&160<=P[D+1]&&P[D+1]<=191&&128<=P[D+2]&&P[D+2]<=191||(225<=P[D]&&P[D]<=236||238==P[D]||239==P[D])&&128<=P[D+1]&&P[D+1]<=191&&128<=P[D+2]&&P[D+2]<=191||237==P[D]&&128<=P[D+1]&&P[D+1]<=159&&128<=P[D+2]&&P[D+2]<=191)D+=3;else{if(!(240==P[D]&&144<=P[D+1]&&P[D+1]<=191&&128<=P[D+2]&&P[D+2]<=191&&128<=P[D+3]&&P[D+3]<=191||241<=P[D]&&P[D]<=243&&128<=P[D+1]&&P[D+1]<=191&&128<=P[D+2]&&P[D+2]<=191&&128<=P[D+3]&&P[D+3]<=191||244==P[D]&&128<=P[D+1]&&P[D+1]<=143&&128<=P[D+2]&&P[D+2]<=191&&128<=P[D+3]&&P[D+3]<=191))return!1;D+=4}return!0}},function(fe,U,P){"use strict";var D=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(U,"__esModule",{value:!0});var y=D(P(16));U.stringToLines=function(b,w){var E=y.default(b,w),I=b.split(E);return{lines:I,partial:I.pop()||""}}},function(fe,U,P){"use strict";var D=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(U,"__esModule",{value:!0});var y=D(P(16)),b=P(28),w=[",","|","\t",";",":"],E=function(){function I(M){this.conv=M,this.cachedRegExp={},this.delimiterEmitted=!1,this._needEmitDelimiter=void 0,this.quote=M.parseParam.quote,this.trim=M.parseParam.trim,this.escape=M.parseParam.escape}return Object.defineProperty(I.prototype,"needEmitDelimiter",{get:function(){return void 0===this._needEmitDelimiter&&(this._needEmitDelimiter=this.conv.listeners("delimiter").length>0),this._needEmitDelimiter},enumerable:!0,configurable:!0}),I.prototype.parse=function(M){if(0===M.length||this.conv.parseParam.ignoreEmpty&&0===M.trim().length)return{cells:[],closed:!0};var R=this.quote,Y=this.trim;(this.conv.parseRuntime.delimiter instanceof Array||"auto"===this.conv.parseRuntime.delimiter.toLowerCase())&&(this.conv.parseRuntime.delimiter=this.getDelimiter(M)),this.needEmitDelimiter&&!this.delimiterEmitted&&(this.conv.emit("delimiter",this.conv.parseRuntime.delimiter),this.delimiterEmitted=!0);var $=this.conv.parseRuntime.delimiter,J=M.split($);if("off"===R){if(Y)for(var G=0;G<J.length;G++)J[G]=J[G].trim();return{cells:J,closed:!0}}return this.toCSVRow(J,Y,R,$)},I.prototype.toCSVRow=function(M,R,Y,$){for(var J=[],G=!1,ne="",N=0,T=M.length;N<T;N++){var V=M[N];!G&&R&&(V=b.trimLeft(V));var O=V.length;if(G)this.isQuoteClose(V)?(G=!1,ne+=$+(V=V.substr(0,O-1)),ne=this.escapeQuote(ne),R&&(ne=b.trimRight(ne)),J.push(ne),ne=""):ne+=$+V;else{if(2===O&&V===this.quote+this.quote){J.push("");continue}if(this.isQuoteOpen(V)){if(V=V.substr(1),this.isQuoteClose(V)){V=V.substring(0,V.lastIndexOf(Y)),V=this.escapeQuote(V),J.push(V);continue}if(-1!==V.indexOf(Y)){for(var z=0,j="",k=0,K=V;k<K.length;k++){var oe=K[k];oe===Y&&j!==this.escape?(z++,j=""):j=oe}if(z%2==1){R&&(V=b.trimRight(V)),J.push(Y+V);continue}G=!0,ne+=V;continue}G=!0,ne+=V;continue}R&&(V=b.trimRight(V)),J.push(V)}}return{cells:J,closed:!G}},I.prototype.getDelimiter=function(M){var R;if("auto"===this.conv.parseParam.delimiter)R=w;else{if(!(this.conv.parseParam.delimiter instanceof Array))return this.conv.parseParam.delimiter;R=this.conv.parseParam.delimiter}var Y=0,$=",";return R.forEach(function(J){var G=M.split(J).length;G>Y&&($=J,Y=G)}),$},I.prototype.isQuoteOpen=function(M){var R=this.quote;return M[0]===R&&(M[1]!==R||M[1]===this.escape&&(M[2]===R||2===M.length))},I.prototype.isQuoteClose=function(M){var R=this.quote,Y=this.escape;this.conv.parseParam.trim&&(M=b.trimRight(M));for(var $=0,J=M.length-1;M[J]===R||M[J]===Y;)J--,$++;return $%2!=0},I.prototype.escapeQuote=function(M){var R="es|"+this.quote+"|"+this.escape;return void 0===this.cachedRegExp[R]&&(this.cachedRegExp[R]=new RegExp("\\"+this.escape+"\\"+this.quote,"g")),M.replace(this.cachedRegExp[R],this.quote)},I.prototype.parseMultiLines=function(M){for(var R=[],Y="";M.length;){var $=Y+M.shift(),J=this.parse($);0===J.cells.length&&this.conv.parseParam.ignoreEmpty||(J.closed||this.conv.parseParam.alwaysSplitAtEOL?(R.push(this.conv.parseRuntime.selectedColumns?b.filterArray(J.cells,this.conv.parseRuntime.selectedColumns):J.cells),Y=""):Y=$+(y.default($,this.conv.parseRuntime)||"\n"))}return{rowsCells:R,partial:Y}},I}();U.RowSplit=E},function(fe,U,P){"use strict";var D=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(U,"__esModule",{value:!0});var y=D(P(29)),b=D(P(60)),w=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/;function E(T,V,O){if(V.parseParam.checkColumn&&V.parseRuntime.headers&&T.length!==V.parseRuntime.headers.length)throw y.default.column_mismatched(V.parseRuntime.parsedLineNumber+O);return function(z,j,k){for(var K=!1,oe={},B=0,ie=z.length;B<ie;B++){var ee=z[B];if(!k.parseParam.ignoreEmpty||""!==ee){K=!0;var ce=j[B];ce&&""!==ce||(ce=j[B]="field"+(B+1));var te=M(ce,B,k);if(te){var Le=te(ee,ce,oe,z,B);void 0!==Le&&R(oe,ce,Le,k,B)}else k.parseParam.checkType&&(ee=J(0,ce,B,k)(ee)),void 0!==ee&&R(oe,ce,ee,k,B)}}return K?oe:null}(T,V.parseRuntime.headers||[],V)||null}U.default=function(T,V){for(var O=[],z=0,j=T.length;z<j;z++){var k=E(T[z],V,z);k&&O.push(k)}return O};var I={string:ne,number:G,omit:function(){}};function M(T,V,O){if(void 0!==O.parseRuntime.columnConv[V])return O.parseRuntime.columnConv[V];var z=O.parseParam.colParser[T];return void 0===z?O.parseRuntime.columnConv[V]=null:("object"==typeof z&&(z=z.cellParser||"string"),"string"==typeof z?(z=z.trim().toLowerCase(),O.parseRuntime.columnConv[V]=I[z]||null):O.parseRuntime.columnConv[V]="function"==typeof z?z:null)}function R(T,V,O,z,j){if(!z.parseRuntime.columnValueSetter[j])if(z.parseParam.flatKeys)z.parseRuntime.columnValueSetter[j]=Y;else if(V.indexOf(".")>-1){for(var k=V.split("."),K=!0;k.length>0;)if(0===k.shift().length){K=!1;break}z.parseRuntime.columnValueSetter[j]=!K||z.parseParam.colParser[V]&&z.parseParam.colParser[V].flat?Y:$}else z.parseRuntime.columnValueSetter[j]=Y;!0===z.parseParam.nullObject&&"null"===O&&(O=null),z.parseRuntime.columnValueSetter[j](T,V,O)}function Y(T,V,O){T[V]=O}function $(T,V,O){b.default(T,V,O)}function J(T,V,O,z){return z.parseRuntime.headerType[O]?z.parseRuntime.headerType[O]:z.parseRuntime.headerType[O]=V.indexOf("number#!")>-1?G:V.indexOf("string#!")>-1?ne:z.parseParam.checkType?N:ne}function G(T){var V=parseFloat(T);return isNaN(V)?T:V}function ne(T){return T.toString()}function N(T){var z,V=T.trim();return""===V?ne(T):w.test(V)?G(T):5===V.length&&"false"===V.toLowerCase()||4===V.length&&"true"===V.toLowerCase()?5!==(z=T.trim()).length||"false"!==z.toLowerCase():"{"===V[0]&&"}"===V[V.length-1]||"["===V[0]&&"]"===V[V.length-1]?function(O){try{return JSON.parse(O)}catch{return O}}(T):ne(T)}},function(fe,U,P){var D=P(61);fe.exports=function(y,b,w){return null==y?y:D(y,b,w)}},function(fe,U,P){var D=P(62),y=P(74),b=P(103),w=P(20),E=P(104);fe.exports=function(I,M,R,Y){if(!w(I))return I;for(var $=-1,J=(M=y(M,I)).length,G=J-1,ne=I;null!=ne&&++$<J;){var N=E(M[$]),T=R;if($!=G){var V=ne[N];void 0===(T=Y?Y(V,N,ne):void 0)&&(T=w(V)?V:b(M[$+1])?[]:{})}D(ne,N,T),ne=ne[N]}return I}},function(fe,U,P){var D=P(63),y=P(31),b=Object.prototype.hasOwnProperty;fe.exports=function(w,E,I){var M=w[E];b.call(w,E)&&y(M,I)&&(void 0!==I||E in w)||D(w,E,I)}},function(fe,U,P){var D=P(64);fe.exports=function(y,b,w){"__proto__"==b&&D?D(y,b,{configurable:!0,enumerable:!0,value:w,writable:!0}):y[b]=w}},function(fe,U,P){var D=P(17),y=function(){try{var b=D(Object,"defineProperty");return b({},"",{}),b}catch{}}();fe.exports=y},function(fe,U,P){var D=P(66),y=P(70),b=P(20),w=P(72),E=/^\[object .+?Constructor\]$/,$=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");fe.exports=function(J){return!(!b(J)||y(J))&&(D(J)?$:E).test(w(J))}},function(fe,U,P){var D=P(30),y=P(20);fe.exports=function(b){if(!y(b))return!1;var w=D(b);return"[object Function]"==w||"[object GeneratorFunction]"==w||"[object AsyncFunction]"==w||"[object Proxy]"==w}},function(fe,U,P){(function(D){fe.exports="object"==typeof D&&D&&D.Object===Object&&D}).call(this,P(0))},function(fe,U,P){var D=P(18),y=Object.prototype,b=y.hasOwnProperty,w=y.toString,E=D?D.toStringTag:void 0;fe.exports=function(I){var M=b.call(I,E),R=I[E];try{I[E]=void 0;var Y=!0}catch{}var $=w.call(I);return Y&&(M?I[E]=R:delete I[E]),$}},function(fe,U){var P=Object.prototype.toString;fe.exports=function(D){return P.call(D)}},function(fe,U,P){var b,D=P(71),y=(b=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"";fe.exports=function(b){return!!y&&y in b}},function(fe,U,P){var D=P(19)["__core-js_shared__"];fe.exports=D},function(fe,U){var P=Function.prototype.toString;fe.exports=function(D){if(null!=D){try{return P.call(D)}catch{}try{return D+""}catch{}}return""}},function(fe,U){fe.exports=function(P,D){return P?.[D]}},function(fe,U,P){var D=P(21),y=P(75),b=P(77),w=P(100);fe.exports=function(E,I){return D(E)?E:y(E,I)?[E]:b(w(E))}},function(fe,U,P){var D=P(21),y=P(22),b=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,w=/^\w*$/;fe.exports=function(E,I){if(D(E))return!1;var M=typeof E;return!("number"!=M&&"symbol"!=M&&"boolean"!=M&&null!=E&&!y(E))||w.test(E)||!b.test(E)||null!=I&&E in Object(I)}},function(fe,U){fe.exports=function(P){return null!=P&&"object"==typeof P}},function(fe,U,P){var D=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y=/\\(\\)?/g,b=P(78)(function(w){var E=[];return 46===w.charCodeAt(0)&&E.push(""),w.replace(D,function(I,M,R,Y){E.push(R?Y.replace(y,"$1"):M||I)}),E});fe.exports=b},function(fe,U,P){var D=P(79);fe.exports=function(y){var b=D(y,function(E){return 500===w.size&&w.clear(),E}),w=b.cache;return b}},function(fe,U,P){var D=P(80),y="Expected a function";function b(w,E){if("function"!=typeof w||null!=E&&"function"!=typeof E)throw new TypeError(y);var I=function(){var M=arguments,R=E?E.apply(this,M):M[0],Y=I.cache;if(Y.has(R))return Y.get(R);var $=w.apply(this,M);return I.cache=Y.set(R,$)||Y,$};return I.cache=new(b.Cache||D),I}b.Cache=D,fe.exports=b},function(fe,U,P){var D=P(81),y=P(95),b=P(97),w=P(98),E=P(99);function I(M){var R=-1,Y=null==M?0:M.length;for(this.clear();++R<Y;){var $=M[R];this.set($[0],$[1])}}I.prototype.clear=D,I.prototype.delete=y,I.prototype.get=b,I.prototype.has=w,I.prototype.set=E,fe.exports=I},function(fe,U,P){var D=P(82),y=P(88),b=P(94);fe.exports=function(){this.size=0,this.__data__={hash:new D,map:new(b||y),string:new D}}},function(fe,U,P){var D=P(83),y=P(84),b=P(85),w=P(86),E=P(87);function I(M){var R=-1,Y=null==M?0:M.length;for(this.clear();++R<Y;){var $=M[R];this.set($[0],$[1])}}I.prototype.clear=D,I.prototype.delete=y,I.prototype.get=b,I.prototype.has=w,I.prototype.set=E,fe.exports=I},function(fe,U,P){var D=P(8);fe.exports=function(){this.__data__=D?D(null):{},this.size=0}},function(fe,U){fe.exports=function(P){var D=this.has(P)&&delete this.__data__[P];return this.size-=D?1:0,D}},function(fe,U,P){var D=P(8),y=Object.prototype.hasOwnProperty;fe.exports=function(b){var w=this.__data__;if(D){var E=w[b];return"__lodash_hash_undefined__"===E?void 0:E}return y.call(w,b)?w[b]:void 0}},function(fe,U,P){var D=P(8),y=Object.prototype.hasOwnProperty;fe.exports=function(b){var w=this.__data__;return D?void 0!==w[b]:y.call(w,b)}},function(fe,U,P){var D=P(8);fe.exports=function(y,b){var w=this.__data__;return this.size+=this.has(y)?0:1,w[y]=D&&void 0===b?"__lodash_hash_undefined__":b,this}},function(fe,U,P){var D=P(89),y=P(90),b=P(91),w=P(92),E=P(93);function I(M){var R=-1,Y=null==M?0:M.length;for(this.clear();++R<Y;){var $=M[R];this.set($[0],$[1])}}I.prototype.clear=D,I.prototype.delete=y,I.prototype.get=b,I.prototype.has=w,I.prototype.set=E,fe.exports=I},function(fe,U){fe.exports=function(){this.__data__=[],this.size=0}},function(fe,U,P){var D=P(9),y=Array.prototype.splice;fe.exports=function(b){var w=this.__data__,E=D(w,b);return!(E<0||(E==w.length-1?w.pop():y.call(w,E,1),--this.size,0))}},function(fe,U,P){var D=P(9);fe.exports=function(y){var b=this.__data__,w=D(b,y);return w<0?void 0:b[w][1]}},function(fe,U,P){var D=P(9);fe.exports=function(y){return D(this.__data__,y)>-1}},function(fe,U,P){var D=P(9);fe.exports=function(y,b){var w=this.__data__,E=D(w,y);return E<0?(++this.size,w.push([y,b])):w[E][1]=b,this}},function(fe,U,P){var D=P(17)(P(19),"Map");fe.exports=D},function(fe,U,P){var D=P(10);fe.exports=function(y){var b=D(this,y).delete(y);return this.size-=b?1:0,b}},function(fe,U){fe.exports=function(P){var D=typeof P;return"string"==D||"number"==D||"symbol"==D||"boolean"==D?"__proto__"!==P:null===P}},function(fe,U,P){var D=P(10);fe.exports=function(y){return D(this,y).get(y)}},function(fe,U,P){var D=P(10);fe.exports=function(y){return D(this,y).has(y)}},function(fe,U,P){var D=P(10);fe.exports=function(y,b){var w=D(this,y),E=w.size;return w.set(y,b),this.size+=w.size==E?0:1,this}},function(fe,U,P){var D=P(101);fe.exports=function(y){return null==y?"":D(y)}},function(fe,U,P){var D=P(18),y=P(102),b=P(21),w=P(22),E=D?D.prototype:void 0,I=E?E.toString:void 0;fe.exports=function M(R){if("string"==typeof R)return R;if(b(R))return y(R,M)+"";if(w(R))return I?I.call(R):"";var Y=R+"";return"0"==Y&&1/R==-1/0?"-0":Y}},function(fe,U){fe.exports=function(P,D){for(var y=-1,b=null==P?0:P.length,w=Array(b);++y<b;)w[y]=D(P[y],y,P);return w}},function(fe,U){var P=/^(?:0|[1-9]\d*)$/;fe.exports=function(D,y){var b=typeof D;return!!(y=y??9007199254740991)&&("number"==b||"symbol"!=b&&P.test(D))&&D>-1&&D%1==0&&D<y}},function(fe,U,P){var D=P(22);fe.exports=function(y){if("string"==typeof y||D(y))return y;var b=y+"";return"0"==b&&1/y==-1/0?"-0":b}},function(fe,U,P){"use strict";var D=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(U,"__esModule",{value:!0});var y=D(P(15)),b=P(106),w=function(){function I(M){this.converter=M,this.finalResult=[]}return Object.defineProperty(I.prototype,"needEmitLine",{get:function(){return!!this.converter.parseRuntime.subscribe&&!!this.converter.parseRuntime.subscribe.onNext||this.needPushDownstream},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"needPushDownstream",{get:function(){return void 0===this._needPushDownstream&&(this._needPushDownstream=this.converter.listeners("data").length>0||this.converter.listeners("readable").length>0),this._needPushDownstream},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"needEmitAll",{get:function(){return!!this.converter.parseRuntime.then&&this.converter.parseParam.needEmitAll},enumerable:!0,configurable:!0}),I.prototype.processResult=function(M){var R=this;return this.needPushDownstream&&"array"===this.converter.parseParam.downstreamFormat&&0===this.converter.parseRuntime.parsedLineNumber&&E(this.converter,"["+b.EOL),new y.default(function($,J){R.needEmitLine?function G(ne,N,T,V,O){if(T>=ne.length)O();else if(N.parseRuntime.subscribe&&N.parseRuntime.subscribe.onNext){var z=N.parseRuntime.subscribe.onNext,j=ne[T],k=z(j,N.parseRuntime.parsedLineNumber+T);if(T++,k&&k.then)k.then(function(){var oe,ie,ee,ce,te;oe=ne,ie=N,ee=T,te=O,(ce=V)&&E(ie,j),G(oe,ie,ee,ce,te)},O);else{for(V&&E(N,j);T<ne.length;){var K=ne[T];z(K,N.parseRuntime.parsedLineNumber+T),T++,V&&E(N,K)}O()}}else{if(V)for(;T<ne.length;)K=ne[T++],E(N,K);O()}}(M,R.converter,0,R.needPushDownstream,function(G){G?J(G):(R.appendFinalResult(M),$())}):(R.appendFinalResult(M),$())})},I.prototype.appendFinalResult=function(M){this.needEmitAll&&(this.finalResult=this.finalResult.concat(M)),this.converter.parseRuntime.parsedLineNumber+=M.length},I.prototype.processError=function(M){this.converter.parseRuntime.subscribe&&this.converter.parseRuntime.subscribe.onError&&this.converter.parseRuntime.subscribe.onError(M),this.converter.parseRuntime.then&&this.converter.parseRuntime.then.onrejected&&this.converter.parseRuntime.then.onrejected(M)},I.prototype.endProcess=function(){this.converter.parseRuntime.then&&this.converter.parseRuntime.then.onfulfilled&&this.converter.parseRuntime.then.onfulfilled(this.needEmitAll?this.finalResult:[]),this.converter.parseRuntime.subscribe&&this.converter.parseRuntime.subscribe.onCompleted&&this.converter.parseRuntime.subscribe.onCompleted(),this.needPushDownstream&&"array"===this.converter.parseParam.downstreamFormat&&E(this.converter,"]"+b.EOL)},I}();function E(I,M){if("object"!=typeof M||I.options.objectMode)I.push(M);else{var R=JSON.stringify(M);I.push(R+("array"===I.parseParam.downstreamFormat?","+b.EOL:b.EOL),"utf8")}}U.Result=w},function(fe,U){U.endianness=function(){return"LE"},U.hostname=function(){return typeof location<"u"?location.hostname:""},U.loadavg=function(){return[]},U.uptime=function(){return 0},U.freemem=function(){return Number.MAX_VALUE},U.totalmem=function(){return Number.MAX_VALUE},U.cpus=function(){return[]},U.type=function(){return"Browser"},U.release=function(){return typeof navigator<"u"?navigator.appVersion:""},U.networkInterfaces=U.getNetworkInterfaces=function(){return{}},U.arch=function(){return"javascript"},U.platform=function(){return"browser"},U.tmpdir=U.tmpDir=function(){return"/tmp"},U.EOL="\n",U.homedir=function(){return"/"}}])},6952:(Qe,fe,U)=>{var P=U(1356),D=U(3407),y=U(2e3),b=U(2342),w=U(9235),E=U(2374),I=Date.prototype.getTime;function R(J){return null==J}function Y(J){return!(!J||"object"!=typeof J||"number"!=typeof J.length||"function"!=typeof J.copy||"function"!=typeof J.slice||J.length>0&&"number"!=typeof J[0])}Qe.exports=function M(J,G,ne){var N=ne||{};return!!(N.strict?y(J,G):J===G)||(!J||!G||"object"!=typeof J&&"object"!=typeof G?N.strict?y(J,G):J==G:function $(J,G,ne){var N,T;if(typeof J!=typeof G||R(J)||R(G)||J.prototype!==G.prototype||D(J)!==D(G))return!1;var V=b(J),O=b(G);if(V!==O)return!1;if(V||O)return J.source===G.source&&w(J)===w(G);if(E(J)&&E(G))return I.call(J)===I.call(G);var z=Y(J),j=Y(G);if(z!==j)return!1;if(z||j){if(J.length!==G.length)return!1;for(N=0;N<J.length;N++)if(J[N]!==G[N])return!1;return!0}if(typeof J!=typeof G)return!1;try{var k=P(J),K=P(G)}catch{return!1}if(k.length!==K.length)return!1;for(k.sort(),K.sort(),N=k.length-1;N>=0;N--)if(k[N]!=K[N])return!1;for(N=k.length-1;N>=0;N--)if(!M(J[T=k[N]],G[T],ne))return!1;return!0}(J,G,N))}},2358:(Qe,fe,U)=>{"use strict";var P=U(1356),D="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),y=Object.prototype.toString,b=Array.prototype.concat,w=Object.defineProperty,I=U(7027)(),M=w&&I,R=function($,J,G,ne){if(J in $)if(!0===ne){if($[J]===G)return}else if(!function($){return"function"==typeof $&&"[object Function]"===y.call($)}(ne)||!ne())return;M?w($,J,{configurable:!0,enumerable:!1,value:G,writable:!0}):$[J]=G},Y=function($,J){var G=arguments.length>2?arguments[2]:{},ne=P(J);D&&(ne=b.call(ne,Object.getOwnPropertySymbols(J)));for(var N=0;N<ne.length;N+=1)R($,ne[N],J[ne[N]],G[ne[N]])};Y.supportsDescriptors=!!M,Qe.exports=Y},1817:Qe=>{function fe(U,P,D,y){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(U,P,D,y)}fe.prototype.run=function(U,P,D,y){this._init(U,P,D,y);for(var b=0;b<this._datasetLength;b++)if(1!==this._visited[b]){this._visited[b]=1;var w=this._regionQuery(b);if(w.length<this.minPts)this.noise.push(b);else{var E=this.clusters.length;this.clusters.push([]),this._addToCluster(b,E),this._expandCluster(E,w)}}return this.clusters},fe.prototype._init=function(U,P,D,y){if(U){if(!(U instanceof Array))throw Error("Dataset must be of type array, "+typeof U+" given");this.dataset=U,this.clusters=[],this.noise=[],this._datasetLength=U.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}P&&(this.epsilon=P),D&&(this.minPts=D),y&&(this.distance=y)},fe.prototype._expandCluster=function(U,P){for(var D=0;D<P.length;D++){var y=P[D];if(1!==this._visited[y]){this._visited[y]=1;var b=this._regionQuery(y);b.length>=this.minPts&&(P=this._mergeArrays(P,b))}1!==this._assigned[y]&&this._addToCluster(y,U)}},fe.prototype._addToCluster=function(U,P){this.clusters[P].push(U),this._assigned[U]=1},fe.prototype._regionQuery=function(U){for(var P=[],D=0;D<this._datasetLength;D++)this.distance(this.dataset[U],this.dataset[D])<this.epsilon&&P.push(D);return P},fe.prototype._mergeArrays=function(U,P){for(var D=P.length,y=0;y<D;y++){var b=P[y];U.indexOf(b)<0&&U.push(b)}return U},fe.prototype._euclideanDistance=function(U,P){for(var D=0,y=Math.min(U.length,P.length);y--;)D+=(U[y]-P[y])*(U[y]-P[y]);return Math.sqrt(D)},Qe.exports&&(Qe.exports=fe)},4273:Qe=>{function fe(U,P,D){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(U,P,D)}fe.prototype.init=function(U,P,D){this.assignments=[],this.centroids=[],typeof U<"u"&&(this.dataset=U),typeof P<"u"&&(this.k=P),typeof D<"u"&&(this.distance=D)},fe.prototype.run=function(U,P){this.init(U,P);for(var D=this.dataset.length,y=0;y<this.k;y++)this.centroids[y]=this.randomCentroid();for(var b=!0;b;){b=this.assign();for(var w=0;w<this.k;w++){for(var E=new Array(Y),I=0,M=0;M<Y;M++)E[M]=0;for(var R=0;R<D;R++){var Y=this.dataset[R].length;if(w===this.assignments[R]){for(M=0;M<Y;M++)E[M]+=this.dataset[R][M];I++}}if(I>0){for(M=0;M<Y;M++)E[M]/=I;this.centroids[w]=E}else this.centroids[w]=this.randomCentroid(),b=!0}}return this.getClusters()},fe.prototype.randomCentroid=function(){var P,D,U=this.dataset.length-1;do{D=Math.round(Math.random()*U),P=this.dataset[D]}while(this.centroids.indexOf(P)>=0);return P},fe.prototype.assign=function(){for(var D,U=!1,P=this.dataset.length,y=0;y<P;y++)(D=this.argmin(this.dataset[y],this.centroids,this.distance))!=this.assignments[y]&&(this.assignments[y]=D,U=!0);return U},fe.prototype.getClusters=function(){for(var P,U=new Array(this.k),D=0;D<this.assignments.length;D++)typeof U[P=this.assignments[D]]>"u"&&(U[P]=[]),U[P].push(D);return U},fe.prototype.argmin=function(U,P,D){for(var E,y=Number.MAX_VALUE,b=0,w=P.length,I=0;I<w;I++)(E=D(U,P[I]))<y&&(y=E,b=I);return b},fe.prototype.distance=function(U,P){for(var D=0,y=Math.min(U.length,P.length);y--;){var b=U[y]-P[y];D+=b*b}return Math.sqrt(D)},Qe.exports&&(Qe.exports=fe)},8680:(Qe,fe,U)=>{if(Qe.exports)var P=U(8759);function D(y,b,w,E){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(y,b,w,E)}D.prototype.run=function(y,b,w,E){this._init(y,b,w,E);for(var I=0,M=this.dataset.length;I<M;I++)if(1!==this._processed[I]){this._processed[I]=1,this.clusters.push([I]);var R=this.clusters.length-1;this._orderedList.push(I);var Y=new P(null,null,"asc"),$=this._regionQuery(I);void 0!==this._distanceToCore(I)&&(this._updateQueue(I,$,Y),this._expandCluster(R,Y))}return this.clusters},D.prototype.getReachabilityPlot=function(){for(var y=[],b=0,w=this._orderedList.length;b<w;b++){var E=this._orderedList[b];y.push([E,this._reachability[E]])}return y},D.prototype._init=function(y,b,w,E){if(y){if(!(y instanceof Array))throw Error("Dataset must be of type array, "+typeof y+" given");this.dataset=y,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}b&&(this.epsilon=b),w&&(this.minPts=w),E&&(this.distance=E)},D.prototype._updateQueue=function(y,b,w){var E=this;this._coreDistance=this._distanceToCore(y),b.forEach(function(I){if(void 0===E._processed[I]){var M=E.distance(E.dataset[y],E.dataset[I]),R=Math.max(E._coreDistance,M);void 0===E._reachability[I]?(E._reachability[I]=R,w.insert(I,R)):R<E._reachability[I]&&(E._reachability[I]=R,w.remove(I),w.insert(I,R))}})},D.prototype._expandCluster=function(y,b){for(var w=b.getElements(),E=0,I=w.length;E<I;E++){var M=w[E];if(void 0===this._processed[M]){var R=this._regionQuery(M);this._processed[M]=1,this.clusters[y].push(M),this._orderedList.push(M),void 0!==this._distanceToCore(M)&&(this._updateQueue(M,R,b),this._expandCluster(y,b))}}},D.prototype._distanceToCore=function(y){for(var b=this.epsilon,w=0;w<b;w++)if(this._regionQuery(y,w).length>=this.minPts)return w},D.prototype._regionQuery=function(y,b){b=b||this.epsilon;for(var w=[],E=0,I=this.dataset.length;E<I;E++)this.distance(this.dataset[y],this.dataset[E])<b&&w.push(E);return w},D.prototype._euclideanDistance=function(y,b){for(var w=0,E=Math.min(y.length,b.length);E--;)w+=(y[E]-b[E])*(y[E]-b[E]);return Math.sqrt(w)},Qe.exports&&(Qe.exports=D)},8759:Qe=>{function fe(U,P,D){this._queue=[],this._priorities=[],this._sorting="desc",this._init(U,P,D)}fe.prototype.insert=function(U,P){for(var D=this._queue.length,y=D;y--;){var b=this._priorities[y];"desc"===this._sorting?P>b&&(D=y):P<b&&(D=y)}this._insertAt(U,P,D)},fe.prototype.remove=function(U){for(var P=this._queue.length;P--;)if(U===this._queue[P]){this._queue.splice(P,1),this._priorities.splice(P,1);break}},fe.prototype.forEach=function(U){this._queue.forEach(U)},fe.prototype.getElements=function(){return this._queue},fe.prototype.getElementPriority=function(U){return this._priorities[U]},fe.prototype.getPriorities=function(){return this._priorities},fe.prototype.getElementsWithPriorities=function(){for(var U=[],P=0,D=this._queue.length;P<D;P++)U.push([this._queue[P],this._priorities[P]]);return U},fe.prototype._init=function(U,P,D){if(U&&P){if(this._queue=[],this._priorities=[],U.length!==P.length)throw new Error("Arrays must have the same length");for(var y=0;y<U.length;y++)this.insert(U[y],P[y])}D&&(this._sorting=D)},fe.prototype._insertAt=function(U,P,D){this._queue.length===D?(this._queue.push(U),this._priorities.push(P)):(this._queue.splice(D,0,U),this._priorities.splice(D,0,P))},Qe.exports&&(Qe.exports=fe)},7470:(Qe,fe,U)=>{Qe.exports&&(Qe.exports={DBSCAN:U(1817),KMEANS:U(4273),OPTICS:U(8680),PriorityQueue:U(8759)})},5469:Qe=>{"use strict";function fe(ve,xe,ye){ye=ye||2;var me,Ae,ze,Ge,Ke,X,re,de=xe&&xe.length,he=de?xe[0]*ye:ve.length,ae=U(ve,0,he,ye,!0),Ie=[];if(!ae||ae.next===ae.prev)return Ie;if(de&&(ae=function I(ve,xe,ye,de){var ae,Ie,ze,he=[];for(ae=0,Ie=xe.length;ae<Ie;ae++)(ze=U(ve,xe[ae]*de,ae<Ie-1?xe[ae+1]*de:ve.length,de,!1))===ze.next&&(ze.steiner=!0),he.push(N(ze));for(he.sort(M),ae=0;ae<he.length;ae++)ye=R(he[ae],ye);return ye}(ve,xe,ae,ye)),ve.length>80*ye){me=ze=ve[0],Ae=Ge=ve[1];for(var _e=ye;_e<he;_e+=ye)(Ke=ve[_e])<me&&(me=Ke),(X=ve[_e+1])<Ae&&(Ae=X),Ke>ze&&(ze=Ke),X>Ge&&(Ge=X);re=0!==(re=Math.max(ze-me,Ge-Ae))?32767/re:0}return D(ae,Ie,ye,me,Ae,re,0),Ie}function U(ve,xe,ye,de,he){var ae,Ie;if(he===Pe(ve,xe,ye,de)>0)for(ae=xe;ae<ye;ae+=de)Ie=ce(ae,ve[ae],ve[ae+1],Ie);else for(ae=ye-de;ae>=xe;ae-=de)Ie=ce(ae,ve[ae],ve[ae+1],Ie);return Ie&&z(Ie,Ie.next)&&(te(Ie),Ie=Ie.next),Ie}function P(ve,xe){if(!ve)return ve;xe||(xe=ve);var de,ye=ve;do{if(de=!1,ye.steiner||!z(ye,ye.next)&&0!==O(ye.prev,ye,ye.next))ye=ye.next;else{if(te(ye),(ye=xe=ye.prev)===ye.next)break;de=!0}}while(de||ye!==xe);return xe}function D(ve,xe,ye,de,he,ae,Ie){if(ve){!Ie&&ae&&function J(ve,xe,ye,de){var he=ve;do{0===he.z&&(he.z=ne(he.x,he.y,xe,ye,de)),he.prevZ=he.prev,he.nextZ=he.next,he=he.next}while(he!==ve);he.prevZ.nextZ=null,he.prevZ=null,function G(ve){var xe,ye,de,he,ae,Ie,me,Ae,ze=1;do{for(ye=ve,ve=null,ae=null,Ie=0;ye;){for(Ie++,de=ye,me=0,xe=0;xe<ze&&(me++,de=de.nextZ);xe++);for(Ae=ze;me>0||Ae>0&&de;)0!==me&&(0===Ae||!de||ye.z<=de.z)?(he=ye,ye=ye.nextZ,me--):(he=de,de=de.nextZ,Ae--),ae?ae.nextZ=he:ve=he,he.prevZ=ae,ae=he;ye=de}ae.nextZ=null,ze*=2}while(Ie>1)}(he)}(ve,de,he,ae);for(var Ae,ze,me=ve;ve.prev!==ve.next;)if(Ae=ve.prev,ze=ve.next,ae?b(ve,de,he,ae):y(ve))xe.push(Ae.i/ye|0),xe.push(ve.i/ye|0),xe.push(ze.i/ye|0),te(ve),ve=ze.next,me=ze.next;else if((ve=ze)===me){Ie?1===Ie?D(ve=w(P(ve),xe,ye),xe,ye,de,he,ae,2):2===Ie&&E(ve,xe,ye,de,he,ae):D(P(ve),xe,ye,de,he,ae,1);break}}}function y(ve){var xe=ve.prev,ye=ve,de=ve.next;if(O(xe,ye,de)>=0)return!1;for(var he=xe.x,ae=ye.x,Ie=de.x,me=xe.y,Ae=ye.y,ze=de.y,Ge=he<ae?he<Ie?he:Ie:ae<Ie?ae:Ie,Ke=me<Ae?me<ze?me:ze:Ae<ze?Ae:ze,X=he>ae?he>Ie?he:Ie:ae>Ie?ae:Ie,re=me>Ae?me>ze?me:ze:Ae>ze?Ae:ze,_e=de.next;_e!==xe;){if(_e.x>=Ge&&_e.x<=X&&_e.y>=Ke&&_e.y<=re&&T(he,me,ae,Ae,Ie,ze,_e.x,_e.y)&&O(_e.prev,_e,_e.next)>=0)return!1;_e=_e.next}return!0}function b(ve,xe,ye,de){var he=ve.prev,ae=ve,Ie=ve.next;if(O(he,ae,Ie)>=0)return!1;for(var me=he.x,Ae=ae.x,ze=Ie.x,Ge=he.y,Ke=ae.y,X=Ie.y,re=me<Ae?me<ze?me:ze:Ae<ze?Ae:ze,_e=Ge<Ke?Ge<X?Ge:X:Ke<X?Ke:X,He=me>Ae?me>ze?me:ze:Ae>ze?Ae:ze,Fe=Ge>Ke?Ge>X?Ge:X:Ke>X?Ke:X,Ye=ne(re,_e,xe,ye,de),ft=ne(He,Fe,xe,ye,de),ht=ve.prevZ,Ct=ve.nextZ;ht&&ht.z>=Ye&&Ct&&Ct.z<=ft;){if(ht.x>=re&&ht.x<=He&&ht.y>=_e&&ht.y<=Fe&&ht!==he&&ht!==Ie&&T(me,Ge,Ae,Ke,ze,X,ht.x,ht.y)&&O(ht.prev,ht,ht.next)>=0||(ht=ht.prevZ,Ct.x>=re&&Ct.x<=He&&Ct.y>=_e&&Ct.y<=Fe&&Ct!==he&&Ct!==Ie&&T(me,Ge,Ae,Ke,ze,X,Ct.x,Ct.y)&&O(Ct.prev,Ct,Ct.next)>=0))return!1;Ct=Ct.nextZ}for(;ht&&ht.z>=Ye;){if(ht.x>=re&&ht.x<=He&&ht.y>=_e&&ht.y<=Fe&&ht!==he&&ht!==Ie&&T(me,Ge,Ae,Ke,ze,X,ht.x,ht.y)&&O(ht.prev,ht,ht.next)>=0)return!1;ht=ht.prevZ}for(;Ct&&Ct.z<=ft;){if(Ct.x>=re&&Ct.x<=He&&Ct.y>=_e&&Ct.y<=Fe&&Ct!==he&&Ct!==Ie&&T(me,Ge,Ae,Ke,ze,X,Ct.x,Ct.y)&&O(Ct.prev,Ct,Ct.next)>=0)return!1;Ct=Ct.nextZ}return!0}function w(ve,xe,ye){var de=ve;do{var he=de.prev,ae=de.next.next;!z(he,ae)&&j(he,de,de.next,ae)&&B(he,ae)&&B(ae,he)&&(xe.push(he.i/ye|0),xe.push(de.i/ye|0),xe.push(ae.i/ye|0),te(de),te(de.next),de=ve=ae),de=de.next}while(de!==ve);return P(de)}function E(ve,xe,ye,de,he,ae){var Ie=ve;do{for(var me=Ie.next.next;me!==Ie.prev;){if(Ie.i!==me.i&&V(Ie,me)){var Ae=ee(Ie,me);return Ie=P(Ie,Ie.next),Ae=P(Ae,Ae.next),D(Ie,xe,ye,de,he,ae,0),void D(Ae,xe,ye,de,he,ae,0)}me=me.next}Ie=Ie.next}while(Ie!==ve)}function M(ve,xe){return ve.x-xe.x}function R(ve,xe){var ye=function Y(ve,xe){var Ie,ye=xe,de=ve.x,he=ve.y,ae=-1/0;do{if(he<=ye.y&&he>=ye.next.y&&ye.next.y!==ye.y){var me=ye.x+(he-ye.y)*(ye.next.x-ye.x)/(ye.next.y-ye.y);if(me<=de&&me>ae&&(ae=me,Ie=ye.x<ye.next.x?ye:ye.next,me===de))return Ie}ye=ye.next}while(ye!==xe);if(!Ie)return null;var X,Ae=Ie,ze=Ie.x,Ge=Ie.y,Ke=1/0;ye=Ie;do{de>=ye.x&&ye.x>=ze&&de!==ye.x&&T(he<Ge?de:ae,he,ze,Ge,he<Ge?ae:de,he,ye.x,ye.y)&&(X=Math.abs(he-ye.y)/(de-ye.x),B(ye,ve)&&(X<Ke||X===Ke&&(ye.x>Ie.x||ye.x===Ie.x&&$(Ie,ye)))&&(Ie=ye,Ke=X)),ye=ye.next}while(ye!==Ae);return Ie}(ve,xe);if(!ye)return xe;var de=ee(ye,ve);return P(de,de.next),P(ye,ye.next)}function $(ve,xe){return O(ve.prev,ve,xe.prev)<0&&O(xe.next,ve,ve.next)<0}function ne(ve,xe,ye,de,he){return(ve=1431655765&((ve=858993459&((ve=252645135&((ve=16711935&((ve=(ve-ye)*he|0)|ve<<8))|ve<<4))|ve<<2))|ve<<1))|(xe=1431655765&((xe=858993459&((xe=252645135&((xe=16711935&((xe=(xe-de)*he|0)|xe<<8))|xe<<4))|xe<<2))|xe<<1))<<1}function N(ve){var xe=ve,ye=ve;do{(xe.x<ye.x||xe.x===ye.x&&xe.y<ye.y)&&(ye=xe),xe=xe.next}while(xe!==ve);return ye}function T(ve,xe,ye,de,he,ae,Ie,me){return(he-Ie)*(xe-me)>=(ve-Ie)*(ae-me)&&(ve-Ie)*(de-me)>=(ye-Ie)*(xe-me)&&(ye-Ie)*(ae-me)>=(he-Ie)*(de-me)}function V(ve,xe){return ve.next.i!==xe.i&&ve.prev.i!==xe.i&&!function oe(ve,xe){var ye=ve;do{if(ye.i!==ve.i&&ye.next.i!==ve.i&&ye.i!==xe.i&&ye.next.i!==xe.i&&j(ye,ye.next,ve,xe))return!0;ye=ye.next}while(ye!==ve);return!1}(ve,xe)&&(B(ve,xe)&&B(xe,ve)&&function ie(ve,xe){var ye=ve,de=!1,he=(ve.x+xe.x)/2,ae=(ve.y+xe.y)/2;do{ye.y>ae!=ye.next.y>ae&&ye.next.y!==ye.y&&he<(ye.next.x-ye.x)*(ae-ye.y)/(ye.next.y-ye.y)+ye.x&&(de=!de),ye=ye.next}while(ye!==ve);return de}(ve,xe)&&(O(ve.prev,ve,xe.prev)||O(ve,xe.prev,xe))||z(ve,xe)&&O(ve.prev,ve,ve.next)>0&&O(xe.prev,xe,xe.next)>0)}function O(ve,xe,ye){return(xe.y-ve.y)*(ye.x-xe.x)-(xe.x-ve.x)*(ye.y-xe.y)}function z(ve,xe){return ve.x===xe.x&&ve.y===xe.y}function j(ve,xe,ye,de){var he=K(O(ve,xe,ye)),ae=K(O(ve,xe,de)),Ie=K(O(ye,de,ve)),me=K(O(ye,de,xe));return!!(he!==ae&&Ie!==me||0===he&&k(ve,ye,xe)||0===ae&&k(ve,de,xe)||0===Ie&&k(ye,ve,de)||0===me&&k(ye,xe,de))}function k(ve,xe,ye){return xe.x<=Math.max(ve.x,ye.x)&&xe.x>=Math.min(ve.x,ye.x)&&xe.y<=Math.max(ve.y,ye.y)&&xe.y>=Math.min(ve.y,ye.y)}function K(ve){return ve>0?1:ve<0?-1:0}function B(ve,xe){return O(ve.prev,ve,ve.next)<0?O(ve,xe,ve.next)>=0&&O(ve,ve.prev,xe)>=0:O(ve,xe,ve.prev)<0||O(ve,ve.next,xe)<0}function ee(ve,xe){var ye=new Le(ve.i,ve.x,ve.y),de=new Le(xe.i,xe.x,xe.y),he=ve.next,ae=xe.prev;return ve.next=xe,xe.prev=ve,ye.next=he,he.prev=ye,de.next=ye,ye.prev=de,ae.next=de,de.prev=ae,de}function ce(ve,xe,ye,de){var he=new Le(ve,xe,ye);return de?(he.next=de.next,he.prev=de,de.next.prev=he,de.next=he):(he.prev=he,he.next=he),he}function te(ve){ve.next.prev=ve.prev,ve.prev.next=ve.next,ve.prevZ&&(ve.prevZ.nextZ=ve.nextZ),ve.nextZ&&(ve.nextZ.prevZ=ve.prevZ)}function Le(ve,xe,ye){this.i=ve,this.x=xe,this.y=ye,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Pe(ve,xe,ye,de){for(var he=0,ae=xe,Ie=ye-de;ae<ye;ae+=de)he+=(ve[Ie]-ve[ae])*(ve[ae+1]+ve[Ie+1]),Ie=ae;return he}Qe.exports=fe,Qe.exports.default=fe,fe.deviation=function(ve,xe,ye,de){var he=xe&&xe.length,Ie=Math.abs(Pe(ve,0,he?xe[0]*ye:ve.length,ye));if(he)for(var me=0,Ae=xe.length;me<Ae;me++)Ie-=Math.abs(Pe(ve,xe[me]*ye,me<Ae-1?xe[me+1]*ye:ve.length,ye));var Ke=0;for(me=0;me<de.length;me+=3){var X=de[me]*ye,re=de[me+1]*ye,_e=de[me+2]*ye;Ke+=Math.abs((ve[X]-ve[_e])*(ve[re+1]-ve[X+1])-(ve[X]-ve[re])*(ve[_e+1]-ve[X+1]))}return 0===Ie&&0===Ke?0:Math.abs((Ke-Ie)/Ie)},fe.flatten=function(ve){for(var xe=ve[0][0].length,ye={vertices:[],holes:[],dimensions:xe},de=0,he=0;he<ve.length;he++){for(var ae=0;ae<ve[he].length;ae++)for(var Ie=0;Ie<xe;Ie++)ye.vertices.push(ve[he][ae][Ie]);he>0&&ye.holes.push(de+=ve[he-1].length)}return ye}},3457:Qe=>{"use strict";var fe="Function.prototype.bind called on incompatible ",U=Array.prototype.slice,P=Object.prototype.toString,D="[object Function]";Qe.exports=function(b){var w=this;if("function"!=typeof w||P.call(w)!==D)throw new TypeError(fe+w);for(var I,E=U.call(arguments,1),R=Math.max(0,w.length-E.length),Y=[],$=0;$<R;$++)Y.push("$"+$);if(I=Function("binder","return function ("+Y.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof I){var G=w.apply(this,E.concat(U.call(arguments)));return Object(G)===G?G:this}return w.apply(b,E.concat(U.call(arguments)))}),w.prototype){var J=function(){};J.prototype=w.prototype,I.prototype=new J,J.prototype=null}return I}},4444:(Qe,fe,U)=>{"use strict";var P=U(3457);Qe.exports=Function.prototype.bind||P},9582:Qe=>{"use strict";var fe=function(){return"string"==typeof function(){}.name},U=Object.getOwnPropertyDescriptor;if(U)try{U([],"length")}catch{U=null}fe.functionsHaveConfigurableNames=function(){if(!fe()||!U)return!1;var y=U(function(){},"name");return!!y&&!!y.configurable};var P=Function.prototype.bind;fe.boundFunctionsHaveNames=function(){return fe()&&"function"==typeof P&&""!==function(){}.bind().name},Qe.exports=fe},5013:(Qe,fe,U)=>{var P=U(6952),D=function(E){this.precision=E&&E.precision?E.precision:17,this.direction=!(!E||!E.direction)&&E.direction,this.pseudoNode=!(!E||!E.pseudoNode)&&E.pseudoNode,this.objectComparator=E&&E.objectComparator?E.objectComparator:w};function y(E){return E.coordinates.map(function(I){return{type:E.type.replace("Multi",""),coordinates:I}})}function b(E,I){return E.hasOwnProperty("coordinates")?E.coordinates.length===I.coordinates.length:E.length===I.length}function w(E,I){return P(E,I,{strict:!0})}D.prototype.compare=function(E,I){if(E.type!==I.type||!b(E,I))return!1;switch(E.type){case"Point":return this.compareCoord(E.coordinates,I.coordinates);case"LineString":return this.compareLine(E.coordinates,I.coordinates,0,!1);case"Polygon":return this.comparePolygon(E,I);case"Feature":return this.compareFeature(E,I);default:if(0===E.type.indexOf("Multi")){var M=this,R=y(E),Y=y(I);return R.every(function($){return this.some(function(J){return M.compare($,J)})},Y)}}return!1},D.prototype.compareCoord=function(E,I){if(E.length!==I.length)return!1;for(var M=0;M<E.length;M++)if(E[M].toFixed(this.precision)!==I[M].toFixed(this.precision))return!1;return!0},D.prototype.compareLine=function(E,I,M,R){if(!b(E,I))return!1;var Y=this.pseudoNode?E:this.removePseudo(E),$=this.pseudoNode?I:this.removePseudo(I);if(!R||this.compareCoord(Y[0],$[0])||($=this.fixStartIndex($,Y))){var J=this.compareCoord(Y[M],$[M]);return this.direction||J?this.comparePath(Y,$):!!this.compareCoord(Y[M],$[$.length-(1+M)])&&this.comparePath(Y.slice().reverse(),$)}},D.prototype.fixStartIndex=function(E,I){for(var M,R=-1,Y=0;Y<E.length;Y++)if(this.compareCoord(E[Y],I[0])){R=Y;break}return R>=0&&(M=[].concat(E.slice(R,E.length),E.slice(1,R+1))),M},D.prototype.comparePath=function(E,I){var M=this;return E.every(function(R,Y){return M.compareCoord(R,this[Y])},I)},D.prototype.comparePolygon=function(E,I){if(this.compareLine(E.coordinates[0],I.coordinates[0],1,!0)){var M=E.coordinates.slice(1,E.coordinates.length),R=I.coordinates.slice(1,I.coordinates.length),Y=this;return M.every(function($){return this.some(function(J){return Y.compareLine($,J,1,!0)})},R)}return!1},D.prototype.compareFeature=function(E,I){return!(E.id!==I.id||!this.objectComparator(E.properties,I.properties)||!this.compareBBox(E,I))&&this.compare(E.geometry,I.geometry)},D.prototype.compareBBox=function(E,I){return!!(!E.bbox&&!I.bbox||E.bbox&&I.bbox&&this.compareCoord(E.bbox,I.bbox))},D.prototype.removePseudo=function(E){return E},Qe.exports=D},5406:(Qe,fe,U)=>{var P=U(7192),D=U(8275),y=U(3269),b=U(1503).Z,w=y.featureEach,M=D.featureCollection;function R(Y){var $=new P(Y);return $.insert=function(J){if("Feature"!==J.type)throw new Error("invalid feature");return J.bbox=J.bbox?J.bbox:b(J),P.prototype.insert.call(this,J)},$.load=function(J){var G=[];return Array.isArray(J)?J.forEach(function(ne){if("Feature"!==ne.type)throw new Error("invalid features");ne.bbox=ne.bbox?ne.bbox:b(ne),G.push(ne)}):w(J,function(ne){if("Feature"!==ne.type)throw new Error("invalid features");ne.bbox=ne.bbox?ne.bbox:b(ne),G.push(ne)}),P.prototype.load.call(this,G)},$.remove=function(J,G){if("Feature"!==J.type)throw new Error("invalid feature");return J.bbox=J.bbox?J.bbox:b(J),P.prototype.remove.call(this,J,G)},$.clear=function(){return P.prototype.clear.call(this)},$.search=function(J){var G=P.prototype.search.call(this,this.toBBox(J));return M(G)},$.collides=function(J){return P.prototype.collides.call(this,this.toBBox(J))},$.all=function(){var J=P.prototype.all.call(this);return M(J)},$.toJSON=function(){return P.prototype.toJSON.call(this)},$.fromJSON=function(J){return P.prototype.fromJSON.call(this,J)},$.toBBox=function(J){var G;if(J.bbox)G=J.bbox;else if(Array.isArray(J)&&4===J.length)G=J;else if(Array.isArray(J)&&6===J.length)G=[J[0],J[1],J[3],J[4]];else if("Feature"===J.type)G=b(J);else{if("FeatureCollection"!==J.type)throw new Error("invalid geojson");G=b(J)}return{minX:G[0],minY:G[1],maxX:G[2],maxY:G[3]}},$}Qe.exports=R,Qe.exports.default=R},7192:function(Qe){Qe.exports=function(){"use strict";function fe(N,T,V,O,z){!function j(k,K,oe,B,ie){for(;B>oe;){if(B-oe>600){var ee=B-oe+1,ce=K-oe+1,te=Math.log(ee),Le=.5*Math.exp(2*te/3),Pe=.5*Math.sqrt(te*Le*(ee-Le)/ee)*(ce-ee/2<0?-1:1);j(k,K,Math.max(oe,Math.floor(K-ce*Le/ee+Pe)),Math.min(B,Math.floor(K+(ee-ce)*Le/ee+Pe)),ie)}var ye=k[K],de=oe,he=B;for(U(k,oe,K),ie(k[B],ye)>0&&U(k,oe,B);de<he;){for(U(k,de,he),de++,he--;ie(k[de],ye)<0;)de++;for(;ie(k[he],ye)>0;)he--}0===ie(k[oe],ye)?U(k,oe,he):U(k,++he,B),he<=K&&(oe=he+1),K<=he&&(B=he-1)}}(N,T,V||0,O||N.length-1,z||P)}function U(N,T,V){var O=N[T];N[T]=N[V],N[V]=O}function P(N,T){return N<T?-1:N>T?1:0}var D=function(N){void 0===N&&(N=9),this._maxEntries=Math.max(4,N),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function y(N,T,V){if(!V)return T.indexOf(N);for(var O=0;O<T.length;O++)if(V(N,T[O]))return O;return-1}function b(N,T){w(N,0,N.children.length,T,N)}function w(N,T,V,O,z){z||(z=G(null)),z.minX=1/0,z.minY=1/0,z.maxX=-1/0,z.maxY=-1/0;for(var j=T;j<V;j++){var k=N.children[j];E(z,N.leaf?O(k):k)}return z}function E(N,T){return N.minX=Math.min(N.minX,T.minX),N.minY=Math.min(N.minY,T.minY),N.maxX=Math.max(N.maxX,T.maxX),N.maxY=Math.max(N.maxY,T.maxY),N}function I(N,T){return N.minX-T.minX}function M(N,T){return N.minY-T.minY}function R(N){return(N.maxX-N.minX)*(N.maxY-N.minY)}function Y(N){return N.maxX-N.minX+(N.maxY-N.minY)}function $(N,T){return N.minX<=T.minX&&N.minY<=T.minY&&T.maxX<=N.maxX&&T.maxY<=N.maxY}function J(N,T){return T.minX<=N.maxX&&T.minY<=N.maxY&&T.maxX>=N.minX&&T.maxY>=N.minY}function G(N){return{children:N,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ne(N,T,V,O,z){for(var j=[T,V];j.length;)if(!((V=j.pop())-(T=j.pop())<=O)){var k=T+Math.ceil((V-T)/O/2)*O;fe(N,k,T,V,z),j.push(T,k,k,V)}}return D.prototype.all=function(){return this._all(this.data,[])},D.prototype.search=function(N){var T=this.data,V=[];if(!J(N,T))return V;for(var O=this.toBBox,z=[];T;){for(var j=0;j<T.children.length;j++){var k=T.children[j],K=T.leaf?O(k):k;J(N,K)&&(T.leaf?V.push(k):$(N,K)?this._all(k,V):z.push(k))}T=z.pop()}return V},D.prototype.collides=function(N){var T=this.data;if(!J(N,T))return!1;for(var V=[];T;){for(var O=0;O<T.children.length;O++){var z=T.children[O],j=T.leaf?this.toBBox(z):z;if(J(N,j)){if(T.leaf||$(N,j))return!0;V.push(z)}}T=V.pop()}return!1},D.prototype.load=function(N){if(!N||!N.length)return this;if(N.length<this._minEntries){for(var T=0;T<N.length;T++)this.insert(N[T]);return this}var V=this._build(N.slice(),0,N.length-1,0);if(this.data.children.length)if(this.data.height===V.height)this._splitRoot(this.data,V);else{if(this.data.height<V.height){var O=this.data;this.data=V,V=O}this._insert(V,this.data.height-V.height-1,!0)}else this.data=V;return this},D.prototype.insert=function(N){return N&&this._insert(N,this.data.height-1),this},D.prototype.clear=function(){return this.data=G([]),this},D.prototype.remove=function(N,T){if(!N)return this;for(var V,O,z,j=this.data,k=this.toBBox(N),K=[],oe=[];j||K.length;){if(j||(j=K.pop(),O=K[K.length-1],V=oe.pop(),z=!0),j.leaf){var B=y(N,j.children,T);if(-1!==B)return j.children.splice(B,1),K.push(j),this._condense(K),this}z||j.leaf||!$(j,k)?O?(V++,j=O.children[V],z=!1):j=null:(K.push(j),oe.push(V),V=0,O=j,j=j.children[0])}return this},D.prototype.toBBox=function(N){return N},D.prototype.compareMinX=function(N,T){return N.minX-T.minX},D.prototype.compareMinY=function(N,T){return N.minY-T.minY},D.prototype.toJSON=function(){return this.data},D.prototype.fromJSON=function(N){return this.data=N,this},D.prototype._all=function(N,T){for(var V=[];N;)N.leaf?T.push.apply(T,N.children):V.push.apply(V,N.children),N=V.pop();return T},D.prototype._build=function(N,T,V,O){var z,j=V-T+1,k=this._maxEntries;if(j<=k)return b(z=G(N.slice(T,V+1)),this.toBBox),z;O||(O=Math.ceil(Math.log(j)/Math.log(k)),k=Math.ceil(j/Math.pow(k,O-1))),(z=G([])).leaf=!1,z.height=O;var K=Math.ceil(j/k),oe=K*Math.ceil(Math.sqrt(k));ne(N,T,V,oe,this.compareMinX);for(var B=T;B<=V;B+=oe){var ie=Math.min(B+oe-1,V);ne(N,B,ie,K,this.compareMinY);for(var ee=B;ee<=ie;ee+=K){var ce=Math.min(ee+K-1,ie);z.children.push(this._build(N,ee,ce,O-1))}}return b(z,this.toBBox),z},D.prototype._chooseSubtree=function(N,T,V,O){for(;O.push(T),!T.leaf&&O.length-1!==V;){for(var z=1/0,j=1/0,k=void 0,K=0;K<T.children.length;K++){var oe=T.children[K],B=R(oe),ie=(ee=N,ce=oe,(Math.max(ce.maxX,ee.maxX)-Math.min(ce.minX,ee.minX))*(Math.max(ce.maxY,ee.maxY)-Math.min(ce.minY,ee.minY))-B);ie<j?(j=ie,z=B<z?B:z,k=oe):ie===j&&B<z&&(z=B,k=oe)}T=k||T.children[0]}var ee,ce;return T},D.prototype._insert=function(N,T,V){var O=V?N:this.toBBox(N),z=[],j=this._chooseSubtree(O,this.data,T,z);for(j.children.push(N),E(j,O);T>=0&&z[T].children.length>this._maxEntries;)this._split(z,T),T--;this._adjustParentBBoxes(O,z,T)},D.prototype._split=function(N,T){var V=N[T],O=V.children.length,z=this._minEntries;this._chooseSplitAxis(V,z,O);var j=this._chooseSplitIndex(V,z,O),k=G(V.children.splice(j,V.children.length-j));k.height=V.height,k.leaf=V.leaf,b(V,this.toBBox),b(k,this.toBBox),T?N[T-1].children.push(k):this._splitRoot(V,k)},D.prototype._splitRoot=function(N,T){this.data=G([N,T]),this.data.height=N.height+1,this.data.leaf=!1,b(this.data,this.toBBox)},D.prototype._chooseSplitIndex=function(N,T,V){for(var O,z,j,k,K,oe,B,ie=1/0,ee=1/0,ce=T;ce<=V-T;ce++){var te=w(N,0,ce,this.toBBox),Le=w(N,ce,V,this.toBBox),Pe=(z=te,j=Le,void 0,void 0,void 0,void 0,k=Math.max(z.minX,j.minX),K=Math.max(z.minY,j.minY),oe=Math.min(z.maxX,j.maxX),B=Math.min(z.maxY,j.maxY),Math.max(0,oe-k)*Math.max(0,B-K)),ve=R(te)+R(Le);Pe<ie?(ie=Pe,O=ce,ee=ve<ee?ve:ee):Pe===ie&&ve<ee&&(ee=ve,O=ce)}return O||V-T},D.prototype._chooseSplitAxis=function(N,T,V){var O=N.leaf?this.compareMinX:I,z=N.leaf?this.compareMinY:M;this._allDistMargin(N,T,V,O)<this._allDistMargin(N,T,V,z)&&N.children.sort(O)},D.prototype._allDistMargin=function(N,T,V,O){N.children.sort(O);for(var z=this.toBBox,j=w(N,0,T,z),k=w(N,V-T,V,z),K=Y(j)+Y(k),oe=T;oe<V-T;oe++){var B=N.children[oe];E(j,N.leaf?z(B):B),K+=Y(j)}for(var ie=V-T-1;ie>=T;ie--){var ee=N.children[ie];E(k,N.leaf?z(ee):ee),K+=Y(k)}return K},D.prototype._adjustParentBBoxes=function(N,T,V){for(var O=V;O>=0;O--)E(T[O],N)},D.prototype._condense=function(N){for(var T=N.length-1,V=void 0;T>=0;T--)0===N[T].children.length?T>0?(V=N[T-1].children).splice(V.indexOf(N[T]),1):this.clear():b(N[T],this.toBBox)},D}()},5203:(Qe,fe,U)=>{"use strict";var P,D=SyntaxError,y=Function,b=TypeError,w=function(te){try{return y('"use strict"; return ('+te+").constructor;")()}catch{}},E=Object.getOwnPropertyDescriptor;if(E)try{E({},"")}catch{E=null}var I=function(){throw new b},M=E?function(){try{return I}catch{try{return E(arguments,"callee").get}catch{return I}}}():I,R=U(2969)(),Y=Object.getPrototypeOf||function(te){return te.__proto__},$={},J=typeof Uint8Array>"u"?P:Y(Uint8Array),G={"%AggregateError%":typeof AggregateError>"u"?P:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?P:ArrayBuffer,"%ArrayIteratorPrototype%":R?Y([][Symbol.iterator]()):P,"%AsyncFromSyncIteratorPrototype%":P,"%AsyncFunction%":$,"%AsyncGenerator%":$,"%AsyncGeneratorFunction%":$,"%AsyncIteratorPrototype%":$,"%Atomics%":typeof Atomics>"u"?P:Atomics,"%BigInt%":typeof BigInt>"u"?P:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?P:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?P:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?P:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?P:Float32Array,"%Float64Array%":typeof Float64Array>"u"?P:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?P:FinalizationRegistry,"%Function%":y,"%GeneratorFunction%":$,"%Int8Array%":typeof Int8Array>"u"?P:Int8Array,"%Int16Array%":typeof Int16Array>"u"?P:Int16Array,"%Int32Array%":typeof Int32Array>"u"?P:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":R?Y(Y([][Symbol.iterator]())):P,"%JSON%":"object"==typeof JSON?JSON:P,"%Map%":typeof Map>"u"?P:Map,"%MapIteratorPrototype%":typeof Map>"u"||!R?P:Y((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?P:Promise,"%Proxy%":typeof Proxy>"u"?P:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?P:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?P:Set,"%SetIteratorPrototype%":typeof Set>"u"||!R?P:Y((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?P:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":R?Y(""[Symbol.iterator]()):P,"%Symbol%":R?Symbol:P,"%SyntaxError%":D,"%ThrowTypeError%":M,"%TypedArray%":J,"%TypeError%":b,"%Uint8Array%":typeof Uint8Array>"u"?P:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?P:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?P:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?P:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?P:WeakMap,"%WeakRef%":typeof WeakRef>"u"?P:WeakRef,"%WeakSet%":typeof WeakSet>"u"?P:WeakSet};try{null.error}catch(te){var ne=Y(Y(te));G["%Error.prototype%"]=ne}var N=function te(Le){var Pe;if("%AsyncFunction%"===Le)Pe=w("async function () {}");else if("%GeneratorFunction%"===Le)Pe=w("function* () {}");else if("%AsyncGeneratorFunction%"===Le)Pe=w("async function* () {}");else if("%AsyncGenerator%"===Le){var ve=te("%AsyncGeneratorFunction%");ve&&(Pe=ve.prototype)}else if("%AsyncIteratorPrototype%"===Le){var xe=te("%AsyncGenerator%");xe&&(Pe=Y(xe.prototype))}return G[Le]=Pe,Pe},T={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},V=U(4444),O=U(3164),z=V.call(Function.call,Array.prototype.concat),j=V.call(Function.apply,Array.prototype.splice),k=V.call(Function.call,String.prototype.replace),K=V.call(Function.call,String.prototype.slice),oe=V.call(Function.call,RegExp.prototype.exec),B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ie=/\\(\\)?/g,ee=function(Le){var Pe=K(Le,0,1),ve=K(Le,-1);if("%"===Pe&&"%"!==ve)throw new D("invalid intrinsic syntax, expected closing `%`");if("%"===ve&&"%"!==Pe)throw new D("invalid intrinsic syntax, expected opening `%`");var xe=[];return k(Le,B,function(ye,de,he,ae){xe[xe.length]=he?k(ae,ie,"$1"):de||ye}),xe},ce=function(Le,Pe){var xe,ve=Le;if(O(T,ve)&&(ve="%"+(xe=T[ve])[0]+"%"),O(G,ve)){var ye=G[ve];if(ye===$&&(ye=N(ve)),typeof ye>"u"&&!Pe)throw new b("intrinsic "+Le+" exists, but is not available. Please file an issue!");return{alias:xe,name:ve,value:ye}}throw new D("intrinsic "+Le+" does not exist!")};Qe.exports=function(Le,Pe){if("string"!=typeof Le||0===Le.length)throw new b("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Pe)throw new b('"allowMissing" argument must be a boolean');if(null===oe(/^%?[^%]*%?$/,Le))throw new D("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ve=ee(Le),xe=ve.length>0?ve[0]:"",ye=ce("%"+xe+"%",Pe),de=ye.name,he=ye.value,ae=!1,Ie=ye.alias;Ie&&(xe=Ie[0],j(ve,z([0,1],Ie)));for(var me=1,Ae=!0;me<ve.length;me+=1){var ze=ve[me],Ge=K(ze,0,1),Ke=K(ze,-1);if(('"'===Ge||"'"===Ge||"`"===Ge||'"'===Ke||"'"===Ke||"`"===Ke)&&Ge!==Ke)throw new D("property names with quotes must have matching quotes");if(("constructor"===ze||!Ae)&&(ae=!0),O(G,de="%"+(xe+="."+ze)+"%"))he=G[de];else if(null!=he){if(!(ze in he)){if(!Pe)throw new b("base intrinsic for "+Le+" exists, but the property is not available.");return}if(E&&me+1>=ve.length){var X=E(he,ze);he=(Ae=!!X)&&"get"in X&&!("originalValue"in X.get)?X.get:he[ze]}else Ae=O(he,ze),he=he[ze];Ae&&!ae&&(G[de]=he)}}return he}},7027:(Qe,fe,U)=>{"use strict";var D=U(5203)("%Object.defineProperty%",!0),y=function(){if(D)try{return D({},"a",{value:1}),!0}catch{return!1}return!1};y.hasArrayLengthDefineBug=function(){if(!y())return null;try{return 1!==D([],"length",{value:1}).length}catch{return!0}},Qe.exports=y},2969:(Qe,fe,U)=>{"use strict";var P=typeof Symbol<"u"&&Symbol,D=U(1983);Qe.exports=function(){return"function"==typeof P&&"function"==typeof Symbol&&"symbol"==typeof P("foo")&&"symbol"==typeof Symbol("bar")&&D()}},1983:Qe=>{"use strict";Qe.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var U={},P=Symbol("test"),D=Object(P);if("string"==typeof P||"[object Symbol]"!==Object.prototype.toString.call(P)||"[object Symbol]"!==Object.prototype.toString.call(D))return!1;for(P in U[P]=42,U)return!1;if("function"==typeof Object.keys&&0!==Object.keys(U).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(U).length)return!1;var b=Object.getOwnPropertySymbols(U);if(1!==b.length||b[0]!==P||!Object.prototype.propertyIsEnumerable.call(U,P))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var w=Object.getOwnPropertyDescriptor(U,P);if(42!==w.value||!0!==w.enumerable)return!1}return!0}},6259:(Qe,fe,U)=>{"use strict";var P=U(1983);Qe.exports=function(){return P()&&!!Symbol.toStringTag}},3164:(Qe,fe,U)=>{"use strict";var P=U(4444);Qe.exports=P.call(Function.call,Object.prototype.hasOwnProperty)},3407:(Qe,fe,U)=>{"use strict";var P=U(6259)(),y=U(5834)("Object.prototype.toString"),b=function(M){return!(P&&M&&"object"==typeof M&&Symbol.toStringTag in M)&&"[object Arguments]"===y(M)},w=function(M){return!!b(M)||null!==M&&"object"==typeof M&&"number"==typeof M.length&&M.length>=0&&"[object Array]"!==y(M)&&"[object Function]"===y(M.callee)},E=function(){return b(arguments)}();b.isLegacyArguments=w,Qe.exports=E?b:w},2374:(Qe,fe,U)=>{"use strict";var P=Date.prototype.getDay,y=Object.prototype.toString,w=U(6259)();Qe.exports=function(I){return"object"==typeof I&&null!==I&&(w?function(I){try{return P.call(I),!0}catch{return!1}}(I):"[object Date]"===y.call(I))}},2342:(Qe,fe,U)=>{"use strict";var y,b,w,E,P=U(5834),D=U(6259)();if(D){y=P("Object.prototype.hasOwnProperty"),b=P("RegExp.prototype.exec"),w={};var I=function(){throw w};E={toString:I,valueOf:I},"symbol"==typeof Symbol.toPrimitive&&(E[Symbol.toPrimitive]=I)}var M=P("Object.prototype.toString"),R=Object.getOwnPropertyDescriptor;Qe.exports=D?function(J){if(!J||"object"!=typeof J)return!1;var G=R(J,"lastIndex");if(!G||!y(G,"value"))return!1;try{b(J,E)}catch(N){return N===w}}:function(J){return!(!J||"object"!=typeof J&&"function"!=typeof J)&&"[object RegExp]"===M(J)}},9307:()=>{!function(){"use strict";(function(Qe){function fe(D,y,b,w){var E;E=y?new U(D,0,b,w):new P(D,0,b,w),this.root=E}function U(D,y,b,w){this._bounds=D,this.children=[],this.nodes=[],w&&(this._maxChildren=w),b&&(this._maxDepth=b),y&&(this._depth=y)}function P(D,y,b,w){U.call(this,D,y,b,w),this._stuckChildren=[]}fe.prototype.root=null,fe.prototype.insert=function(D){if(D instanceof Array)for(var y=D.length,b=0;b<y;b++)this.root.insert(D[b]);else this.root.insert(D)},fe.prototype.clear=function(){this.root.clear()},fe.prototype.retrieve=function(D){return this.root.retrieve(D).slice(0)},fe.prototype.retrieveInBounds=function(D){var y=this.root.retrieveInBounds(D);return fe._filterResults(y,D)},fe._filterResults=function(D,y){var b=[];if(this.root instanceof P)for(var w=0;w<D.length;w++){var E=D[w];fe._isBoundOverlappingBound(E,y)&&b.push(E)}else D.forEach(function(I){fe._isPointInsideBounds(I,y)&&b.push(I)});return b},fe._isPointInsideBounds=function(D,y){return D.x>=y.x&&D.x<=y.x+y.width&&D.y>=y.y&&D.y<=y.y+y.height},fe._isBoundOverlappingBound=function(D,y){return!(D.x>y.x+y.width||y.x>D.x+D.width||D.y>y.y+y.height||y.y>D.y+D.height)},U.prototype.nodes=null,U.prototype._classConstructor=U,U.prototype.children=null,U.prototype._bounds=null,U.prototype._depth=0,U.prototype._maxChildren=4,U.prototype._maxDepth=4,U.TOP_LEFT=0,U.TOP_RIGHT=1,U.BOTTOM_LEFT=2,U.BOTTOM_RIGHT=3,U.prototype.insert=function(D){if(this.nodes.length){var y=this._findIndex(D);this.nodes[y].insert(D)}else{this.children.push(D);var b=this.children.length;if(!(this._depth>=this._maxDepth)&&b>this._maxChildren){this.subdivide();for(var w=0;w<b;w++)this.insert(this.children[w]);this.children.length=0}}},U.prototype.retrieve=function(D){if(this.nodes.length){var y=this._findIndex(D);return this.nodes[y].retrieve(D)}return this.children},U.prototype.retrieveInBounds=function(D){var y=[];if(this.collidesWith(D))if(y=y.concat(this._stuckChildren),this.children.length)y=y.concat(this.children);else if(this.nodes.length)for(var b=0;b<this.nodes.length;b++)y=y.concat(this.nodes[b].retrieveInBounds(D));return y},U.prototype.collidesWith=function(D){var y=this._bounds;return!(y.x>D.x+D.width||D.x>y.x+y.width||y.y>D.y+D.height||D.y>y.y+y.height)},U.prototype._findIndex=function(D){var y=this._bounds,w=!(D.y>y.y+y.height/2),E=U.TOP_LEFT;return D.x>y.x+y.width/2?E=w?U.TOP_RIGHT:U.BOTTOM_RIGHT:w||(E=U.BOTTOM_LEFT),E},U.prototype.subdivide=function(){var D=this._depth+1,y=this._bounds.x,b=this._bounds.y,w=this._bounds.width/2|0,E=this._bounds.height/2|0,I=y+w,M=b+E;this.nodes[U.TOP_LEFT]=new this._classConstructor({x:y,y:b,width:w,height:E},D,this._maxDepth,this._maxChildren),this.nodes[U.TOP_RIGHT]=new this._classConstructor({x:I,y:b,width:w,height:E},D,this._maxDepth,this._maxChildren),this.nodes[U.BOTTOM_LEFT]=new this._classConstructor({x:y,y:M,width:w,height:E},D,this._maxDepth,this._maxChildren),this.nodes[U.BOTTOM_RIGHT]=new this._classConstructor({x:I,y:M,width:w,height:E},D,this._maxDepth,this._maxChildren)},U.prototype.clear=function(){this.children.length=0;for(var D=this.nodes.length,y=0;y<D;y++)this.nodes[y].clear();this.nodes.length=0},(P.prototype=new U)._classConstructor=P,P.prototype._stuckChildren=null,P.prototype._out=[],P.prototype.insert=function(D){if(this.nodes.length){var y=this._findIndex(D),b=this.nodes[y];D.x>=b._bounds.x&&D.x+D.width<=b._bounds.x+b._bounds.width&&D.y>=b._bounds.y&&D.y+D.height<=b._bounds.y+b._bounds.height?this.nodes[y].insert(D):this._stuckChildren.push(D)}else{this.children.push(D);var w=this.children.length;if(this._depth<this._maxDepth&&w>this._maxChildren){this.subdivide();for(var E=0;E<w;E++)this.insert(this.children[E]);this.children.length=0}}},P.prototype.getChildren=function(){return this.children.concat(this._stuckChildren)},P.prototype.retrieve=function(D){var y=this._out;if(y.length=0,this.nodes.length){var b=this._findIndex(D);y.push.apply(y,this.nodes[b].retrieve(D))}return y.push.apply(y,this._stuckChildren),y.push.apply(y,this.children),y},P.prototype.clear=function(){this._stuckChildren.length=0,this.children.length=0;var D=this.nodes.length;if(D){for(var y=0;y<D;y++)this.nodes[y].clear();this.nodes.length=0}},Qe.QuadTree=fe})(window),L.GridLayer.MaskCanvas=L.GridLayer.extend({options:{radius:5,useAbsoluteRadius:!0,color:"#000",opacity:.5,noMask:!1,lineColor:void 0,debug:!1,zIndex:18},initialize:function(Qe){L.setOptions(this,Qe)},createTile:function(Qe){var fe=document.createElement("canvas");return fe.width=fe.height=this.options.tileSize,this._draw(fe,Qe),this.options.debug&&this._drawDebugInfo(fe,Qe),fe},_drawDebugInfo:function(Qe,fe){var U=this.options.tileSize,P=Qe.getContext("2d");P.globalCompositeOperation="xor",P.fillStyle="#fff",P.fillRect(0,0,U,U),P.strokeStyle="#000",P.strokeText("x: "+fe.x+", y: "+fe.y+", zoom: "+fe.z,20,20),P.strokeStyle="#f55",P.beginPath(),P.moveTo(0,0),P.lineTo(U,0),P.lineTo(U,U),P.lineTo(0,U),P.closePath(),P.stroke()},setData:function(Qe){var fe=this;this.bounds=new L.LatLngBounds(Qe),this._quad=new QuadTree(this._boundsToQuery(this.bounds),!1,6,6);var P=1,D=0;Qe[0]instanceof L.LatLng&&(P="lng",D="lat"),this._maxRadius=0,Qe.forEach(function(b){var w=b[2]||fe.options.radius;fe._quad.insert({x:b[P],y:b[D],r:w}),fe._maxRadius=Math.max(fe._maxRadius,w)}),this._map&&this.redraw()},setRadius:function(Qe){this.options.radius=Qe,this.redraw()},_getMaxRadius:function(Qe){return this._calcRadius(this._maxRadius,Qe)},_tilePoint:function(Qe,fe){var U=Qe.multiplyBy(this.options.tileSize),P=this._map.project(new L.LatLng(fe.y,fe.x),Qe.z);return[Math.round(P.x-U.x),Math.round(P.y-U.y),this._calcRadius(fe.r||this.options.radius,Qe.z)]},_boundsToQuery:function(Qe){return null==Qe.getSouthWest()?{x:0,y:0,width:.1,height:.1}:{x:Qe.getSouthWest().lng,y:Qe.getSouthWest().lat,width:Qe.getNorthEast().lng-Qe.getSouthWest().lng,height:Qe.getNorthEast().lat-Qe.getSouthWest().lat}},_calcRadius:function(Qe,fe){var U;if(this.options.useAbsoluteRadius){var D=Qe/40075017*360/Math.cos(Math.PI/180*this._latLng.lat),y=new L.LatLng(this._latLng.lat,this._latLng.lng-D,!0),b=this._latLngToLayerPoint(y,fe),w=this._latLngToLayerPoint(this._latLng,fe);U=Math.max(Math.round(w.x-b.x),1)}else U=Qe;return U},_latLngToLayerPoint:function(Qe,fe){return this._map.project(Qe,fe)._round()._subtract(this._map.getPixelOrigin())},_draw:function(Qe,fe){if(this._quad&&this._map){var U=this.options.tileSize,P=fe.multiplyBy(U),D=P.add(new L.Point(U,U));if(this.options.useAbsoluteRadius){var y=P.add(new L.Point(U/2,U/2));this._latLng=this._map.unproject(y,fe.z)}var b=new L.Point(this._getMaxRadius(fe.z),this._getMaxRadius(fe.z));P=P.subtract(b),D=D.add(b);var w=new L.LatLngBounds(this._map.unproject(D,fe.z),this._map.unproject(P,fe.z)),E=this._quad.retrieveInBounds(this._boundsToQuery(w));this._drawPoints(Qe,fe,E)}},_drawPoints:function(Qe,fe,U){var D,P=Qe.getContext("2d");for(var y in P.fillStyle=this.options.color,this.options.lineColor&&(P.strokeStyle=this.options.lineColor,P.lineWidth=this.options.lineWidth||1),P.globalCompositeOperation="source-over",!this.options.noMask&&!this.options.debug&&(P.fillRect(0,0,this.options.tileSize,this.options.tileSize),P.globalCompositeOperation="destination-out"),U)U.hasOwnProperty(y)&&(D=this._tilePoint(fe,U[y]),P.beginPath(),P.arc(D[0],D[1],D[2],0,2*Math.PI),P.fill(),this.options.lineColor&&P.stroke())}}),L.TileLayer.maskCanvas=function(Qe){return new L.GridLayer.MaskCanvas(Qe)}}()},9529:function(Qe,fe){!function(U){"use strict";var P=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(y){L.Util.setOptions(this,y),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var b=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,b?this._withAnimation:this._noAnimation),this._markerCluster=b?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(y){if(y instanceof L.LayerGroup)return this.addLayers([y]);if(!y.getLatLng)return this._nonPointGroup.addLayer(y),this.fire("layeradd",{layer:y}),this;if(!this._map)return this._needsClustering.push(y),this.fire("layeradd",{layer:y}),this;if(this.hasLayer(y))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(y,this._maxZoom),this.fire("layeradd",{layer:y}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var b=y,w=this._zoom;if(y.__parent)for(;b.__parent._zoom>=w;)b=b.__parent;return this._currentShownBounds.contains(b.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(y,b):this._animationAddLayerNonAnimated(y,b)),this},removeLayer:function(y){return y instanceof L.LayerGroup?this.removeLayers([y]):y.getLatLng?this._map?y.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(y)),this._removeLayer(y,!0),this.fire("layerremove",{layer:y}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),y.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(y)&&(this._featureGroup.removeLayer(y),y.clusterShow&&y.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,y)&&this.hasLayer(y)&&this._needsRemoving.push({layer:y,latlng:y._latlng}),this.fire("layerremove",{layer:y}),this):(this._nonPointGroup.removeLayer(y),this.fire("layerremove",{layer:y}),this)},addLayers:function(y,b){if(!L.Util.isArray(y))return this.addLayer(y);var G,w=this._featureGroup,E=this._nonPointGroup,I=this.options.chunkedLoading,M=this.options.chunkInterval,R=this.options.chunkProgress,Y=y.length,$=0,J=!0;if(this._map){var ne=(new Date).getTime(),N=L.bind(function(){var V=(new Date).getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();$<Y&&!(I&&$%200==0&&(new Date).getTime()-V>M);$++)if((G=y[$])instanceof L.LayerGroup)J&&(y=y.slice(),J=!1),this._extractNonGroupLayers(G,y),Y=y.length;else if(G.getLatLng){if(!this.hasLayer(G)&&(this._addLayer(G,this._maxZoom),b||this.fire("layeradd",{layer:G}),G.__parent&&2===G.__parent.getChildCount())){var z=G.__parent.getAllChildMarkers();w.removeLayer(z[0]===G?z[1]:z[0])}}else E.addLayer(G),b||this.fire("layeradd",{layer:G});R&&R($,Y,(new Date).getTime()-ne),$===Y?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(N,this.options.chunkDelay)},this);N()}else for(var T=this._needsClustering;$<Y;$++)(G=y[$])instanceof L.LayerGroup?(J&&(y=y.slice(),J=!1),this._extractNonGroupLayers(G,y),Y=y.length):G.getLatLng?this.hasLayer(G)||T.push(G):E.addLayer(G);return this},removeLayers:function(y){var b,w,E=y.length,I=this._featureGroup,M=this._nonPointGroup,R=!0;if(!this._map){for(b=0;b<E;b++)(w=y[b])instanceof L.LayerGroup?(R&&(y=y.slice(),R=!1),this._extractNonGroupLayers(w,y),E=y.length):(this._arraySplice(this._needsClustering,w),M.removeLayer(w),this.hasLayer(w)&&this._needsRemoving.push({layer:w,latlng:w._latlng}),this.fire("layerremove",{layer:w}));return this}if(this._unspiderfy){this._unspiderfy();var Y=y.slice(),$=E;for(b=0;b<$;b++)(w=Y[b])instanceof L.LayerGroup?(this._extractNonGroupLayers(w,Y),$=Y.length):this._unspiderfyLayer(w)}for(b=0;b<E;b++)(w=y[b])instanceof L.LayerGroup?(R&&(y=y.slice(),R=!1),this._extractNonGroupLayers(w,y),E=y.length):w.__parent?(this._removeLayer(w,!0,!0),this.fire("layerremove",{layer:w}),I.hasLayer(w)&&(I.removeLayer(w),w.clusterShow&&w.clusterShow())):(M.removeLayer(w),this.fire("layerremove",{layer:w}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(y){y.off(this._childMarkerEventHandlers,this),delete y.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var y=new L.LatLngBounds;this._topClusterLevel&&y.extend(this._topClusterLevel._bounds);for(var b=this._needsClustering.length-1;b>=0;b--)y.extend(this._needsClustering[b].getLatLng());return y.extend(this._nonPointGroup.getBounds()),y},eachLayer:function(y,b){var I,M,R,w=this._needsClustering.slice(),E=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(w),M=w.length-1;M>=0;M--){for(I=!0,R=E.length-1;R>=0;R--)if(E[R].layer===w[M]){I=!1;break}I&&y.call(b,w[M])}this._nonPointGroup.eachLayer(y,b)},getLayers:function(){var y=[];return this.eachLayer(function(b){y.push(b)}),y},getLayer:function(y){var b=null;return y=parseInt(y,10),this.eachLayer(function(w){L.stamp(w)===y&&(b=w)}),b},hasLayer:function(y){if(!y)return!1;var b,w=this._needsClustering;for(b=w.length-1;b>=0;b--)if(w[b]===y)return!0;for(b=(w=this._needsRemoving).length-1;b>=0;b--)if(w[b].layer===y)return!1;return!(!y.__parent||y.__parent._group!==this)||this._nonPointGroup.hasLayer(y)},zoomToShowLayer:function(y,b){var w=this._map;"function"!=typeof b&&(b=function(){});var E=function(){(w.hasLayer(y)||w.hasLayer(y.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",E,this),this.off("animationend",E,this),w.hasLayer(y)?b():y.__parent._icon&&(this.once("spiderfied",b,this),y.__parent.spiderfy()))};y._icon&&this._map.getBounds().contains(y.getLatLng())?b():y.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",E,this),this._map.panTo(y.getLatLng())):(this._map.on("moveend",E,this),this.on("animationend",E,this),y.__parent.zoomToBounds())},onAdd:function(y){var b,w,E;if(this._map=y,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(y),this._nonPointGroup.addTo(y),this._gridClusters||this._generateInitialClusters(),this._maxLat=y.options.crs.projection.MAX_LATITUDE,b=0,w=this._needsRemoving.length;b<w;b++)(E=this._needsRemoving[b]).newlatlng=E.layer._latlng,E.layer._latlng=E.latlng;for(b=0,w=this._needsRemoving.length;b<w;b++)this._removeLayer((E=this._needsRemoving[b]).layer,!0),E.layer._latlng=E.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),w=this._needsClustering,this._needsClustering=[],this.addLayers(w,!0)},onRemove:function(y){y.off("zoomend",this._zoomEnd,this),y.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(y){for(var b=y;b&&!b._icon;)b=b.__parent;return b||null},_arraySplice:function(y,b){for(var w=y.length-1;w>=0;w--)if(y[w]===b)return y.splice(w,1),!0},_removeFromGridUnclustered:function(y,b){for(var w=this._map,E=this._gridUnclustered,I=Math.floor(this._map.getMinZoom());b>=I&&E[b].removeObject(y,w.project(y.getLatLng(),b));b--);},_childMarkerDragStart:function(y){y.target.__dragStart=y.target._latlng},_childMarkerMoved:function(y){if(!this._ignoreMove&&!y.target.__dragStart){var b=y.target._popup&&y.target._popup.isOpen();this._moveChild(y.target,y.oldLatLng,y.latlng),b&&y.target.openPopup()}},_moveChild:function(y,b,w){y._latlng=b,this.removeLayer(y),y._latlng=w,this.addLayer(y)},_childMarkerDragEnd:function(y){var b=y.target.__dragStart;delete y.target.__dragStart,b&&this._moveChild(y.target,b,y.target._latlng)},_removeLayer:function(y,b,w){var E=this._gridClusters,I=this._gridUnclustered,M=this._featureGroup,R=this._map,Y=Math.floor(this._map.getMinZoom());b&&this._removeFromGridUnclustered(y,this._maxZoom);var G,$=y.__parent;for(this._arraySplice($._markers,y);$&&($._childCount--,$._boundsNeedUpdate=!0,!($._zoom<Y));)b&&$._childCount<=1?(G=$._markers[0]===y?$._markers[1]:$._markers[0],E[$._zoom].removeObject($,R.project($._cLatLng,$._zoom)),I[$._zoom].addObject(G,R.project(G.getLatLng(),$._zoom)),this._arraySplice($.__parent._childClusters,$),$.__parent._markers.push(G),G.__parent=$.__parent,$._icon&&(M.removeLayer($),w||M.addLayer(G))):$._iconNeedsUpdate=!0,$=$.__parent;delete y.__parent},_isOrIsParent:function(y,b){for(;b;){if(y===b)return!0;b=b.parentNode}return!1},fire:function(y,b,w){if(b&&b.layer instanceof L.MarkerCluster){if(b.originalEvent&&this._isOrIsParent(b.layer._icon,b.originalEvent.relatedTarget))return;y="cluster"+y}L.FeatureGroup.prototype.fire.call(this,y,b,w)},listens:function(y,b){return L.FeatureGroup.prototype.listens.call(this,y,b)||L.FeatureGroup.prototype.listens.call(this,"cluster"+y,b)},_defaultIconCreateFunction:function(y){var b=y.getChildCount(),w=" marker-cluster-";return new L.DivIcon({html:"<div><span>"+b+"</span></div>",className:"marker-cluster"+(w+=b<10?"small":b<100?"medium":"large"),iconSize:new L.Point(40,40)})},_bindEvents:function(){var y=this._map,w=this.options.showCoverageOnHover;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick||this.options.spiderfyOnEveryZoom)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),w&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),y.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(y){var b=y.layer,w=b;if("clusterkeypress"!==y.type||!y.originalEvent||13===y.originalEvent.keyCode){for(;1===w._childClusters.length;)w=w._childClusters[0];w._zoom===this._maxZoom&&w._childCount===b._childCount&&this.options.spiderfyOnMaxZoom?b.spiderfy():this.options.zoomToBoundsOnClick&&b.zoomToBounds(),this.options.spiderfyOnEveryZoom&&b.spiderfy(),y.originalEvent&&13===y.originalEvent.keyCode&&this._map._container.focus()}},_showCoverage:function(y){var b=this._map;this._inZoomAnimation||(this._shownPolygon&&b.removeLayer(this._shownPolygon),y.layer.getChildCount()>2&&y.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(y.layer.getConvexHull(),this.options.polygonOptions),b.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var b=this.options.showCoverageOnHover,I=this._map;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick||this.options.spiderfyOnEveryZoom)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),b&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),I.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var y=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,y),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),y),this._currentShownBounds=y}},_generateInitialClusters:function(){var y=Math.ceil(this._map.getMaxZoom()),b=Math.floor(this._map.getMinZoom()),w=this.options.maxClusterRadius,E=w;"function"!=typeof w&&(E=function(){return w}),null!==this.options.disableClusteringAtZoom&&(y=this.options.disableClusteringAtZoom-1),this._maxZoom=y,this._gridClusters={},this._gridUnclustered={};for(var I=y;I>=b;I--)this._gridClusters[I]=new L.DistanceGrid(E(I)),this._gridUnclustered[I]=new L.DistanceGrid(E(I));this._topClusterLevel=new this._markerCluster(this,b-1)},_addLayer:function(y,b){var M,R,w=this._gridClusters,E=this._gridUnclustered,I=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(y),y.on(this._childMarkerEventHandlers,this);b>=I;b--){M=this._map.project(y.getLatLng(),b);var Y=w[b].getNearObject(M);if(Y)return Y._addChild(y),void(y.__parent=Y);if(Y=E[b].getNearObject(M)){var $=Y.__parent;$&&this._removeLayer(Y,!1);var J=new this._markerCluster(this,b,Y,y);w[b].addObject(J,this._map.project(J._cLatLng,b)),Y.__parent=J,y.__parent=J;var G=J;for(R=b-1;R>$._zoom;R--)G=new this._markerCluster(this,R,G),w[R].addObject(G,this._map.project(Y.getLatLng(),R));return $._addChild(G),void this._removeFromGridUnclustered(Y,b)}E[b].addObject(y,M)}this._topClusterLevel._addChild(y),y.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(y){y instanceof L.MarkerCluster&&y._iconNeedsUpdate&&y._updateIcon()})},_enqueue:function(y){this._queue.push(y),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var y=0;y<this._queue.length;y++)this._queue[y].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var y=Math.round(this._map._zoom);this._processQueue(),this._zoom<y&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,y)):this._zoom>y?(this._animationStart(),this._animationZoomOut(this._zoom,y)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(y){var b=this._maxLat;return void 0!==b&&(y.getNorth()>=b&&(y._northEast.lat=1/0),y.getSouth()<=-b&&(y._southWest.lat=-1/0)),y},_animationAddLayerNonAnimated:function(y,b){if(b===y)this._featureGroup.addLayer(y);else if(2===b._childCount){b._addToMap();var w=b.getAllChildMarkers();this._featureGroup.removeLayer(w[0]),this._featureGroup.removeLayer(w[1])}else b._updateIcon()},_extractNonGroupLayers:function(y,b){var I,w=y.getLayers(),E=0;for(b=b||[];E<w.length;E++)(I=w[E])instanceof L.LayerGroup?this._extractNonGroupLayers(I,b):b.push(I);return b},_overrideMarkerIcon:function(y){return y.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[y]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(y,b){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),y),this._topClusterLevel._recursivelyAddChildrenToMap(null,b,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(y,b){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),y),this._topClusterLevel._recursivelyAddChildrenToMap(null,b,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(y,b){this._animationAddLayerNonAnimated(y,b)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(y,b){var M,w=this._getExpandedVisibleBounds(),E=this._featureGroup,I=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(w,y,I,function(R){var J,Y=R._latlng,$=R._markers;for(w.contains(Y)||(Y=null),R._isSingleParent()&&y+1===b?(E.removeLayer(R),R._recursivelyAddChildrenToMap(null,b,w)):(R.clusterHide(),R._recursivelyAddChildrenToMap(Y,b,w)),M=$.length-1;M>=0;M--)w.contains((J=$[M])._latlng)||E.removeLayer(J)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(w,b),E.eachLayer(function(R){!(R instanceof L.MarkerCluster)&&R._icon&&R.clusterShow()}),this._topClusterLevel._recursively(w,y,b,function(R){R._recursivelyRestoreChildPositions(b)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(w,y,I,function(R){E.removeLayer(R),R.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(y,b){this._animationZoomOutSingle(this._topClusterLevel,y-1,b),this._topClusterLevel._recursivelyAddChildrenToMap(null,b,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),y,this._getExpandedVisibleBounds())},_animationAddLayer:function(y,b){var w=this,E=this._featureGroup;E.addLayer(y),b!==y&&(b._childCount>2?(b._updateIcon(),this._forceLayout(),this._animationStart(),y._setPos(this._map.latLngToLayerPoint(b.getLatLng())),y.clusterHide(),this._enqueue(function(){E.removeLayer(y),y.clusterShow(),w._animationEnd()})):(this._forceLayout(),w._animationStart(),w._animationZoomOutSingle(b,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(y,b,w){var E=this._getExpandedVisibleBounds(),I=Math.floor(this._map.getMinZoom());y._recursivelyAnimateChildrenInAndAddSelfToMap(E,I,b+1,w);var M=this;this._forceLayout(),y._recursivelyBecomeVisible(E,w),this._enqueue(function(){if(1===y._childCount){var R=y._markers[0];this._ignoreMove=!0,R.setLatLng(R.getLatLng()),this._ignoreMove=!1,R.clusterShow&&R.clusterShow()}else y._recursively(E,w,I,function(Y){Y._recursivelyRemoveChildrenFromMap(E,I,b+1)});M._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(y){return new L.MarkerClusterGroup(y)};var D=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(y,b,w,E){L.Marker.prototype.initialize.call(this,w?w._cLatLng||w.getLatLng():new L.LatLng(0,0),{icon:this,pane:y.options.clusterPane}),this._group=y,this._zoom=b,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,w&&this._addChild(w),E&&this._addChild(E)},getAllChildMarkers:function(y,b){y=y||[];for(var w=this._childClusters.length-1;w>=0;w--)this._childClusters[w].getAllChildMarkers(y,b);for(var E=this._markers.length-1;E>=0;E--)b&&this._markers[E].__dragStart||y.push(this._markers[E]);return y},getChildCount:function(){return this._childCount},zoomToBounds:function(y){for(var R,b=this._childClusters.slice(),w=this._group._map,E=w.getBoundsZoom(this._bounds),I=this._zoom+1,M=w.getZoom();b.length>0&&E>I;){I++;var Y=[];for(R=0;R<b.length;R++)Y=Y.concat(b[R]._childClusters);b=Y}E>I?this._group._map.setView(this._latlng,I):E<=M?this._group._map.setView(this._latlng,M+1):this._group._map.fitBounds(this._bounds,y)},getBounds:function(){var y=new L.LatLngBounds;return y.extend(this._bounds),y},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(y,b){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(y),y instanceof L.MarkerCluster?(b||(this._childClusters.push(y),y.__parent=this),this._childCount+=y._childCount):(b||this._markers.push(y),this._childCount++),this.__parent&&this.__parent._addChild(y,!0)},_setClusterCenter:function(y){this._cLatLng||(this._cLatLng=y._cLatLng||y._latlng)},_resetBounds:function(){var y=this._bounds;y._southWest&&(y._southWest.lat=1/0,y._southWest.lng=1/0),y._northEast&&(y._northEast.lat=-1/0,y._northEast.lng=-1/0)},_recalculateBounds:function(){var M,R,Y,$,y=this._markers,b=this._childClusters,w=0,E=0,I=this._childCount;if(0!==I){for(this._resetBounds(),M=0;M<y.length;M++)this._bounds.extend(Y=y[M]._latlng),w+=Y.lat,E+=Y.lng;for(M=0;M<b.length;M++)(R=b[M])._boundsNeedUpdate&&R._recalculateBounds(),this._bounds.extend(R._bounds),w+=(Y=R._wLatLng).lat*($=R._childCount),E+=Y.lng*$;this._latlng=this._wLatLng=new L.LatLng(w/I,E/I),this._boundsNeedUpdate=!1}},_addToMap:function(y){y&&(this._backupLatlng=this._latlng,this.setLatLng(y)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(y,b,w){this._recursively(y,this._group._map.getMinZoom(),w-1,function(E){var M,R,I=E._markers;for(M=I.length-1;M>=0;M--)(R=I[M])._icon&&(R._setPos(b),R.clusterHide())},function(E){var M,R,I=E._childClusters;for(M=I.length-1;M>=0;M--)(R=I[M])._icon&&(R._setPos(b),R.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(y,b,w,E){this._recursively(y,E,b,function(I){I._recursivelyAnimateChildrenIn(y,I._group._map.latLngToLayerPoint(I.getLatLng()).round(),w),I._isSingleParent()&&w-1===E?(I.clusterShow(),I._recursivelyRemoveChildrenFromMap(y,b,w)):I.clusterHide(),I._addToMap()})},_recursivelyBecomeVisible:function(y,b){this._recursively(y,this._group._map.getMinZoom(),b,null,function(w){w.clusterShow()})},_recursivelyAddChildrenToMap:function(y,b,w){this._recursively(w,this._group._map.getMinZoom()-1,b,function(E){if(b!==E._zoom)for(var I=E._markers.length-1;I>=0;I--){var M=E._markers[I];w.contains(M._latlng)&&(y&&(M._backupLatlng=M.getLatLng(),M.setLatLng(y),M.clusterHide&&M.clusterHide()),E._group._featureGroup.addLayer(M))}},function(E){E._addToMap(y)})},_recursivelyRestoreChildPositions:function(y){for(var b=this._markers.length-1;b>=0;b--){var w=this._markers[b];w._backupLatlng&&(w.setLatLng(w._backupLatlng),delete w._backupLatlng)}if(y-1===this._zoom)for(var E=this._childClusters.length-1;E>=0;E--)this._childClusters[E]._restorePosition();else for(var I=this._childClusters.length-1;I>=0;I--)this._childClusters[I]._recursivelyRestoreChildPositions(y)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(y,b,w,E){var I,M;this._recursively(y,b-1,w-1,function(R){for(M=R._markers.length-1;M>=0;M--)I=R._markers[M],(!E||!E.contains(I._latlng))&&(R._group._featureGroup.removeLayer(I),I.clusterShow&&I.clusterShow())},function(R){for(M=R._childClusters.length-1;M>=0;M--)I=R._childClusters[M],(!E||!E.contains(I._latlng))&&(R._group._featureGroup.removeLayer(I),I.clusterShow&&I.clusterShow())})},_recursively:function(y,b,w,E,I){var Y,$,M=this._childClusters,R=this._zoom;if(b<=R&&(E&&E(this),I&&R===w&&I(this)),R<b||R<w)for(Y=M.length-1;Y>=0;Y--)($=M[Y])._boundsNeedUpdate&&$._recalculateBounds(),y.intersects($._bounds)&&$._recursively(y,b,w,E,I)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var y=this.options.opacity;return this.setOpacity(0),this.options.opacity=y,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(y){this._cellSize=y,this._sqCellSize=y*y,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(y,b){var w=this._getCoord(b.x),E=this._getCoord(b.y),I=this._grid,M=I[E]=I[E]||{},R=M[w]=M[w]||[],Y=L.Util.stamp(y);this._objectPoint[Y]=b,R.push(y)},updateObject:function(y,b){this.removeObject(y),this.addObject(y,b)},removeObject:function(y,b){var Y,$,w=this._getCoord(b.x),E=this._getCoord(b.y),I=this._grid,M=I[E]=I[E]||{},R=M[w]=M[w]||[];for(delete this._objectPoint[L.Util.stamp(y)],Y=0,$=R.length;Y<$;Y++)if(R[Y]===y)return R.splice(Y,1),1===$&&delete M[w],!0},eachObject:function(y,b){var w,E,I,M,R,Y,J=this._grid;for(w in J)for(E in R=J[w])for(I=0,M=(Y=R[E]).length;I<M;I++)y.call(b,Y[I])&&(I--,M--)},getNearObject:function(y){var E,I,M,R,Y,$,J,G,b=this._getCoord(y.x),w=this._getCoord(y.y),ne=this._objectPoint,N=this._sqCellSize,T=null;for(E=w-1;E<=w+1;E++)if(R=this._grid[E])for(I=b-1;I<=b+1;I++)if(Y=R[I])for(M=0,$=Y.length;M<$;M++)J=Y[M],((G=this._sqDist(ne[L.Util.stamp(J)],y))<N||G<=N&&null===T)&&(N=G,T=J);return T},_getCoord:function(y){var b=Math.floor(y/this._cellSize);return isFinite(b)?b:y},_sqDist:function(y,b){var w=b.x-y.x,E=b.y-y.y;return w*w+E*E}},L.QuickHull={getDistant:function(y,b){return(b[0].lng-b[1].lng)*(y.lat-b[0].lat)+(b[1].lat-b[0].lat)*(y.lng-b[0].lng)},findMostDistantPointFromBaseLine:function(y,b){var M,R,Y,w=0,E=null,I=[];for(M=b.length-1;M>=0;M--)(Y=this.getDistant(R=b[M],y))>0&&(I.push(R),Y>w&&(w=Y,E=R));return{maxPoint:E,newPoints:I}},buildConvexHull:function(y,b){var w=[],E=this.findMostDistantPointFromBaseLine(y,b);return E.maxPoint?w=(w=w.concat(this.buildConvexHull([y[0],E.maxPoint],E.newPoints))).concat(this.buildConvexHull([E.maxPoint,y[1]],E.newPoints)):[y[0]]},getConvexHull:function(y){var ne,b=!1,w=!1,E=!1,I=!1,M=null,R=null,Y=null,$=null,J=null,G=null;for(ne=y.length-1;ne>=0;ne--){var N=y[ne];(!1===b||N.lat>b)&&(M=N,b=N.lat),(!1===w||N.lat<w)&&(R=N,w=N.lat),(!1===E||N.lng>E)&&(Y=N,E=N.lng),(!1===I||N.lng<I)&&($=N,I=N.lng)}return w!==b?(G=R,J=M):(G=$,J=Y),[].concat(this.buildConvexHull([G,J],y),this.buildConvexHull([J,G],y))}},L.MarkerCluster.include({getConvexHull:function(){var w,E,y=this.getAllChildMarkers(),b=[];for(E=y.length-1;E>=0;E--)w=y[E].getLatLng(),b.push(w);return L.QuickHull.getConvexHull(b)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var I,y=this.getAllChildMarkers(null,!0),E=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?I=this._group.options.spiderfyShapePositions(y.length,E):y.length>=this._circleSpiralSwitchover?I=this._generatePointsSpiral(y.length,E):(E.y+=10,I=this._generatePointsCircle(y.length,E)),this._animationSpiderfy(y,I)}},unspiderfy:function(y){this._group._inZoomAnimation||(this._animationUnspiderfy(y),this._group._spiderfied=null)},_generatePointsCircle:function(y,b){var R,Y,E=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+y)/this._2PI,I=this._2PI/y,M=[];for(E=Math.max(E,35),M.length=y,R=0;R<y;R++)Y=this._circleStartAngle+R*I,M[R]=new L.Point(b.x+E*Math.cos(Y),b.y+E*Math.sin(Y))._round();return M},_generatePointsSpiral:function(y,b){var $,w=this._group.options.spiderfyDistanceMultiplier,E=w*this._spiralLengthStart,I=w*this._spiralFootSeparation,M=w*this._spiralLengthFactor*this._2PI,R=0,Y=[];for(Y.length=y,$=y;$>=0;$--)$<y&&(Y[$]=new L.Point(b.x+E*Math.cos(R),b.y+E*Math.sin(R))._round()),E+=M/(R+=I/E+5e-4*$);return Y},_noanimationUnspiderfy:function(){var I,M,y=this._group,b=y._map,w=y._featureGroup,E=this.getAllChildMarkers(null,!0);for(y._ignoreMove=!0,this.setOpacity(1),M=E.length-1;M>=0;M--)w.removeLayer(I=E[M]),I._preSpiderfyLatlng&&(I.setLatLng(I._preSpiderfyLatlng),delete I._preSpiderfyLatlng),I.setZIndexOffset&&I.setZIndexOffset(0),I._spiderLeg&&(b.removeLayer(I._spiderLeg),delete I._spiderLeg);y.fire("unspiderfied",{cluster:this,markers:E}),y._ignoreMove=!1,y._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(y,b){var R,Y,$,J,w=this._group,E=w._map,I=w._featureGroup,M=this._group.options.spiderLegPolylineOptions;for(w._ignoreMove=!0,R=0;R<y.length;R++)J=E.layerPointToLatLng(b[R]),Y=y[R],$=new L.Polyline([this._latlng,J],M),E.addLayer($),Y._spiderLeg=$,Y._preSpiderfyLatlng=Y._latlng,Y.setLatLng(J),Y.setZIndexOffset&&Y.setZIndexOffset(1e6),I.addLayer(Y);this.setOpacity(.3),w._ignoreMove=!1,w.fire("spiderfied",{cluster:this,markers:y})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(y,b){var ne,N,T,V,O,z,w=this,E=this._group,I=E._map,M=E._featureGroup,R=this._latlng,Y=I.latLngToLayerPoint(R),$=L.Path.SVG,J=L.extend({},this._group.options.spiderLegPolylineOptions),G=J.opacity;for(void 0===G&&(G=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),$?(J.opacity=0,J.className=(J.className||"")+" leaflet-cluster-spider-leg"):J.opacity=G,E._ignoreMove=!0,ne=0;ne<y.length;ne++)N=y[ne],z=I.layerPointToLatLng(b[ne]),T=new L.Polyline([R,z],J),I.addLayer(T),N._spiderLeg=T,$&&(O=(V=T._path).getTotalLength()+.1,V.style.strokeDasharray=O,V.style.strokeDashoffset=O),N.setZIndexOffset&&N.setZIndexOffset(1e6),N.clusterHide&&N.clusterHide(),M.addLayer(N),N._setPos&&N._setPos(Y);for(E._forceLayout(),E._animationStart(),ne=y.length-1;ne>=0;ne--)z=I.layerPointToLatLng(b[ne]),(N=y[ne])._preSpiderfyLatlng=N._latlng,N.setLatLng(z),N.clusterShow&&N.clusterShow(),$&&((V=(T=N._spiderLeg)._path).style.strokeDashoffset=0,T.setStyle({opacity:G}));this.setOpacity(.3),E._ignoreMove=!1,setTimeout(function(){E._animationEnd(),E.fire("spiderfied",{cluster:w,markers:y})},200)},_animationUnspiderfy:function(y){var $,J,G,ne,N,T,b=this,w=this._group,E=w._map,I=w._featureGroup,M=y?E._latLngToNewLayerPoint(this._latlng,y.zoom,y.center):E.latLngToLayerPoint(this._latlng),R=this.getAllChildMarkers(null,!0),Y=L.Path.SVG;for(w._ignoreMove=!0,w._animationStart(),this.setOpacity(1),J=R.length-1;J>=0;J--)($=R[J])._preSpiderfyLatlng&&($.closePopup(),$.setLatLng($._preSpiderfyLatlng),delete $._preSpiderfyLatlng,T=!0,$._setPos&&($._setPos(M),T=!1),$.clusterHide&&($.clusterHide(),T=!1),T&&I.removeLayer($),Y&&(N=(ne=(G=$._spiderLeg)._path).getTotalLength()+.1,ne.style.strokeDashoffset=N,G.setStyle({opacity:0})));w._ignoreMove=!1,setTimeout(function(){var V=0;for(J=R.length-1;J>=0;J--)($=R[J])._spiderLeg&&V++;for(J=R.length-1;J>=0;J--)($=R[J])._spiderLeg&&($.clusterShow&&$.clusterShow(),$.setZIndexOffset&&$.setZIndexOffset(0),V>1&&I.removeLayer($),E.removeLayer($._spiderLeg),delete $._spiderLeg);w._animationEnd(),w.fire("unspiderfied",{cluster:b,markers:R})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(y){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(y))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(y){this._spiderfied&&this._spiderfied.unspiderfy(y)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(y){y._spiderLeg&&(this._featureGroup.removeLayer(y),y.clusterShow&&y.clusterShow(),y.setZIndexOffset&&y.setZIndexOffset(0),this._map.removeLayer(y._spiderLeg),delete y._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(y){return y?y instanceof L.MarkerClusterGroup?y=y._topClusterLevel.getAllChildMarkers():y instanceof L.LayerGroup?y=y._layers:y instanceof L.MarkerCluster?y=y.getAllChildMarkers():y instanceof L.Marker&&(y=[y]):y=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(y),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(y),this},_flagParentsIconsNeedUpdate:function(y){var b,w;for(b in y)for(w=y[b].__parent;w;)w._iconNeedsUpdate=!0,w=w.__parent},_refreshSingleMarkerModeMarkers:function(y){var b,w;for(b in y)this.hasLayer(w=y[b])&&w.setIcon(this._overrideMarkerIcon(w))}}),L.Marker.include({refreshIconOptions:function(y,b){var w=this.options.icon;return L.setOptions(w,y),this.setIcon(w),b&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),U.MarkerClusterGroup=P,U.MarkerCluster=D,Object.defineProperty(U,"__esModule",{value:!0})}(fe)},8407:function(Qe,fe){!function(U){"use strict";function D(u){var g,x,F,se;for(x=1,F=arguments.length;x<F;x++)for(g in se=arguments[x])u[g]=se[g];return u}var y=Object.create||function(){function u(){}return function(g){return u.prototype=g,new u}}();function b(u,g){var x=Array.prototype.slice;if(u.bind)return u.bind.apply(u,x.call(arguments,1));var F=x.call(arguments,2);return function(){return u.apply(g,F.length?F.concat(x.call(arguments)):arguments)}}var w=0;function E(u){return"_leaflet_id"in u||(u._leaflet_id=++w),u._leaflet_id}function I(u,g,x){var F,se,Se,Be;return Be=function(){F=!1,se&&(Se.apply(x,se),se=!1)},Se=function(){F?se=arguments:(u.apply(x,arguments),setTimeout(Be,g),F=!0)},Se}function M(u,g,x){var F=g[1],se=g[0],Se=F-se;return u===F&&x?u:((u-se)%Se+Se)%Se+se}function R(){return!1}function Y(u,g){if(!1===g)return u;var x=Math.pow(10,void 0===g?6:g);return Math.round(u*x)/x}function $(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function J(u){return $(u).split(/\s+/)}function G(u,g){for(var x in Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?y(u.options):{}),g)u.options[x]=g[x];return u.options}function ne(u,g,x){var F=[];for(var se in u)F.push(encodeURIComponent(x?se.toUpperCase():se)+"="+encodeURIComponent(u[se]));return(g&&-1!==g.indexOf("?")?"&":"?")+F.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function T(u,g){return u.replace(N,function(x,F){var se=g[F];if(void 0===se)throw new Error("No value provided for variable "+x);return"function"==typeof se&&(se=se(g)),se})}var V=Array.isArray||function(u){return"[object Array]"===Object.prototype.toString.call(u)};function O(u,g){for(var x=0;x<u.length;x++)if(u[x]===g)return x;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function j(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var k=0;function K(u){var g=+new Date,x=Math.max(0,16-(g-k));return k=g+x,window.setTimeout(u,x)}var oe=window.requestAnimationFrame||j("RequestAnimationFrame")||K,B=window.cancelAnimationFrame||j("CancelAnimationFrame")||j("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function ie(u,g,x){if(!x||oe!==K)return oe.call(window,b(u,g));u.call(g)}function ee(u){u&&B.call(window,u)}var ce={__proto__:null,extend:D,create:y,bind:b,get lastId(){return w},stamp:E,throttle:I,wrapNum:M,falseFn:R,formatNum:Y,trim:$,splitWords:J,setOptions:G,getParamString:ne,template:T,isArray:V,indexOf:O,emptyImageUrl:z,requestFn:oe,cancelFn:B,requestAnimFrame:ie,cancelAnimFrame:ee};function te(){}te.extend=function(u){var g=function(){G(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},x=g.__super__=this.prototype,F=y(x);for(var se in F.constructor=g,g.prototype=F,this)Object.prototype.hasOwnProperty.call(this,se)&&"prototype"!==se&&"__super__"!==se&&(g[se]=this[se]);return u.statics&&D(g,u.statics),u.includes&&(function Le(u){if(!(typeof L>"u")&&L&&L.Mixin){u=V(u)?u:[u];for(var g=0;g<u.length;g++)u[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(u.includes),D.apply(null,[F].concat(u.includes))),D(F,u),delete F.statics,delete F.includes,F.options&&(F.options=x.options?y(x.options):{},D(F.options,u.options)),F._initHooks=[],F.callInitHooks=function(){if(!this._initHooksCalled){x.callInitHooks&&x.callInitHooks.call(this),this._initHooksCalled=!0;for(var Se=0,Be=F._initHooks.length;Se<Be;Se++)F._initHooks[Se].call(this)}},g},te.include=function(u){var g=this.prototype.options;return D(this.prototype,u),u.options&&(this.prototype.options=g,this.mergeOptions(u.options)),this},te.mergeOptions=function(u){return D(this.prototype.options,u),this},te.addInitHook=function(u){var g=Array.prototype.slice.call(arguments,1),x="function"==typeof u?u:function(){this[u].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(x),this};var Pe={on:function(u,g,x){if("object"==typeof u)for(var F in u)this._on(F,u[F],g);else for(var se=0,Se=(u=J(u)).length;se<Se;se++)this._on(u[se],g,x);return this},off:function(u,g,x){if(arguments.length)if("object"==typeof u)for(var F in u)this._off(F,u[F],g);else{u=J(u);for(var se=1===arguments.length,Se=0,Be=u.length;Se<Be;Se++)se?this._off(u[Se]):this._off(u[Se],g,x)}else delete this._events;return this},_on:function(u,g,x,F){if("function"==typeof g){if(!1===this._listens(u,g,x)){x===this&&(x=void 0);var se={fn:g,ctx:x};F&&(se.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(se)}}else console.warn("wrong listener type: "+typeof g)},_off:function(u,g,x){var F,se,Se;if(this._events&&(F=this._events[u])){if(1===arguments.length){if(this._firingCount)for(se=0,Se=F.length;se<Se;se++)F[se].fn=R;return void delete this._events[u]}if("function"!=typeof g)return void console.warn("wrong listener type: "+typeof g);var Be=this._listens(u,g,x);!1!==Be&&(this._firingCount&&(F[Be].fn=R,this._events[u]=F=F.slice()),F.splice(Be,1))}},fire:function(u,g,x){if(!this.listens(u,x))return this;var F=D({},g,{type:u,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var se=this._events[u];if(se){this._firingCount=this._firingCount+1||1;for(var Se=0,Be=se.length;Se<Be;Se++){var tt=se[Se],st=tt.fn;tt.once&&this.off(u,st,tt.ctx),st.call(tt.ctx||this,F)}this._firingCount--}}return x&&this._propagateEvent(F),this},listens:function(u,g,x,F){"string"!=typeof u&&console.warn('"string" type argument expected');var se=g;"function"!=typeof g&&(F=!!g,se=void 0,x=void 0);var Se=this._events&&this._events[u];if(Se&&Se.length&&!1!==this._listens(u,se,x))return!0;if(F)for(var Be in this._eventParents)if(this._eventParents[Be].listens(u,g,x,F))return!0;return!1},_listens:function(u,g,x){if(!this._events)return!1;var F=this._events[u]||[];if(!g)return!!F.length;x===this&&(x=void 0);for(var se=0,Se=F.length;se<Se;se++)if(F[se].fn===g&&F[se].ctx===x)return se;return!1},once:function(u,g,x){if("object"==typeof u)for(var F in u)this._on(F,u[F],g,!0);else for(var se=0,Se=(u=J(u)).length;se<Se;se++)this._on(u[se],g,x,!0);return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[E(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[E(u)],this},_propagateEvent:function(u){for(var g in this._eventParents)this._eventParents[g].fire(u.type,D({layer:u.target,propagatedFrom:u.target},u),!0)}};Pe.addEventListener=Pe.on,Pe.removeEventListener=Pe.clearAllEventListeners=Pe.off,Pe.addOneTimeEventListener=Pe.once,Pe.fireEvent=Pe.fire,Pe.hasEventListeners=Pe.listens;var ve=te.extend(Pe);function xe(u,g,x){this.x=x?Math.round(u):u,this.y=x?Math.round(g):g}var ye=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};function de(u,g,x){return u instanceof xe?u:V(u)?new xe(u[0],u[1]):null==u?u:"object"==typeof u&&"x"in u&&"y"in u?new xe(u.x,u.y):new xe(u,g,x)}function he(u,g){if(u)for(var x=g?[u,g]:u,F=0,se=x.length;F<se;F++)this.extend(x[F])}function ae(u,g){return!u||u instanceof he?u:new he(u,g)}function Ie(u,g){if(u)for(var x=g?[u,g]:u,F=0,se=x.length;F<se;F++)this.extend(x[F])}function me(u,g){return u instanceof Ie?u:new Ie(u,g)}function Ae(u,g,x){if(isNaN(u)||isNaN(g))throw new Error("Invalid LatLng object: ("+u+", "+g+")");this.lat=+u,this.lng=+g,void 0!==x&&(this.alt=+x)}function ze(u,g,x){return u instanceof Ae?u:V(u)&&"object"!=typeof u[0]?3===u.length?new Ae(u[0],u[1],u[2]):2===u.length?new Ae(u[0],u[1]):null:null==u?u:"object"==typeof u&&"lat"in u?new Ae(u.lat,"lng"in u?u.lng:u.lon,u.alt):void 0===g?null:new Ae(u,g,x)}xe.prototype={clone:function(){return new xe(this.x,this.y)},add:function(u){return this.clone()._add(de(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(de(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new xe(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new xe(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ye(this.x),this.y=ye(this.y),this},distanceTo:function(u){var g=(u=de(u)).x-this.x,x=u.y-this.y;return Math.sqrt(g*g+x*x)},equals:function(u){return(u=de(u)).x===this.x&&u.y===this.y},contains:function(u){return u=de(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+Y(this.x)+", "+Y(this.y)+")"}},he.prototype={extend:function(u){var g,x;if(!u)return this;if(u instanceof xe||"number"==typeof u[0]||"x"in u)g=x=de(u);else if(x=(u=ae(u)).max,!(g=u.min)||!x)return this;return this.min||this.max?(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(x.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(x.y,this.max.y)):(this.min=g.clone(),this.max=x.clone()),this},getCenter:function(u){return de((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return de(this.min.x,this.max.y)},getTopRight:function(){return de(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var g,x;return(u="number"==typeof u[0]||u instanceof xe?de(u):ae(u))instanceof he?(g=u.min,x=u.max):g=x=u,g.x>=this.min.x&&x.x<=this.max.x&&g.y>=this.min.y&&x.y<=this.max.y},intersects:function(u){u=ae(u);var g=this.min,x=this.max,F=u.min,se=u.max;return se.x>=g.x&&F.x<=x.x&&se.y>=g.y&&F.y<=x.y},overlaps:function(u){u=ae(u);var g=this.min,x=this.max,F=u.min,se=u.max;return se.x>g.x&&F.x<x.x&&se.y>g.y&&F.y<x.y},isValid:function(){return!(!this.min||!this.max)},pad:function(u){var g=this.min,x=this.max,F=Math.abs(g.x-x.x)*u,se=Math.abs(g.y-x.y)*u;return ae(de(g.x-F,g.y-se),de(x.x+F,x.y+se))},equals:function(u){return!!u&&(u=ae(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight()))}},Ie.prototype={extend:function(u){var F,se,g=this._southWest,x=this._northEast;if(u instanceof Ae)F=u,se=u;else{if(!(u instanceof Ie))return u?this.extend(ze(u)||me(u)):this;if(se=u._northEast,!(F=u._southWest)||!se)return this}return g||x?(g.lat=Math.min(F.lat,g.lat),g.lng=Math.min(F.lng,g.lng),x.lat=Math.max(se.lat,x.lat),x.lng=Math.max(se.lng,x.lng)):(this._southWest=new Ae(F.lat,F.lng),this._northEast=new Ae(se.lat,se.lng)),this},pad:function(u){var g=this._southWest,x=this._northEast,F=Math.abs(g.lat-x.lat)*u,se=Math.abs(g.lng-x.lng)*u;return new Ie(new Ae(g.lat-F,g.lng-se),new Ae(x.lat+F,x.lng+se))},getCenter:function(){return new Ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){u="number"==typeof u[0]||u instanceof Ae||"lat"in u?ze(u):me(u);var F,se,g=this._southWest,x=this._northEast;return u instanceof Ie?(F=u.getSouthWest(),se=u.getNorthEast()):F=se=u,F.lat>=g.lat&&se.lat<=x.lat&&F.lng>=g.lng&&se.lng<=x.lng},intersects:function(u){u=me(u);var g=this._southWest,x=this._northEast,F=u.getSouthWest(),se=u.getNorthEast();return se.lat>=g.lat&&F.lat<=x.lat&&se.lng>=g.lng&&F.lng<=x.lng},overlaps:function(u){u=me(u);var g=this._southWest,x=this._northEast,F=u.getSouthWest(),se=u.getNorthEast();return se.lat>g.lat&&F.lat<x.lat&&se.lng>g.lng&&F.lng<x.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,g){return!!u&&(u=me(u),this._southWest.equals(u.getSouthWest(),g)&&this._northEast.equals(u.getNorthEast(),g))},isValid:function(){return!(!this._southWest||!this._northEast)}},Ae.prototype={equals:function(u,g){return!!u&&(u=ze(u),Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng))<=(void 0===g?1e-9:g))},toString:function(u){return"LatLng("+Y(this.lat,u)+", "+Y(this.lng,u)+")"},distanceTo:function(u){return Ke.distance(this,ze(u))},wrap:function(){return Ke.wrapLatLng(this)},toBounds:function(u){var g=180*u/40075017,x=g/Math.cos(Math.PI/180*this.lat);return me([this.lat-g,this.lng-x],[this.lat+g,this.lng+x])},clone:function(){return new Ae(this.lat,this.lng,this.alt)}};var u,Ge={latLngToPoint:function(u,g){var x=this.projection.project(u),F=this.scale(g);return this.transformation._transform(x,F)},pointToLatLng:function(u,g){var x=this.scale(g),F=this.transformation.untransform(u,x);return this.projection.unproject(F)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var g=this.projection.bounds,x=this.scale(u);return new he(this.transformation.transform(g.min,x),this.transformation.transform(g.max,x))},infinite:!1,wrapLatLng:function(u){var g=this.wrapLng?M(u.lng,this.wrapLng,!0):u.lng;return new Ae(this.wrapLat?M(u.lat,this.wrapLat,!0):u.lat,g,u.alt)},wrapLatLngBounds:function(u){var g=u.getCenter(),x=this.wrapLatLng(g),F=g.lat-x.lat,se=g.lng-x.lng;if(0===F&&0===se)return u;var Se=u.getSouthWest(),Be=u.getNorthEast();return new Ie(new Ae(Se.lat-F,Se.lng-se),new Ae(Be.lat-F,Be.lng-se))}},Ke=D({},Ge,{wrapLng:[-180,180],R:6371e3,distance:function(u,g){var x=Math.PI/180,F=u.lat*x,se=g.lat*x,Se=Math.sin((g.lat-u.lat)*x/2),Be=Math.sin((g.lng-u.lng)*x/2),tt=Se*Se+Math.cos(F)*Math.cos(se)*Be*Be,st=2*Math.atan2(Math.sqrt(tt),Math.sqrt(1-tt));return this.R*st}}),X=6378137,re={R:X,MAX_LATITUDE:85.0511287798,project:function(u){var g=Math.PI/180,x=this.MAX_LATITUDE,F=Math.max(Math.min(x,u.lat),-x),se=Math.sin(F*g);return new xe(this.R*u.lng*g,this.R*Math.log((1+se)/(1-se))/2)},unproject:function(u){var g=180/Math.PI;return new Ae((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*g,u.x*g/this.R)},bounds:(u=X*Math.PI,new he([-u,-u],[u,u]))};function _e(u,g,x,F){if(V(u))return this._a=u[0],this._b=u[1],this._c=u[2],void(this._d=u[3]);this._a=u,this._b=g,this._c=x,this._d=F}function He(u,g,x,F){return new _e(u,g,x,F)}_e.prototype={transform:function(u,g){return this._transform(u.clone(),g)},_transform:function(u,g){return u.x=(g=g||1)*(this._a*u.x+this._b),u.y=g*(this._c*u.y+this._d),u},untransform:function(u,g){return new xe((u.x/(g=g||1)-this._b)/this._a,(u.y/g-this._d)/this._c)}};var Fe=D({},Ke,{code:"EPSG:3857",projection:re,transformation:function(){var u=.5/(Math.PI*re.R);return He(u,.5,-u,.5)}()}),Ye=D({},Fe,{code:"EPSG:900913"});function ft(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function ht(u,g){var F,se,Se,Be,tt,st,x="";for(F=0,Se=u.length;F<Se;F++){for(se=0,Be=(tt=u[F]).length;se<Be;se++)x+=(se?"L":"M")+(st=tt[se]).x+" "+st.y;x+=g?Yt.svg?"z":"x":""}return x||"M0 0"}var Ct=document.documentElement.style,$e="ActiveXObject"in window,we=$e&&!document.addEventListener,Me="msLaunchUri"in navigator&&!("documentMode"in document),be=Ji("webkit"),Ne=Ji("android"),Re=Ji("android 2")||Ji("android 3"),Ve=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ue=Ne&&Ji("Google")&&Ve<537&&!("AudioNode"in window),Je=!!window.opera,qe=!Me&&Ji("chrome"),gt=Ji("gecko")&&!be&&!Je&&!$e,yt=!qe&&Ji("safari"),it=Ji("phantom"),Et="OTransition"in Ct,yn=0===navigator.platform.indexOf("Win"),Gt=$e&&"transition"in Ct,En="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Re,Tn="MozPerspective"in Ct,zr=!window.L_DISABLE_3D&&(Gt||En||Tn)&&!Et&&!it,ii=typeof orientation<"u"||Ji("mobile"),Vi=ii&&be,Vo=ii&&En,Gr=!window.PointerEvent&&window.MSPointerEvent,ts=!(!window.PointerEvent&&!Gr),_i="ontouchstart"in window||!!window.TouchEvent,pt=!window.L_NO_TOUCH&&(_i||ts),$a=ii&&Je,ns=ii&&gt,pn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,sa=function(){var u=!1;try{var g=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",R,g),window.removeEventListener("testPassiveEventSupport",R,g)}catch{}return u}(),Ds=!!document.createElement("canvas").getContext,ms=!(!document.createElementNS||!ft("svg").createSVGRect),Wa=!!ms&&function(){var u=document.createElement("div");return u.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(u.firstChild&&u.firstChild.namespaceURI)}(),il=!ms&&function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var g=u.firstChild;return g.style.behavior="url(#default#VML)",g&&"object"==typeof g.adj}catch{return!1}}();function Ji(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Yt={ie:$e,ielt9:we,edge:Me,webkit:be,android:Ne,android23:Re,androidStock:Ue,opera:Je,chrome:qe,gecko:gt,safari:yt,phantom:it,opera12:Et,win:yn,ie3d:Gt,webkit3d:En,gecko3d:Tn,any3d:zr,mobile:ii,mobileWebkit:Vi,mobileWebkit3d:Vo,msPointer:Gr,pointer:ts,touch:pt,touchNative:_i,mobileOpera:$a,mobileGecko:ns,retina:pn,passiveEvents:sa,canvas:Ds,svg:ms,vml:il,inlineSvg:Wa,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},f2=Yt.msPointer?"MSPointerDown":"pointerdown",aa=Yt.msPointer?"MSPointerMove":"pointermove",Fn=Yt.msPointer?"MSPointerUp":"pointerup",rs=Yt.msPointer?"MSPointerCancel":"pointercancel",Ti={touchstart:f2,touchmove:aa,touchend:Fn,touchcancel:rs},is={touchstart:function Io(u,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&Ri(g),Ps(u,g)},touchmove:Ps,touchend:Ps,touchcancel:Ps},zn={},os=!1;function yi(u,g,x){return"touchstart"===g&&function Kr(){os||(document.addEventListener(f2,ss,!0),document.addEventListener(aa,B2,!0),document.addEventListener(Fn,Yr,!0),document.addEventListener(rs,Yr,!0),os=!0)}(),is[g]?(x=is[g].bind(this,x),u.addEventListener(Ti[g],x,!1),x):(console.warn("wrong event specified:",g),R)}function ss(u){zn[u.pointerId]=u}function B2(u){zn[u.pointerId]&&(zn[u.pointerId]=u)}function Yr(u){delete zn[u.pointerId]}function Ps(u,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){for(var x in g.touches=[],zn)g.touches.push(zn[x]);g.changedTouches=[g],u(g)}}var Ci=200;var la,mn,lt,ua,Vr,gs=N1(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ao=N1(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),A1="webkitTransition"===ao||"OTransition"===ao?ao+"End":"transitionend";function V1(u){return"string"==typeof u?document.getElementById(u):u}function xa(u,g){var x=u.style[g]||u.currentStyle&&u.currentStyle[g];if((!x||"auto"===x)&&document.defaultView){var F=document.defaultView.getComputedStyle(u,null);x=F?F[g]:null}return"auto"===x?null:x}function tn(u,g,x){var F=document.createElement(u);return F.className=g||"",x&&x.appendChild(F),F}function fn(u){var g=u.parentNode;g&&g.removeChild(u)}function T1(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function co(u){var g=u.parentNode;g&&g.lastChild!==u&&g.appendChild(u)}function br(u){var g=u.parentNode;g&&g.firstChild!==u&&g.insertBefore(u,g.firstChild)}function I1(u,g){if(void 0!==u.classList)return u.classList.contains(g);var x=Hr(u);return x.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(x)}function vt(u,g){if(void 0!==u.classList)for(var x=J(g),F=0,se=x.length;F<se;F++)u.classList.add(x[F]);else if(!I1(u,g)){var Se=Hr(u);as(u,(Se?Se+" ":"")+g)}}function ui(u,g){void 0!==u.classList?u.classList.remove(g):as(u,$((" "+Hr(u)+" ").replace(" "+g+" "," ")))}function as(u,g){void 0===u.className.baseVal?u.className=g:u.className.baseVal=g}function Hr(u){return u.correspondingElement&&(u=u.correspondingElement),void 0===u.className.baseVal?u.className:u.className.baseVal}function mt(u,g){"opacity"in u.style?u.style.opacity=g:"filter"in u.style&&function U2(u,g){var x=!1,F="DXImageTransform.Microsoft.Alpha";try{x=u.filters.item(F)}catch{if(1===g)return}g=Math.round(100*g),x?(x.Enabled=100!==g,x.Opacity=g):u.style.filter+=" progid:"+F+"(opacity="+g+")"}(u,g)}function N1(u){for(var g=document.documentElement.style,x=0;x<u.length;x++)if(u[x]in g)return u[x];return!1}function Ea(u,g,x){var F=g||new xe(0,0);u.style[gs]=(Yt.ie3d?"translate("+F.x+"px,"+F.y+"px)":"translate3d("+F.x+"px,"+F.y+"px,0)")+(x?" scale("+x+")":"")}function Mr(u,g){u._leaflet_pos=g,Yt.any3d?Ea(u,g):(u.style.left=g.x+"px",u.style.top=g.y+"px")}function at(u){return u._leaflet_pos||new xe(0,0)}if("onselectstart"in document)la=function(){nn(window,"selectstart",Ri)},mn=function(){qn(window,"selectstart",Ri)};else{var Ya=N1(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);la=function(){if(Ya){var u=document.documentElement.style;lt=u[Ya],u[Ya]="none"}},mn=function(){Ya&&(document.documentElement.style[Ya]=lt,lt=void 0)}}function vs(){nn(window,"dragstart",Ri)}function zs(){qn(window,"dragstart",Ri)}function Tr(u){for(;-1===u.tabIndex;)u=u.parentNode;u.style&&(Bn(),ua=u,Vr=u.style.outline,u.style.outline="none",nn(window,"keydown",Bn))}function Bn(){ua&&(ua.style.outline=Vr,ua=void 0,Vr=void 0,qn(window,"keydown",Bn))}function bi(u){do{u=u.parentNode}while(!(u.offsetWidth&&u.offsetHeight||u===document.body));return u}function fa(u){var g=u.getBoundingClientRect();return{x:g.width/u.offsetWidth||1,y:g.height/u.offsetHeight||1,boundingClientRect:g}}var Bu={__proto__:null,TRANSFORM:gs,TRANSITION:ao,TRANSITION_END:A1,get:V1,getStyle:xa,create:tn,remove:fn,empty:T1,toFront:co,toBack:br,hasClass:I1,addClass:vt,removeClass:ui,setClass:as,getClass:Hr,setOpacity:mt,testProp:N1,setTransform:Ea,setPosition:Mr,getPosition:at,get disableTextSelection(){return la},get enableTextSelection(){return mn},disableImageDrag:vs,enableImageDrag:zs,preventOutline:Tr,restoreOutline:Bn,getSizedParentNode:bi,getScale:fa};function nn(u,g,x,F){if(g&&"object"==typeof g)for(var se in g)Oi(u,se,g[se],x);else for(var Se=0,Be=(g=J(g)).length;Se<Be;Se++)Oi(u,g[Se],x,F);return this}var Hs="_leaflet_events";function qn(u,g,x,F){if(1===arguments.length)wr(u),delete u[Hs];else if(g&&"object"==typeof g)for(var se in g)j2(u,se,g[se],x);else if(g=J(g),2===arguments.length)wr(u,function(tt){return-1!==O(g,tt)});else for(var Se=0,Be=g.length;Se<Be;Se++)j2(u,g[Se],x,F);return this}function wr(u,g){for(var x in u[Hs]){var F=x.split(/\d/)[0];(!g||g(F))&&j2(u,F,null,null,x)}}var k1={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Oi(u,g,x,F){var se=g+E(x)+(F?"_"+E(F):"");if(u[Hs]&&u[Hs][se])return this;var Se=function(tt){return x.call(F||u,tt||window.event)},Be=Se;!Yt.touchNative&&Yt.pointer&&0===g.indexOf("touch")?Se=yi(u,g,Se):Yt.touch&&"dblclick"===g?Se=function H1(u,g){u.addEventListener("dblclick",g);var F,x=0;function se(Se){if(1===Se.detail){if("mouse"!==Se.pointerType&&(!Se.sourceCapabilities||Se.sourceCapabilities.firesTouchEvents)){var Be=_t(Se);if(!Be.some(function(st){return st instanceof HTMLLabelElement&&st.attributes.for})||Be.some(function(st){return st instanceof HTMLInputElement||st instanceof HTMLSelectElement})){var tt=Date.now();tt-x<=Ci?2==++F&&g(function ca(u){var x,F,g={};for(F in u)g[F]=(x=u[F])&&x.bind?x.bind(u):x;return u=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}(Se)):F=1,x=tt}}}else F=Se.detail}return u.addEventListener("click",se),{dblclick:g,simDblclick:se}}(u,Se):"addEventListener"in u?"touchstart"===g||"touchmove"===g||"wheel"===g||"mousewheel"===g?u.addEventListener(k1[g]||g,Se,!!Yt.passiveEvents&&{passive:!1}):"mouseenter"===g||"mouseleave"===g?u.addEventListener(k1[g],Se=function(tt){tt=tt||window.event,G2(u,tt)&&Be(tt)},!1):u.addEventListener(g,Be,!1):u.attachEvent("on"+g,Se),u[Hs]=u[Hs]||{},u[Hs][se]=Se}function j2(u,g,x,F,se){se=se||g+E(x)+(F?"_"+E(F):"");var Se=u[Hs]&&u[Hs][se];if(!Se)return this;!Yt.touchNative&&Yt.pointer&&0===g.indexOf("touch")?function gc(u,g,x){Ti[g]?u.removeEventListener(Ti[g],x,!1):console.warn("wrong event specified:",g)}(u,g,Se):Yt.touch&&"dblclick"===g?function Bs(u,g){u.removeEventListener("dblclick",g.dblclick),u.removeEventListener("click",g.simDblclick)}(u,Se):"removeEventListener"in u?u.removeEventListener(k1[g]||g,Se,!1):u.detachEvent("on"+g,Se),u[Hs][se]=null}function Pi(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function Kt(u){return Oi(u,"wheel",Pi),this}function eo(u){return nn(u,"mousedown touchstart dblclick contextmenu",Pi),u._leaflet_disable_click=!0,this}function Ri(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function lo(u){return Ri(u),Pi(u),this}function _t(u){if(u.composedPath)return u.composedPath();for(var g=[],x=u.target;x;)g.push(x),x=x.parentNode;return g}function Sa(u,g){if(!g)return new xe(u.clientX,u.clientY);var x=fa(g),F=x.boundingClientRect;return new xe((u.clientX-F.left)/x.x-g.clientLeft,(u.clientY-F.top)/x.y-g.clientTop)}var Hn=Yt.linux&&Yt.chrome?window.devicePixelRatio:Yt.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qr(u){return Yt.edge?u.wheelDeltaY/2:u.deltaY&&0===u.deltaMode?-u.deltaY/Hn:u.deltaY&&1===u.deltaMode?20*-u.deltaY:u.deltaY&&2===u.deltaMode?60*-u.deltaY:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?20*-u.detail:u.detail?u.detail/-32765*60:0}function G2(u,g){var x=g.relatedTarget;if(!x)return!0;try{for(;x&&x!==u;)x=x.parentNode}catch{return!1}return x!==u}var cs={__proto__:null,on:nn,off:qn,stopPropagation:Pi,disableScrollPropagation:Kt,disableClickPropagation:eo,preventDefault:Ri,stop:lo,getPropagationPath:_t,getMousePosition:Sa,getWheelDelta:Qr,isExternalTarget:G2,addListener:nn,removeListener:qn},fi=ve.extend({run:function(u,g,x,F){this.stop(),this._el=u,this._inProgress=!0,this._duration=x||.25,this._easeOutPower=1/Math.max(F||.5,.2),this._startPos=at(u),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ie(this._animate,this),this._step()},_step:function(u){var g=+new Date-this._startTime,x=1e3*this._duration;g<x?this._runFrame(this._easeOut(g/x),u):(this._runFrame(1),this._complete())},_runFrame:function(u,g){var x=this._startPos.add(this._offset.multiplyBy(u));g&&x._round(),Mr(this._el,x),this.fire("step")},_complete:function(){ee(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),rn=ve.extend({options:{crs:Fe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,g){g=G(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=b(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),void 0!==g.zoom&&(this._zoom=this._limitZoom(g.zoom)),g.center&&void 0!==g.zoom&&this.setView(ze(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ao&&Yt.any3d&&!Yt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),nn(this._proxy,A1,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,g,x){return g=void 0===g?this._zoom:this._limitZoom(g),u=this._limitCenter(ze(u),g,this.options.maxBounds),x=x||{},this._stop(),this._loaded&&!x.reset&&!0!==x&&(void 0!==x.animate&&(x.zoom=D({animate:x.animate},x.zoom),x.pan=D({animate:x.animate,duration:x.duration},x.pan)),this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,g,x.zoom):this._tryAnimatedPan(u,x.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(u,g,x.pan&&x.pan.noMoveStart),this)},setZoom:function(u,g){return this._loaded?this.setView(this.getCenter(),u,{zoom:g}):(this._zoom=u,this)},zoomIn:function(u,g){return this.setZoom(this._zoom+(u=u||(Yt.any3d?this.options.zoomDelta:1)),g)},zoomOut:function(u,g){return this.setZoom(this._zoom-(u=u||(Yt.any3d?this.options.zoomDelta:1)),g)},setZoomAround:function(u,g,x){var F=this.getZoomScale(g),se=this.getSize().divideBy(2),Be=(u instanceof xe?u:this.latLngToContainerPoint(u)).subtract(se).multiplyBy(1-1/F),tt=this.containerPointToLatLng(se.add(Be));return this.setView(tt,g,{zoom:x})},_getBoundsCenterZoom:function(u,g){g=g||{},u=u.getBounds?u.getBounds():me(u);var x=de(g.paddingTopLeft||g.padding||[0,0]),F=de(g.paddingBottomRight||g.padding||[0,0]),se=this.getBoundsZoom(u,!1,x.add(F));if((se="number"==typeof g.maxZoom?Math.min(g.maxZoom,se):se)===1/0)return{center:u.getCenter(),zoom:se};var Se=F.subtract(x).divideBy(2),Be=this.project(u.getSouthWest(),se),tt=this.project(u.getNorthEast(),se);return{center:this.unproject(Be.add(tt).divideBy(2).add(Se),se),zoom:se}},fitBounds:function(u,g){if(!(u=me(u)).isValid())throw new Error("Bounds are not valid.");var x=this._getBoundsCenterZoom(u,g);return this.setView(x.center,x.zoom,g)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,g){return this.setView(u,this._zoom,{pan:g})},panBy:function(u,g){if(g=g||{},!(u=de(u).round()).x&&!u.y)return this.fire("moveend");if(!0!==g.animate&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),!1!==g.animate){vt(this._mapPane,"leaflet-pan-anim");var x=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,x,g.duration||.25,g.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,g,x){if(!1===(x=x||{}).animate||!Yt.any3d)return this.setView(u,g,x);this._stop();var F=this.project(this.getCenter()),se=this.project(u),Se=this.getSize(),Be=this._zoom;u=ze(u),g=void 0===g?Be:g;var tt=Math.max(Se.x,Se.y),st=tt*this.getZoomScale(Be,g),dt=se.distanceTo(F)||1,It=1.42,Nt=It*It;function Ln(Sr){var Is=(st*st-tt*tt+(Sr?-1:1)*Nt*Nt*dt*dt)/(2*(Sr?st:tt)*Nt*dt),s=Math.sqrt(Is*Is+1)-Is;return s<1e-9?-18:Math.log(s)}function Eo(Sr){return(Math.exp(Sr)-Math.exp(-Sr))/2}function Ha(Sr){return(Math.exp(Sr)+Math.exp(-Sr))/2}var Oo=Ln(0);function Qa(Sr){return tt*(Ha(Oo)*function ga(Sr){return Eo(Sr)/Ha(Sr)}(Oo+It*Sr)-Eo(Oo))/Nt}var $t=Date.now(),$s=(Ln(1)-Oo)/It,_1=x.duration?1e3*x.duration:1e3*$s*.8;return this._moveStart(!0,x.noMoveStart),function vi(){var Sr=(Date.now()-$t)/_1,e1=function Ja(Sr){return 1-Math.pow(1-Sr,1.5)}(Sr)*$s;Sr<=1?(this._flyToFrame=ie(vi,this),this._move(this.unproject(F.add(se.subtract(F).multiplyBy(Qa(e1)/dt)),Be),this.getScaleZoom(tt/function v1(Sr){return tt*(Ha(Oo)/Ha(Oo+It*Sr))}(e1),Be),{flyTo:!0})):this._move(u,g)._moveEnd(!0)}.call(this),this},flyToBounds:function(u,g){var x=this._getBoundsCenterZoom(u,g);return this.flyTo(x.center,x.zoom,g)},setMaxBounds:function(u){return u=me(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var g=this.options.minZoom;return this.options.minZoom=u,this._loaded&&g!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var g=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&g!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,g){this._enforcingBounds=!0;var x=this.getCenter(),F=this._limitCenter(x,this._zoom,me(u));return x.equals(F)||this.panTo(F,g),this._enforcingBounds=!1,this},panInside:function(u,g){var x=de((g=g||{}).paddingTopLeft||g.padding||[0,0]),F=de(g.paddingBottomRight||g.padding||[0,0]),se=this.project(this.getCenter()),Se=this.project(u),Be=this.getPixelBounds(),tt=ae([Be.min.add(x),Be.max.subtract(F)]),st=tt.getSize();if(!tt.contains(Se)){this._enforcingBounds=!0;var dt=Se.subtract(tt.getCenter()),It=tt.extend(Se).getSize().subtract(st);se.x+=dt.x<0?-It.x:It.x,se.y+=dt.y<0?-It.y:It.y,this.panTo(this.unproject(se),g),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=D({animate:!1,pan:!0},!0===u?{animate:!0}:u);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var x=this.getSize(),F=g.divideBy(2).round(),se=x.divideBy(2).round(),Se=F.subtract(se);return Se.x||Se.y?(u.animate&&u.pan?this.panBy(Se):(u.pan&&this._rawPanBy(Se),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(b(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:x})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=D({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=b(this._handleGeolocationResponse,this),x=b(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,x,u):navigator.geolocation.getCurrentPosition(g,x,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var g=u.code,x=u.message||(1===g?"permission denied":2===g?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+x+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var F=new Ae(u.coords.latitude,u.coords.longitude),se=F.toBounds(2*u.coords.accuracy),Se=this._locateOptions;if(Se.setView){var Be=this.getBoundsZoom(se);this.setView(F,Se.maxZoom?Math.min(Be,Se.maxZoom):Be)}var tt={latlng:F,bounds:se,timestamp:u.timestamp};for(var st in u.coords)"number"==typeof u.coords[st]&&(tt[st]=u.coords[st]);this.fire("locationfound",tt)}},addHandler:function(u,g){if(!g)return this;var x=this[u]=new g(this);return this._handlers.push(x),this.options[u]&&x.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var u;for(u in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),fn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ee(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[u].remove();for(u in this._panes)fn(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,g){var F=tn("div","leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),g||this._mapPane);return u&&(this._panes[u]=F),F},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds();return new Ie(this.unproject(u.getBottomLeft()),this.unproject(u.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,g,x){u=me(u),x=de(x||[0,0]);var F=this.getZoom()||0,se=this.getMinZoom(),Se=this.getMaxZoom(),Be=u.getNorthWest(),tt=u.getSouthEast(),st=this.getSize().subtract(x),dt=ae(this.project(tt,F),this.project(Be,F)).getSize(),It=Yt.any3d?this.options.zoomSnap:1,Nt=st.x/dt.x,Ln=st.y/dt.y,Eo=g?Math.max(Nt,Ln):Math.min(Nt,Ln);return F=this.getScaleZoom(Eo,F),It&&(F=Math.round(F/(It/100))*(It/100),F=g?Math.ceil(F/It)*It:Math.floor(F/It)*It),Math.max(se,Math.min(Se,F))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new xe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,g){var x=this._getTopLeftPoint(u,g);return new he(x,x.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(void 0===u?this.getZoom():u)},getPane:function(u){return"string"==typeof u?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,g){var x=this.options.crs;return g=void 0===g?this._zoom:g,x.scale(u)/x.scale(g)},getScaleZoom:function(u,g){var x=this.options.crs,F=x.zoom(u*x.scale(g=void 0===g?this._zoom:g));return isNaN(F)?1/0:F},project:function(u,g){return g=void 0===g?this._zoom:g,this.options.crs.latLngToPoint(ze(u),g)},unproject:function(u,g){return g=void 0===g?this._zoom:g,this.options.crs.pointToLatLng(de(u),g)},layerPointToLatLng:function(u){var g=de(u).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(u){return this.project(ze(u))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(ze(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(me(u))},distance:function(u,g){return this.options.crs.distance(ze(u),ze(g))},containerPointToLayerPoint:function(u){return de(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return de(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var g=this.containerPointToLayerPoint(de(u));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ze(u)))},mouseEventToContainerPoint:function(u){return Sa(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var g=this._container=V1(u);if(!g)throw new Error("Map container not found.");if(g._leaflet_id)throw new Error("Map container is already initialized.");nn(g,"scroll",this._onScroll,this),this._containerId=E(g)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&Yt.any3d,vt(u,"leaflet-container"+(Yt.touch?" leaflet-touch":"")+(Yt.retina?" leaflet-retina":"")+(Yt.ielt9?" leaflet-oldie":"")+(Yt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=xa(u,"position");"absolute"!==g&&"relative"!==g&&"fixed"!==g&&"sticky"!==g&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Mr(this._mapPane,new xe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(vt(u.markerPane,"leaflet-zoom-hide"),vt(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,g,x){Mr(this._mapPane,new xe(0,0));var F=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var se=this._zoom!==g;this._moveStart(se,x)._move(u,g)._moveEnd(se),this.fire("viewreset"),F&&this.fire("load")},_moveStart:function(u,g){return u&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(u,g,x,F){void 0===g&&(g=this._zoom);var se=this._zoom!==g;return this._zoom=g,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),F?x&&x.pinch&&this.fire("zoom",x):((se||x&&x.pinch)&&this.fire("zoom",x),this.fire("move",x)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ee(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){Mr(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[E(this._container)]=this;var g=u?qn:nn;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),Yt.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ee(this._resizeRequest),this._resizeRequest=ie(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,g){for(var F,x=[],se="mouseout"===g||"mouseover"===g,Se=u.target||u.srcElement,Be=!1;Se;){if((F=this._targets[E(Se)])&&("click"===g||"preclick"===g)&&this._draggableMoved(F)){Be=!0;break}if(F&&F.listens(g,!0)&&(se&&!G2(Se,u)||(x.push(F),se))||Se===this._container)break;Se=Se.parentNode}return!x.length&&!Be&&!se&&this.listens(g,!0)&&(x=[this]),x},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var g=u.target||u.srcElement;if(!(!this._loaded||g._leaflet_disable_events||"click"===u.type&&this._isClickDisabled(g))){var x=u.type;"mousedown"===x&&Tr(g),this._fireDOMEvent(u,x)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,g,x){if("click"===u.type){var F=D({},u);F.type="preclick",this._fireDOMEvent(F,F.type,x)}var se=this._findEventTargets(u,g);if(x){for(var Se=[],Be=0;Be<x.length;Be++)x[Be].listens(g,!0)&&Se.push(x[Be]);se=Se.concat(se)}if(se.length){"contextmenu"===g&&Ri(u);var tt=se[0],st={originalEvent:u};if("keypress"!==u.type&&"keydown"!==u.type&&"keyup"!==u.type){var dt=tt.getLatLng&&(!tt._radius||tt._radius<=10);st.containerPoint=dt?this.latLngToContainerPoint(tt.getLatLng()):this.mouseEventToContainerPoint(u),st.layerPoint=this.containerPointToLayerPoint(st.containerPoint),st.latlng=dt?tt.getLatLng():this.layerPointToLatLng(st.layerPoint)}for(Be=0;Be<se.length;Be++)if(se[Be].fire(g,st,!0),st.originalEvent._stopped||!1===se[Be].options.bubblingMouseEvents&&-1!==O(this._mouseEvents,g))return}},_draggableMoved:function(u){return(u=u.dragging&&u.dragging.enabled()?u:this).dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,g=this._handlers.length;u<g;u++)this._handlers[u].disable()},whenReady:function(u,g){return this._loaded?u.call(g||this,{target:this}):this.on("load",u,g),this},_getMapPanePos:function(){return at(this._mapPane)||new xe(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,g){return(u&&void 0!==g?this._getNewPixelOrigin(u,g):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,g){var x=this.getSize()._divideBy(2);return this.project(u,g)._subtract(x)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,g,x){var F=this._getNewPixelOrigin(x,g);return this.project(u,g)._subtract(F)},_latLngBoundsToNewLayerBounds:function(u,g,x){var F=this._getNewPixelOrigin(x,g);return ae([this.project(u.getSouthWest(),g)._subtract(F),this.project(u.getNorthWest(),g)._subtract(F),this.project(u.getSouthEast(),g)._subtract(F),this.project(u.getNorthEast(),g)._subtract(F)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,g,x){if(!x)return u;var F=this.project(u,g),se=this.getSize().divideBy(2),Se=new he(F.subtract(se),F.add(se)),Be=this._getBoundsOffset(Se,x,g);return Math.abs(Be.x)<=1&&Math.abs(Be.y)<=1?u:this.unproject(F.add(Be),g)},_limitOffset:function(u,g){if(!g)return u;var x=this.getPixelBounds(),F=new he(x.min.add(u),x.max.add(u));return u.add(this._getBoundsOffset(F,g))},_getBoundsOffset:function(u,g,x){var F=ae(this.project(g.getNorthEast(),x),this.project(g.getSouthWest(),x)),se=F.min.subtract(u.min),Se=F.max.subtract(u.max);return new xe(this._rebound(se.x,-Se.x),this._rebound(se.y,-Se.y))},_rebound:function(u,g){return u+g>0?Math.round(u-g)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(g))},_limitZoom:function(u){var g=this.getMinZoom(),x=this.getMaxZoom(),F=Yt.any3d?this.options.zoomSnap:1;return F&&(u=Math.round(u/F)*F),Math.max(g,Math.min(x,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ui(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,g){var x=this._getCenterOffset(u)._trunc();return!(!0!==(g&&g.animate)&&!this.getSize().contains(x)||(this.panBy(x,g),0))},_createAnimProxy:function(){var u=this._proxy=tn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(g){var x=gs,F=this._proxy.style[x];Ea(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),F===this._proxy.style[x]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){fn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),g=this.getZoom();Ea(this._proxy,this.project(u,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,g,x){if(this._animatingZoom)return!0;if(x=x||{},!this._zoomAnimated||!1===x.animate||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var F=this.getZoomScale(g),se=this._getCenterOffset(u)._divideBy(1-1/F);return!(!0!==x.animate&&!this.getSize().contains(se)||(ie(function(){this._moveStart(!0,!1)._animateZoom(u,g,!0)},this),0))},_animateZoom:function(u,g,x,F){this._mapPane&&(x&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=g,vt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:g,noUpdate:F}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(b(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ui(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var _s=te.extend({options:{position:"topright"},initialize:function(u){G(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var g=this._map;return g&&g.removeControl(this),this.options.position=u,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var g=this._container=this.onAdd(u),x=this.getPosition(),F=u._controlCorners[x];return vt(g,"leaflet-control"),-1!==x.indexOf("bottom")?F.insertBefore(g,F.firstChild):F.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(fn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),Us=function(u){return new _s(u)};rn.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},g="leaflet-",x=this._controlContainer=tn("div",g+"control-container",this._container);function F(se,Se){u[se+Se]=tn("div",g+se+" "+g+Se,x)}F("top","left"),F("top","right"),F("bottom","left"),F("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)fn(this._controlCorners[u]);fn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var vc=_s.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,g,x,F){return x<F?-1:F<x?1:0}},initialize:function(u,g,x){for(var F in G(this,x),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,u)this._addLayer(u[F],F);for(F in g)this._addLayer(g[F],F,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return _s.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,g){return this._addLayer(u,g),this._map?this._update():this},addOverlay:function(u,g){return this._addLayer(u,g,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var g=this._getLayer(E(u));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){vt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(vt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):ui(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ui(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",g=this._container=tn("div",u),x=this.options.collapsed;g.setAttribute("aria-haspopup",!0),eo(g),Kt(g);var F=this._section=tn("section",u+"-list");x&&(this._map.on("click",this.collapse,this),nn(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var se=this._layersLink=tn("a",u+"-toggle",g);se.href="#",se.title="Layers",se.setAttribute("role","button"),nn(se,{keydown:function(Se){13===Se.keyCode&&this._expandSafely()},click:function(Se){Ri(Se),this._expandSafely()}},this),x||this.expand(),this._baseLayersList=tn("div",u+"-base",F),this._separator=tn("div",u+"-separator",F),this._overlaysList=tn("div",u+"-overlays",F),g.appendChild(F)},_getLayer:function(u){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&E(this._layers[g].layer)===u)return this._layers[g]},_addLayer:function(u,g,x){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:g,overlay:x}),this.options.sortLayers&&this._layers.sort(b(function(F,se){return this.options.sortFunction(F.layer,se.layer,F.name,se.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;T1(this._baseLayersList),T1(this._overlaysList),this._layerControlInputs=[];var u,g,x,F,se=0;for(x=0;x<this._layers.length;x++)this._addItem(F=this._layers[x]),g=g||F.overlay,u=u||!F.overlay,se+=F.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(u=u&&se>1)?"":"none"),this._separator.style.display=g&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var g=this._getLayer(E(u.target)),x=g.overlay?"add"===u.type?"overlayadd":"overlayremove":"add"===u.type?"baselayerchange":null;x&&this._map.fire(x,g)},_createRadioElement:function(u,g){var x='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(g?' checked="checked"':"")+"/>",F=document.createElement("div");return F.innerHTML=x,F.firstChild},_addItem:function(u){var F,g=document.createElement("label"),x=this._map.hasLayer(u.layer);u.overlay?((F=document.createElement("input")).type="checkbox",F.className="leaflet-control-layers-selector",F.defaultChecked=x):F=this._createRadioElement("leaflet-base-layers_"+E(this),x),this._layerControlInputs.push(F),F.layerId=E(u.layer),nn(F,"click",this._onInputClick,this);var se=document.createElement("span");se.innerHTML=" "+u.name;var Se=document.createElement("span");return g.appendChild(Se),Se.appendChild(F),Se.appendChild(se),(u.overlay?this._overlaysList:this._baseLayersList).appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){var g,x,u=this._layerControlInputs,F=[],se=[];this._handlingClick=!0;for(var Se=u.length-1;Se>=0;Se--)x=this._getLayer((g=u[Se]).layerId).layer,g.checked?F.push(x):g.checked||se.push(x);for(Se=0;Se<se.length;Se++)this._map.hasLayer(se[Se])&&this._map.removeLayer(se[Se]);for(Se=0;Se<F.length;Se++)this._map.hasLayer(F[Se])||this._map.addLayer(F[Se]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var g,x,u=this._layerControlInputs,F=this._map.getZoom(),se=u.length-1;se>=0;se--)x=this._getLayer((g=u[se]).layerId).layer,g.disabled=void 0!==x.options.minZoom&&F<x.options.minZoom||void 0!==x.options.maxZoom&&F>x.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;nn(u,"click",Ri),this.expand(),setTimeout(function(){qn(u,"click",Ri)})}}),Fi=_s.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var g="leaflet-control-zoom",x=tn("div",g+" leaflet-bar"),F=this.options;return this._zoomInButton=this._createButton(F.zoomInText,F.zoomInTitle,g+"-in",x,this._zoomIn),this._zoomOutButton=this._createButton(F.zoomOutText,F.zoomOutTitle,g+"-out",x,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),x},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,g,x,F,se){var Se=tn("a",x,F);return Se.innerHTML=u,Se.href="#",Se.title=g,Se.setAttribute("role","button"),Se.setAttribute("aria-label",g),eo(Se),nn(Se,"click",lo),nn(Se,"click",se,this),nn(Se,"click",this._refocusOnMap,this),Se},_updateDisabled:function(){var u=this._map,g="leaflet-disabled";ui(this._zoomInButton,g),ui(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(vt(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(vt(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});rn.mergeOptions({zoomControl:!0}),rn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Fi,this.addControl(this.zoomControl))});var Br=_s.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var g="leaflet-control-scale",x=tn("div",g),F=this.options;return this._addScales(F,g+"-line",x),u.on(F.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),x},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,g,x){u.metric&&(this._mScale=tn("div",g,x)),u.imperial&&(this._iScale=tn("div",g,x))},_update:function(){var u=this._map,g=u.getSize().y/2,x=u.distance(u.containerPointToLatLng([0,g]),u.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(x)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var g=this._getRoundNum(u);this._updateScale(this._mScale,g<1e3?g+" m":g/1e3+" km",g/u)},_updateImperial:function(u){var x,F,se,g=3.2808399*u;g>5280?(F=this._getRoundNum(x=g/5280),this._updateScale(this._iScale,F+" mi",F/x)):(se=this._getRoundNum(g),this._updateScale(this._iScale,se+" ft",se/g))},_updateScale:function(u,g,x){u.style.width=Math.round(this.options.maxWidth*x)+"px",u.innerHTML=g},_getRoundNum:function(u){var g=Math.pow(10,(Math.floor(u)+"").length-1),x=u/g;return g*(x>=10?10:x>=5?5:x>=3?3:x>=2?2:1)}}),kr=_s.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Yt.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(u){G(this,u),this._attributions={}},onAdd:function(u){for(var g in u.attributionControl=this,this._container=tn("div","leaflet-control-attribution"),eo(this._container),u._layers)u._layers[g].getAttribution&&this.addAttribution(u._layers[g].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var g in this._attributions)this._attributions[g]&&u.push(g);var x=[];this.options.prefix&&x.push(this.options.prefix),u.length&&x.push(u.join(", ")),this._container.innerHTML=x.join(' <span aria-hidden="true">|</span> ')}}});rn.mergeOptions({attributionControl:!0}),rn.addInitHook(function(){this.options.attributionControl&&(new kr).addTo(this)});_s.Layers=vc,_s.Zoom=Fi,_s.Scale=Br,_s.Attribution=kr,Us.layers=function(u,g,x){return new vc(u,g,x)},Us.zoom=function(u){return new Fi(u)},Us.scale=function(u){return new Br(u)},Us.attribution=function(u){return new kr(u)};var zt=te.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});zt.addTo=function(u,g){return u.addHandler(g,this),this};var ko,A3={Events:Pe},da=Yt.touch?"touchstart mousedown":"mousedown",hi=ve.extend({options:{clickTolerance:3},initialize:function(u,g,x,F){G(this,F),this._element=u,this._dragStartTarget=g||u,this._preventOutline=x},enable:function(){this._enabled||(nn(this._dragStartTarget,da,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(hi._dragging===this&&this.finishDrag(!0),qn(this._dragStartTarget,da,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!I1(this._element,"leaflet-zoom-anim"))){if(u.touches&&1!==u.touches.length)return void(hi._dragging===this&&this.finishDrag());if(!(hi._dragging||u.shiftKey||1!==u.which&&1!==u.button&&!u.touches||(hi._dragging=this,this._preventOutline&&Tr(this._element),vs(),la(),this._moving))){this.fire("down");var g=u.touches?u.touches[0]:u,x=bi(this._element);this._startPoint=new xe(g.clientX,g.clientY),this._startPos=at(this._element),this._parentScale=fa(x);var F="mousedown"===u.type;nn(document,F?"mousemove":"touchmove",this._onMove,this),nn(document,F?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1)return void(this._moved=!0);var g=u.touches&&1===u.touches.length?u.touches[0]:u,x=new xe(g.clientX,g.clientY)._subtract(this._startPoint);!x.x&&!x.y||Math.abs(x.x)+Math.abs(x.y)<this.options.clickTolerance||(x.x/=this._parentScale.x,x.y/=this._parentScale.y,Ri(u),this._moved||(this.fire("dragstart"),this._moved=!0,vt(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),vt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(x),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),Mr(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){ui(document.body,"leaflet-dragging"),this._lastTarget&&(ui(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),qn(document,"mousemove touchmove",this._onMove,this),qn(document,"mouseup touchend touchcancel",this._onUp,this),zs(),mn(),this._moved&&this._moving&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,hi._dragging=!1}});function No(u,g){if(!g||!u.length)return u.slice();var x=g*g;return function _c(u,g){var x=u.length,se=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(x);se[0]=se[x-1]=1,d2(u,se,g,0,x-1);var Se,Be=[];for(Se=0;Se<x;Se++)se[Se]&&Be.push(u[Se]);return Be}(u=function Dn(u,g){for(var x=[u[0]],F=1,se=0,Se=u.length;F<Se;F++)Cn(u[F],u[se])>g&&(x.push(u[F]),se=F);return se<Se-1&&x.push(u[Se-1]),x}(u,x),x)}function Da(u,g,x){return Math.sqrt(bn(u,g,x,!0))}function d2(u,g,x,F,se){var Be,tt,st,Se=0;for(tt=F+1;tt<=se-1;tt++)(st=bn(u[tt],u[F],u[se],!0))>Se&&(Be=tt,Se=st);Se>x&&(g[Be]=1,d2(u,g,x,F,Be),d2(u,g,x,Be,se))}function Jr(u,g,x,F,se){var tt,st,dt,Se=F?ko:Ii(u,x),Be=Ii(g,x);for(ko=Be;;){if(!(Se|Be))return[u,g];if(Se&Be)return!1;dt=Ii(st=nt(u,g,tt=Se||Be,x,se),x),tt===Se?(u=st,Se=dt):(g=st,Be=dt)}}function nt(u,g,x,F,se){var dt,It,Se=g.x-u.x,Be=g.y-u.y,tt=F.min,st=F.max;return 8&x?(dt=u.x+Se*(st.y-u.y)/Be,It=st.y):4&x?(dt=u.x+Se*(tt.y-u.y)/Be,It=tt.y):2&x?(dt=st.x,It=u.y+Be*(st.x-u.x)/Se):1&x&&(dt=tt.x,It=u.y+Be*(tt.x-u.x)/Se),new xe(dt,It,se)}function Ii(u,g){var x=0;return u.x<g.min.x?x|=1:u.x>g.max.x&&(x|=2),u.y<g.min.y?x|=4:u.y>g.max.y&&(x|=8),x}function Cn(u,g){var x=g.x-u.x,F=g.y-u.y;return x*x+F*F}function bn(u,g,x,F){var dt,se=g.x,Se=g.y,Be=x.x-se,tt=x.y-Se,st=Be*Be+tt*tt;return st>0&&((dt=((u.x-se)*Be+(u.y-Se)*tt)/st)>1?(se=x.x,Se=x.y):dt>0&&(se+=Be*dt,Se+=tt*dt)),Be=u.x-se,tt=u.y-Se,F?Be*Be+tt*tt:new xe(se,Se)}function Xi(u){return!V(u[0])||"object"!=typeof u[0][0]&&typeof u[0][0]<"u"}function xr(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Xi(u)}function O1(u,g){var x,F,se,Se,Be,tt,st,dt;if(!u||0===u.length)throw new Error("latlngs not passed");Xi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var It=[];for(var Nt in u)It.push(g.project(ze(u[Nt])));var Ln=It.length;for(x=0,F=0;x<Ln-1;x++)F+=It[x].distanceTo(It[x+1])/2;if(0===F)dt=It[0];else for(x=0,Se=0;x<Ln-1;x++)if((Se+=se=(Be=It[x]).distanceTo(tt=It[x+1]))>F){dt=[tt.x-(st=(Se-F)/se)*(tt.x-Be.x),tt.y-st*(tt.y-Be.y)];break}return g.unproject(de(dt))}var yo={__proto__:null,simplify:No,pointToSegmentDistance:Da,closestPointOnSegment:function h2(u,g,x){return bn(u,g,x)},clipSegment:Jr,_getEdgeIntersection:nt,_getBitCode:Ii,_sqClosestPointOnSegment:bn,isFlat:Xi,_flat:xr,polylineCenter:O1};function Xa(u,g,x){var F,Se,Be,tt,st,dt,It,Nt,Ln,se=[1,4,2,8];for(Se=0,It=u.length;Se<It;Se++)u[Se]._code=Ii(u[Se],g);for(tt=0;tt<4;tt++){for(Nt=se[tt],F=[],Se=0,Be=(It=u.length)-1;Se<It;Be=Se++)dt=u[Be],(st=u[Se])._code&Nt?dt._code&Nt||((Ln=nt(dt,st,Nt,g,x))._code=Ii(Ln,g),F.push(Ln)):(dt._code&Nt&&((Ln=nt(dt,st,Nt,g,x))._code=Ii(Ln,g),F.push(Ln)),F.push(st));u=F}return u}function js(u,g){var x,F,se,Se,Be,tt,st,dt;if(!u||0===u.length)throw new Error("latlngs not passed");Xi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Nt=[];for(var Ln in u)Nt.push(g.project(ze(u[Ln])));var Eo=Nt.length;for(tt=st=dt=0,x=0,F=Eo-1;x<Eo;F=x++)st+=((se=Nt[x]).x+(Se=Nt[F]).x)*(Be=se.y*Se.x-Se.y*se.x),dt+=(se.y+Se.y)*Be,tt+=3*Be;return g.unproject(de(0===tt?Nt[0]:[st/tt,dt/tt]))}var Co={__proto__:null,clipPolygon:Xa,polygonCenter:js},gn={project:function(u){return new xe(u.lng,u.lat)},unproject:function(u){return new Ae(u.y,u.x)},bounds:new he([-180,-90],[180,90])},wi={R:6378137,R_MINOR:6356752.314245179,bounds:new he([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(u){var g=Math.PI/180,x=this.R,F=u.lat*g,se=this.R_MINOR/x,Se=Math.sqrt(1-se*se),Be=Se*Math.sin(F),tt=Math.tan(Math.PI/4-F/2)/Math.pow((1-Be)/(1+Be),Se/2);return F=-x*Math.log(Math.max(tt,1e-10)),new xe(u.lng*g*x,F)},unproject:function(u){for(var dt,g=180/Math.PI,x=this.R,F=this.R_MINOR/x,se=Math.sqrt(1-F*F),Se=Math.exp(-u.y/x),Be=Math.PI/2-2*Math.atan(Se),tt=0,st=.1;tt<15&&Math.abs(st)>1e-7;tt++)dt=se*Math.sin(Be),dt=Math.pow((1-dt)/(1+dt),se/2),Be+=st=Math.PI/2-2*Math.atan(Se*dt)-Be;return new Ae(Be*g,u.x*g/x)}},$n={__proto__:null,LonLat:gn,Mercator:wi,SphericalMercator:re},ls=D({},Ke,{code:"EPSG:3395",projection:wi,transformation:function(){var u=.5/(Math.PI*wi.R);return He(u,.5,-u,.5)}()}),uo=D({},Ke,{code:"EPSG:4326",projection:gn,transformation:He(1/180,1,-1/180,.5)}),Bi=D({},Ge,{projection:gn,transformation:He(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,g){var x=g.lng-u.lng,F=g.lat-u.lat;return Math.sqrt(x*x+F*F)},infinite:!0});Ge.Earth=Ke,Ge.EPSG3395=ls,Ge.EPSG3857=Fe,Ge.EPSG900913=Ye,Ge.EPSG4326=uo,Ge.Simple=Bi;var As=ve.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[E(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[E(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var g=u.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var x=this.getEvents();g.on(x,this),this.once("remove",function(){g.off(x,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});rn.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var g=E(u);return this._layers[g]||(this._layers[g]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u)),this},removeLayer:function(u){var g=E(u);return this._layers[g]?(this._loaded&&u.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return E(u)in this._layers},eachLayer:function(u,g){for(var x in this._layers)u.call(g,this._layers[x]);return this},_addLayers:function(u){for(var g=0,x=(u=u?V(u)?u:[u]:[]).length;g<x;g++)this.addLayer(u[g])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[E(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var g=E(u);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,g=-1/0,x=this._getZoomSpan();for(var F in this._zoomBoundLayers){var se=this._zoomBoundLayers[F].options;u=void 0===se.minZoom?u:Math.min(u,se.minZoom),g=void 0===se.maxZoom?g:Math.max(g,se.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=u===1/0?void 0:u,x!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var jo=As.extend({initialize:function(u,g){var x,F;if(G(this,g),this._layers={},u)for(x=0,F=u.length;x<F;x++)this.addLayer(u[x])},addLayer:function(u){var g=this.getLayerId(u);return this._layers[g]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var g=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(u){return("number"==typeof u?u:this.getLayerId(u))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var x,F,g=Array.prototype.slice.call(arguments,1);for(x in this._layers)(F=this._layers[x])[u]&&F[u].apply(F,g);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,g){for(var x in this._layers)u.call(g,this._layers[x]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return E(u)}}),Ui=jo.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),jo.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),jo.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new Ie;for(var g in this._layers){var x=this._layers[g];u.extend(x.getBounds?x.getBounds():x.getLatLng())}return u}}),ji=te.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){G(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,g){var x=this._getIconUrl(u);if(!x){if("icon"===u)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var F=this._createImg(x,g&&"IMG"===g.tagName?g:null);return this._setIconStyles(F,u),(this.options.crossOrigin||""===this.options.crossOrigin)&&(F.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),F},_setIconStyles:function(u,g){var x=this.options,F=x[g+"Size"];"number"==typeof F&&(F=[F,F]);var se=de(F),Se=de("shadow"===g&&x.shadowAnchor||x.iconAnchor||se&&se.divideBy(2,!0));u.className="leaflet-marker-"+g+" "+(x.className||""),Se&&(u.style.marginLeft=-Se.x+"px",u.style.marginTop=-Se.y+"px"),se&&(u.style.width=se.x+"px",u.style.height=se.y+"px")},_createImg:function(u,g){return(g=g||document.createElement("img")).src=u,g},_getIconUrl:function(u){return Yt.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});var Go=ji.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return"string"!=typeof Go.imagePath&&(Go.imagePath=this._detectIconPath()),(this.options.imagePath||Go.imagePath)+ji.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var g=function(x,F,se){var Se=F.exec(x);return Se&&Se[se]};return(u=g(u,/^url\((['"])?(.+)\1\)$/,2))&&g(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=tn("div","leaflet-default-icon-path",document.body),g=xa(u,"background-image")||xa(u,"backgroundImage");if(document.body.removeChild(u),g=this._stripUrl(g))return g;var x=document.querySelector('link[href$="leaflet.css"]');return x?x.href.substring(0,x.href.length-11-1):""}}),Pn=zt.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new hi(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),vt(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ui(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var g=this._marker,x=g._map,F=this._marker.options.autoPanSpeed,se=this._marker.options.autoPanPadding,Se=at(g._icon),Be=x.getPixelBounds(),tt=x.getPixelOrigin(),st=ae(Be.min._subtract(tt).add(se),Be.max._subtract(tt).subtract(se));if(!st.contains(Se)){var dt=de((Math.max(st.max.x,Se.x)-st.max.x)/(Be.max.x-st.max.x)-(Math.min(st.min.x,Se.x)-st.min.x)/(Be.min.x-st.min.x),(Math.max(st.max.y,Se.y)-st.max.y)/(Be.max.y-st.max.y)-(Math.min(st.min.y,Se.y)-st.min.y)/(Be.min.y-st.min.y)).multiplyBy(F);x.panBy(dt,{animate:!1}),this._draggable._newPos._add(dt),this._draggable._startPos._add(dt),Mr(g._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=ie(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(ee(this._panRequest),this._panRequest=ie(this._adjustPan.bind(this,u)))},_onDrag:function(u){var g=this._marker,x=g._shadow,F=at(g._icon),se=g._map.layerPointToLatLng(F);x&&Mr(x,F),g._latlng=se,u.latlng=se,u.oldLatLng=this._oldLatLng,g.fire("move",u).fire("drag",u)},_onDragEnd:function(u){ee(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),Cs=As.extend({options:{icon:new Go,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,g){G(this,g),this._latlng=ze(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var g=this._latlng;return this._latlng=ze(u),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),x=u.icon.createIcon(this._icon),F=!1;x!==this._icon&&(this._icon&&this._removeIcon(),F=!0,u.title&&(x.title=u.title),"IMG"===x.tagName&&(x.alt=u.alt||"")),vt(x,g),u.keyboard&&(x.tabIndex="0",x.setAttribute("role","button")),this._icon=x,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&nn(x,"focus",this._panOnFocus,this);var se=u.icon.createShadow(this._shadow),Se=!1;se!==this._shadow&&(this._removeShadow(),Se=!0),se&&(vt(se,g),se.alt=""),this._shadow=se,u.opacity<1&&this._updateOpacity(),F&&this.getPane().appendChild(this._icon),this._initInteraction(),se&&Se&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&qn(this._icon,"focus",this._panOnFocus,this),fn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&fn(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&Mr(this._icon,u),this._shadow&&Mr(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(vt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Pn)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Pn(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&mt(this._icon,u),this._shadow&&mt(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var g=this.options.icon.options,x=g.iconSize?de(g.iconSize):de(0,0),F=g.iconAnchor?de(g.iconAnchor):de(0,0);u.panInside(this._latlng,{paddingTopLeft:F,paddingBottomRight:x.subtract(F)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Ht=As.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return G(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ki=Ht.extend({options:{fill:!0,radius:10},initialize:function(u,g){G(this,g),this._latlng=ze(u),this._radius=this.options.radius},setLatLng:function(u){var g=this._latlng;return this._latlng=ze(u),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var g=u&&u.radius||this._radius;return Ht.prototype.setStyle.call(this,u),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,g=this._radiusY||u,x=this._clickTolerance(),F=[u+x,g+x];this._pxBounds=new he(this._point.subtract(F),this._point.add(F))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var oi=Ki.extend({initialize:function(u,g,x){if("number"==typeof g&&(g=D({},x,{radius:g})),G(this,g),this._latlng=ze(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new Ie(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:Ht.prototype.setStyle,_project:function(){var u=this._latlng.lng,g=this._latlng.lat,x=this._map,F=x.options.crs;if(F.distance===Ke.distance){var se=Math.PI/180,Se=this._mRadius/Ke.R/se,Be=x.project([g+Se,u]),tt=x.project([g-Se,u]),st=Be.add(tt).divideBy(2),dt=x.unproject(st).lat,It=Math.acos((Math.cos(Se*se)-Math.sin(g*se)*Math.sin(dt*se))/(Math.cos(g*se)*Math.cos(dt*se)))/se;(isNaN(It)||0===It)&&(It=Se/Math.cos(Math.PI/180*g)),this._point=st.subtract(x.getPixelOrigin()),this._radius=isNaN(It)?0:st.x-x.project([dt,u-It]).x,this._radiusY=st.y-Be.y}else{var Nt=F.unproject(F.project(this._latlng).subtract([this._mRadius,0]));this._point=x.latLngToLayerPoint(this._latlng),this._radius=this._point.x-x.latLngToLayerPoint(Nt).x}this._updateBounds()}});var qo=Ht.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,g){G(this,g),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var se,Se,g=1/0,x=null,F=bn,Be=0,tt=this._parts.length;Be<tt;Be++)for(var st=this._parts[Be],dt=1,It=st.length;dt<It;dt++){var Nt=F(u,se=st[dt-1],Se=st[dt],!0);Nt<g&&(g=Nt,x=F(u,se,Se))}return x&&(x.distance=Math.sqrt(g)),x},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return O1(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,g){return g=g||this._defaultShape(),u=ze(u),g.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new Ie,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Xi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var g=[],x=Xi(u),F=0,se=u.length;F<se;F++)x?(g[F]=ze(u[F]),this._bounds.extend(g[F])):g[F]=this._convertLatLngs(u[F]);return g},_project:function(){var u=new he;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),g=new xe(u,u);this._rawPxBounds&&(this._pxBounds=new he([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(u,g,x){var Se,Be,se=u.length;if(u[0]instanceof Ae){for(Be=[],Se=0;Se<se;Se++)Be[Se]=this._map.latLngToLayerPoint(u[Se]),x.extend(Be[Se]);g.push(Be)}else for(Se=0;Se<se;Se++)this._projectLatlngs(u[Se],g,x)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(u)){if(this.options.noClip)return void(this._parts=this._rings);var x,F,se,Se,Be,tt,st,g=this._parts;for(x=0,se=0,Se=this._rings.length;x<Se;x++)for(F=0,Be=(st=this._rings[x]).length;F<Be-1;F++)(tt=Jr(st[F],st[F+1],u,F,!0))&&(g[se]=g[se]||[],g[se].push(tt[0]),(tt[1]!==st[F+1]||F===Be-2)&&(g[se].push(tt[1]),se++))}},_simplifyPoints:function(){for(var u=this._parts,g=this.options.smoothFactor,x=0,F=u.length;x<F;x++)u[x]=No(u[x],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,g){var x,F,se,Se,Be,tt,st=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(x=0,Se=this._parts.length;x<Se;x++)for(F=0,se=(Be=(tt=this._parts[x]).length)-1;F<Be;se=F++)if((g||0!==F)&&Da(u,tt[se],tt[F])<=st)return!0;return!1}});qo._flat=xr;var Ka=qo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return js(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var g=qo.prototype._convertLatLngs.call(this,u),x=g.length;return x>=2&&g[0]instanceof Ae&&g[0].equals(g[x-1])&&g.pop(),g},_setLatLngs:function(u){qo.prototype._setLatLngs.call(this,u),Xi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Xi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,g=this.options.weight,x=new xe(g,g);if(u=new he(u.min.subtract(x),u.max.add(x)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(u)){if(this.options.noClip)return void(this._parts=this._rings);for(var Se,F=0,se=this._rings.length;F<se;F++)(Se=Xa(this._rings[F],u,!0)).length&&this._parts.push(Se)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var x,F,se,Se,Be,tt,st,dt,g=!1;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(Se=0,st=this._parts.length;Se<st;Se++)for(Be=0,tt=(dt=(x=this._parts[Se]).length)-1;Be<dt;tt=Be++)(F=x[Be]).y>u.y!=(se=x[tt]).y>u.y&&u.x<(se.x-F.x)*(u.y-F.y)/(se.y-F.y)+F.x&&(g=!g);return g||qo.prototype._containsPoint.call(this,u,!0)}});var bo=Ui.extend({initialize:function(u,g){G(this,g),this._layers={},u&&this.addData(u)},addData:function(u){var x,F,se,g=V(u)?u:u.features;if(g){for(x=0,F=g.length;x<F;x++)((se=g[x]).geometries||se.geometry||se.features||se.coordinates)&&this.addData(se);return this}var Se=this.options;if(Se.filter&&!Se.filter(u))return this;var Be=bs(u,Se);return Be?(Be.feature=to(u),Be.defaultOptions=Be.options,this.resetStyle(Be),Se.onEachFeature&&Se.onEachFeature(u,Be),this.addLayer(Be)):this},resetStyle:function(u){return void 0===u?this.eachLayer(this.resetStyle,this):(u.options=D({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(g){this._setLayerStyle(g,u)},this)},_setLayerStyle:function(u,g){u.setStyle&&("function"==typeof g&&(g=g(u.feature)),u.setStyle(g))}});function bs(u,g){var tt,st,dt,It,x="Feature"===u.type?u.geometry:u,F=x?x.coordinates:null,se=[],Se=g&&g.pointToLayer,Be=g&&g.coordsToLatLng||vn;if(!F&&!x)return null;switch(x.type){case"Point":return Ot(Se,u,tt=Be(F),g);case"MultiPoint":for(dt=0,It=F.length;dt<It;dt++)tt=Be(F[dt]),se.push(Ot(Se,u,tt,g));return new Ui(se);case"LineString":case"MultiLineString":return st=Yn(F,"LineString"===x.type?0:1,Be),new qo(st,g);case"Polygon":case"MultiPolygon":return st=Yn(F,"Polygon"===x.type?1:2,Be),new Ka(st,g);case"GeometryCollection":for(dt=0,It=x.geometries.length;dt<It;dt++){var Nt=bs({geometry:x.geometries[dt],type:"Feature",properties:u.properties},g);Nt&&se.push(Nt)}return new Ui(se);case"FeatureCollection":for(dt=0,It=x.features.length;dt<It;dt++){var Ln=bs(x.features[dt],g);Ln&&se.push(Ln)}return new Ui(se);default:throw new Error("Invalid GeoJSON object.")}}function Ot(u,g,x,F){return u?u(g,x):new Cs(x,F&&F.markersInheritOptions&&F)}function vn(u){return new Ae(u[1],u[0],u[2])}function Yn(u,g,x){for(var Be,F=[],se=0,Se=u.length;se<Se;se++)Be=g?Yn(u[se],g-1,x):(x||vn)(u[se]),F.push(Be);return F}function Ir(u,g){return void 0!==(u=ze(u)).alt?[Y(u.lng,g),Y(u.lat,g),Y(u.alt,g)]:[Y(u.lng,g),Y(u.lat,g)]}function $o(u,g,x,F){for(var se=[],Se=0,Be=u.length;Se<Be;Se++)se.push(g?$o(u[Se],Xi(u[Se])?0:g-1,x,F):Ir(u[Se],F));return!g&&x&&se.push(se[0].slice()),se}function Un(u,g){return u.feature?D({},u.feature,{geometry:g}):to(g)}function to(u){return"Feature"===u.type||"FeatureCollection"===u.type?u:{type:"Feature",properties:{},geometry:u}}var Ur={toGeoJSON:function(u){return Un(this,{type:"Point",coordinates:Ir(this.getLatLng(),u)})}};function m1(u,g){return new bo(u,g)}Cs.include(Ur),oi.include(Ur),Ki.include(Ur),qo.include({toGeoJSON:function(u){var g=!Xi(this._latlngs);return Un(this,{type:(g?"Multi":"")+"LineString",coordinates:$o(this._latlngs,g?1:0,!1,u)})}}),Ka.include({toGeoJSON:function(u){var g=!Xi(this._latlngs),x=g&&!Xi(this._latlngs[0]),F=$o(this._latlngs,x?2:g?1:0,!0,u);return g||(F=[F]),Un(this,{type:(x?"Multi":"")+"Polygon",coordinates:F})}}),jo.include({toMultiPoint:function(u){var g=[];return this.eachLayer(function(x){g.push(x.toGeoJSON(u).geometry.coordinates)}),Un(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(u){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===g)return this.toMultiPoint(u);var x="GeometryCollection"===g,F=[];return this.eachLayer(function(se){if(se.toGeoJSON){var Se=se.toGeoJSON(u);if(x)F.push(Se.geometry);else{var Be=to(Se);"FeatureCollection"===Be.type?F.push.apply(F,Be.features):F.push(Be)}}}),x?Un(this,{geometries:F,type:"GeometryCollection"}):{type:"FeatureCollection",features:F}}});var pa=m1,un=As.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,g,x){this._url=u,this._bounds=me(g),G(this,x)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(vt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){fn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&co(this._image),this},bringToBack:function(){return this._map&&br(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=me(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u="IMG"===this._url.tagName,g=this._image=u?this._url:tn("img");vt(g,"leaflet-image-layer"),this._zoomAnimated&&vt(g,"leaflet-zoom-animated"),this.options.className&&vt(g,this.options.className),g.onselectstart=R,g.onmousemove=R,g.onload=b(this.fire,this,"load"),g.onerror=b(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(g.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u?this._url=g.src:(g.src=this._url,g.alt=this.options.alt)},_animateZoom:function(u){var g=this._map.getZoomScale(u.zoom),x=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;Ea(this._image,x,g)},_reset:function(){var u=this._image,g=new he(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),x=g.getSize();Mr(u,g.min),u.style.width=x.x+"px",u.style.height=x.y+"px"},_updateOpacity:function(){mt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),mi=un.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u="VIDEO"===this._url.tagName,g=this._image=u?this._url:tn("video");if(vt(g,"leaflet-image-layer"),this._zoomAnimated&&vt(g,"leaflet-zoom-animated"),this.options.className&&vt(g,this.options.className),g.onselectstart=R,g.onmousemove=R,g.onloadeddata=b(this.fire,this,"load"),u){for(var x=g.getElementsByTagName("source"),F=[],se=0;se<x.length;se++)F.push(x[se].src);this._url=x.length>0?F:[g.src]}else{V(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var Se=0;Se<this._url.length;Se++){var Be=tn("source");Be.src=this._url[Se],g.appendChild(Be)}}}});var xi=un.extend({_initImage:function(){var u=this._image=this._url;vt(u,"leaflet-image-layer"),this._zoomAnimated&&vt(u,"leaflet-zoom-animated"),this.options.className&&vt(u,this.options.className),u.onselectstart=R,u.onmousemove=R}});var Ni=As.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,g){u&&(u instanceof Ae||V(u))?(this._latlng=ze(u),G(this,g)):(G(this,u),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(u){return(u=arguments.length?u:this._source._map).hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&mt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&mt(this._container,1),this.bringToFront(),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(mt(this._container,0),this._removeTimeout=setTimeout(b(fn,void 0,this._container),200)):fn(this._container),this.options.interactive&&(ui(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=ze(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&co(this._container),this},bringToBack:function(){return this._map&&br(this._container),this},_prepareOpen:function(u){var g=this._source;if(!g._map)return!1;if(g instanceof Ui){g=null;var x=this._source._layers;for(var F in x)if(x[F]._map){g=x[F];break}if(!g)return!1;this._source=g}if(!u)if(g.getCenter)u=g.getCenter();else if(g.getLatLng)u=g.getLatLng();else{if(!g.getBounds)throw new Error("Unable to get source layer LatLng.");u=g.getBounds().getCenter()}return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,g="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof g)u.innerHTML=g;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),g=de(this.options.offset),x=this._getAnchor();this._zoomAnimated?Mr(this._container,u.add(x)):g=g.add(u).add(x);var F=this._containerBottom=-g.y,se=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=F+"px",this._container.style.left=se+"px"}},_getAnchor:function(){return[0,0]}});rn.include({_initOverlay:function(u,g,x,F){var se=g;return se instanceof u||(se=new u(F).setContent(g)),x&&se.setLatLng(x),se}}),As.include({_initOverlay:function(u,g,x,F){var se=x;return se instanceof u?(G(se,F),se._source=this):(se=g&&!F?g:new u(F,this)).setContent(x),se}});var Wo=Ni.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return!(u=arguments.length?u:this._source._map).hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,Ni.prototype.openOn.call(this,u)},onAdd:function(u){Ni.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ht||this._source.on("preclick",Pi))},onRemove:function(u){Ni.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ht||this._source.off("preclick",Pi))},getEvents:function(){var u=Ni.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",g=this._container=tn("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),x=this._wrapper=tn("div",u+"-content-wrapper",g);if(this._contentNode=tn("div",u+"-content",x),eo(g),Kt(this._contentNode),nn(g,"contextmenu",Pi),this._tipContainer=tn("div",u+"-tip-container",g),this._tip=tn("div",u+"-tip",this._tipContainer),this.options.closeButton){var F=this._closeButton=tn("a",u+"-close-button",g);F.setAttribute("role","button"),F.setAttribute("aria-label","Close popup"),F.href="#close",F.innerHTML='<span aria-hidden="true">&#215;</span>',nn(F,"click",function(se){Ri(se),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,g=u.style;g.width="",g.whiteSpace="nowrap";var x=u.offsetWidth;x=Math.min(x,this.options.maxWidth),x=Math.max(x,this.options.minWidth),g.width=x+1+"px",g.whiteSpace="",g.height="";var se=this.options.maxHeight,Se="leaflet-popup-scrolled";se&&u.offsetHeight>se?(g.height=se+"px",vt(u,Se)):ui(u,Se),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),x=this._getAnchor();Mr(this._container,g.add(x))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var u=this._map,g=parseInt(xa(this._container,"marginBottom"),10)||0,x=this._container.offsetHeight+g,F=this._containerWidth,se=new xe(this._containerLeft,-x-this._containerBottom);se._add(at(this._container));var Se=u.layerPointToContainerPoint(se),Be=de(this.options.autoPanPadding),tt=de(this.options.autoPanPaddingTopLeft||Be),st=de(this.options.autoPanPaddingBottomRight||Be),dt=u.getSize(),It=0,Nt=0;Se.x+F+st.x>dt.x&&(It=Se.x+F-dt.x+st.x),Se.x-It-tt.x<0&&(It=Se.x-tt.x),Se.y+x+st.y>dt.y&&(Nt=Se.y+x-dt.y+st.y),Se.y-Nt-tt.y<0&&(Nt=Se.y-tt.y),(It||Nt)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([It,Nt]))}},_getAnchor:function(){return de(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});rn.mergeOptions({closePopupOnClick:!0}),rn.include({openPopup:function(u,g,x){return this._initOverlay(Wo,u,g,x).openOn(this),this},closePopup:function(u){return(u=arguments.length?u:this._popup)&&u.close(),this}}),As.include({bindPopup:function(u,g){return this._popup=this._initOverlay(Wo,this._popup,u,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof Ui||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(this._popup&&this._map){lo(u);var g=u.layer||u.target;if(this._popup._source===g&&!(g instanceof Ht))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng));this._popup._source=g,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){13===u.originalEvent.keyCode&&this._openPopup(u)}});var si=Ni.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){Ni.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){Ni.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=Ni.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){this._contentNode=this._container=tn("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+E(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var g,x,F=this._map,se=this._container,Se=F.latLngToContainerPoint(F.getCenter()),Be=F.layerPointToContainerPoint(u),tt=this.options.direction,st=se.offsetWidth,dt=se.offsetHeight,It=de(this.options.offset),Nt=this._getAnchor();"top"===tt?(g=st/2,x=dt):"bottom"===tt?(g=st/2,x=0):"center"===tt?(g=st/2,x=dt/2):"right"===tt?(g=0,x=dt/2):"left"===tt?(g=st,x=dt/2):Be.x<Se.x?(tt="right",g=0,x=dt/2):(tt="left",g=st+2*(It.x+Nt.x),x=dt/2),u=u.subtract(de(g,x,!0)).add(It).add(Nt),ui(se,"leaflet-tooltip-right"),ui(se,"leaflet-tooltip-left"),ui(se,"leaflet-tooltip-top"),ui(se,"leaflet-tooltip-bottom"),vt(se,"leaflet-tooltip-"+tt),Mr(se,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&mt(this._container,u)},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(g)},_getAnchor:function(){return de(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});rn.include({openTooltip:function(u,g,x){return this._initOverlay(si,u,g,x).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),As.include({bindTooltip:function(u,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(si,this._tooltip,u,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(u||!this._tooltipHandlersAdded){var g=u?"off":"on",x={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?x.add=this._openTooltip:(x.mouseover=this._openTooltip,x.mouseout=this.closeTooltip,x.click=this._openTooltip,this._map?this._addFocusListeners():x.add=this._addFocusListeners),this._tooltip.options.sticky&&(x.mousemove=this._moveTooltip),this[g](x),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof Ui||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var g=u.getElement();g&&(nn(g,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),nn(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var g=u.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0))},_moveTooltip:function(u){var x,F,g=u.latlng;this._tooltip.options.sticky&&u.originalEvent&&(x=this._map.mouseEventToContainerPoint(u.originalEvent),F=this._map.containerPointToLayerPoint(x),g=this._map.layerPointToLatLng(F)),this._tooltip.setLatLng(g)}});var In=ji.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var g=u&&"DIV"===u.tagName?u:document.createElement("div"),x=this.options;if(x.html instanceof Element?(T1(g),g.appendChild(x.html)):g.innerHTML=!1!==x.html?x.html:"",x.bgPos){var F=de(x.bgPos);g.style.backgroundPosition=-F.x+"px "+-F.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});ji.Default=Go;var ws=As.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Yt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){G(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),fn(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(co(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(br(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=I(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof xe?u:new xe(u,u)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var Se,g=this.getPane().children,x=-u(-1/0,1/0),F=0,se=g.length;F<se;F++)Se=g[F].style.zIndex,g[F]!==this._container&&Se&&(x=u(x,+Se));isFinite(x)&&(this.options.zIndex=x+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Yt.ielt9){mt(this._container,this.options.opacity);var u=+new Date,g=!1,x=!1;for(var F in this._tiles){var se=this._tiles[F];if(se.current&&se.loaded){var Se=Math.min(1,(u-se.loaded)/200);mt(se.el,Se),Se<1?g=!0:(se.active?x=!0:this._onOpaqueTile(se),se.active=!0)}}x&&!this._noPrune&&this._pruneTiles(),g&&(ee(this._fadeFrame),this._fadeFrame=ie(this._updateOpacity,this))}},_onOpaqueTile:R,_initContainer:function(){this._container||(this._container=tn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,g=this.options.maxZoom;if(void 0!==u){for(var x in this._levels)x=Number(x),this._levels[x].el.children.length||x===u?(this._levels[x].el.style.zIndex=g-Math.abs(u-x),this._onUpdateLevel(x)):(fn(this._levels[x].el),this._removeTilesAtZoom(x),this._onRemoveLevel(x),delete this._levels[x]);var F=this._levels[u],se=this._map;return F||((F=this._levels[u]={}).el=tn("div","leaflet-tile-container leaflet-zoom-animated",this._container),F.el.style.zIndex=g,F.origin=se.project(se.unproject(se.getPixelOrigin()),u).round(),F.zoom=u,this._setZoomTransform(F,se.getCenter(),se.getZoom()),this._onCreateLevel(F)),this._level=F,F}},_onUpdateLevel:R,_onRemoveLevel:R,_onCreateLevel:R,_pruneTiles:function(){if(this._map){var u,g,x=this._map.getZoom();if(x>this.options.maxZoom||x<this.options.minZoom)return void this._removeAllTiles();for(u in this._tiles)(g=this._tiles[u]).retain=g.current;for(u in this._tiles)if((g=this._tiles[u]).current&&!g.active){var F=g.coords;this._retainParent(F.x,F.y,F.z,F.z-5)||this._retainChildren(F.x,F.y,F.z,F.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var g in this._tiles)this._tiles[g].coords.z===u&&this._removeTile(g)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)fn(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,g,x,F){var se=Math.floor(u/2),Se=Math.floor(g/2),Be=x-1,tt=new xe(+se,+Se);tt.z=+Be;var st=this._tileCoordsToKey(tt),dt=this._tiles[st];return dt&&dt.active?(dt.retain=!0,!0):(dt&&dt.loaded&&(dt.retain=!0),Be>F&&this._retainParent(se,Se,Be,F))},_retainChildren:function(u,g,x,F){for(var se=2*u;se<2*u+2;se++)for(var Se=2*g;Se<2*g+2;Se++){var Be=new xe(se,Se);Be.z=x+1;var tt=this._tileCoordsToKey(Be),st=this._tiles[tt];st&&st.active?st.retain=!0:(st&&st.loaded&&(st.retain=!0),x+1<F&&this._retainChildren(se,Se,x+1,F))}},_resetView:function(u){var g=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var g=this.options;return void 0!==g.minNativeZoom&&u<g.minNativeZoom?g.minNativeZoom:void 0!==g.maxNativeZoom&&g.maxNativeZoom<u?g.maxNativeZoom:u},_setView:function(u,g,x,F){var se=Math.round(g);se=void 0!==this.options.maxZoom&&se>this.options.maxZoom||void 0!==this.options.minZoom&&se<this.options.minZoom?void 0:this._clampZoom(se),(!F||this.options.updateWhenZooming&&se!==this._tileZoom)&&(this._tileZoom=se,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==se&&this._update(u),x||this._pruneTiles(),this._noPrune=!!x),this._setZoomTransforms(u,g)},_setZoomTransforms:function(u,g){for(var x in this._levels)this._setZoomTransform(this._levels[x],u,g)},_setZoomTransform:function(u,g,x){var F=this._map.getZoomScale(x,u.zoom),se=u.origin.multiplyBy(F).subtract(this._map._getNewPixelOrigin(g,x)).round();Yt.any3d?Ea(u.el,se,F):Mr(u.el,se)},_resetGrid:function(){var u=this._map,g=u.options.crs,x=this._tileSize=this.getTileSize(),F=this._tileZoom,se=this._map.getPixelWorldBounds(this._tileZoom);se&&(this._globalTileRange=this._pxBoundsToTileRange(se)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,g.wrapLng[0]],F).x/x.x),Math.ceil(u.project([0,g.wrapLng[1]],F).x/x.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([g.wrapLat[0],0],F).y/x.x),Math.ceil(u.project([g.wrapLat[1],0],F).y/x.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var g=this._map,x=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),F=g.getZoomScale(x,this._tileZoom),se=g.project(u,this._tileZoom).floor(),Se=g.getSize().divideBy(2*F);return new he(se.subtract(Se),se.add(Se))},_update:function(u){var g=this._map;if(g){var x=this._clampZoom(g.getZoom());if(void 0===u&&(u=g.getCenter()),void 0!==this._tileZoom){var F=this._getTiledPixelBounds(u),se=this._pxBoundsToTileRange(F),Se=se.getCenter(),Be=[],tt=this.options.keepBuffer,st=new he(se.getBottomLeft().subtract([tt,-tt]),se.getTopRight().add([tt,-tt]));if(!(isFinite(se.min.x)&&isFinite(se.min.y)&&isFinite(se.max.x)&&isFinite(se.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var dt in this._tiles){var It=this._tiles[dt].coords;(It.z!==this._tileZoom||!st.contains(new xe(It.x,It.y)))&&(this._tiles[dt].current=!1)}if(Math.abs(x-this._tileZoom)>1)return void this._setView(u,x);for(var Nt=se.min.y;Nt<=se.max.y;Nt++)for(var Ln=se.min.x;Ln<=se.max.x;Ln++){var Eo=new xe(Ln,Nt);if(Eo.z=this._tileZoom,this._isValidTile(Eo)){var Ha=this._tiles[this._tileCoordsToKey(Eo)];Ha?Ha.current=!0:Be.push(Eo)}}if(Be.sort(function(Oo,v1){return Oo.distanceTo(Se)-v1.distanceTo(Se)}),0!==Be.length){this._loading||(this._loading=!0,this.fire("loading"));var ga=document.createDocumentFragment();for(Ln=0;Ln<Be.length;Ln++)this._addTile(Be[Ln],ga);this._level.el.appendChild(ga)}}}},_isValidTile:function(u){var g=this._map.options.crs;if(!g.infinite){var x=this._globalTileRange;if(!g.wrapLng&&(u.x<x.min.x||u.x>x.max.x)||!g.wrapLat&&(u.y<x.min.y||u.y>x.max.y))return!1}if(!this.options.bounds)return!0;var F=this._tileCoordsToBounds(u);return me(this.options.bounds).overlaps(F)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var g=this._map,x=this.getTileSize(),F=u.scaleBy(x),se=F.add(x);return[g.unproject(F,u.z),g.unproject(se,u.z)]},_tileCoordsToBounds:function(u){var g=this._tileCoordsToNwSe(u),x=new Ie(g[0],g[1]);return this.options.noWrap||(x=this._map.wrapLatLngBounds(x)),x},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var g=u.split(":"),x=new xe(+g[0],+g[1]);return x.z=+g[2],x},_removeTile:function(u){var g=this._tiles[u];g&&(fn(g.el),delete this._tiles[u],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){vt(u,"leaflet-tile");var g=this.getTileSize();u.style.width=g.x+"px",u.style.height=g.y+"px",u.onselectstart=R,u.onmousemove=R,Yt.ielt9&&this.options.opacity<1&&mt(u,this.options.opacity)},_addTile:function(u,g){var x=this._getTilePos(u),F=this._tileCoordsToKey(u),se=this.createTile(this._wrapCoords(u),b(this._tileReady,this,u));this._initTile(se),this.createTile.length<2&&ie(b(this._tileReady,this,u,null,se)),Mr(se,x),this._tiles[F]={el:se,coords:u,current:!0},g.appendChild(se),this.fire("tileloadstart",{tile:se,coords:u})},_tileReady:function(u,g,x){g&&this.fire("tileerror",{error:g,tile:x,coords:u});var F=this._tileCoordsToKey(u);(x=this._tiles[F])&&(x.loaded=+new Date,this._map._fadeAnimated?(mt(x.el,0),ee(this._fadeFrame),this._fadeFrame=ie(this._updateOpacity,this)):(x.active=!0,this._pruneTiles()),g||(vt(x.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:x.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Yt.ielt9||!this._map._fadeAnimated?ie(this._pruneTiles,this):setTimeout(b(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var g=new xe(this._wrapX?M(u.x,this._wrapX):u.x,this._wrapY?M(u.y,this._wrapY):u.y);return g.z=u.z,g},_pxBoundsToTileRange:function(u){var g=this.getTileSize();return new he(u.min.unscaleBy(g).floor(),u.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});var Ei=ws.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,g){this._url=u,(g=G(this,g)).detectRetina&&Yt.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),"string"==typeof g.subdomains&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,g){return this._url===u&&void 0===g&&(g=!0),this._url=u,g||this.redraw(),this},createTile:function(u,g){var x=document.createElement("img");return nn(x,"load",b(this._tileOnLoad,this,g,x)),nn(x,"error",b(this._tileOnError,this,g,x)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(x.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(x.referrerPolicy=this.options.referrerPolicy),x.alt="",x.src=this.getTileUrl(u),x},getTileUrl:function(u){var g={r:Yt.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var x=this._globalTileRange.max.y-u.y;this.options.tms&&(g.y=x),g["-y"]=x}return T(this._url,D(g,this.options))},_tileOnLoad:function(u,g){Yt.ielt9?setTimeout(b(u,this,null,g),0):u(null,g)},_tileOnError:function(u,g,x){var F=this.options.errorTileUrl;F&&g.getAttribute("src")!==F&&(g.src=F),u(x,g)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom;return this.options.zoomReverse&&(u=this.options.maxZoom-u),u+this.options.zoomOffset},_getSubdomain:function(u){var g=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var u,g;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&((g=this._tiles[u].el).onload=R,g.onerror=R,!g.complete)){g.src=z;var x=this._tiles[u].coords;fn(g),delete this._tiles[u],this.fire("tileabort",{tile:g,coords:x})}},_removeTile:function(u){var g=this._tiles[u];if(g)return g.el.setAttribute("src",z),ws.prototype._removeTile.call(this,u)},_tileReady:function(u,g,x){if(this._map&&(!x||x.getAttribute("src")!==z))return ws.prototype._tileReady.call(this,u,g,x)}});function g1(u,g){return new Ei(u,g)}var ai=Ei.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,g){this._url=u;var x=D({},this.defaultWmsParams);for(var F in g)F in this.options||(x[F]=g[F]);var se=(g=G(this,g)).detectRetina&&Yt.retina?2:1,Se=this.getTileSize();x.width=Se.x*se,x.height=Se.y*se,this.wmsParams=x},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,Ei.prototype.onAdd.call(this,u)},getTileUrl:function(u){var g=this._tileCoordsToNwSe(u),x=this._crs,F=ae(x.project(g[0]),x.project(g[1])),se=F.min,Se=F.max,Be=(this._wmsVersion>=1.3&&this._crs===uo?[se.y,se.x,Se.y,Se.x]:[se.x,se.y,Se.x,Se.y]).join(","),tt=Ei.prototype.getTileUrl.call(this,u);return tt+ne(this.wmsParams,tt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Be},setParams:function(u,g){return D(this.wmsParams,u),g||this.redraw(),this}});Ei.WMS=ai,g1.wms=function wo(u,g){return new ai(u,g)};var no=As.extend({options:{padding:.1},initialize:function(u){G(this,u),E(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&vt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,g){var x=this._map.getZoomScale(g,this._zoom),F=this._map.getSize().multiplyBy(.5+this.options.padding),se=this._map.project(this._center,g),Se=F.multiplyBy(-x).add(se).subtract(this._map._getNewPixelOrigin(u,g));Yt.any3d?Ea(this._container,Se,x):Mr(this._container,Se)},_reset:function(){for(var u in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,g=this._map.getSize(),x=this._map.containerPointToLayerPoint(g.multiplyBy(-u)).round();this._bounds=new he(x,x.add(g.multiplyBy(1+2*u)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Er=no.extend({options:{tolerance:0},getEvents:function(){var u=no.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){no.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");nn(u,"mousemove",this._onMouseMove,this),nn(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),nn(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){ee(this._redrawRequest),delete this._ctx,fn(this._container),qn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var g in this._redrawBounds=null,this._layers)this._layers[g]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){no.prototype._update.call(this);var u=this._bounds,g=this._container,x=u.getSize(),F=Yt.retina?2:1;Mr(g,u.min),g.width=F*x.x,g.height=F*x.y,g.style.width=x.x+"px",g.style.height=x.y+"px",Yt.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){no.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[E(u)]=u;var g=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var g=u._order,x=g.next,F=g.prev;x?x.prev=F:this._drawLast=F,F?F.next=x:this._drawFirst=x,delete u._order,delete this._layers[E(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if("string"==typeof u.options.dashArray){var F,se,g=u.options.dashArray.split(/[, ]+/),x=[];for(se=0;se<g.length;se++){if(F=Number(g[se]),isNaN(F))return;x.push(F)}u.options._dashArray=x}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||ie(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var g=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new he,this._redrawBounds.extend(u._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(u._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var g=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,g=this._redrawBounds;if(this._ctx.save(),g){var x=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,x.x,x.y),this._ctx.clip()}this._drawing=!0;for(var F=this._drawFirst;F;F=F.next)u=F.layer,(!g||u._pxBounds&&u._pxBounds.intersects(g))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,g){if(this._drawing){var x,F,se,Se,Be=u._parts,tt=Be.length,st=this._ctx;if(tt){for(st.beginPath(),x=0;x<tt;x++){for(F=0,se=Be[x].length;F<se;F++)st[F?"lineTo":"moveTo"]((Se=Be[x][F]).x,Se.y);g&&st.closePath()}this._fillStroke(st,u)}}},_updateCircle:function(u){if(this._drawing&&!u._empty()){var g=u._point,x=this._ctx,F=Math.max(Math.round(u._radius),1),se=(Math.max(Math.round(u._radiusY),1)||F)/F;1!==se&&(x.save(),x.scale(1,se)),x.beginPath(),x.arc(g.x,g.y/se,F,0,2*Math.PI,!1),1!==se&&x.restore(),this._fillStroke(x,u)}},_fillStroke:function(u,g){var x=g.options;x.fill&&(u.globalAlpha=x.fillOpacity,u.fillStyle=x.fillColor||x.color,u.fill(x.fillRule||"evenodd")),x.stroke&&0!==x.weight&&(u.setLineDash&&u.setLineDash(g.options&&g.options._dashArray||[]),u.globalAlpha=x.opacity,u.lineWidth=x.weight,u.strokeStyle=x.color,u.lineCap=x.lineCap,u.lineJoin=x.lineJoin,u.stroke())},_onClick:function(u){for(var x,F,g=this._map.mouseEventToLayerPoint(u),se=this._drawFirst;se;se=se.next)(x=se.layer).options.interactive&&x._containsPoint(g)&&("click"!==u.type&&"preclick"!==u.type||!this._map._draggableMoved(x))&&(F=x);this._fireEvent(!!F&&[F],u)},_onMouseMove:function(u){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var g=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,g)}},_handleMouseOut:function(u){var g=this._hoveredLayer;g&&(ui(this._container,"leaflet-interactive"),this._fireEvent([g],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,g){if(!this._mouseHoverThrottled){for(var x,F,se=this._drawFirst;se;se=se.next)(x=se.layer).options.interactive&&x._containsPoint(g)&&(F=x);F!==this._hoveredLayer&&(this._handleMouseOut(u),F&&(vt(this._container,"leaflet-interactive"),this._fireEvent([F],u,"mouseover"),this._hoveredLayer=F)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],u),this._mouseHoverThrottled=!0,setTimeout(b(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,g,x){this._map._fireDOMEvent(g,x||g.type,u)},_bringToFront:function(u){var g=u._order;if(g){var x=g.next,F=g.prev;if(!x)return;x.prev=F,F?F.next=x:x&&(this._drawFirst=x),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(u)}},_bringToBack:function(u){var g=u._order;if(g){var x=g.next,F=g.prev;if(!F)return;F.next=x,x?x.prev=F:F&&(this._drawLast=F),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(u)}}});function Si(u){return Yt.canvas?new Er(u):null}var fs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gs={_initContainer:function(){this._container=tn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(no.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var g=u._container=fs("shape");vt(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",u._path=fs("path"),g.appendChild(u._path),this._updateStyle(u),this._layers[E(u)]=u},_addPath:function(u){var g=u._container;this._container.appendChild(g),u.options.interactive&&u.addInteractiveTarget(g)},_removePath:function(u){var g=u._container;fn(g),u.removeInteractiveTarget(g),delete this._layers[E(u)]},_updateStyle:function(u){var g=u._stroke,x=u._fill,F=u.options,se=u._container;se.stroked=!!F.stroke,se.filled=!!F.fill,F.stroke?(g||(g=u._stroke=fs("stroke")),se.appendChild(g),g.weight=F.weight+"px",g.color=F.color,g.opacity=F.opacity,g.dashStyle=F.dashArray?V(F.dashArray)?F.dashArray.join(" "):F.dashArray.replace(/( *, *)/g," "):"",g.endcap=F.lineCap.replace("butt","flat"),g.joinstyle=F.lineJoin):g&&(se.removeChild(g),u._stroke=null),F.fill?(x||(x=u._fill=fs("fill")),se.appendChild(x),x.color=F.fillColor||F.color,x.opacity=F.fillOpacity):x&&(se.removeChild(x),u._fill=null)},_updateCircle:function(u){var g=u._point.round(),x=Math.round(u._radius),F=Math.round(u._radiusY||x);this._setPath(u,u._empty()?"M0 0":"AL "+g.x+","+g.y+" "+x+","+F+" 0,23592600")},_setPath:function(u,g){u._path.v=g},_bringToFront:function(u){co(u._container)},_bringToBack:function(u){br(u._container)}},fo=Yt.vml?fs:ft,qi=no.extend({_initContainer:function(){this._container=fo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=fo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){fn(this._container),qn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){no.prototype._update.call(this);var u=this._bounds,g=u.getSize(),x=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,x.setAttribute("width",g.x),x.setAttribute("height",g.y)),Mr(x,u.min),x.setAttribute("viewBox",[u.min.x,u.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(u){var g=u._path=fo("path");u.options.className&&vt(g,u.options.className),u.options.interactive&&vt(g,"leaflet-interactive"),this._updateStyle(u),this._layers[E(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){fn(u._path),u.removeInteractiveTarget(u._path),delete this._layers[E(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var g=u._path,x=u.options;g&&(x.stroke?(g.setAttribute("stroke",x.color),g.setAttribute("stroke-opacity",x.opacity),g.setAttribute("stroke-width",x.weight),g.setAttribute("stroke-linecap",x.lineCap),g.setAttribute("stroke-linejoin",x.lineJoin),x.dashArray?g.setAttribute("stroke-dasharray",x.dashArray):g.removeAttribute("stroke-dasharray"),x.dashOffset?g.setAttribute("stroke-dashoffset",x.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),x.fill?(g.setAttribute("fill",x.fillColor||x.color),g.setAttribute("fill-opacity",x.fillOpacity),g.setAttribute("fill-rule",x.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(u,g){this._setPath(u,ht(u._parts,g))},_updateCircle:function(u){var g=u._point,x=Math.max(Math.round(u._radius),1),se="a"+x+","+(Math.max(Math.round(u._radiusY),1)||x)+" 0 1,0 ",Se=u._empty()?"M0 0":"M"+(g.x-x)+","+g.y+se+2*x+",0 "+se+2*-x+",0 ";this._setPath(u,Se)},_setPath:function(u,g){u._path.setAttribute("d",g)},_bringToFront:function(u){co(u._path)},_bringToBack:function(u){br(u._path)}});function ho(u){return Yt.svg||Yt.vml?new qi(u):null}Yt.vml&&qi.include(Gs),rn.include({getRenderer:function(u){var g=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(u){if("overlayPane"===u||void 0===u)return!1;var g=this._paneRenderers[u];return void 0===g&&(g=this._createRenderer({pane:u}),this._paneRenderers[u]=g),g},_createRenderer:function(u){return this.options.preferCanvas&&Si(u)||ho(u)}});var qs=Ka.extend({initialize:function(u,g){Ka.prototype.initialize.call(this,this._boundsToLatLngs(u),g)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return[(u=me(u)).getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});qi.create=fo,qi.pointsToPath=ht,bo.geometryToLayer=bs,bo.coordsToLatLng=vn,bo.coordsToLatLngs=Yn,bo.latLngToCoords=Ir,bo.latLngsToCoords=$o,bo.getFeature=Un,bo.asFeature=to,rn.mergeOptions({boxZoom:!0});var yc=zt.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){nn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){qn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){fn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||1!==u.which&&1!==u.button)return!1;this._clearDeferredResetState(),this._resetState(),la(),vs(),this._startPoint=this._map.mouseEventToContainerPoint(u),nn(document,{contextmenu:lo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=tn("div","leaflet-zoom-box",this._container),vt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var g=new he(this._point,this._startPoint),x=g.getSize();Mr(this._box,g.min),this._box.style.width=x.x+"px",this._box.style.height=x.y+"px"},_finish:function(){this._moved&&(fn(this._box),ui(this._container,"leaflet-crosshair")),mn(),zs(),qn(document,{contextmenu:lo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if((1===u.which||1===u.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(b(this._resetState,this),0);var g=new Ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(u){27===u.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});rn.addInitHook("addHandler","boxZoom",yc),rn.mergeOptions({doubleClickZoom:!0});var sl=zt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var g=this._map,x=g.getZoom(),F=g.options.zoomDelta,se=u.originalEvent.shiftKey?x-F:x+F;"center"===g.options.doubleClickZoom?g.setZoom(se):g.setZoomAround(u.containerPoint,se)}});rn.addInitHook("addHandler","doubleClickZoom",sl),rn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var po=zt.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new hi(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}vt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ui(this._map._container,"leaflet-grab"),ui(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=me(this._map.options.maxBounds);this._offsetLimit=ae(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var g=this._lastTime=+new Date,x=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(x),this._times.push(g),this._prunePositions(g)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,g){return u-(u-g)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var u=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;u.x<g.min.x&&(u.x=this._viscousLimit(u.x,g.min.x)),u.y<g.min.y&&(u.y=this._viscousLimit(u.y,g.min.y)),u.x>g.max.x&&(u.x=this._viscousLimit(u.x,g.max.x)),u.y>g.max.y&&(u.y=this._viscousLimit(u.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,g=Math.round(u/2),x=this._initialWorldOffset,F=this._draggable._newPos.x,se=(F-g+x)%u+g-x,Se=(F+g+x)%u-g-x,Be=Math.abs(se+x)<Math.abs(Se+x)?se:Se;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Be},_onDragEnd:function(u){var g=this._map,x=g.options,F=!x.inertia||u.noInertia||this._times.length<2;if(g.fire("dragend",u),F)g.fire("moveend");else{this._prunePositions(+new Date);var se=this._lastPos.subtract(this._positions[0]),Be=x.easeLinearity,tt=se.multiplyBy(Be/((this._lastTime-this._times[0])/1e3)),st=tt.distanceTo([0,0]),dt=Math.min(x.inertiaMaxSpeed,st),It=tt.multiplyBy(dt/st),Nt=dt/(x.inertiaDeceleration*Be),Ln=It.multiplyBy(-Nt/2).round();Ln.x||Ln.y?(Ln=g._limitOffset(Ln,g.options.maxBounds),ie(function(){g.panBy(Ln,{duration:Nt,easeLinearity:Be,noMoveStart:!0,animate:!0})})):g.fire("moveend")}}});rn.addInitHook("addHandler","dragging",po),rn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Pa=zt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),nn(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),qn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,g=document.documentElement,x=u.scrollTop||g.scrollTop,F=u.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(F,x)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var F,se,g=this._panKeys={},x=this.keyCodes;for(F=0,se=x.left.length;F<se;F++)g[x.left[F]]=[-1*u,0];for(F=0,se=x.right.length;F<se;F++)g[x.right[F]]=[u,0];for(F=0,se=x.down.length;F<se;F++)g[x.down[F]]=[0,u];for(F=0,se=x.up.length;F<se;F++)g[x.up[F]]=[0,-1*u]},_setZoomDelta:function(u){var F,se,g=this._zoomKeys={},x=this.keyCodes;for(F=0,se=x.zoomIn.length;F<se;F++)g[x.zoomIn[F]]=u;for(F=0,se=x.zoomOut.length;F<se;F++)g[x.zoomOut[F]]=-u},_addHooks:function(){nn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){qn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var F,g=u.keyCode,x=this._map;if(g in this._panKeys){if(!x._panAnim||!x._panAnim._inProgress)if(F=this._panKeys[g],u.shiftKey&&(F=de(F).multiplyBy(3)),x.options.maxBounds&&(F=x._limitOffset(de(F),x.options.maxBounds)),x.options.worldCopyJump){var se=x.wrapLatLng(x.unproject(x.project(x.getCenter()).add(F)));x.panTo(se)}else x.panBy(F)}else if(g in this._zoomKeys)x.setZoom(x.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[g]);else{if(27!==g||!x._popup||!x._popup.options.closeOnEscapeKey)return;x.closePopup()}lo(u)}}});rn.addInitHook("addHandler","keyboard",Pa),rn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Cc=zt.extend({addHooks:function(){nn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){qn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var g=Qr(u),x=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var F=Math.max(x-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(b(this._performZoom,this),F),lo(u)},_performZoom:function(){var u=this._map,g=u.getZoom(),x=this._map.options.zoomSnap||0;u._stop();var se=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,Se=x?Math.ceil(se/x)*x:se,Be=u._limitZoom(g+(this._delta>0?Se:-Se))-g;this._delta=0,this._startTime=null,Be&&("center"===u.options.scrollWheelZoom?u.setZoom(g+Be):u.setZoomAround(this._lastMousePos,g+Be))}});rn.addInitHook("addHandler","scrollWheelZoom",Cc);rn.mergeOptions({tapHold:Yt.touchNative&&Yt.safari&&Yt.mobile,tapTolerance:15});var za=zt.extend({addHooks:function(){nn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){qn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),1===u.touches.length){var g=u.touches[0];this._startPos=this._newPos=new xe(g.clientX,g.clientY),this._holdTimeout=setTimeout(b(function(){this._cancel(),this._isTapValid()&&(nn(document,"touchend",Ri),nn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),600),nn(document,"touchend touchcancel contextmenu",this._cancel,this),nn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){qn(document,"touchend",Ri),qn(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),qn(document,"touchend touchcancel contextmenu",this._cancel,this),qn(document,"touchmove",this._onMove,this)},_onMove:function(u){var g=u.touches[0];this._newPos=new xe(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,g){var x=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});x._simulated=!0,g.target.dispatchEvent(x)}});rn.addInitHook("addHandler","tapHold",za),rn.mergeOptions({touchZoom:Yt.touch,bounceAtZoomLimits:!0});var $i=zt.extend({addHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),nn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ui(this._map._container,"leaflet-touch-zoom"),qn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var g=this._map;if(u.touches&&2===u.touches.length&&!g._animatingZoom&&!this._zooming){var x=g.mouseEventToContainerPoint(u.touches[0]),F=g.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),"center"!==g.options.touchZoom&&(this._pinchStartLatLng=g.containerPointToLatLng(x.add(F)._divideBy(2))),this._startDist=x.distanceTo(F),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),nn(document,"touchmove",this._onTouchMove,this),nn(document,"touchend touchcancel",this._onTouchEnd,this),Ri(u)}},_onTouchMove:function(u){if(u.touches&&2===u.touches.length&&this._zooming){var g=this._map,x=g.mouseEventToContainerPoint(u.touches[0]),F=g.mouseEventToContainerPoint(u.touches[1]),se=x.distanceTo(F)/this._startDist;if(this._zoom=g.getScaleZoom(se,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&se<1||this._zoom>g.getMaxZoom()&&se>1)&&(this._zoom=g._limitZoom(this._zoom)),"center"===g.options.touchZoom){if(this._center=this._startLatLng,1===se)return}else{var Se=x._add(F)._divideBy(2)._subtract(this._centerPoint);if(1===se&&0===Se.x&&0===Se.y)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(Se),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),ee(this._animRequest);var Be=b(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ie(Be,this,!0),Ri(u)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,ee(this._animRequest),qn(document,"touchmove",this._onTouchMove,this),qn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});rn.addInitHook("addHandler","touchZoom",$i),rn.BoxZoom=yc,rn.DoubleClickZoom=sl,rn.Drag=po,rn.Keyboard=Pa,rn.ScrollWheelZoom=Cc,rn.TapHold=za,rn.TouchZoom=$i,U.Bounds=he,U.Browser=Yt,U.CRS=Ge,U.Canvas=Er,U.Circle=oi,U.CircleMarker=Ki,U.Class=te,U.Control=_s,U.DivIcon=In,U.DivOverlay=Ni,U.DomEvent=cs,U.DomUtil=Bu,U.Draggable=hi,U.Evented=ve,U.FeatureGroup=Ui,U.GeoJSON=bo,U.GridLayer=ws,U.Handler=zt,U.Icon=ji,U.ImageOverlay=un,U.LatLng=Ae,U.LatLngBounds=Ie,U.Layer=As,U.LayerGroup=jo,U.LineUtil=yo,U.Map=rn,U.Marker=Cs,U.Mixin=A3,U.Path=Ht,U.Point=xe,U.PolyUtil=Co,U.Polygon=Ka,U.Polyline=qo,U.Popup=Wo,U.PosAnimation=fi,U.Projection=$n,U.Rectangle=qs,U.Renderer=no,U.SVG=qi,U.SVGOverlay=xi,U.TileLayer=Ei,U.Tooltip=si,U.Transformation=_e,U.Util=ce,U.VideoOverlay=mi,U.bind=b,U.bounds=ae,U.canvas=Si,U.circle=function di(u,g,x){return new oi(u,g,x)},U.circleMarker=function Mn(u,g){return new Ki(u,g)},U.control=Us,U.divIcon=function ol(u){return new In(u)},U.extend=D,U.featureGroup=function(u,g){return new Ui(u,g)},U.geoJSON=m1,U.geoJson=pa,U.gridLayer=function ma(u){return new ws(u)},U.icon=function Vs(u){return new ji(u)},U.imageOverlay=function(u,g,x){return new un(u,g,x)},U.latLng=ze,U.latLngBounds=me,U.layerGroup=function(u,g){return new jo(u,g)},U.map=function p1(u,g){return new rn(u,g)},U.marker=function Gi(u,g){return new Cs(u,g)},U.point=de,U.polygon=function R1(u,g){return new Ka(u,g)},U.polyline=function qr(u,g){return new qo(u,g)},U.popup=function(u,g){return new Wo(u,g)},U.rectangle=function gi(u,g){return new qs(u,g)},U.setOptions=G,U.stamp=E,U.svg=ho,U.svgOverlay=function Mo(u,g,x){return new xi(u,g,x)},U.tileLayer=g1,U.tooltip=function(u,g){return new si(u,g)},U.transformation=He,U.version="1.9.3",U.videoOverlay=function us(u,g,x){return new mi(u,g,x)};var xo=window.L;U.noConflict=function(){return window.L=xo,this},window.L=U}(fe)},5943:Qe=>{"use strict";var fe=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;Qe.exports=function y(){try{if(!Object.assign)return!1;var b=new String("abc");if(b[5]="de","5"===Object.getOwnPropertyNames(b)[0])return!1;for(var w={},E=0;E<10;E++)w["_"+String.fromCharCode(E)]=E;if("0123456789"!==Object.getOwnPropertyNames(w).map(function(R){return w[R]}).join(""))return!1;var M={};return"abcdefghijklmnopqrst".split("").forEach(function(R){M[R]=R}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},M)).join("")}catch{return!1}}()?Object.assign:function(b,w){for(var E,M,I=function D(b){if(null==b)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(b)}(b),R=1;R<arguments.length;R++){for(var Y in E=Object(arguments[R]))U.call(E,Y)&&(I[Y]=E[Y]);if(fe){M=fe(E);for(var $=0;$<M.length;$++)P.call(E,M[$])&&(I[M[$]]=E[M[$]])}}return I}},1175:Qe=>{"use strict";var fe=function(U){return U!=U};Qe.exports=function(P,D){return 0===P&&0===D?1/P==1/D:!!(P===D||fe(P)&&fe(D))}},2e3:(Qe,fe,U)=>{"use strict";var P=U(2358),D=U(5685),y=U(1175),b=U(6305),w=U(3859),E=D(b(),Object);P(E,{getPolyfill:b,implementation:y,shim:w}),Qe.exports=E},6305:(Qe,fe,U)=>{"use strict";var P=U(1175);Qe.exports=function(){return"function"==typeof Object.is?Object.is:P}},3859:(Qe,fe,U)=>{"use strict";var P=U(6305),D=U(2358);Qe.exports=function(){var b=P();return D(Object,{is:b},{is:function(){return Object.is!==b}}),b}},2450:(Qe,fe,U)=>{"use strict";var P;if(!Object.keys){var D=Object.prototype.hasOwnProperty,y=Object.prototype.toString,b=U(9978),w=Object.prototype.propertyIsEnumerable,E=!w.call({toString:null},"toString"),I=w.call(function(){},"prototype"),M=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],R=function(G){var ne=G.constructor;return ne&&ne.prototype===G},Y={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},$=function(){if(typeof window>"u")return!1;for(var G in window)try{if(!Y["$"+G]&&D.call(window,G)&&null!==window[G]&&"object"==typeof window[G])try{R(window[G])}catch{return!0}}catch{return!0}return!1}();P=function(ne){var N=null!==ne&&"object"==typeof ne,T="[object Function]"===y.call(ne),V=b(ne),O=N&&"[object String]"===y.call(ne),z=[];if(!N&&!T&&!V)throw new TypeError("Object.keys called on a non-object");var j=I&&T;if(O&&ne.length>0&&!D.call(ne,0))for(var k=0;k<ne.length;++k)z.push(String(k));if(V&&ne.length>0)for(var K=0;K<ne.length;++K)z.push(String(K));else for(var oe in ne)(!j||"prototype"!==oe)&&D.call(ne,oe)&&z.push(String(oe));if(E)for(var B=function(G){if(typeof window>"u"||!$)return R(G);try{return R(G)}catch{return!1}}(ne),ie=0;ie<M.length;++ie)(!B||"constructor"!==M[ie])&&D.call(ne,M[ie])&&z.push(M[ie]);return z}}Qe.exports=P},1356:(Qe,fe,U)=>{"use strict";var P=Array.prototype.slice,D=U(9978),y=Object.keys,b=y?function(I){return y(I)}:U(2450),w=Object.keys;b.shim=function(){if(Object.keys){var I=function(){var M=Object.keys(arguments);return M&&M.length===arguments.length}(1,2);I||(Object.keys=function(R){return D(R)?w(P.call(R)):w(R)})}else Object.keys=b;return Object.keys||b},Qe.exports=b},9978:Qe=>{"use strict";var fe=Object.prototype.toString;Qe.exports=function(P){var D=fe.call(P),y="[object Arguments]"===D;return y||(y="[object Array]"!==D&&null!==P&&"object"==typeof P&&"number"==typeof P.length&&P.length>=0&&"[object Function]"===fe.call(P.callee)),y}},2295:()=>{!function(){"use strict";var Qe={}.hasOwnProperty,fe=[].slice;(function(){var U,P;if(null!=this.L)return this.OverlappingMarkerSpiderfier=((U=D.prototype).VERSION="0.2.6",P=2*Math.PI,U.keepSpiderfied=!1,U.nearbyDistance=20,U.circleSpiralSwitchover=9,U.circleFootSeparation=25,U.circleStartAngle=P/12,U.spiralFootSeparation=28,U.spiralLengthStart=11,U.spiralLengthFactor=5,U.legWeight=1.5,U.legColors={usual:"#222",highlighted:"#f00"},U.initMarkerArrays=function(){return this.markers=[],this.markerListeners=[]},U.addMarker=function(y){var b,w;return null!=y._oms||(y._oms=!0,w=this,y.addEventListener("click",b=function(){return w.spiderListener(y)}),this.markerListeners.push(b),this.markers.push(y)),this},U.getMarkers=function(){return this.markers.slice(0)},U.removeMarker=function(y){var b,w;return null!=y._omsData&&this.unspiderfy(),(b=this.arrIndexOf(this.markers,y))<0||(w=this.markerListeners.splice(b,1)[0],y.removeEventListener("click",w),delete y._oms,this.markers.splice(b,1)),this},U.clearMarkers=function(){var y,b,w,E,M;for(this.unspiderfy(),y=b=0,w=(M=this.markers).length;b<w;y=++b)(E=M[y]).removeEventListener("click",this.markerListeners[y]),delete E._oms;return this.initMarkerArrays(),this},U.addListener=function(y,b){var w;return(null!=(w=this.listeners)[y]?w[y]:w[y]=[]).push(b),this},U.removeListener=function(y,b){var w;return(w=this.arrIndexOf(this.listeners[y],b))<0||this.listeners[y].splice(w,1),this},U.clearListeners=function(y){return this.listeners[y]=[],this},U.trigger=function(){var y,b,E,I,M,R,Y;for(b=arguments[0],y=2<=arguments.length?fe.call(arguments,1):[],Y=[],E=0,I=(R=null!=(M=this.listeners[b])?M:[]).length;E<I;E++)Y.push(R[E].apply(null,y));return Y},U.generatePtsCircle=function(y,b){var w,E,I,M,R,Y,$;for(R=this.circleFootSeparation*(2+y)/P,E=P/y,$=[],I=M=0,Y=y;0<=Y?M<Y:Y<M;I=0<=Y?++M:--M)w=this.circleStartAngle+I*E,$.push(new L.Point(b.x+R*Math.cos(w),b.y+R*Math.sin(w)));return $},U.generatePtsSpiral=function(y,b){var w,E,I,M,R,Y,$;for(M=this.spiralLengthStart,$=[],E=I=w=0,Y=y;0<=Y?I<Y:Y<I;E=0<=Y?++I:--I)w+=this.spiralFootSeparation/M+5e-4*E,R=new L.Point(b.x+M*Math.cos(w),b.y+M*Math.sin(w)),M+=P*this.spiralLengthFactor/w,$.push(R);return $},U.spiderListener=function(y){var b,w,E,I,M,R,Y,$,J,G;if((R=null!=y._omsData)&&this.keepSpiderfied||this.unspiderfy(),R)return this.trigger("click",y);for(Y=[],$=[],J=this.nearbyDistance*this.nearbyDistance,M=this.map.latLngToLayerPoint(y.getLatLng()),b=0,w=(G=this.markers).length;b<w;b++)this.map.hasLayer(E=G[b])&&(I=this.map.latLngToLayerPoint(E.getLatLng()),this.ptDistanceSq(I,M)<J?Y.push({marker:E,markerPt:I}):$.push(E));return 1===Y.length?this.trigger("click",y):this.spiderfy(Y,$)},U.makeHighlightListeners=function(y){return{highlight:(w=this,function(){return y._omsData.leg.setStyle({color:w.legColors.highlighted})}),unhighlight:(b=this,function(){return y._omsData.leg.setStyle({color:b.legColors.usual})})};var b,w},U.spiderfy=function(y,b){var w,E,I,M,R,Y,J,G,ne,N;return this.spiderfying=!0,ne=y.length,w=this.ptAverage(function(){var T,V,O;for(O=[],T=0,V=y.length;T<V;T++)O.push(y[T].markerPt);return O}()),M=ne>=this.circleSpiralSwitchover?this.generatePtsSpiral(ne,w).reverse():this.generatePtsCircle(ne,w),N=function(){var T,V,O;for(O=[],T=0,V=M.length;T<V;T++)E=this.map.layerPointToLatLng(I=M[T]),G=this.minExtract(y,function(z){return function(j){return z.ptDistanceSq(j.markerPt,I)}}(this)),Y=G.marker,R=new L.Polyline([Y.getLatLng(),E],{color:this.legColors.usual,weight:this.legWeight,clickable:!1}),this.map.addLayer(R),Y._omsData={usualPosition:Y.getLatLng(),leg:R},this.legColors.highlighted!==this.legColors.usual&&(J=this.makeHighlightListeners(Y),Y._omsData.highlightListeners=J,Y.addEventListener("mouseover",J.highlight),Y.addEventListener("mouseout",J.unhighlight)),Y.setLatLng(E),Y.setZIndexOffset(Y.options.zIndexOffset+1e6),O.push(Y);return O}.call(this),delete this.spiderfying,this.spiderfied=!0,this.trigger("spiderfy",N,b)},U.unspiderfy=function(y){var b,w,E,I,M,R,Y;if(null==y&&(y=null),null==this.spiderfied)return this;for(this.unspiderfying=!0,Y=[],M=[],b=0,w=(R=this.markers).length;b<w;b++)null!=(E=R[b])._omsData?(this.map.removeLayer(E._omsData.leg),E!==y&&E.setLatLng(E._omsData.usualPosition),E.setZIndexOffset(E.options.zIndexOffset-1e6),null!=(I=E._omsData.highlightListeners)&&(E.removeEventListener("mouseover",I.highlight),E.removeEventListener("mouseout",I.unhighlight)),delete E._omsData,Y.push(E)):M.push(E);return delete this.unspiderfying,delete this.spiderfied,this.trigger("unspiderfy",Y,M),this},U.ptDistanceSq=function(y,b){var w,E;return(w=y.x-b.x)*w+(E=y.y-b.y)*E},U.ptAverage=function(y){var b,w,E,I,M,R;for(M=R=0,b=0,w=y.length;b<w;b++)M+=(I=y[b]).x,R+=I.y;return E=y.length,new L.Point(M/E,R/E)},U.minExtract=function(y,b){var w,E,I,M,R,Y;for(I=M=0,R=y.length;M<R;I=++M)Y=b(y[I]),(null==w||Y<E)&&(E=Y,w=I);return y.splice(w,1)[0]},U.arrIndexOf=function(y,b){var w,E,I;if(null!=y.indexOf)return y.indexOf(b);for(w=E=0,I=y.length;E<I;w=++E)if(y[w]===b)return w;return-1},D);function D(y,b){var E,I,M,R;for(I in this.map=y,null==b&&(b={}),b)Qe.call(b,I)&&(this[I]=b[I]);for(this.initMarkerArrays(),this.listeners={},E=0,M=(R=["click","zoomend"]).length;E<M;E++)this.map.addEventListener(R[E],function($){return function(){return $.unspiderfy()}}(this))}}).call(window)}()},1766:Qe=>{Qe.exports=function(U,P,D,y){var b=U[0],w=U[1],E=!1;void 0===D&&(D=0),void 0===y&&(y=P.length);for(var I=(y-D)/2,M=0,R=I-1;M<I;R=M++){var Y=P[D+2*M+0],$=P[D+2*M+1],G=P[D+2*R+1];$>w!=G>w&&b<(P[D+2*R+0]-Y)*(w-$)/(G-$)+Y&&(E=!E)}return E}},3870:(Qe,fe,U)=>{var P=U(1766),D=U(2260);Qe.exports=function(b,w,E,I){return w.length>0&&Array.isArray(w[0])?D(b,w,E,I):P(b,w,E,I)},Qe.exports.nested=D,Qe.exports.flat=P},2260:Qe=>{Qe.exports=function(U,P,D,y){var b=U[0],w=U[1],E=!1;void 0===D&&(D=0),void 0===y&&(y=P.length);for(var I=y-D,M=0,R=I-1;M<I;R=M++){var Y=P[M+D][0],$=P[M+D][1],G=P[R+D][1];$>w!=G>w&&b<(P[R+D][0]-Y)*(w-$)/(G-$)+Y&&(E=!E)}return E}},9855:function(Qe){Qe.exports=function(){"use strict";function fe($e,we){if(!($e instanceof we))throw new TypeError("Cannot call a class as a function")}function U($e,we){for(var Me=0;Me<we.length;Me++){var be=we[Me];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty($e,be.key,be)}}function P($e,we,Me){return we&&U($e.prototype,we),Me&&U($e,Me),$e}var D=function $e(we,Me){this.next=null,this.key=we,this.data=Me,this.left=null,this.right=null};function y($e,we){return $e>we?1:$e<we?-1:0}function b($e,we,Me){for(var be=new D(null,null),Ne=be,Re=be;;){var Ve=Me($e,we.key);if(Ve<0){if(null===we.left)break;if(Me($e,we.left.key)<0&&(we.left=(Ue=we.left).right,Ue.right=we,null===(we=Ue).left))break;Re.left=we,Re=we,we=we.left}else{if(!(Ve>0))break;if(null===we.right)break;var Ue;if(Me($e,we.right.key)>0&&(we.right=(Ue=we.right).left,Ue.left=we,null===(we=Ue).right))break;Ne.right=we,Ne=we,we=we.right}}return Ne.right=we.left,Re.left=we.right,we.left=be.right,we.right=be.left,we}function w($e,we,Me,be){var Ne=new D($e,we);if(null===Me)return Ne.left=Ne.right=null,Ne;var Re=be($e,(Me=b($e,Me,be)).key);return Re<0?(Ne.left=Me.left,Ne.right=Me,Me.left=null):Re>=0&&(Ne.right=Me.right,Ne.left=Me,Me.right=null),Ne}function E($e,we,Me){var be=null,Ne=null;if(we){var Re=Me((we=b($e,we,Me)).key,$e);0===Re?(be=we.left,Ne=we.right):Re<0?(Ne=we.right,we.right=null,be=we):(be=we.left,we.left=null,Ne=we)}return{left:be,right:Ne}}function M($e,we,Me,be,Ne){if($e){be(we+(Me?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+Ne($e)+"\n");var Re=we+(Me?"    ":"\u2502   ");$e.left&&M($e.left,Re,!1,be,Ne),$e.right&&M($e.right,Re,!0,be,Ne)}}var R=function(){function $e(we){void 0===we&&(we=y),this._root=null,this._size=0,this._comparator=we}return $e.prototype.insert=function(we,Me){return this._size++,this._root=w(we,Me,this._root,this._comparator)},$e.prototype.add=function(we,Me){var be=new D(we,Me);null===this._root&&(be.left=be.right=null,this._size++,this._root=be);var Ne=this._comparator,Re=b(we,this._root,Ne),Ve=Ne(we,Re.key);return 0===Ve?this._root=Re:(Ve<0?(be.left=Re.left,be.right=Re,Re.left=null):Ve>0&&(be.right=Re.right,be.left=Re,Re.right=null),this._size++,this._root=be),this._root},$e.prototype.remove=function(we){this._root=this._remove(we,this._root,this._comparator)},$e.prototype._remove=function(we,Me,be){var Ne;return null===Me?null:0===be(we,(Me=b(we,Me,be)).key)?(null===Me.left?Ne=Me.right:(Ne=b(we,Me.left,be)).right=Me.right,this._size--,Ne):Me},$e.prototype.pop=function(){var we=this._root;if(we){for(;we.left;)we=we.left;return this._root=b(we.key,this._root,this._comparator),this._root=this._remove(we.key,this._root,this._comparator),{key:we.key,data:we.data}}return null},$e.prototype.findStatic=function(we){for(var Me=this._root,be=this._comparator;Me;){var Ne=be(we,Me.key);if(0===Ne)return Me;Me=Ne<0?Me.left:Me.right}return null},$e.prototype.find=function(we){return this._root&&(this._root=b(we,this._root,this._comparator),0!==this._comparator(we,this._root.key))?null:this._root},$e.prototype.contains=function(we){for(var Me=this._root,be=this._comparator;Me;){var Ne=be(we,Me.key);if(0===Ne)return!0;Me=Ne<0?Me.left:Me.right}return!1},$e.prototype.forEach=function(we,Me){for(var be=this._root,Ne=[],Re=!1;!Re;)null!==be?(Ne.push(be),be=be.left):0!==Ne.length?(be=Ne.pop(),we.call(Me,be),be=be.right):Re=!0;return this},$e.prototype.range=function(we,Me,be,Ne){for(var Re=[],Ve=this._comparator,Ue=this._root;0!==Re.length||Ue;)if(Ue)Re.push(Ue),Ue=Ue.left;else{if(Ve((Ue=Re.pop()).key,Me)>0)break;if(Ve(Ue.key,we)>=0&&be.call(Ne,Ue))return this;Ue=Ue.right}return this},$e.prototype.keys=function(){var we=[];return this.forEach(function(Me){return we.push(Me.key)}),we},$e.prototype.values=function(){var we=[];return this.forEach(function(Me){return we.push(Me.data)}),we},$e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},$e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},$e.prototype.minNode=function(we){if(void 0===we&&(we=this._root),we)for(;we.left;)we=we.left;return we},$e.prototype.maxNode=function(we){if(void 0===we&&(we=this._root),we)for(;we.right;)we=we.right;return we},$e.prototype.at=function(we){for(var Me=this._root,be=!1,Ne=0,Re=[];!be;)if(Me)Re.push(Me),Me=Me.left;else if(Re.length>0){if(Me=Re.pop(),Ne===we)return Me;Ne++,Me=Me.right}else be=!0;return null},$e.prototype.next=function(we){var Me=this._root,be=null;if(we.right){for(be=we.right;be.left;)be=be.left;return be}for(var Ne=this._comparator;Me;){var Re=Ne(we.key,Me.key);if(0===Re)break;Re<0?(be=Me,Me=Me.left):Me=Me.right}return be},$e.prototype.prev=function(we){var Me=this._root,be=null;if(null!==we.left){for(be=we.left;be.right;)be=be.right;return be}for(var Ne=this._comparator;Me;){var Re=Ne(we.key,Me.key);if(0===Re)break;Re<0?Me=Me.left:(be=Me,Me=Me.right)}return be},$e.prototype.clear=function(){return this._root=null,this._size=0,this},$e.prototype.toList=function(){return function J($e){for(var we=$e,Me=[],be=!1,Ne=new D(null,null),Re=Ne;!be;)we?(Me.push(we),we=we.left):Me.length>0?we=(we=Re=Re.next=Me.pop()).right:be=!0;return Re.next=null,Ne.next}(this._root)},$e.prototype.load=function(we,Me,be){void 0===Me&&(Me=[]),void 0===be&&(be=!1);var Ne=we.length,Re=this._comparator;if(be&&N(we,Me,0,Ne-1,Re),null===this._root)this._root=Y(we,Me,0,Ne),this._size=Ne;else{var Ve=function ne($e,we,Me){for(var be=new D(null,null),Ne=be,Re=$e,Ve=we;null!==Re&&null!==Ve;)Me(Re.key,Ve.key)<0?(Ne.next=Re,Re=Re.next):(Ne.next=Ve,Ve=Ve.next),Ne=Ne.next;return null!==Re?Ne.next=Re:null!==Ve&&(Ne.next=Ve),be.next}(this.toList(),function $($e,we){for(var Me=new D(null,null),be=Me,Ne=0;Ne<$e.length;Ne++)be=be.next=new D($e[Ne],we[Ne]);return be.next=null,Me.next}(we,Me),Re);this._root=G({head:Ve},0,Ne=this._size+Ne)}return this},$e.prototype.isEmpty=function(){return null===this._root},Object.defineProperty($e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty($e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),$e.prototype.toString=function(we){void 0===we&&(we=function(Ne){return String(Ne.key)});var Me=[];return M(this._root,"",!0,function(be){return Me.push(be)},we),Me.join("")},$e.prototype.update=function(we,Me,be){var Ne=this._comparator,Re=E(we,this._root,Ne),Ve=Re.left,Ue=Re.right;Ne(we,Me)<0?Ue=w(Me,be,Ue,Ne):Ve=w(Me,be,Ve,Ne),this._root=function I($e,we,Me){return null===we?$e:(null===$e||((we=b($e.key,we,Me)).left=$e),we)}(Ve,Ue,Ne)},$e.prototype.split=function(we){return E(we,this._root,this._comparator)},$e}();function Y($e,we,Me,be){var Ne=be-Me;if(Ne>0){var Re=Me+Math.floor(Ne/2),Je=new D($e[Re],we[Re]);return Je.left=Y($e,we,Me,Re),Je.right=Y($e,we,Re+1,be),Je}return null}function G($e,we,Me){var be=Me-we;if(be>0){var Ne=we+Math.floor(be/2),Re=G($e,we,Ne),Ve=$e.head;return Ve.left=Re,$e.head=$e.head.next,Ve.right=G($e,Ne+1,Me),Ve}return null}function N($e,we,Me,be,Ne){if(!(Me>=be)){for(var Re=$e[Me+be>>1],Ve=Me-1,Ue=be+1;;){do{Ve++}while(Ne($e[Ve],Re)<0);do{Ue--}while(Ne($e[Ue],Re)>0);if(Ve>=Ue)break;var Je=$e[Ve];$e[Ve]=$e[Ue],$e[Ue]=Je,Je=we[Ve],we[Ve]=we[Ue],we[Ue]=Je}N($e,we,Me,Ue,Ne),N($e,we,Ue+1,be,Ne)}}var T=function(we,Me){return we.ll.x<=Me.x&&Me.x<=we.ur.x&&we.ll.y<=Me.y&&Me.y<=we.ur.y},V=function(we,Me){return Me.ur.x<we.ll.x||we.ur.x<Me.ll.x||Me.ur.y<we.ll.y||we.ur.y<Me.ll.y?null:{ll:{x:we.ll.x<Me.ll.x?Me.ll.x:we.ll.x,y:we.ll.y<Me.ll.y?Me.ll.y:we.ll.y},ur:{x:we.ur.x<Me.ur.x?we.ur.x:Me.ur.x,y:we.ur.y<Me.ur.y?we.ur.y:Me.ur.y}}},O=Number.EPSILON;void 0===O&&(O=Math.pow(2,-52));var z=O*O,j=function(we,Me){if(-O<we&&we<O&&-O<Me&&Me<O)return 0;var be=we-Me;return be*be<z*we*Me?0:we<Me?-1:1},k=function(){function $e(){fe(this,$e),this.reset()}return P($e,[{key:"reset",value:function(){this.xRounder=new K,this.yRounder=new K}},{key:"round",value:function(Me,be){return{x:this.xRounder.round(Me),y:this.yRounder.round(be)}}}]),$e}(),K=function(){function $e(){fe(this,$e),this.tree=new R,this.round(0)}return P($e,[{key:"round",value:function(Me){var be=this.tree.add(Me),Ne=this.tree.prev(be);if(null!==Ne&&0===j(be.key,Ne.key))return this.tree.remove(Me),Ne.key;var Re=this.tree.next(be);return null!==Re&&0===j(be.key,Re.key)?(this.tree.remove(Me),Re.key):Me}}]),$e}(),oe=new k,B=function(we,Me){return we.x*Me.y-we.y*Me.x},ie=function(we,Me){return we.x*Me.x+we.y*Me.y},ee=function(we,Me,be){var Ve=B({x:Me.x-we.x,y:Me.y-we.y},{x:be.x-we.x,y:be.y-we.y});return j(Ve,0)},ce=function(we){return Math.sqrt(ie(we,we))},te=function(we,Me,be){var Ne={x:Me.x-we.x,y:Me.y-we.y},Re={x:be.x-we.x,y:be.y-we.y};return B(Re,Ne)/ce(Re)/ce(Ne)},Le=function(we,Me,be){var Ne={x:Me.x-we.x,y:Me.y-we.y},Re={x:be.x-we.x,y:be.y-we.y};return ie(Re,Ne)/ce(Re)/ce(Ne)},Pe=function(we,Me,be){return 0===Me.y?null:{x:we.x+Me.x/Me.y*(be-we.y),y:be}},ve=function(we,Me,be){return 0===Me.x?null:{x:be,y:we.y+Me.y/Me.x*(be-we.x)}},ye=function(){function $e(we,Me){fe(this,$e),void 0===we.events?we.events=[this]:we.events.push(this),this.point=we,this.isLeft=Me}return P($e,null,[{key:"compare",value:function(Me,be){var Ne=$e.comparePoints(Me.point,be.point);return 0!==Ne?Ne:(Me.point!==be.point&&Me.link(be),Me.isLeft!==be.isLeft?Me.isLeft?1:-1:he.compare(Me.segment,be.segment))}},{key:"comparePoints",value:function(Me,be){return Me.x<be.x?-1:Me.x>be.x?1:Me.y<be.y?-1:Me.y>be.y?1:0}}]),P($e,[{key:"link",value:function(Me){if(Me.point===this.point)throw new Error("Tried to link already linked events");for(var be=Me.point.events,Ne=0,Re=be.length;Ne<Re;Ne++){var Ve=be[Ne];this.point.events.push(Ve),Ve.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var Me=this.point.events.length,be=0;be<Me;be++){var Ne=this.point.events[be];if(void 0===Ne.segment.consumedBy)for(var Re=be+1;Re<Me;Re++){var Ve=this.point.events[Re];void 0===Ve.consumedBy&&Ne.otherSE.point.events===Ve.otherSE.point.events&&Ne.segment.consume(Ve.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var Me=[],be=0,Ne=this.point.events.length;be<Ne;be++){var Re=this.point.events[be];Re!==this&&!Re.segment.ringOut&&Re.segment.isInResult()&&Me.push(Re)}return Me}},{key:"getLeftmostComparator",value:function(Me){var be=this,Ne=new Map,Re=function(Ue){var Je=Ue.otherSE;Ne.set(Ue,{sine:te(be.point,Me.point,Je.point),cosine:Le(be.point,Me.point,Je.point)})};return function(Ve,Ue){Ne.has(Ve)||Re(Ve),Ne.has(Ue)||Re(Ue);var Je=Ne.get(Ve),qe=Je.sine,gt=Je.cosine,yt=Ne.get(Ue),it=yt.sine,Et=yt.cosine;return qe>=0&&it>=0?gt<Et?1:gt>Et?-1:0:qe<0&&it<0?gt<Et?-1:gt>Et?1:0:it<qe?-1:it>qe?1:0}}}]),$e}(),de=0,he=function(){function $e(we,Me,be,Ne){fe(this,$e),this.id=++de,this.leftSE=we,we.segment=this,we.otherSE=Me,this.rightSE=Me,Me.segment=this,Me.otherSE=we,this.rings=be,this.windings=Ne}return P($e,null,[{key:"compare",value:function(Me,be){var Ne=Me.leftSE.point.x,Re=be.leftSE.point.x,Ve=Me.rightSE.point.x,Ue=be.rightSE.point.x;if(Ue<Ne)return 1;if(Ve<Re)return-1;var Je=Me.leftSE.point.y,qe=be.leftSE.point.y,gt=Me.rightSE.point.y,yt=be.rightSE.point.y;if(Ne<Re){if(qe<Je&&qe<gt)return 1;if(qe>Je&&qe>gt)return-1;var it=Me.comparePoint(be.leftSE.point);if(it<0)return 1;if(it>0)return-1;var Et=be.comparePoint(Me.rightSE.point);return 0!==Et?Et:-1}if(Ne>Re){if(Je<qe&&Je<yt)return-1;if(Je>qe&&Je>yt)return 1;var yn=be.comparePoint(Me.leftSE.point);if(0!==yn)return yn;var Gt=Me.comparePoint(be.rightSE.point);return Gt<0?1:Gt>0?-1:1}if(Je<qe)return-1;if(Je>qe)return 1;if(Ve<Ue){var En=be.comparePoint(Me.rightSE.point);if(0!==En)return En}if(Ve>Ue){var Tn=Me.comparePoint(be.rightSE.point);if(Tn<0)return 1;if(Tn>0)return-1}if(Ve!==Ue){var zr=gt-Je,ii=Ve-Ne,Vi=yt-qe,Vo=Ue-Re;if(zr>ii&&Vi<Vo)return 1;if(zr<ii&&Vi>Vo)return-1}return Ve>Ue?1:Ve<Ue||gt<yt?-1:gt>yt?1:Me.id<be.id?-1:Me.id>be.id?1:0}}]),P($e,[{key:"replaceRightSE",value:function(Me){this.rightSE=Me,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var Me=this.leftSE.point.y,be=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:Me<be?Me:be},ur:{x:this.rightSE.point.x,y:Me>be?Me:be}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(Me){return Me.x===this.leftSE.point.x&&Me.y===this.leftSE.point.y||Me.x===this.rightSE.point.x&&Me.y===this.rightSE.point.y}},{key:"comparePoint",value:function(Me){if(this.isAnEndpoint(Me))return 0;var be=this.leftSE.point,Ne=this.rightSE.point,Re=this.vector();if(be.x===Ne.x)return Me.x===be.x?0:Me.x<be.x?1:-1;if(Me.x===be.x+(Me.y-be.y)/Re.y*Re.x)return 0;var qe=be.y+(Me.x-be.x)/Re.x*Re.y;return Me.y===qe?0:Me.y<qe?-1:1}},{key:"getIntersection",value:function(Me){var be=this.bbox(),Ne=Me.bbox(),Re=V(be,Ne);if(null===Re)return null;var Ve=this.leftSE.point,Ue=this.rightSE.point,Je=Me.leftSE.point,qe=Me.rightSE.point,gt=T(be,Je)&&0===this.comparePoint(Je),yt=T(Ne,Ve)&&0===Me.comparePoint(Ve),it=T(be,qe)&&0===this.comparePoint(qe),Et=T(Ne,Ue)&&0===Me.comparePoint(Ue);if(yt&&gt)return Et&&!it?Ue:!Et&&it?qe:null;if(yt)return it&&Ve.x===qe.x&&Ve.y===qe.y?null:Ve;if(gt)return Et&&Ue.x===Je.x&&Ue.y===Je.y?null:Je;if(Et&&it)return null;if(Et)return Ue;if(it)return qe;var yn=function(we,Me,be,Ne){if(0===Me.x)return ve(be,Ne,we.x);if(0===Ne.x)return ve(we,Me,be.x);if(0===Me.y)return Pe(be,Ne,we.y);if(0===Ne.y)return Pe(we,Me,be.y);var Re=B(Me,Ne);if(0==Re)return null;var Ve={x:be.x-we.x,y:be.y-we.y},Ue=B(Ve,Me)/Re,Je=B(Ve,Ne)/Re;return{x:(we.x+Je*Me.x+(be.x+Ue*Ne.x))/2,y:(we.y+Je*Me.y+(be.y+Ue*Ne.y))/2}}(Ve,this.vector(),Je,Me.vector());return null!==yn&&T(Re,yn)?oe.round(yn.x,yn.y):null}},{key:"split",value:function(Me){var be=[],Ne=void 0!==Me.events,Re=new ye(Me,!0),Ve=new ye(Me,!1),Ue=this.rightSE;this.replaceRightSE(Ve),be.push(Ve),be.push(Re);var Je=new $e(Re,Ue,this.rings.slice(),this.windings.slice());return ye.comparePoints(Je.leftSE.point,Je.rightSE.point)>0&&Je.swapEvents(),ye.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),Ne&&(Re.checkForConsuming(),Ve.checkForConsuming()),be}},{key:"swapEvents",value:function(){var Me=this.rightSE;this.rightSE=this.leftSE,this.leftSE=Me,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var be=0,Ne=this.windings.length;be<Ne;be++)this.windings[be]*=-1}},{key:"consume",value:function(Me){for(var be=this,Ne=Me;be.consumedBy;)be=be.consumedBy;for(;Ne.consumedBy;)Ne=Ne.consumedBy;var Re=$e.compare(be,Ne);if(0!==Re){if(Re>0){var Ve=be;be=Ne,Ne=Ve}if(be.prev===Ne){var Ue=be;be=Ne,Ne=Ue}for(var Je=0,qe=Ne.rings.length;Je<qe;Je++){var gt=Ne.rings[Je],yt=Ne.windings[Je],it=be.rings.indexOf(gt);-1===it?(be.rings.push(gt),be.windings.push(yt)):be.windings[it]+=yt}Ne.rings=null,Ne.windings=null,Ne.consumedBy=be,Ne.leftSE.consumedBy=be.leftSE,Ne.rightSE.consumedBy=be.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var Me=this.beforeState();this._afterState={rings:Me.rings.slice(0),windings:Me.windings.slice(0),multiPolys:[]};for(var be=this._afterState.rings,Ne=this._afterState.windings,Re=this._afterState.multiPolys,Ve=0,Ue=this.rings.length;Ve<Ue;Ve++){var Je=this.rings[Ve],qe=this.windings[Ve],gt=be.indexOf(Je);-1===gt?(be.push(Je),Ne.push(qe)):Ne[gt]+=qe}for(var yt=[],it=[],Et=0,yn=be.length;Et<yn;Et++)if(0!==Ne[Et]){var Gt=be[Et],En=Gt.poly;if(-1===it.indexOf(En))if(Gt.isExterior)yt.push(En);else{-1===it.indexOf(En)&&it.push(En);var Tn=yt.indexOf(Gt.poly);-1!==Tn&&yt.splice(Tn,1)}}for(var zr=0,ii=yt.length;zr<ii;zr++){var Vi=yt[zr].multiPoly;-1===Re.indexOf(Vi)&&Re.push(Vi)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var Me=this.beforeState().multiPolys,be=this.afterState().multiPolys;switch(He.type){case"union":this._isInResult=0===Me.length!=(0===be.length);break;case"intersection":var Ve,Ue;Me.length<be.length?(Ve=Me.length,Ue=be.length):(Ve=be.length,Ue=Me.length),this._isInResult=Ue===He.numMultiPolys&&Ve<Ue;break;case"xor":var Je=Math.abs(Me.length-be.length);this._isInResult=Je%2==1;break;case"difference":var qe=function(yt){return 1===yt.length&&yt[0].isSubject};this._isInResult=qe(Me)!==qe(be);break;default:throw new Error("Unrecognized operation type found ".concat(He.type))}return this._isInResult}}],[{key:"fromRing",value:function(Me,be,Ne){var Re,Ve,Ue,Je=ye.comparePoints(Me,be);if(Je<0)Re=Me,Ve=be,Ue=1;else{if(!(Je>0))throw new Error("Tried to create degenerate segment at [".concat(Me.x,", ").concat(Me.y,"]"));Re=be,Ve=Me,Ue=-1}return new $e(new ye(Re,!0),new ye(Ve,!1),[Ne],[Ue])}}]),$e}(),ae=function(){function $e(we,Me,be){if(fe(this,$e),!Array.isArray(we)||0===we.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=Me,this.isExterior=be,this.segments=[],"number"!=typeof we[0][0]||"number"!=typeof we[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Ne=oe.round(we[0][0],we[0][1]);this.bbox={ll:{x:Ne.x,y:Ne.y},ur:{x:Ne.x,y:Ne.y}};for(var Re=Ne,Ve=1,Ue=we.length;Ve<Ue;Ve++){if("number"!=typeof we[Ve][0]||"number"!=typeof we[Ve][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Je=oe.round(we[Ve][0],we[Ve][1]);Je.x===Re.x&&Je.y===Re.y||(this.segments.push(he.fromRing(Re,Je,this)),Je.x<this.bbox.ll.x&&(this.bbox.ll.x=Je.x),Je.y<this.bbox.ll.y&&(this.bbox.ll.y=Je.y),Je.x>this.bbox.ur.x&&(this.bbox.ur.x=Je.x),Je.y>this.bbox.ur.y&&(this.bbox.ur.y=Je.y),Re=Je)}(Ne.x!==Re.x||Ne.y!==Re.y)&&this.segments.push(he.fromRing(Re,Ne,this))}return P($e,[{key:"getSweepEvents",value:function(){for(var Me=[],be=0,Ne=this.segments.length;be<Ne;be++){var Re=this.segments[be];Me.push(Re.leftSE),Me.push(Re.rightSE)}return Me}}]),$e}(),Ie=function(){function $e(we,Me){if(fe(this,$e),!Array.isArray(we))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new ae(we[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var be=1,Ne=we.length;be<Ne;be++){var Re=new ae(we[be],this,!1);Re.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Re.bbox.ll.x),Re.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Re.bbox.ll.y),Re.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Re.bbox.ur.x),Re.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Re.bbox.ur.y),this.interiorRings.push(Re)}this.multiPoly=Me}return P($e,[{key:"getSweepEvents",value:function(){for(var Me=this.exteriorRing.getSweepEvents(),be=0,Ne=this.interiorRings.length;be<Ne;be++)for(var Re=this.interiorRings[be].getSweepEvents(),Ve=0,Ue=Re.length;Ve<Ue;Ve++)Me.push(Re[Ve]);return Me}}]),$e}(),me=function(){function $e(we,Me){if(fe(this,$e),!Array.isArray(we))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof we[0][0][0]&&(we=[we])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var be=0,Ne=we.length;be<Ne;be++){var Re=new Ie(we[be],this);Re.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Re.bbox.ll.x),Re.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Re.bbox.ll.y),Re.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Re.bbox.ur.x),Re.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Re.bbox.ur.y),this.polys.push(Re)}this.isSubject=Me}return P($e,[{key:"getSweepEvents",value:function(){for(var Me=[],be=0,Ne=this.polys.length;be<Ne;be++)for(var Re=this.polys[be].getSweepEvents(),Ve=0,Ue=Re.length;Ve<Ue;Ve++)Me.push(Re[Ve]);return Me}}]),$e}(),Ae=function(){function $e(we){fe(this,$e),this.events=we;for(var Me=0,be=we.length;Me<be;Me++)we[Me].segment.ringOut=this;this.poly=null}return P($e,null,[{key:"factory",value:function(Me){for(var be=[],Ne=0,Re=Me.length;Ne<Re;Ne++){var Ve=Me[Ne];if(Ve.isInResult()&&!Ve.ringOut){for(var Ue=null,Je=Ve.leftSE,qe=Ve.rightSE,gt=[Je],yt=Je.point,it=[];Ue=Je,gt.push(Je=qe),Je.point!==yt;)for(;;){var Et=Je.getAvailableLinkedEvents();if(0===Et.length){var yn=gt[0].point,Gt=gt[gt.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(yn.x,",")+" ".concat(yn.y,"]. Last matching segment found ends at")+" [".concat(Gt.x,", ").concat(Gt.y,"]."))}if(1===Et.length){qe=Et[0].otherSE;break}for(var En=null,Tn=0,zr=it.length;Tn<zr;Tn++)if(it[Tn].point===Je.point){En=Tn;break}if(null===En){it.push({index:gt.length,point:Je.point});var Vo=Je.getLeftmostComparator(Ue);qe=Et.sort(Vo)[0].otherSE;break}var ii=it.splice(En)[0],Vi=gt.splice(ii.index);Vi.unshift(Vi[0].otherSE),be.push(new $e(Vi.reverse()))}be.push(new $e(gt))}}return be}}]),P($e,[{key:"getGeom",value:function(){for(var Me=this.events[0].point,be=[Me],Ne=1,Re=this.events.length-1;Ne<Re;Ne++){var Ve=this.events[Ne].point;0!==ee(Ve,Me,this.events[Ne+1].point)&&(be.push(Ve),Me=Ve)}if(1===be.length)return null;0===ee(be[0],Me,be[1])&&be.shift(),be.push(be[0]);for(var gt=this.isExteriorRing()?1:-1,yt=this.isExteriorRing()?0:be.length-1,it=this.isExteriorRing()?be.length:-1,Et=[],yn=yt;yn!=it;yn+=gt)Et.push([be[yn].x,be[yn].y]);return Et}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var Me=this.enclosingRing();this._isExteriorRing=!Me||!Me.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var Me=this.events[0],be=1,Ne=this.events.length;be<Ne;be++){var Re=this.events[be];ye.compare(Me,Re)>0&&(Me=Re)}for(var Ve=Me.segment.prevInResult(),Ue=Ve?Ve.prevInResult():null;;){if(!Ve)return null;if(!Ue)return Ve.ringOut;if(Ue.ringOut!==Ve.ringOut)return Ue.ringOut.enclosingRing()!==Ve.ringOut?Ve.ringOut:Ve.ringOut.enclosingRing();Ve=Ue.prevInResult(),Ue=Ve?Ve.prevInResult():null}}}]),$e}(),ze=function(){function $e(we){fe(this,$e),this.exteriorRing=we,we.poly=this,this.interiorRings=[]}return P($e,[{key:"addInterior",value:function(Me){this.interiorRings.push(Me),Me.poly=this}},{key:"getGeom",value:function(){var Me=[this.exteriorRing.getGeom()];if(null===Me[0])return null;for(var be=0,Ne=this.interiorRings.length;be<Ne;be++){var Re=this.interiorRings[be].getGeom();null!==Re&&Me.push(Re)}return Me}}]),$e}(),Ge=function(){function $e(we){fe(this,$e),this.rings=we,this.polys=this._composePolys(we)}return P($e,[{key:"getGeom",value:function(){for(var Me=[],be=0,Ne=this.polys.length;be<Ne;be++){var Re=this.polys[be].getGeom();null!==Re&&Me.push(Re)}return Me}},{key:"_composePolys",value:function(Me){for(var be=[],Ne=0,Re=Me.length;Ne<Re;Ne++){var Ve=Me[Ne];if(!Ve.poly)if(Ve.isExteriorRing())be.push(new ze(Ve));else{var Ue=Ve.enclosingRing();Ue.poly||be.push(new ze(Ue)),Ue.poly.addInterior(Ve)}}return be}}]),$e}(),Ke=function(){function $e(we){var Me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.compare;fe(this,$e),this.queue=we,this.tree=new R(Me),this.segments=[]}return P($e,[{key:"process",value:function(Me){var be=Me.segment,Ne=[];if(Me.consumedBy)return Me.isLeft?this.queue.remove(Me.otherSE):this.tree.remove(be),Ne;var Re=Me.isLeft?this.tree.insert(be):this.tree.find(be);if(!Re)throw new Error("Unable to find segment #".concat(be.id," ")+"[".concat(be.leftSE.point.x,", ").concat(be.leftSE.point.y,"] -> ")+"[".concat(be.rightSE.point.x,", ").concat(be.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var Ve=Re,Ue=Re,Je=void 0,qe=void 0;void 0===Je;)null===(Ve=this.tree.prev(Ve))?Je=null:void 0===Ve.key.consumedBy&&(Je=Ve.key);for(;void 0===qe;)null===(Ue=this.tree.next(Ue))?qe=null:void 0===Ue.key.consumedBy&&(qe=Ue.key);if(Me.isLeft){var gt=null;if(Je){var yt=Je.getIntersection(be);if(null!==yt&&(be.isAnEndpoint(yt)||(gt=yt),!Je.isAnEndpoint(yt)))for(var it=this._splitSafely(Je,yt),Et=0,yn=it.length;Et<yn;Et++)Ne.push(it[Et])}var Gt=null;if(qe){var En=qe.getIntersection(be);if(null!==En&&(be.isAnEndpoint(En)||(Gt=En),!qe.isAnEndpoint(En)))for(var Tn=this._splitSafely(qe,En),zr=0,ii=Tn.length;zr<ii;zr++)Ne.push(Tn[zr])}if(null!==gt||null!==Gt){var Vi;Vi=null===gt?Gt:null===Gt||ye.comparePoints(gt,Gt)<=0?gt:Gt,this.queue.remove(be.rightSE),Ne.push(be.rightSE);for(var Gr=be.split(Vi),ts=0,_i=Gr.length;ts<_i;ts++)Ne.push(Gr[ts])}Ne.length>0?(this.tree.remove(be),Ne.push(Me)):(this.segments.push(be),be.prev=Je)}else{if(Je&&qe){var pt=Je.getIntersection(qe);if(null!==pt){if(!Je.isAnEndpoint(pt))for(var $a=this._splitSafely(Je,pt),ns=0,pn=$a.length;ns<pn;ns++)Ne.push($a[ns]);if(!qe.isAnEndpoint(pt))for(var sa=this._splitSafely(qe,pt),Ds=0,ms=sa.length;Ds<ms;Ds++)Ne.push(sa[Ds])}}this.tree.remove(be)}return Ne}},{key:"_splitSafely",value:function(Me,be){this.tree.remove(Me);var Ne=Me.rightSE;this.queue.remove(Ne);var Re=Me.split(be);return Re.push(Ne),void 0===Me.consumedBy&&this.tree.insert(Me),Re}}]),$e}(),X=typeof process<"u"&&"MISSING_ENV_VAR".POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,re=typeof process<"u"&&"MISSING_ENV_VAR".POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,He=new(function(){function $e(){fe(this,$e)}return P($e,[{key:"run",value:function(Me,be,Ne){He.type=Me,oe.reset();for(var Re=[new me(be,!0)],Ve=0,Ue=Ne.length;Ve<Ue;Ve++)Re.push(new me(Ne[Ve],!1));if(He.numMultiPolys=Re.length,"difference"===He.type)for(var Je=Re[0],qe=1;qe<Re.length;)null!==V(Re[qe].bbox,Je.bbox)?qe++:Re.splice(qe,1);if("intersection"===He.type)for(var gt=0,yt=Re.length;gt<yt;gt++)for(var it=Re[gt],Et=gt+1,yn=Re.length;Et<yn;Et++)if(null===V(it.bbox,Re[Et].bbox))return[];for(var Gt=new R(ye.compare),En=0,Tn=Re.length;En<Tn;En++)for(var zr=Re[En].getSweepEvents(),ii=0,Vi=zr.length;ii<Vi;ii++)if(Gt.insert(zr[ii]),Gt.size>X)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Vo=new Ke(Gt),Gr=Gt.size,ts=Gt.pop();ts;){var _i=ts.key;if(Gt.size===Gr){var pt=_i.segment;throw new Error("Unable to pop() ".concat(_i.isLeft?"left":"right"," SweepEvent ")+"[".concat(_i.point.x,", ").concat(_i.point.y,"] from segment #").concat(pt.id," ")+"[".concat(pt.leftSE.point.x,", ").concat(pt.leftSE.point.y,"] -> ")+"[".concat(pt.rightSE.point.x,", ").concat(pt.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Gt.size>X)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Vo.segments.length>re)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var $a=Vo.process(_i),ns=0,pn=$a.length;ns<pn;ns++){var sa=$a[ns];void 0===sa.consumedBy&&Gt.insert(sa)}Gr=Gt.size,ts=Gt.pop()}oe.reset();var Ds=Ae.factory(Vo.segments);return new Ge(Ds).getGeom()}}]),$e}());return{union:function(we){for(var Me=arguments.length,be=new Array(Me>1?Me-1:0),Ne=1;Ne<Me;Ne++)be[Ne-1]=arguments[Ne];return He.run("union",we,be)},intersection:function(we){for(var Me=arguments.length,be=new Array(Me>1?Me-1:0),Ne=1;Ne<Me;Ne++)be[Ne-1]=arguments[Ne];return He.run("intersection",we,be)},xor:function(we){for(var Me=arguments.length,be=new Array(Me>1?Me-1:0),Ne=1;Ne<Me;Ne++)be[Ne-1]=arguments[Ne];return He.run("xor",we,be)},difference:function(we){for(var Me=arguments.length,be=new Array(Me>1?Me-1:0),Ne=1;Ne<Me;Ne++)be[Ne-1]=arguments[Ne];return He.run("difference",we,be)}}}()},8151:Qe=>{!function(){"use strict";var fe=function(D){return(D="number"==typeof D?{precision:D}:D||{}).precision=D.precision||5,D.factor=D.factor||Math.pow(10,D.precision),D.dimension=D.dimension||2,D},U={encode:function(D,y){y=fe(y);for(var b=[],w=0,E=D.length;w<E;++w){var I=D[w];if(2===y.dimension)b.push(I.lat||I[0]),b.push(I.lng||I[1]);else for(var M=0;M<y.dimension;++M)b.push(I[M])}return this.encodeDeltas(b,y)},decode:function(D,y){y=fe(y);for(var b=this.decodeDeltas(D,y),w=[],E=0,I=b.length;E+(y.dimension-1)<I;){for(var M=[],R=0;R<y.dimension;++R)M.push(b[E++]);w.push(M)}return w},encodeDeltas:function(D,y){y=fe(y);for(var b=[],w=0,E=D.length;w<E;)for(var I=0;I<y.dimension;++I,++w){var M=D[w].toFixed(y.precision),R=M-(b[I]||0);b[I]=M,D[w]=R}return this.encodeFloats(D,y)},decodeDeltas:function(D,y){y=fe(y);for(var b=[],w=this.decodeFloats(D,y),E=0,I=w.length;E<I;)for(var M=0;M<y.dimension;++M,++E)w[E]=Math.round((b[M]=w[E]+(b[M]||0))*y.factor)/y.factor;return w},encodeFloats:function(D,y){y=fe(y);for(var b=0,w=D.length;b<w;++b)D[b]=Math.round(D[b]*y.factor);return this.encodeSignedIntegers(D)},decodeFloats:function(D,y){y=fe(y);for(var b=this.decodeSignedIntegers(D),w=0,E=b.length;w<E;++w)b[w]/=y.factor;return b},encodeSignedIntegers:function(D){for(var y=0,b=D.length;y<b;++y){var w=D[y];D[y]=w<0?~(w<<1):w<<1}return this.encodeUnsignedIntegers(D)},decodeSignedIntegers:function(D){for(var y=this.decodeUnsignedIntegers(D),b=0,w=y.length;b<w;++b){var E=y[b];y[b]=1&E?~(E>>1):E>>1}return y},encodeUnsignedIntegers:function(D){for(var y="",b=0,w=D.length;b<w;++b)y+=this.encodeUnsignedInteger(D[b]);return y},decodeUnsignedIntegers:function(D){for(var y=[],b=0,w=0,E=0,I=D.length;E<I;++E){var M=D.charCodeAt(E)-63;b|=(31&M)<<w,M<32?(y.push(b),b=0,w=0):w+=5}return y},encodeSignedInteger:function(D){return this.encodeUnsignedInteger(D=D<0?~(D<<1):D<<1)},encodeUnsignedInteger:function(D){for(var y,b="";D>=32;)y=63+(32|31&D),b+=String.fromCharCode(y),D>>=5;return y=D+63,b+String.fromCharCode(y)}};if("object"==typeof Qe.exports&&(Qe.exports=U),"object"==typeof L){L.Polyline.prototype.fromEncoded||(L.Polyline.fromEncoded=function(D,y){return L.polyline(U.decode(D),y)}),L.Polygon.prototype.fromEncoded||(L.Polygon.fromEncoded=function(D,y){return L.polygon(U.decode(D),y)});var P={encodePath:function(){return U.encode(this.getLatLngs())}};L.Polyline.prototype.encodePath||L.Polyline.include(P),L.Polygon.prototype.encodePath||L.Polygon.include(P),L.PolylineUtil=U}}()},4678:function(Qe){Qe.exports=function(){"use strict";function U(y,b,w,E,I){for(;E>w;){if(E-w>600){var M=E-w+1,R=b-w+1,Y=Math.log(M),$=.5*Math.exp(2*Y/3),J=.5*Math.sqrt(Y*$*(M-$)/M)*(R-M/2<0?-1:1);U(y,b,Math.max(w,Math.floor(b-R*$/M+J)),Math.min(E,Math.floor(b+(M-R)*$/M+J)),I)}var N=y[b],T=w,V=E;for(P(y,w,b),I(y[E],N)>0&&P(y,w,E);T<V;){for(P(y,T,V),T++,V--;I(y[T],N)<0;)T++;for(;I(y[V],N)>0;)V--}0===I(y[w],N)?P(y,w,V):P(y,++V,E),V<=b&&(w=V+1),b<=V&&(E=V-1)}}function P(y,b,w){var E=y[b];y[b]=y[w],y[w]=E}function D(y,b){return y<b?-1:y>b?1:0}return function fe(y,b,w,E,I){U(y,b,w||0,E||y.length-1,I||D)}}()},4223:Qe=>{function U(){"use strict";var P="ff0000",D="0000ff",y=0,b=100;function w(Y,$,J){var G=Y;G<y&&(G=y),G>b&&(G=b);var ne=b-y,N=parseInt($,16),T=parseInt(J,16);return function E(Y){return 1===Y.length?"0"+Y:Y}(Math.round((T-N)/ne*(G-y)+N).toString(16))}function M(Y){if(function I(Y){return/^#?[0-9a-fA-F]{6}$/i.test(Y)}(Y))return Y.substring(Y.length-6,Y.length);var $=Y.toLowerCase();if(R.hasOwnProperty($))return R[$];throw new Error(Y+" is not a valid colour.")}this.setGradient=function(Y,$){P=M(Y),D=M($)},this.setNumberRange=function(Y,$){if(!($>Y))throw new RangeError("maxNumber ("+$+") is not greater than minNumber ("+Y+")");y=Y,b=$},this.colourAt=function(Y){return w(Y,P.substring(0,2),D.substring(0,2))+w(Y,P.substring(2,4),D.substring(2,4))+w(Y,P.substring(4,6),D.substring(4,6))};var R={aliceblue:"F0F8FF",antiquewhite:"FAEBD7",aqua:"00FFFF",aquamarine:"7FFFD4",azure:"F0FFFF",beige:"F5F5DC",bisque:"FFE4C4",black:"000000",blanchedalmond:"FFEBCD",blue:"0000FF",blueviolet:"8A2BE2",brown:"A52A2A",burlywood:"DEB887",cadetblue:"5F9EA0",chartreuse:"7FFF00",chocolate:"D2691E",coral:"FF7F50",cornflowerblue:"6495ED",cornsilk:"FFF8DC",crimson:"DC143C",cyan:"00FFFF",darkblue:"00008B",darkcyan:"008B8B",darkgoldenrod:"B8860B",darkgray:"A9A9A9",darkgreen:"006400",darkgrey:"A9A9A9",darkkhaki:"BDB76B",darkmagenta:"8B008B",darkolivegreen:"556B2F",darkorange:"FF8C00",darkorchid:"9932CC",darkred:"8B0000",darksalmon:"E9967A",darkseagreen:"8FBC8F",darkslateblue:"483D8B",darkslategray:"2F4F4F",darkslategrey:"2F4F4F",darkturquoise:"00CED1",darkviolet:"9400D3",deeppink:"FF1493",deepskyblue:"00BFFF",dimgray:"696969",dimgrey:"696969",dodgerblue:"1E90FF",firebrick:"B22222",floralwhite:"FFFAF0",forestgreen:"228B22",fuchsia:"FF00FF",gainsboro:"DCDCDC",ghostwhite:"F8F8FF",gold:"FFD700",goldenrod:"DAA520",gray:"808080",green:"008000",greenyellow:"ADFF2F",grey:"808080",honeydew:"F0FFF0",hotpink:"FF69B4",indianred:"CD5C5C",indigo:"4B0082",ivory:"FFFFF0",khaki:"F0E68C",lavender:"E6E6FA",lavenderblush:"FFF0F5",lawngreen:"7CFC00",lemonchiffon:"FFFACD",lightblue:"ADD8E6",lightcoral:"F08080",lightcyan:"E0FFFF",lightgoldenrodyellow:"FAFAD2",lightgray:"D3D3D3",lightgreen:"90EE90",lightgrey:"D3D3D3",lightpink:"FFB6C1",lightsalmon:"FFA07A",lightseagreen:"20B2AA",lightskyblue:"87CEFA",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"B0C4DE",lightyellow:"FFFFE0",lime:"00FF00",limegreen:"32CD32",linen:"FAF0E6",magenta:"FF00FF",maroon:"800000",mediumaquamarine:"66CDAA",mediumblue:"0000CD",mediumorchid:"BA55D3",mediumpurple:"9370DB",mediumseagreen:"3CB371",mediumslateblue:"7B68EE",mediumspringgreen:"00FA9A",mediumturquoise:"48D1CC",mediumvioletred:"C71585",midnightblue:"191970",mintcream:"F5FFFA",mistyrose:"FFE4E1",moccasin:"FFE4B5",navajowhite:"FFDEAD",navy:"000080",oldlace:"FDF5E6",olive:"808000",olivedrab:"6B8E23",orange:"FFA500",orangered:"FF4500",orchid:"DA70D6",palegoldenrod:"EEE8AA",palegreen:"98FB98",paleturquoise:"AFEEEE",palevioletred:"DB7093",papayawhip:"FFEFD5",peachpuff:"FFDAB9",peru:"CD853F",pink:"FFC0CB",plum:"DDA0DD",powderblue:"B0E0E6",purple:"800080",red:"FF0000",rosybrown:"BC8F8F",royalblue:"4169E1",saddlebrown:"8B4513",salmon:"FA8072",sandybrown:"F4A460",seagreen:"2E8B57",seashell:"FFF5EE",sienna:"A0522D",silver:"C0C0C0",skyblue:"87CEEB",slateblue:"6A5ACD",slategray:"708090",slategrey:"708090",snow:"FFFAFA",springgreen:"00FF7F",steelblue:"4682B4",tan:"D2B48C",teal:"008080",thistle:"D8BFD8",tomato:"FF6347",turquoise:"40E0D0",violet:"EE82EE",wheat:"F5DEB3",white:"FFFFFF",whitesmoke:"F5F5F5",yellow:"FFFF00",yellowgreen:"9ACD32"}}Qe.exports=function fe(){"use strict";var P=null,D=0,y=100,b=["ff0000","ffff00","00ff00","0000ff"];function w(E){if(E.length<2)throw new Error("Rainbow must have two or more colours.");var I=(y-D)/(E.length-1),M=new U;M.setGradient(E[0],E[1]),M.setNumberRange(D,D+I),P=[M];for(var R=1;R<E.length-1;R++){var Y=new U;Y.setGradient(E[R],E[R+1]),Y.setNumberRange(D+I*R,D+I*(R+1)),P[R]=Y}b=E}w(b),this.setSpectrum=function(){return w(arguments),this},this.setSpectrumByArray=function(E){return w(E),this},this.colourAt=function(E){if(isNaN(E))throw new TypeError(E+" is not a number");if(1===P.length)return P[0].colourAt(E);var I=(y-D)/P.length,M=Math.min(Math.floor((Math.max(E,D)-D)/I),P.length-1);return P[M].colourAt(E)},this.colorAt=this.colourAt,this.setNumberRange=function(E,I){if(!(I>E))throw new RangeError("maxNumber ("+I+") is not greater than minNumber ("+E+")");return D=E,y=I,w(b),this}}},3544:(Qe,fe,U)=>{"use strict";Qe.exports=D,Qe.exports.default=D;var P=U(4678);function D(V,O){if(!(this instanceof D))return new D(V,O);this._maxEntries=Math.max(4,V||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),O&&this._initFormat(O),this.clear()}function y(V,O,z){if(!z)return O.indexOf(V);for(var j=0;j<O.length;j++)if(z(V,O[j]))return j;return-1}function b(V,O){w(V,0,V.children.length,O,V)}function w(V,O,z,j,k){k||(k=N(null)),k.minX=1/0,k.minY=1/0,k.maxX=-1/0,k.maxY=-1/0;for(var oe,K=O;K<z;K++)oe=V.children[K],E(k,V.leaf?j(oe):oe);return k}function E(V,O){return V.minX=Math.min(V.minX,O.minX),V.minY=Math.min(V.minY,O.minY),V.maxX=Math.max(V.maxX,O.maxX),V.maxY=Math.max(V.maxY,O.maxY),V}function I(V,O){return V.minX-O.minX}function M(V,O){return V.minY-O.minY}function R(V){return(V.maxX-V.minX)*(V.maxY-V.minY)}function Y(V){return V.maxX-V.minX+(V.maxY-V.minY)}function $(V,O){return(Math.max(O.maxX,V.maxX)-Math.min(O.minX,V.minX))*(Math.max(O.maxY,V.maxY)-Math.min(O.minY,V.minY))}function J(V,O){var z=Math.max(V.minX,O.minX),j=Math.max(V.minY,O.minY),k=Math.min(V.maxX,O.maxX),K=Math.min(V.maxY,O.maxY);return Math.max(0,k-z)*Math.max(0,K-j)}function G(V,O){return V.minX<=O.minX&&V.minY<=O.minY&&O.maxX<=V.maxX&&O.maxY<=V.maxY}function ne(V,O){return O.minX<=V.maxX&&O.minY<=V.maxY&&O.maxX>=V.minX&&O.maxY>=V.minY}function N(V){return{children:V,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function T(V,O,z,j,k){for(var oe,K=[O,z];K.length;)!((z=K.pop())-(O=K.pop())<=j)&&(oe=O+Math.ceil((z-O)/j/2)*j,P(V,oe,O,z,k),K.push(O,oe,oe,z))}D.prototype={all:function(){return this._all(this.data,[])},search:function(V){var O=this.data,z=[],j=this.toBBox;if(!ne(V,O))return z;for(var K,oe,B,ie,k=[];O;){for(K=0,oe=O.children.length;K<oe;K++)B=O.children[K],ne(V,ie=O.leaf?j(B):B)&&(O.leaf?z.push(B):G(V,ie)?this._all(B,z):k.push(B));O=k.pop()}return z},collides:function(V){var O=this.data,z=this.toBBox;if(!ne(V,O))return!1;for(var k,K,oe,B,j=[];O;){for(k=0,K=O.children.length;k<K;k++)if(oe=O.children[k],ne(V,B=O.leaf?z(oe):oe)){if(O.leaf||G(V,B))return!0;j.push(oe)}O=j.pop()}return!1},load:function(V){if(!V||!V.length)return this;if(V.length<this._minEntries){for(var O=0,z=V.length;O<z;O++)this.insert(V[O]);return this}var j=this._build(V.slice(),0,V.length-1,0);if(this.data.children.length)if(this.data.height===j.height)this._splitRoot(this.data,j);else{if(this.data.height<j.height){var k=this.data;this.data=j,j=k}this._insert(j,this.data.height-j.height-1,!0)}else this.data=j;return this},insert:function(V){return V&&this._insert(V,this.data.height-1),this},clear:function(){return this.data=N([]),this},remove:function(V,O){if(!V)return this;for(var oe,B,ie,ee,z=this.data,j=this.toBBox(V),k=[],K=[];z||k.length;){if(z||(z=k.pop(),B=k[k.length-1],oe=K.pop(),ee=!0),z.leaf&&-1!==(ie=y(V,z.children,O)))return z.children.splice(ie,1),k.push(z),this._condense(k),this;ee||z.leaf||!G(z,j)?B?(oe++,z=B.children[oe],ee=!1):z=null:(k.push(z),K.push(oe),oe=0,B=z,z=z.children[0])}return this},toBBox:function(V){return V},compareMinX:I,compareMinY:M,toJSON:function(){return this.data},fromJSON:function(V){return this.data=V,this},_all:function(V,O){for(var z=[];V;)V.leaf?O.push.apply(O,V.children):z.push.apply(z,V.children),V=z.pop();return O},_build:function(V,O,z,j){var oe,k=z-O+1,K=this._maxEntries;if(k<=K)return b(oe=N(V.slice(O,z+1)),this.toBBox),oe;j||(j=Math.ceil(Math.log(k)/Math.log(K)),K=Math.ceil(k/Math.pow(K,j-1))),(oe=N([])).leaf=!1,oe.height=j;var ee,ce,te,Le,B=Math.ceil(k/K),ie=B*Math.ceil(Math.sqrt(K));for(T(V,O,z,ie,this.compareMinX),ee=O;ee<=z;ee+=ie)for(T(V,ee,te=Math.min(ee+ie-1,z),B,this.compareMinY),ce=ee;ce<=te;ce+=B)Le=Math.min(ce+B-1,te),oe.children.push(this._build(V,ce,Le,j-1));return b(oe,this.toBBox),oe},_chooseSubtree:function(V,O,z,j){for(var k,K,oe,B,ie,ee,ce,te;j.push(O),!O.leaf&&j.length-1!==z;){for(ce=te=1/0,k=0,K=O.children.length;k<K;k++)ie=R(oe=O.children[k]),(ee=$(V,oe)-ie)<te?(te=ee,ce=ie<ce?ie:ce,B=oe):ee===te&&ie<ce&&(ce=ie,B=oe);O=B||O.children[0]}return O},_insert:function(V,O,z){var k=z?V:(0,this.toBBox)(V),K=[],oe=this._chooseSubtree(k,this.data,O,K);for(oe.children.push(V),E(oe,k);O>=0&&K[O].children.length>this._maxEntries;)this._split(K,O),O--;this._adjustParentBBoxes(k,K,O)},_split:function(V,O){var z=V[O],j=z.children.length,k=this._minEntries;this._chooseSplitAxis(z,k,j);var K=this._chooseSplitIndex(z,k,j),oe=N(z.children.splice(K,z.children.length-K));oe.height=z.height,oe.leaf=z.leaf,b(z,this.toBBox),b(oe,this.toBBox),O?V[O-1].children.push(oe):this._splitRoot(z,oe)},_splitRoot:function(V,O){this.data=N([V,O]),this.data.height=V.height+1,this.data.leaf=!1,b(this.data,this.toBBox)},_chooseSplitIndex:function(V,O,z){var j,k,K,oe,B,ie,ee,ce;for(ie=ee=1/0,j=O;j<=z-O;j++)oe=J(k=w(V,0,j,this.toBBox),K=w(V,j,z,this.toBBox)),B=R(k)+R(K),oe<ie?(ie=oe,ce=j,ee=B<ee?B:ee):oe===ie&&B<ee&&(ee=B,ce=j);return ce},_chooseSplitAxis:function(V,O,z){var j=V.leaf?this.compareMinX:I,k=V.leaf?this.compareMinY:M;this._allDistMargin(V,O,z,j)<this._allDistMargin(V,O,z,k)&&V.children.sort(j)},_allDistMargin:function(V,O,z,j){V.children.sort(j);var ie,ee,k=this.toBBox,K=w(V,0,O,k),oe=w(V,z-O,z,k),B=Y(K)+Y(oe);for(ie=O;ie<z-O;ie++)ee=V.children[ie],E(K,V.leaf?k(ee):ee),B+=Y(K);for(ie=z-O-1;ie>=O;ie--)ee=V.children[ie],E(oe,V.leaf?k(ee):ee),B+=Y(oe);return B},_adjustParentBBoxes:function(V,O,z){for(var j=z;j>=0;j--)E(O[j],V)},_condense:function(V){for(var z,O=V.length-1;O>=0;O--)0===V[O].children.length?O>0?(z=V[O-1].children).splice(z.indexOf(V[O]),1):this.clear():b(V[O],this.toBBox)},_initFormat:function(V){var O=["return a"," - b",";"];this.compareMinX=new Function("a","b",O.join(V[0])),this.compareMinY=new Function("a","b",O.join(V[1])),this.toBBox=new Function("a","return {minX: a"+V[0]+", minY: a"+V[1]+", maxX: a"+V[2]+", maxY: a"+V[3]+"};")}}},4468:(Qe,fe,U)=>{"use strict";var P=U(9582).functionsHaveConfigurableNames(),D=Object,y=TypeError;Qe.exports=function(){if(null!=this&&this!==D(this))throw new y("RegExp.prototype.flags getter called on non-object");var w="";return this.hasIndices&&(w+="d"),this.global&&(w+="g"),this.ignoreCase&&(w+="i"),this.multiline&&(w+="m"),this.dotAll&&(w+="s"),this.unicode&&(w+="u"),this.unicodeSets&&(w+="v"),this.sticky&&(w+="y"),w},P&&Object.defineProperty&&Object.defineProperty(Qe.exports,"name",{value:"get flags"})},9235:(Qe,fe,U)=>{"use strict";var P=U(2358),D=U(5685),y=U(4468),b=U(6343),w=U(1956),E=D(b());P(E,{getPolyfill:b,implementation:y,shim:w}),Qe.exports=E},6343:(Qe,fe,U)=>{"use strict";var P=U(4468),D=U(2358).supportsDescriptors,y=Object.getOwnPropertyDescriptor;Qe.exports=function(){if(D&&"gim"===/a/gim.flags){var w=y(RegExp.prototype,"flags");if(w&&"function"==typeof w.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var E="",I={};if(Object.defineProperty(I,"hasIndices",{get:function(){E+="d"}}),Object.defineProperty(I,"sticky",{get:function(){E+="y"}}),"dy"===E)return w.get}}return P}},1956:(Qe,fe,U)=>{"use strict";var P=U(2358).supportsDescriptors,D=U(6343),y=Object.getOwnPropertyDescriptor,b=Object.defineProperty,w=TypeError,E=Object.getPrototypeOf,I=/a/;Qe.exports=function(){if(!P||!E)throw new w("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var R=D(),Y=E(I),$=y(Y,"flags");return(!$||$.get!==R)&&b(Y,"flags",{configurable:!0,enumerable:!1,get:R}),R}},8212:(Qe,fe,U)=>{"use strict";var P=U(3294),D=U(2903),y=U(4060),b=U(3217);function R(z,j,k,K){return function(B,ie,ee){var ce=z(z(j(ie[1],ee[0]),j(-ee[1],ie[0])),z(j(B[1],ie[0]),j(-ie[1],B[0]))),te=z(j(B[1],ee[0]),j(-ee[1],B[0])),Le=K(ce,te);return Le[Le.length-1]}}function Y(z,j,k,K){return function(B,ie,ee,ce){var te=z(z(k(z(j(ee[1],ce[0]),j(-ce[1],ee[0])),ie[2]),z(k(z(j(ie[1],ce[0]),j(-ce[1],ie[0])),-ee[2]),k(z(j(ie[1],ee[0]),j(-ee[1],ie[0])),ce[2]))),z(k(z(j(ie[1],ce[0]),j(-ce[1],ie[0])),B[2]),z(k(z(j(B[1],ce[0]),j(-ce[1],B[0])),-ie[2]),k(z(j(B[1],ie[0]),j(-ie[1],B[0])),ce[2])))),Le=z(z(k(z(j(ee[1],ce[0]),j(-ce[1],ee[0])),B[2]),z(k(z(j(B[1],ce[0]),j(-ce[1],B[0])),-ee[2]),k(z(j(B[1],ee[0]),j(-ee[1],B[0])),ce[2]))),z(k(z(j(ie[1],ee[0]),j(-ee[1],ie[0])),B[2]),z(k(z(j(B[1],ee[0]),j(-ee[1],B[0])),-ie[2]),k(z(j(B[1],ie[0]),j(-ie[1],B[0])),ee[2])))),Pe=K(te,Le);return Pe[Pe.length-1]}}function $(z,j,k,K){return function(B,ie,ee,ce,te){var Le=z(z(z(k(z(k(z(j(ce[1],te[0]),j(-te[1],ce[0])),ee[2]),z(k(z(j(ee[1],te[0]),j(-te[1],ee[0])),-ce[2]),k(z(j(ee[1],ce[0]),j(-ce[1],ee[0])),te[2]))),ie[3]),z(k(z(k(z(j(ce[1],te[0]),j(-te[1],ce[0])),ie[2]),z(k(z(j(ie[1],te[0]),j(-te[1],ie[0])),-ce[2]),k(z(j(ie[1],ce[0]),j(-ce[1],ie[0])),te[2]))),-ee[3]),k(z(k(z(j(ee[1],te[0]),j(-te[1],ee[0])),ie[2]),z(k(z(j(ie[1],te[0]),j(-te[1],ie[0])),-ee[2]),k(z(j(ie[1],ee[0]),j(-ee[1],ie[0])),te[2]))),ce[3]))),z(k(z(k(z(j(ee[1],ce[0]),j(-ce[1],ee[0])),ie[2]),z(k(z(j(ie[1],ce[0]),j(-ce[1],ie[0])),-ee[2]),k(z(j(ie[1],ee[0]),j(-ee[1],ie[0])),ce[2]))),-te[3]),z(k(z(k(z(j(ce[1],te[0]),j(-te[1],ce[0])),ie[2]),z(k(z(j(ie[1],te[0]),j(-te[1],ie[0])),-ce[2]),k(z(j(ie[1],ce[0]),j(-ce[1],ie[0])),te[2]))),B[3]),k(z(k(z(j(ce[1],te[0]),j(-te[1],ce[0])),B[2]),z(k(z(j(B[1],te[0]),j(-te[1],B[0])),-ce[2]),k(z(j(B[1],ce[0]),j(-ce[1],B[0])),te[2]))),-ie[3])))),z(z(k(z(k(z(j(ie[1],te[0]),j(-te[1],ie[0])),B[2]),z(k(z(j(B[1],te[0]),j(-te[1],B[0])),-ie[2]),k(z(j(B[1],ie[0]),j(-ie[1],B[0])),te[2]))),ce[3]),z(k(z(k(z(j(ie[1],ce[0]),j(-ce[1],ie[0])),B[2]),z(k(z(j(B[1],ce[0]),j(-ce[1],B[0])),-ie[2]),k(z(j(B[1],ie[0]),j(-ie[1],B[0])),ce[2]))),-te[3]),k(z(k(z(j(ee[1],ce[0]),j(-ce[1],ee[0])),ie[2]),z(k(z(j(ie[1],ce[0]),j(-ce[1],ie[0])),-ee[2]),k(z(j(ie[1],ee[0]),j(-ee[1],ie[0])),ce[2]))),B[3]))),z(k(z(k(z(j(ee[1],ce[0]),j(-ce[1],ee[0])),B[2]),z(k(z(j(B[1],ce[0]),j(-ce[1],B[0])),-ee[2]),k(z(j(B[1],ee[0]),j(-ee[1],B[0])),ce[2]))),-ie[3]),z(k(z(k(z(j(ie[1],ce[0]),j(-ce[1],ie[0])),B[2]),z(k(z(j(B[1],ce[0]),j(-ce[1],B[0])),-ie[2]),k(z(j(B[1],ie[0]),j(-ie[1],B[0])),ce[2]))),ee[3]),k(z(k(z(j(ie[1],ee[0]),j(-ee[1],ie[0])),B[2]),z(k(z(j(B[1],ee[0]),j(-ee[1],B[0])),-ie[2]),k(z(j(B[1],ie[0]),j(-ie[1],B[0])),ee[2]))),-ce[3]))))),Pe=z(z(z(k(z(k(z(j(ce[1],te[0]),j(-te[1],ce[0])),ee[2]),z(k(z(j(ee[1],te[0]),j(-te[1],ee[0])),-ce[2]),k(z(j(ee[1],ce[0]),j(-ce[1],ee[0])),te[2]))),B[3]),k(z(k(z(j(ce[1],te[0]),j(-te[1],ce[0])),B[2]),z(k(z(j(B[1],te[0]),j(-te[1],B[0])),-ce[2]),k(z(j(B[1],ce[0]),j(-ce[1],B[0])),te[2]))),-ee[3])),z(k(z(k(z(j(ee[1],te[0]),j(-te[1],ee[0])),B[2]),z(k(z(j(B[1],te[0]),j(-te[1],B[0])),-ee[2]),k(z(j(B[1],ee[0]),j(-ee[1],B[0])),te[2]))),ce[3]),k(z(k(z(j(ee[1],ce[0]),j(-ce[1],ee[0])),B[2]),z(k(z(j(B[1],ce[0]),j(-ce[1],B[0])),-ee[2]),k(z(j(B[1],ee[0]),j(-ee[1],B[0])),ce[2]))),-te[3]))),z(z(k(z(k(z(j(ee[1],te[0]),j(-te[1],ee[0])),ie[2]),z(k(z(j(ie[1],te[0]),j(-te[1],ie[0])),-ee[2]),k(z(j(ie[1],ee[0]),j(-ee[1],ie[0])),te[2]))),B[3]),k(z(k(z(j(ee[1],te[0]),j(-te[1],ee[0])),B[2]),z(k(z(j(B[1],te[0]),j(-te[1],B[0])),-ee[2]),k(z(j(B[1],ee[0]),j(-ee[1],B[0])),te[2]))),-ie[3])),z(k(z(k(z(j(ie[1],te[0]),j(-te[1],ie[0])),B[2]),z(k(z(j(B[1],te[0]),j(-te[1],B[0])),-ie[2]),k(z(j(B[1],ie[0]),j(-ie[1],B[0])),te[2]))),ee[3]),k(z(k(z(j(ie[1],ee[0]),j(-ee[1],ie[0])),B[2]),z(k(z(j(B[1],ee[0]),j(-ee[1],B[0])),-ie[2]),k(z(j(B[1],ie[0]),j(-ie[1],B[0])),ee[2]))),-te[3])))),ve=K(Le,Pe);return ve[ve.length-1]}}function J(z){return(3===z?R:4===z?Y:$)(D,P,y,b)}var G=J(3),ne=J(4),N=[function(){return 0},function(){return 0},function(j,k){return k[0]-j[0]},function(j,k,K){var ee,oe=(j[1]-K[1])*(k[0]-K[0]),B=(j[0]-K[0])*(k[1]-K[1]),ie=oe-B;if(oe>0){if(B<=0)return ie;ee=oe+B}else{if(!(oe<0))return ie;if(B>=0)return ie;ee=-(oe+B)}var ce=33306690738754716e-32*ee;return ie>=ce||ie<=-ce?ie:G(j,k,K)},function(j,k,K,oe){var B=j[0]-oe[0],ie=k[0]-oe[0],ee=K[0]-oe[0],ce=j[1]-oe[1],te=k[1]-oe[1],Le=K[1]-oe[1],Pe=j[2]-oe[2],ve=k[2]-oe[2],xe=K[2]-oe[2],ye=ie*Le,de=ee*te,he=ee*ce,ae=B*Le,Ie=B*te,me=ie*ce,Ae=Pe*(ye-de)+ve*(he-ae)+xe*(Ie-me),Ge=7771561172376103e-31*((Math.abs(ye)+Math.abs(de))*Math.abs(Pe)+(Math.abs(he)+Math.abs(ae))*Math.abs(ve)+(Math.abs(Ie)+Math.abs(me))*Math.abs(xe));return Ae>Ge||-Ae>Ge?Ae:ne(j,k,K,oe)}];function T(z){var j=N[z.length];return j||(j=N[z.length]=J(z.length)),j.apply(void 0,z)}function V(z,j,k,K,oe,B,ie){return function(ce,te,Le,Pe,ve){switch(arguments.length){case 0:case 1:return 0;case 2:return K(ce,te);case 3:return oe(ce,te,Le);case 4:return B(ce,te,Le,Pe);case 5:return ie(ce,te,Le,Pe,ve)}for(var xe=new Array(arguments.length),ye=0;ye<arguments.length;++ye)xe[ye]=arguments[ye];return z(xe)}}!function O(){for(;N.length<=5;)N.push(J(N.length));Qe.exports=V.apply(void 0,[T].concat(N));for(var z=0;z<=5;++z)Qe.exports[z]=N[z]}()},5077:(Qe,fe,U)=>{Qe.exports=function D(y,b){for(var w=b[0],E=b[1],I=y.length,M=1,R=I,Y=0,$=I-1;Y<R;$=Y++){var J=y[Y],G=y[$],ne=J[1],N=G[1];if(N<ne){if(N<E&&E<ne){if(0===(T=P(J,G,b)))return 0;M^=0<T|0}else if(E===ne&&ne<y[(Y+1)%I][1]){if(0===(T=P(J,G,b)))return 0;M^=0<T|0}}else if(ne<N){if(ne<E&&E<N){if(0===(T=P(J,G,b)))return 0;M^=T<0|0}else if(E===ne&&y[(Y+1)%I][1]<ne){var T;if(0===(T=P(J,G,b)))return 0;M^=T<0|0}}else if(E===ne){var z=Math.min(J[0],G[0]),j=Math.max(J[0],G[0]);if(0===Y){for(;$>0;){var k=($+I-1)%I;if((K=y[k])[1]!==E)break;var oe=K[0];z=Math.min(z,oe),j=Math.max(j,oe),$=k}if(0===$)return z<=w&&w<=j?0:1;R=$+1}for(var B=y[($+I-1)%I][1];Y+1<R;){var K;if((K=y[Y+1])[1]!==E)break;oe=K[0],z=Math.min(z,oe),j=Math.max(j,oe),Y+=1}if(z<=w&&w<=j)return 0;w<z&&B<E!=y[(Y+1)%I][1]<E&&(M^=1)}}return 2*M-1};var P=U(8212)},7563:function(Qe,fe){!function(U){"use strict";function y(G,ne,N,T,V){let O,z,j,k,K=ne[0],oe=T[0],B=0,ie=0;oe>K==oe>-K?(O=K,K=ne[++B]):(O=oe,oe=T[++ie]);let ee=0;if(B<G&&ie<N)for(oe>K==oe>-K?(j=O-((z=K+O)-K),K=ne[++B]):(j=O-((z=oe+O)-oe),oe=T[++ie]),O=z,0!==j&&(V[ee++]=j);B<G&&ie<N;)oe>K==oe>-K?(j=O-((z=O+K)-(k=z-O))+(K-k),K=ne[++B]):(j=O-((z=O+oe)-(k=z-O))+(oe-k),oe=T[++ie]),O=z,0!==j&&(V[ee++]=j);for(;B<G;)j=O-((z=O+K)-(k=z-O))+(K-k),K=ne[++B],O=z,0!==j&&(V[ee++]=j);for(;ie<N;)j=O-((z=O+oe)-(k=z-O))+(oe-k),oe=T[++ie],O=z,0!==j&&(V[ee++]=j);return 0===O&&0!==ee||(V[ee++]=O),ee}function b(G){return new Float64Array(G)}const M=b(4),R=b(8),Y=b(12),$=b(16),J=b(4);U.orient2d=function(G,ne,N,T,V,O){const z=(ne-O)*(N-V),j=(G-V)*(T-O),k=z-j;if(0===z||0===j||z>0!=j>0)return k;const K=Math.abs(z+j);return Math.abs(k)>=33306690738754716e-32*K?k:-function(oe,B,ie,ee,ce,te,Le){let Pe,ve,xe,ye,de,he,ae,Ie,me,Ae,ze,Ge,Ke,X,re,_e,He,Fe;const Ye=oe-ce,ft=ie-ce,ht=B-te,Ct=ee-te;de=(re=(Ie=Ye-(ae=(he=134217729*Ye)-(he-Ye)))*(Ae=Ct-(me=(he=134217729*Ct)-(he-Ct)))-((X=Ye*Ct)-ae*me-Ie*me-ae*Ae))-(ze=re-(He=(Ie=ht-(ae=(he=134217729*ht)-(he-ht)))*(Ae=ft-(me=(he=134217729*ft)-(he-ft)))-((_e=ht*ft)-ae*me-Ie*me-ae*Ae))),M[0]=re-(ze+de)+(de-He),de=(Ke=X-((Ge=X+ze)-(de=Ge-X))+(ze-de))-(ze=Ke-_e),M[1]=Ke-(ze+de)+(de-_e),de=(Fe=Ge+ze)-Ge,M[2]=Ge-(Fe-de)+(ze-de),M[3]=Fe;let $e=function(Re,Ve){let Ue=Ve[0];for(let Je=1;Je<4;Je++)Ue+=Ve[Je];return Ue}(0,M),we=22204460492503146e-32*Le;if($e>=we||-$e>=we||(Pe=oe-(Ye+(de=oe-Ye))+(de-ce),xe=ie-(ft+(de=ie-ft))+(de-ce),ve=B-(ht+(de=B-ht))+(de-te),ye=ee-(Ct+(de=ee-Ct))+(de-te),0===Pe&&0===ve&&0===xe&&0===ye)||(we=11093356479670487e-47*Le+33306690738754706e-32*Math.abs($e),($e+=Ye*ye+Ct*Pe-(ht*xe+ft*ve))>=we||-$e>=we))return $e;de=(re=(Ie=Pe-(ae=(he=134217729*Pe)-(he-Pe)))*(Ae=Ct-(me=(he=134217729*Ct)-(he-Ct)))-((X=Pe*Ct)-ae*me-Ie*me-ae*Ae))-(ze=re-(He=(Ie=ve-(ae=(he=134217729*ve)-(he-ve)))*(Ae=ft-(me=(he=134217729*ft)-(he-ft)))-((_e=ve*ft)-ae*me-Ie*me-ae*Ae))),J[0]=re-(ze+de)+(de-He),de=(Ke=X-((Ge=X+ze)-(de=Ge-X))+(ze-de))-(ze=Ke-_e),J[1]=Ke-(ze+de)+(de-_e),de=(Fe=Ge+ze)-Ge,J[2]=Ge-(Fe-de)+(ze-de),J[3]=Fe;const Me=y(4,M,4,J,R);de=(re=(Ie=Ye-(ae=(he=134217729*Ye)-(he-Ye)))*(Ae=ye-(me=(he=134217729*ye)-(he-ye)))-((X=Ye*ye)-ae*me-Ie*me-ae*Ae))-(ze=re-(He=(Ie=ht-(ae=(he=134217729*ht)-(he-ht)))*(Ae=xe-(me=(he=134217729*xe)-(he-xe)))-((_e=ht*xe)-ae*me-Ie*me-ae*Ae))),J[0]=re-(ze+de)+(de-He),de=(Ke=X-((Ge=X+ze)-(de=Ge-X))+(ze-de))-(ze=Ke-_e),J[1]=Ke-(ze+de)+(de-_e),de=(Fe=Ge+ze)-Ge,J[2]=Ge-(Fe-de)+(ze-de),J[3]=Fe;const be=y(Me,R,4,J,Y);de=(re=(Ie=Pe-(ae=(he=134217729*Pe)-(he-Pe)))*(Ae=ye-(me=(he=134217729*ye)-(he-ye)))-((X=Pe*ye)-ae*me-Ie*me-ae*Ae))-(ze=re-(He=(Ie=ve-(ae=(he=134217729*ve)-(he-ve)))*(Ae=xe-(me=(he=134217729*xe)-(he-xe)))-((_e=ve*xe)-ae*me-Ie*me-ae*Ae))),J[0]=re-(ze+de)+(de-He),de=(Ke=X-((Ge=X+ze)-(de=Ge-X))+(ze-de))-(ze=Ke-_e),J[1]=Ke-(ze+de)+(de-_e),de=(Fe=Ge+ze)-Ge,J[2]=Ge-(Fe-de)+(ze-de),J[3]=Fe;const Ne=y(be,Y,4,J,$);return $[Ne-1]}(G,ne,N,T,V,O,K)},U.orient2dfast=function(G,ne,N,T,V,O){return(ne-O)*(N-V)-(G-V)*(T-O)},Object.defineProperty(U,"__esModule",{value:!0})}(fe)},4060:(Qe,fe,U)=>{"use strict";var P=U(3294),D=U(7448);Qe.exports=function y(b,w){var E=b.length;if(1===E){var I=P(b[0],w);return I[0]?I:[I[1]]}var M=new Array(2*E),R=[.1,.1],Y=[.1,.1],$=0;P(b[0],w,R),R[0]&&(M[$++]=R[0]);for(var J=1;J<E;++J){P(b[J],w,Y),D(R[1],Y[0],R),R[0]&&(M[$++]=R[0]);var ne=Y[1],N=R[1],T=ne+N,O=N-(T-ne);R[1]=T,O&&(M[$++]=O)}return R[1]&&(M[$++]=R[1]),0===$&&(M[$++]=0),M.length=$,M}},3217:Qe=>{"use strict";Qe.exports=function U(P,D){var y=0|P.length,b=0|D.length;if(1===y&&1===b)return function fe(P,D){var y=P+D,b=y-P,M=P-(y-b)+(D-b);return M?[M,y]:[y]}(P[0],-D[0]);var N,T,E=new Array(y+b),I=0,M=0,R=0,Y=Math.abs,$=P[M],J=Y($),G=-D[R],ne=Y(G);J<ne?(T=$,(M+=1)<y&&(J=Y($=P[M]))):(T=G,(R+=1)<b&&(ne=Y(G=-D[R]))),M<y&&J<ne||R>=b?(N=$,(M+=1)<y&&(J=Y($=P[M]))):(N=G,(R+=1)<b&&(ne=Y(G=-D[R])));for(var K,oe,V=N+T,O=V-N,z=T-O,j=z,k=V;M<y&&R<b;)J<ne?(N=$,(M+=1)<y&&(J=Y($=P[M]))):(N=G,(R+=1)<b&&(ne=Y(G=-D[R]))),(z=(T=j)-(O=(V=N+T)-N))&&(E[I++]=z),j=k-((K=k+V)-(oe=K-k))+(V-oe),k=K;for(;M<y;)(z=(T=j)-(O=(V=(N=$)+T)-N))&&(E[I++]=z),j=k-((K=k+V)-(oe=K-k))+(V-oe),k=K,(M+=1)<y&&($=P[M]);for(;R<b;)(z=(T=j)-(O=(V=(N=G)+T)-N))&&(E[I++]=z),j=k-((K=k+V)-(oe=K-k))+(V-oe),k=K,(R+=1)<b&&(G=-D[R]);return j&&(E[I++]=j),k&&(E[I++]=k),I||(E[I++]=0),E.length=I,E}},2903:Qe=>{"use strict";Qe.exports=function U(P,D){var y=0|P.length,b=0|D.length;if(1===y&&1===b)return function fe(P,D){var y=P+D,b=y-P,M=P-(y-b)+(D-b);return M?[M,y]:[y]}(P[0],D[0]);var N,T,E=new Array(y+b),I=0,M=0,R=0,Y=Math.abs,$=P[M],J=Y($),G=D[R],ne=Y(G);J<ne?(T=$,(M+=1)<y&&(J=Y($=P[M]))):(T=G,(R+=1)<b&&(ne=Y(G=D[R]))),M<y&&J<ne||R>=b?(N=$,(M+=1)<y&&(J=Y($=P[M]))):(N=G,(R+=1)<b&&(ne=Y(G=D[R])));for(var K,oe,V=N+T,O=V-N,z=T-O,j=z,k=V;M<y&&R<b;)J<ne?(N=$,(M+=1)<y&&(J=Y($=P[M]))):(N=G,(R+=1)<b&&(ne=Y(G=D[R]))),(z=(T=j)-(O=(V=N+T)-N))&&(E[I++]=z),j=k-((K=k+V)-(oe=K-k))+(V-oe),k=K;for(;M<y;)(z=(T=j)-(O=(V=(N=$)+T)-N))&&(E[I++]=z),j=k-((K=k+V)-(oe=K-k))+(V-oe),k=K,(M+=1)<y&&($=P[M]);for(;R<b;)(z=(T=j)-(O=(V=(N=G)+T)-N))&&(E[I++]=z),j=k-((K=k+V)-(oe=K-k))+(V-oe),k=K,(R+=1)<b&&(G=D[R]);return j&&(E[I++]=j),k&&(E[I++]=k),I||(E[I++]=0),E.length=I,E}},8012:function(Qe,fe,U){!function(P){"use strict";var D={};Qe.exports?(D.bytesToHex=U(6128).bytesToHex,D.convertString=U(5612),Qe.exports=M):(D.bytesToHex=P.convertHex.bytesToHex,D.convertString=P.convertString,P.sha256=M);var y=[];!function(){function R(G){for(var ne=Math.sqrt(G),N=2;N<=ne;N++)if(!(G%N))return!1;return!0}for(var $=2,J=0;J<64;)R($)&&(y[J]=4294967296*((G=Math.pow($,1/3))-(0|G))|0,J++),$++;var G}();var b=function(R){for(var Y=[],$=0,J=0;$<R.length;$++,J+=8)Y[J>>>5]|=R[$]<<24-J%32;return Y},w=function(R){for(var Y=[],$=0;$<32*R.length;$+=8)Y.push(R[$>>>5]>>>24-$%32&255);return Y},E=[],I=function(R,Y,$){for(var J=R[0],G=R[1],ne=R[2],N=R[3],T=R[4],V=R[5],O=R[6],z=R[7],j=0;j<64;j++){if(j<16)E[j]=0|Y[$+j];else{var k=E[j-15],oe=E[j-2];E[j]=((k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3)+E[j-7]+((oe<<15|oe>>>17)^(oe<<13|oe>>>19)^oe>>>10)+E[j-16]}var ee=J&G^J&ne^G&ne,Le=z+((T<<26|T>>>6)^(T<<21|T>>>11)^(T<<7|T>>>25))+(T&V^~T&O)+y[j]+E[j];z=O,O=V,V=T,T=N+Le|0,N=ne,ne=G,G=J,J=Le+(((J<<30|J>>>2)^(J<<19|J>>>13)^(J<<10|J>>>22))+ee)|0}R[0]=R[0]+J|0,R[1]=R[1]+G|0,R[2]=R[2]+ne|0,R[3]=R[3]+N|0,R[4]=R[4]+T|0,R[5]=R[5]+V|0,R[6]=R[6]+O|0,R[7]=R[7]+z|0};function M(R,Y){R.constructor===String&&(R=D.convertString.UTF8.stringToBytes(R));var $=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],J=b(R),G=8*R.length;J[G>>5]|=128<<24-G%32,J[15+(G+64>>9<<4)]=G;for(var ne=0;ne<J.length;ne+=16)I($,J,ne);var N=w($);return Y&&Y.asBytes?N:Y&&Y.asString?D.convertString.bytesToString(N):D.bytesToHex(N)}M.x2=function(R,Y){return M(M(R,{asBytes:!0}),Y)}}(this)},7253:(Qe,fe,U)=>{"use strict";U.r(fe),U.d(fe,{default:()=>P});class P{constructor(b=[],w=D){if(this.data=b,this.length=this.data.length,this.compare=w,this.length>0)for(let E=(this.length>>1)-1;E>=0;E--)this._down(E)}push(b){this.data.push(b),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const b=this.data[0],w=this.data.pop();return this.length--,this.length>0&&(this.data[0]=w,this._down(0)),b}peek(){return this.data[0]}_up(b){const{data:w,compare:E}=this,I=w[b];for(;b>0;){const M=b-1>>1,R=w[M];if(E(I,R)>=0)break;w[b]=R,b=M}w[b]=I}_down(b){const{data:w,compare:E}=this,I=this.length>>1,M=w[b];for(;b<I;){let R=1+(b<<1),Y=w[R];const $=R+1;if($<this.length&&E(w[$],Y)<0&&(R=$,Y=w[$]),E(Y,M)>=0)break;w[b]=Y,b=R}w[b]=M}}function D(y,b){return y<b?-1:y>b?1:0}},770:function(Qe,fe){!function(U){"use strict";function P(){}function D(s){this.message=s||""}function y(s){this.message=s||""}function b(s){this.message=s||""}function w(){}function E(s){return null===s?Ji:s.color}function I(s){return null===s?null:s.parent}function M(s,c){null!==s&&(s.color=c)}function R(s){return null===s?null:s.left}function Y(s){return null===s?null:s.right}function $(){this.root_=null,this.size_=0}function J(){}function G(){this.array_=[],arguments[0]instanceof Gr&&this.addAll(arguments[0])}function ne(){}function N(s){this.message=s||""}function T(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(s){if(null==this)throw new TypeError(this+" is not an object");var c=Object(this),h=Math.max(Math.min(c.length,9007199254740991),0)||0,p=1 in arguments&&parseInt(Number(arguments[1]),10)||0;p=p<0?Math.max(h+p,0):Math.min(p,h);var v=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:h;for(v=v<0?Math.max(h+arguments[2],0):Math.min(v,h);p<v;)c[p]=s,++p;return c},writable:!0}),Number.isFinite=Number.isFinite||function(s){return"number"==typeof s&&isFinite(s)},Number.isInteger=Number.isInteger||function(s){return"number"==typeof s&&isFinite(s)&&Math.floor(s)===s},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(s){return s!=s},Math.trunc=Math.trunc||function(s){return s<0?Math.ceil(s):Math.floor(s)};var V=function(){};V.prototype.interfaces_=function(){return[]},V.prototype.getClass=function(){return V},V.prototype.equalsWithTolerance=function(s,c,h){return Math.abs(s-c)<=h};var O=function(s){function c(h){s.call(this,h),this.name="IllegalArgumentException",this.message=h,this.stack=(new s).stack}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c}(Error),z=function(){},j={MAX_VALUE:{configurable:!0}};z.isNaN=function(s){return Number.isNaN(s)},z.doubleToLongBits=function(s){return s},z.longBitsToDouble=function(s){return s},z.isInfinite=function(s){return!Number.isFinite(s)},j.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(z,j);var k=function(){},K=function(){},oe=function(){},B=function s(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=s.NULL_ORDINATE;else if(1===arguments.length){var c=arguments[0];this.x=c.x,this.y=c.y,this.z=c.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=s.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},ie={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};B.prototype.setOrdinate=function(s,c){switch(s){case B.X:this.x=c;break;case B.Y:this.y=c;break;case B.Z:this.z=c;break;default:throw new O("Invalid ordinate index: "+s)}},B.prototype.equals2D=function(){if(1===arguments.length){var s=arguments[0];return this.x===s.x&&this.y===s.y}if(2===arguments.length){var c=arguments[0],h=arguments[1];return!!V.equalsWithTolerance(this.x,c.x,h)&&!!V.equalsWithTolerance(this.y,c.y,h)}},B.prototype.getOrdinate=function(s){switch(s){case B.X:return this.x;case B.Y:return this.y;case B.Z:return this.z}throw new O("Invalid ordinate index: "+s)},B.prototype.equals3D=function(s){return this.x===s.x&&this.y===s.y&&(this.z===s.z||z.isNaN(this.z))&&z.isNaN(s.z)},B.prototype.equals=function(s){return s instanceof B&&this.equals2D(s)},B.prototype.equalInZ=function(s,c){return V.equalsWithTolerance(this.z,s.z,c)},B.prototype.compareTo=function(s){return this.x<s.x?-1:this.x>s.x?1:this.y<s.y?-1:this.y>s.y?1:0},B.prototype.clone=function(){},B.prototype.copy=function(){return new B(this)},B.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},B.prototype.distance3D=function(s){var c=this.x-s.x,h=this.y-s.y,p=this.z-s.z;return Math.sqrt(c*c+h*h+p*p)},B.prototype.distance=function(s){var c=this.x-s.x,h=this.y-s.y;return Math.sqrt(c*c+h*h)},B.prototype.hashCode=function(){var s=17;return 37*(s=37*s+B.hashCode(this.x))+B.hashCode(this.y)},B.prototype.setCoordinate=function(s){this.x=s.x,this.y=s.y,this.z=s.z},B.prototype.interfaces_=function(){return[k,K,P]},B.prototype.getClass=function(){return B},B.hashCode=function(){if(1===arguments.length){var c=z.doubleToLongBits(arguments[0]);return Math.trunc((c^c)>>>32)}},ie.DimensionalComparator.get=function(){return ee},ie.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},ie.NULL_ORDINATE.get=function(){return z.NaN},ie.X.get=function(){return 0},ie.Y.get=function(){return 1},ie.Z.get=function(){return 2},Object.defineProperties(B,ie);var ee=function(s){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){var c=arguments[0];if(2!==c&&3!==c)throw new O("only 2 or 3 dimensions may be specified");this._dimensionsToTest=c}};ee.prototype.compare=function(s,c){var h=s,p=c,v=ee.compare(h.x,p.x);if(0!==v)return v;var H=ee.compare(h.y,p.y);return 0!==H?H:this._dimensionsToTest<=2?0:ee.compare(h.z,p.z)},ee.prototype.interfaces_=function(){return[oe]},ee.prototype.getClass=function(){return ee},ee.compare=function(s,c){return s<c?-1:s>c?1:z.isNaN(s)?z.isNaN(c)?0:-1:z.isNaN(c)?1:0};var ce=function(){};ce.prototype.create=function(){},ce.prototype.interfaces_=function(){return[]},ce.prototype.getClass=function(){return ce};var te=function(){},Le={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};te.prototype.interfaces_=function(){return[]},te.prototype.getClass=function(){return te},te.toLocationSymbol=function(s){switch(s){case te.EXTERIOR:return"e";case te.BOUNDARY:return"b";case te.INTERIOR:return"i";case te.NONE:return"-"}throw new O("Unknown location value: "+s)},Le.INTERIOR.get=function(){return 0},Le.BOUNDARY.get=function(){return 1},Le.EXTERIOR.get=function(){return 2},Le.NONE.get=function(){return-1},Object.defineProperties(te,Le);var Pe=function(s,c){return s.interfaces_&&s.interfaces_().indexOf(c)>-1},ve=function(){},xe={LOG_10:{configurable:!0}};ve.prototype.interfaces_=function(){return[]},ve.prototype.getClass=function(){return ve},ve.log10=function(s){var c=Math.log(s);return z.isInfinite(c)||z.isNaN(c)?c:c/ve.LOG_10},ve.min=function(s,c,h,p){var v=s;return c<v&&(v=c),h<v&&(v=h),p<v&&(v=p),v},ve.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var s=arguments[0],c=arguments[1],h=arguments[2];return s<c?c:s>h?h:s}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var p=arguments[0],v=arguments[1],H=arguments[2];return p<v?v:p>H?H:p}},ve.wrap=function(s,c){return s<0?c- -s%c:s%c},ve.max=function(){if(3===arguments.length){var c=arguments[1],h=arguments[2],p=arguments[0];return c>p&&(p=c),h>p&&(p=h),p}if(4===arguments.length){var H=arguments[1],q=arguments[2],le=arguments[3],De=arguments[0];return H>De&&(De=H),q>De&&(De=q),le>De&&(De=le),De}},ve.average=function(s,c){return(s+c)/2},xe.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(ve,xe);var ye=function(s){this.str=s};ye.prototype.append=function(s){this.str+=s},ye.prototype.setCharAt=function(s,c){this.str=this.str.substr(0,s)+c+this.str.substr(s+1)},ye.prototype.toString=function(s){return this.str};var de=function(s){this.value=s};de.prototype.intValue=function(){return this.value},de.prototype.compareTo=function(s){return this.value<s?-1:this.value>s?1:0},de.isNaN=function(s){return Number.isNaN(s)};var he=function(){};he.isWhitespace=function(s){return s<=32&&s>=0||127===s},he.toUpperCase=function(s){return s.toUpperCase()};var ae=function s(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof s?this.init(arguments[0]):"string"==typeof arguments[0]&&s.call(this,s.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},Ie={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};ae.prototype.le=function(s){return(this._hi<s._hi||this._hi===s._hi)&&this._lo<=s._lo},ae.prototype.extractSignificantDigits=function(s,c){var h=this.abs(),p=ae.magnitude(h._hi),v=ae.TEN.pow(p);(h=h.divide(v)).gt(ae.TEN)?(h=h.divide(ae.TEN),p+=1):h.lt(ae.ONE)&&(h=h.multiply(ae.TEN),p-=1);for(var H=p+1,q=new ye,le=ae.MAX_PRINT_DIGITS-1,De=0;De<=le;De++){s&&De===H&&q.append(".");var je=Math.trunc(h._hi);if(je<0)break;var rt=!1,ot=0;je>9?(rt=!0,ot="9"):ot="0"+je,q.append(ot),h=h.subtract(ae.valueOf(je)).multiply(ae.TEN),rt&&h.selfAdd(ae.TEN);var bt=!0,xt=ae.magnitude(h._hi);if(xt<0&&Math.abs(xt)>=le-De&&(bt=!1),!bt)break}return c[0]=p,q.toString()},ae.prototype.sqr=function(){return this.multiply(this)},ae.prototype.doubleValue=function(){return this._hi+this._lo},ae.prototype.subtract=function(){return arguments[0]instanceof ae?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},ae.prototype.equals=function(){if(1===arguments.length){var s=arguments[0];return this._hi===s._hi&&this._lo===s._lo}},ae.prototype.isZero=function(){return 0===this._hi&&0===this._lo},ae.prototype.selfSubtract=function(){if(arguments[0]instanceof ae){var s=arguments[0];return this.isNaN()?this:this.selfAdd(-s._hi,-s._lo)}if("number"==typeof arguments[0]){var c=arguments[0];return this.isNaN()?this:this.selfAdd(-c,0)}},ae.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},ae.prototype.min=function(s){return this.le(s)?this:s},ae.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof ae){var s=arguments[0];return this.selfDivide(s._hi,s._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var H,le,De,rt,h=arguments[0],v=null,q=null,je=null,ot=null;return this._hi=ot=(De=this._hi/h)+(je=(this._hi-(rt=De*h)-(ot=(v=(je=ae.SPLIT*De)-(v=je-De))*(q=(ot=ae.SPLIT*h)-(q=ot-h))-rt+v*(le=h-q)+(H=De-v)*q+H*le)+this._lo-De*arguments[1])/h),this._lo=De-ot+je,this}},ae.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},ae.prototype.divide=function(){if(arguments[0]instanceof ae){var h,v,H,le,s=arguments[0],c=null,p=null,q=null,De=null;return h=(H=this._hi/s._hi)-(c=(q=ae.SPLIT*H)-(c=q-H)),De=c*(p=(De=ae.SPLIT*s._hi)-(p=De-s._hi))-(le=H*s._hi)+c*(v=s._hi-p)+h*p+h*v,new ae(De=H+(q=(this._hi-le-De+this._lo-H*s._lo)/s._hi),H-De+q)}if("number"==typeof arguments[0]){var je=arguments[0];return z.isNaN(je)?ae.createNaN():ae.copy(this).selfDivide(je,0)}},ae.prototype.ge=function(s){return(this._hi>s._hi||this._hi===s._hi)&&this._lo>=s._lo},ae.prototype.pow=function(s){if(0===s)return ae.valueOf(1);var c=new ae(this),h=ae.valueOf(1),p=Math.abs(s);if(p>1)for(;p>0;)p%2==1&&h.selfMultiply(c),(p/=2)>0&&(c=c.sqr());else h=c;return s<0?h.reciprocal():h},ae.prototype.ceil=function(){if(this.isNaN())return ae.NaN;var s=Math.ceil(this._hi),c=0;return s===this._hi&&(c=Math.ceil(this._lo)),new ae(s,c)},ae.prototype.compareTo=function(s){return this._hi<s._hi?-1:this._hi>s._hi?1:this._lo<s._lo?-1:this._lo>s._lo?1:0},ae.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},ae.prototype.setValue=function(){return arguments[0]instanceof ae||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},ae.prototype.max=function(s){return this.ge(s)?this:s},ae.prototype.sqrt=function(){if(this.isZero())return ae.valueOf(0);if(this.isNegative())return ae.NaN;var s=1/Math.sqrt(this._hi),h=ae.valueOf(this._hi*s),p=this.subtract(h.sqr())._hi*(.5*s);return h.add(p)},ae.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof ae){var s=arguments[0];return this.selfAdd(s._hi,s._lo)}if("number"==typeof arguments[0]){var h,p,v,q,le,c=arguments[0];return this._hi=(h=(v=this._hi+c)+(le=c-(q=v-this._hi)+(this._hi-(v-q))+this._lo))+(p=le+(v-h)),this._lo=p+(h-this._hi),this}}else if(2===arguments.length){var rt,ot,xt,ct,De=arguments[0],je=arguments[1],bt=null,kt=null,Zt=null;kt=(xt=this._hi+De)-(Zt=xt-this._hi),bt=(ot=this._lo+je)-(ct=ot-this._lo);var on=(rt=xt+(Zt=(kt=De-Zt+(this._hi-kt))+ot))+(Zt=(bt=je-ct+(this._lo-bt))+(Zt+(xt-rt))),Or=Zt+(rt-on);return this._hi=on,this._lo=Or,this}},ae.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof ae){var s=arguments[0];return this.selfMultiply(s._hi,s._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var H,le,h=arguments[0],v=null,q=null,De=null,je=null;v=(De=ae.SPLIT*this._hi)-this._hi,v=De-v;var rt=(De=this._hi*h)+(je=v*(q=(je=ae.SPLIT*h)-(q=je-h))-De+v*(le=h-q)+(H=this._hi-v)*q+H*le+(this._hi*arguments[1]+this._lo*h)),ot=je+(v=De-rt);return this._hi=rt,this._lo=ot,this}},ae.prototype.selfSqr=function(){return this.selfMultiply(this)},ae.prototype.floor=function(){if(this.isNaN())return ae.NaN;var s=Math.floor(this._hi),c=0;return s===this._hi&&(c=Math.floor(this._lo)),new ae(s,c)},ae.prototype.negate=function(){return this.isNaN()?this:new ae(-this._hi,-this._lo)},ae.prototype.clone=function(){},ae.prototype.multiply=function(){if(arguments[0]instanceof ae){var s=arguments[0];return s.isNaN()?ae.createNaN():ae.copy(this).selfMultiply(s)}if("number"==typeof arguments[0]){var c=arguments[0];return z.isNaN(c)?ae.createNaN():ae.copy(this).selfMultiply(c,0)}},ae.prototype.isNaN=function(){return z.isNaN(this._hi)},ae.prototype.intValue=function(){return Math.trunc(this._hi)},ae.prototype.toString=function(){var s=ae.magnitude(this._hi);return s>=-3&&s<=20?this.toStandardNotation():this.toSciNotation()},ae.prototype.toStandardNotation=function(){var s=this.getSpecialNumberString();if(null!==s)return s;var c=new Array(1).fill(null),h=this.extractSignificantDigits(!0,c),p=c[0]+1,v=h;return"."===h.charAt(0)?v="0"+h:p<0?v="0."+ae.stringOfChar("0",-p)+h:-1===h.indexOf(".")&&(v=h+ae.stringOfChar("0",p-h.length)+".0"),this.isNegative()?"-"+v:v},ae.prototype.reciprocal=function(){var c,p,v,q,s=null,h=null,H=null,le=null;c=(v=1/this._hi)-(s=(H=ae.SPLIT*v)-(s=H-v)),h=(le=ae.SPLIT*this._hi)-this._hi;var De=v+(H=(1-(q=v*this._hi)-(le=s*(h=le-h)-q+s*(p=this._hi-h)+c*h+c*p)-v*this._lo)/this._hi);return new ae(De,v-De+H)},ae.prototype.toSciNotation=function(){if(this.isZero())return ae.SCI_NOT_ZERO;var s=this.getSpecialNumberString();if(null!==s)return s;var c=new Array(1).fill(null),h=this.extractSignificantDigits(!1,c),p=ae.SCI_NOT_EXPONENT_CHAR+c[0];if("0"===h.charAt(0))throw new Error("Found leading zero: "+h);var v="";h.length>1&&(v=h.substring(1));var H=h.charAt(0)+"."+v;return this.isNegative()?"-"+H+p:H+p},ae.prototype.abs=function(){return this.isNaN()?ae.NaN:this.isNegative()?this.negate():new ae(this)},ae.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},ae.prototype.lt=function(s){return(this._hi<s._hi||this._hi===s._hi)&&this._lo<s._lo},ae.prototype.add=function(){if(arguments[0]instanceof ae){var s=arguments[0];return ae.copy(this).selfAdd(s)}if("number"==typeof arguments[0]){var c=arguments[0];return ae.copy(this).selfAdd(c)}},ae.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof ae){var c=arguments[0];this._hi=c._hi,this._lo=c._lo}}else if(2===arguments.length){var p=arguments[1];this._hi=arguments[0],this._lo=p}},ae.prototype.gt=function(s){return(this._hi>s._hi||this._hi===s._hi)&&this._lo>s._lo},ae.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},ae.prototype.trunc=function(){return this.isNaN()?ae.NaN:this.isPositive()?this.floor():this.ceil()},ae.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},ae.prototype.interfaces_=function(){return[P,k,K]},ae.prototype.getClass=function(){return ae},ae.sqr=function(s){return ae.valueOf(s).selfMultiply(s)},ae.valueOf=function(){return"string"==typeof arguments[0]?ae.parse(arguments[0]):"number"==typeof arguments[0]?new ae(arguments[0]):void 0},ae.sqrt=function(s){return ae.valueOf(s).sqrt()},ae.parse=function(s){for(var c=0,h=s.length;he.isWhitespace(s.charAt(c));)c++;var p=!1;if(c<h){var v=s.charAt(c);"-"!==v&&"+"!==v||(c++,"-"===v&&(p=!0))}for(var H=new ae,q=0,le=0,De=0;!(c>=h);){var je=s.charAt(c);if(c++,he.isDigit(je)){var rt=je-"0";H.selfMultiply(ae.TEN),H.selfAdd(rt),q++}else{if("."!==je){if("e"===je||"E"===je){var ot=s.substring(c);try{De=de.parseInt(ot)}catch(ct){throw ct instanceof Error?new Error("Invalid exponent "+ot+" in string "+s):ct}break}throw new Error("Unexpected character '"+je+"' at position "+c+" in string "+s)}le=q}}var bt=H,xt=q-le-De;if(0===xt)bt=H;else if(xt>0){var kt=ae.TEN.pow(xt);bt=H.divide(kt)}else if(xt<0){var Zt=ae.TEN.pow(-xt);bt=H.multiply(Zt)}return p?bt.negate():bt},ae.createNaN=function(){return new ae(z.NaN,z.NaN)},ae.copy=function(s){return new ae(s)},ae.magnitude=function(s){var c=Math.abs(s),h=Math.log(c)/Math.log(10),p=Math.trunc(Math.floor(h));return 10*Math.pow(10,p)<=c&&(p+=1),p},ae.stringOfChar=function(s,c){for(var h=new ye,p=0;p<c;p++)h.append(s);return h.toString()},Ie.PI.get=function(){return new ae(3.141592653589793,12246467991473532e-32)},Ie.TWO_PI.get=function(){return new ae(6.283185307179586,24492935982947064e-32)},Ie.PI_2.get=function(){return new ae(1.5707963267948966,6123233995736766e-32)},Ie.E.get=function(){return new ae(2.718281828459045,14456468917292502e-32)},Ie.NaN.get=function(){return new ae(z.NaN,z.NaN)},Ie.EPS.get=function(){return 123259516440783e-46},Ie.SPLIT.get=function(){return 134217729},Ie.MAX_PRINT_DIGITS.get=function(){return 32},Ie.TEN.get=function(){return ae.valueOf(10)},Ie.ONE.get=function(){return ae.valueOf(1)},Ie.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Ie.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(ae,Ie);var me=function(){},Ae={DP_SAFE_EPSILON:{configurable:!0}};me.prototype.interfaces_=function(){return[]},me.prototype.getClass=function(){return me},me.orientationIndex=function(s,c,h){var p=me.orientationIndexFilter(s,c,h);if(p<=1)return p;var v=ae.valueOf(c.x).selfAdd(-s.x),H=ae.valueOf(c.y).selfAdd(-s.y),q=ae.valueOf(h.x).selfAdd(-c.x),le=ae.valueOf(h.y).selfAdd(-c.y);return v.selfMultiply(le).selfSubtract(H.selfMultiply(q)).signum()},me.signOfDet2x2=function(s,c,h,p){return s.multiply(p).selfSubtract(c.multiply(h)).signum()},me.intersection=function(s,c,h,p){var v=ae.valueOf(p.y).selfSubtract(h.y).selfMultiply(ae.valueOf(c.x).selfSubtract(s.x)),H=ae.valueOf(p.x).selfSubtract(h.x).selfMultiply(ae.valueOf(c.y).selfSubtract(s.y)),q=v.subtract(H),le=ae.valueOf(p.x).selfSubtract(h.x).selfMultiply(ae.valueOf(s.y).selfSubtract(h.y)),De=ae.valueOf(p.y).selfSubtract(h.y).selfMultiply(ae.valueOf(s.x).selfSubtract(h.x)),je=le.subtract(De).selfDivide(q).doubleValue(),rt=ae.valueOf(s.x).selfAdd(ae.valueOf(c.x).selfSubtract(s.x).selfMultiply(je)).doubleValue(),ot=ae.valueOf(c.x).selfSubtract(s.x).selfMultiply(ae.valueOf(s.y).selfSubtract(h.y)),bt=ae.valueOf(c.y).selfSubtract(s.y).selfMultiply(ae.valueOf(s.x).selfSubtract(h.x)),xt=ot.subtract(bt).selfDivide(q).doubleValue(),kt=ae.valueOf(h.y).selfAdd(ae.valueOf(p.y).selfSubtract(h.y).selfMultiply(xt)).doubleValue();return new B(rt,kt)},me.orientationIndexFilter=function(s,c,h){var p=null,v=(s.x-h.x)*(c.y-h.y),H=(s.y-h.y)*(c.x-h.x),q=v-H;if(v>0){if(H<=0)return me.signum(q);p=v+H}else{if(!(v<0)||H>=0)return me.signum(q);p=-v-H}var le=me.DP_SAFE_EPSILON*p;return q>=le||-q>=le?me.signum(q):2},me.signum=function(s){return s>0?1:s<0?-1:0},Ae.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(me,Ae);var ze=function(){},Ge={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Ge.X.get=function(){return 0},Ge.Y.get=function(){return 1},Ge.Z.get=function(){return 2},Ge.M.get=function(){return 3},ze.prototype.setOrdinate=function(s,c,h){},ze.prototype.size=function(){},ze.prototype.getOrdinate=function(s,c){},ze.prototype.getCoordinate=function(){},ze.prototype.getCoordinateCopy=function(s){},ze.prototype.getDimension=function(){},ze.prototype.getX=function(s){},ze.prototype.clone=function(){},ze.prototype.expandEnvelope=function(s){},ze.prototype.copy=function(){},ze.prototype.getY=function(s){},ze.prototype.toCoordinateArray=function(){},ze.prototype.interfaces_=function(){return[K]},ze.prototype.getClass=function(){return ze},Object.defineProperties(ze,Ge);var Ke=function(){},X=function(s){function c(){s.call(this,"Projective point not representable on the Cartesian plane.")}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(Ke),re=function(){};re.arraycopy=function(s,c,h,p,v){for(var H=0,q=c;q<c+v;q++)h[p+H]=s[q],H++},re.getProperty=function(s){return{"line.separator":"\n"}[s]};var _e=function s(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var c=arguments[0];this.x=c.x,this.y=c.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var p=arguments[1];this.x=arguments[0],this.y=p,this.w=1}else if(arguments[0]instanceof s&&arguments[1]instanceof s){var v=arguments[0],H=arguments[1];this.x=v.y*H.w-H.y*v.w,this.y=H.x*v.w-v.x*H.w,this.w=v.x*H.y-H.x*v.y}else if(arguments[0]instanceof B&&arguments[1]instanceof B){var q=arguments[0],le=arguments[1];this.x=q.y-le.y,this.y=le.x-q.x,this.w=q.x*le.y-le.x*q.y}}else if(3===arguments.length){var je=arguments[1],rt=arguments[2];this.x=arguments[0],this.y=je,this.w=rt}else if(4===arguments.length){var ot=arguments[0],bt=arguments[1],xt=arguments[2],kt=arguments[3],Zt=ot.y-bt.y,ct=bt.x-ot.x,on=ot.x*bt.y-bt.x*ot.y,Or=xt.y-kt.y,Di=kt.x-xt.x,zi=xt.x*kt.y-kt.x*xt.y;this.x=ct*zi-Di*on,this.y=Or*on-Zt*zi,this.w=Zt*Di-Or*ct}};_e.prototype.getY=function(){var s=this.y/this.w;if(z.isNaN(s)||z.isInfinite(s))throw new X;return s},_e.prototype.getX=function(){var s=this.x/this.w;if(z.isNaN(s)||z.isInfinite(s))throw new X;return s},_e.prototype.getCoordinate=function(){var s=new B;return s.x=this.getX(),s.y=this.getY(),s},_e.prototype.interfaces_=function(){return[]},_e.prototype.getClass=function(){return _e},_e.intersection=function(s,c,h,p){var v=s.y-c.y,H=c.x-s.x,q=s.x*c.y-c.x*s.y,le=h.y-p.y,De=p.x-h.x,je=h.x*p.y-p.x*h.y,rt=v*De-le*H,ot=(H*je-De*q)/rt,bt=(le*q-v*je)/rt;if(z.isNaN(ot)||z.isInfinite(ot)||z.isNaN(bt)||z.isInfinite(bt))throw new X;return new B(ot,bt)};var He=function s(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof B){var c=arguments[0];this.init(c.x,c.x,c.y,c.y)}else arguments[0]instanceof s&&this.init(arguments[0]);else if(2===arguments.length){var p=arguments[0],v=arguments[1];this.init(p.x,v.x,p.y,v.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},Fe={serialVersionUID:{configurable:!0}};He.prototype.getArea=function(){return this.getWidth()*this.getHeight()},He.prototype.equals=function(s){if(!(s instanceof He))return!1;var c=s;return this.isNull()?c.isNull():this._maxx===c.getMaxX()&&this._maxy===c.getMaxY()&&this._minx===c.getMinX()&&this._miny===c.getMinY()},He.prototype.intersection=function(s){return this.isNull()||s.isNull()||!this.intersects(s)?new He:new He(this._minx>s._minx?this._minx:s._minx,this._maxx<s._maxx?this._maxx:s._maxx,this._miny>s._miny?this._miny:s._miny,this._maxy<s._maxy?this._maxy:s._maxy)},He.prototype.isNull=function(){return this._maxx<this._minx},He.prototype.getMaxX=function(){return this._maxx},He.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof B){var s=arguments[0];return this.covers(s.x,s.y)}if(arguments[0]instanceof He){var c=arguments[0];return!this.isNull()&&!c.isNull()&&c.getMinX()>=this._minx&&c.getMaxX()<=this._maxx&&c.getMinY()>=this._miny&&c.getMaxY()<=this._maxy}}else if(2===arguments.length){var h=arguments[0],p=arguments[1];return!this.isNull()&&h>=this._minx&&h<=this._maxx&&p>=this._miny&&p<=this._maxy}},He.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof He){var s=arguments[0];return!this.isNull()&&!s.isNull()&&!(s._minx>this._maxx||s._maxx<this._minx||s._miny>this._maxy||s._maxy<this._miny)}if(arguments[0]instanceof B){var c=arguments[0];return this.intersects(c.x,c.y)}}else if(2===arguments.length){var h=arguments[0],p=arguments[1];return!this.isNull()&&!(h>this._maxx||h<this._minx||p>this._maxy||p<this._miny)}},He.prototype.getMinY=function(){return this._miny},He.prototype.getMinX=function(){return this._minx},He.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof B){var s=arguments[0];this.expandToInclude(s.x,s.y)}else if(arguments[0]instanceof He){var c=arguments[0];if(c.isNull())return null;this.isNull()?(this._minx=c.getMinX(),this._maxx=c.getMaxX(),this._miny=c.getMinY(),this._maxy=c.getMaxY()):(c._minx<this._minx&&(this._minx=c._minx),c._maxx>this._maxx&&(this._maxx=c._maxx),c._miny<this._miny&&(this._miny=c._miny),c._maxy>this._maxy&&(this._maxy=c._maxy))}}else if(2===arguments.length){var h=arguments[0],p=arguments[1];this.isNull()?(this._minx=h,this._maxx=h,this._miny=p,this._maxy=p):(h<this._minx&&(this._minx=h),h>this._maxx&&(this._maxx=h),p<this._miny&&(this._miny=p),p>this._maxy&&(this._maxy=p))}},He.prototype.minExtent=function(){if(this.isNull())return 0;var s=this.getWidth(),c=this.getHeight();return s<c?s:c},He.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},He.prototype.compareTo=function(s){var c=s;return this.isNull()?c.isNull()?0:-1:c.isNull()?1:this._minx<c._minx?-1:this._minx>c._minx?1:this._miny<c._miny?-1:this._miny>c._miny?1:this._maxx<c._maxx?-1:this._maxx>c._maxx?1:this._maxy<c._maxy?-1:this._maxy>c._maxy?1:0},He.prototype.translate=function(s,c){if(this.isNull())return null;this.init(this.getMinX()+s,this.getMaxX()+s,this.getMinY()+c,this.getMaxY()+c)},He.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},He.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},He.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},He.prototype.maxExtent=function(){if(this.isNull())return 0;var s=this.getWidth(),c=this.getHeight();return s>c?s:c},He.prototype.expandBy=function(){if(1===arguments.length){var s=arguments[0];this.expandBy(s,s)}else if(2===arguments.length){var c=arguments[0],h=arguments[1];if(this.isNull())return null;this._minx-=c,this._maxx+=c,this._miny-=h,this._maxy+=h,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},He.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof He)return this.covers(arguments[0]);if(arguments[0]instanceof B)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},He.prototype.centre=function(){return this.isNull()?null:new B((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},He.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof B){var s=arguments[0];this.init(s.x,s.x,s.y,s.y)}else if(arguments[0]instanceof He){var c=arguments[0];this._minx=c._minx,this._maxx=c._maxx,this._miny=c._miny,this._maxy=c._maxy}}else if(2===arguments.length){var h=arguments[0],p=arguments[1];this.init(h.x,p.x,h.y,p.y)}else if(4===arguments.length){var v=arguments[0],H=arguments[1],q=arguments[2],le=arguments[3];v<H?(this._minx=v,this._maxx=H):(this._minx=H,this._maxx=v),q<le?(this._miny=q,this._maxy=le):(this._miny=le,this._maxy=q)}},He.prototype.getMaxY=function(){return this._maxy},He.prototype.distance=function(s){if(this.intersects(s))return 0;var c=0;this._maxx<s._minx?c=s._minx-this._maxx:this._minx>s._maxx&&(c=this._minx-s._maxx);var h=0;return this._maxy<s._miny?h=s._miny-this._maxy:this._miny>s._maxy&&(h=this._miny-s._maxy),0===c?h:0===h?c:Math.sqrt(c*c+h*h)},He.prototype.hashCode=function(){var s=17;return 37*(s=37*(s=37*(s=37*s+B.hashCode(this._minx))+B.hashCode(this._maxx))+B.hashCode(this._miny))+B.hashCode(this._maxy)},He.prototype.interfaces_=function(){return[k,P]},He.prototype.getClass=function(){return He},He.intersects=function(){if(3===arguments.length){var s=arguments[0],c=arguments[1],h=arguments[2];return h.x>=(s.x<c.x?s.x:c.x)&&h.x<=(s.x>c.x?s.x:c.x)&&h.y>=(s.y<c.y?s.y:c.y)&&h.y<=(s.y>c.y?s.y:c.y)}if(4===arguments.length){var p=arguments[0],v=arguments[1],H=arguments[2],q=arguments[3],le=Math.min(H.x,q.x),De=Math.max(H.x,q.x),je=Math.min(p.x,v.x),rt=Math.max(p.x,v.x);return!(je>De||rt<le||(le=Math.min(H.y,q.y),De=Math.max(H.y,q.y),je=Math.min(p.y,v.y),rt=Math.max(p.y,v.y),je>De||rt<le))}},Fe.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(He,Fe);var Ye={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},ft=function(s){this.geometryFactory=s||new mt};ft.prototype.read=function(s){var c,h;s=s.replace(/[\n\r]/g," ");var v=Ye.typeStr.exec(s);if(-1!==s.search("EMPTY")&&((v=Ye.emptyTypeStr.exec(s))[2]=void 0),v&&(h=v[1].toLowerCase(),Ct[h]&&(c=Ct[h].apply(this,[v[2]]))),void 0===c)throw new Error("Could not parse WKT "+s);return c},ft.prototype.write=function(s){return this.extractGeometry(s)},ft.prototype.extractGeometry=function(s){var c=s.getGeometryType().toLowerCase();if(!ht[c])return null;var h=c.toUpperCase();return s.isEmpty()?h+" EMPTY":h+"("+ht[c].apply(this,[s])+")"};var ht={coordinate:function(s){return s.x+" "+s.y},point:function(s){return ht.coordinate.call(this,s._coordinates._coordinates[0])},multipoint:function(s){for(var c=[],h=0,p=s._geometries.length;h<p;++h)c.push("("+ht.point.apply(this,[s._geometries[h]])+")");return c.join(",")},linestring:function(s){for(var c=[],h=0,p=s._points._coordinates.length;h<p;++h)c.push(ht.coordinate.apply(this,[s._points._coordinates[h]]));return c.join(",")},linearring:function(s){for(var c=[],h=0,p=s._points._coordinates.length;h<p;++h)c.push(ht.coordinate.apply(this,[s._points._coordinates[h]]));return c.join(",")},multilinestring:function(s){for(var c=[],h=0,p=s._geometries.length;h<p;++h)c.push("("+ht.linestring.apply(this,[s._geometries[h]])+")");return c.join(",")},polygon:function(s){var c=[];c.push("("+ht.linestring.apply(this,[s._shell])+")");for(var h=0,p=s._holes.length;h<p;++h)c.push("("+ht.linestring.apply(this,[s._holes[h]])+")");return c.join(",")},multipolygon:function(s){for(var c=[],h=0,p=s._geometries.length;h<p;++h)c.push("("+ht.polygon.apply(this,[s._geometries[h]])+")");return c.join(",")},geometrycollection:function(s){for(var c=[],h=0,p=s._geometries.length;h<p;++h)c.push(this.extractGeometry(s._geometries[h]));return c.join(",")}},Ct={point:function(s){if(void 0===s)return this.geometryFactory.createPoint();var c=s.trim().split(Ye.spaces);return this.geometryFactory.createPoint(new B(Number.parseFloat(c[0]),Number.parseFloat(c[1])))},multipoint:function(s){if(void 0===s)return this.geometryFactory.createMultiPoint();for(var c,h=s.trim().split(","),p=[],v=0,H=h.length;v<H;++v)c=h[v].replace(Ye.trimParens,"$1"),p.push(Ct.point.apply(this,[c]));return this.geometryFactory.createMultiPoint(p)},linestring:function(s){if(void 0===s)return this.geometryFactory.createLineString();for(var c,h=s.trim().split(","),p=[],v=0,H=h.length;v<H;++v)c=h[v].trim().split(Ye.spaces),p.push(new B(Number.parseFloat(c[0]),Number.parseFloat(c[1])));return this.geometryFactory.createLineString(p)},linearring:function(s){if(void 0===s)return this.geometryFactory.createLinearRing();for(var c,h=s.trim().split(","),p=[],v=0,H=h.length;v<H;++v)c=h[v].trim().split(Ye.spaces),p.push(new B(Number.parseFloat(c[0]),Number.parseFloat(c[1])));return this.geometryFactory.createLinearRing(p)},multilinestring:function(s){if(void 0===s)return this.geometryFactory.createMultiLineString();for(var c,h=s.trim().split(Ye.parenComma),p=[],v=0,H=h.length;v<H;++v)c=h[v].replace(Ye.trimParens,"$1"),p.push(Ct.linestring.apply(this,[c]));return this.geometryFactory.createMultiLineString(p)},polygon:function(s){if(void 0===s)return this.geometryFactory.createPolygon();for(var c,h,p,v,H=s.trim().split(Ye.parenComma),q=[],le=0,De=H.length;le<De;++le)c=H[le].replace(Ye.trimParens,"$1"),h=Ct.linestring.apply(this,[c]),p=this.geometryFactory.createLinearRing(h._points),0===le?v=p:q.push(p);return this.geometryFactory.createPolygon(v,q)},multipolygon:function(s){if(void 0===s)return this.geometryFactory.createMultiPolygon();for(var c,h=s.trim().split(Ye.doubleParenComma),p=[],v=0,H=h.length;v<H;++v)c=h[v].replace(Ye.trimParens,"$1"),p.push(Ct.polygon.apply(this,[c]));return this.geometryFactory.createMultiPolygon(p)},geometrycollection:function(s){if(void 0===s)return this.geometryFactory.createGeometryCollection();for(var c=(s=s.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),h=[],p=0,v=c.length;p<v;++p)h.push(this.read(c[p]));return this.geometryFactory.createGeometryCollection(h)}},$e=function(s){this.parser=new ft(s)};$e.prototype.write=function(s){return this.parser.write(s)},$e.toLineString=function(s,c){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+s.x+" "+s.y+", "+c.x+" "+c.y+" )"};var we=function(s){function c(h){s.call(this,h),this.name="RuntimeException",this.message=h,this.stack=(new s).stack}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c}(Error),Me=function(s){function c(){s.call(this),0===arguments.length?s.call(this):1===arguments.length&&s.call(this,arguments[0])}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(we),be=function(){};be.prototype.interfaces_=function(){return[]},be.prototype.getClass=function(){return be},be.shouldNeverReachHere=function(){if(0===arguments.length)be.shouldNeverReachHere(null);else if(1===arguments.length){var s=arguments[0];throw new Me("Should never reach here"+(null!==s?": "+s:""))}},be.isTrue=function(){var c;if(1===arguments.length)be.isTrue(arguments[0],null);else if(2===arguments.length&&(c=arguments[1],!arguments[0]))throw null===c?new Me:new Me(c)},be.equals=function(){var s,c,h;if(2===arguments.length)be.equals(s=arguments[0],c=arguments[1],null);else if(3===arguments.length&&(h=arguments[2],!(c=arguments[1]).equals(s=arguments[0])))throw new Me("Expected "+s+" but encountered "+c+(null!==h?": "+h:""))};var Ne=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new B,this._intPt[1]=new B,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Re={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Ne.prototype.getIndexAlongSegment=function(s,c){return this.computeIntLineIndex(),this._intLineIndex[s][c]},Ne.prototype.getTopologySummary=function(){var s=new ye;return this.isEndPoint()&&s.append(" endpoint"),this._isProper&&s.append(" proper"),this.isCollinear()&&s.append(" collinear"),s.toString()},Ne.prototype.computeIntersection=function(s,c,h,p){this._inputLines[0][0]=s,this._inputLines[0][1]=c,this._inputLines[1][0]=h,this._inputLines[1][1]=p,this._result=this.computeIntersect(s,c,h,p)},Ne.prototype.getIntersectionNum=function(){return this._result},Ne.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var s=arguments[0];this.getEdgeDistance(s,0)>this.getEdgeDistance(s,1)?(this._intLineIndex[s][0]=0,this._intLineIndex[s][1]=1):(this._intLineIndex[s][0]=1,this._intLineIndex[s][1]=0)}},Ne.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Ne.prototype.setPrecisionModel=function(s){this._precisionModel=s},Ne.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var s=arguments[0],c=0;c<this._result;c++)if(!this._intPt[c].equals2D(this._inputLines[s][0])&&!this._intPt[c].equals2D(this._inputLines[s][1]))return!0;return!1}},Ne.prototype.getIntersection=function(s){return this._intPt[s]},Ne.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Ne.prototype.hasIntersection=function(){return this._result!==Ne.NO_INTERSECTION},Ne.prototype.getEdgeDistance=function(s,c){return Ne.computeEdgeDistance(this._intPt[c],this._inputLines[s][0],this._inputLines[s][1])},Ne.prototype.isCollinear=function(){return this._result===Ne.COLLINEAR_INTERSECTION},Ne.prototype.toString=function(){return $e.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+$e.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Ne.prototype.getEndpoint=function(s,c){return this._inputLines[s][c]},Ne.prototype.isIntersection=function(s){for(var c=0;c<this._result;c++)if(this._intPt[c].equals2D(s))return!0;return!1},Ne.prototype.getIntersectionAlongSegment=function(s,c){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[s][c]]},Ne.prototype.interfaces_=function(){return[]},Ne.prototype.getClass=function(){return Ne},Ne.computeEdgeDistance=function(s,c,h){var p=Math.abs(h.x-c.x),v=Math.abs(h.y-c.y),H=-1;if(s.equals(c))H=0;else if(s.equals(h))H=p>v?p:v;else{var q=Math.abs(s.x-c.x),le=Math.abs(s.y-c.y);0!==(H=p>v?q:le)||s.equals(c)||(H=Math.max(q,le))}return be.isTrue(!(0===H&&!s.equals(c)),"Bad distance calculation"),H},Ne.nonRobustComputeEdgeDistance=function(s,c,h){var p=s.x-c.x,v=s.y-c.y,H=Math.sqrt(p*p+v*v);return be.isTrue(!(0===H&&!s.equals(c)),"Invalid distance calculation"),H},Re.DONT_INTERSECT.get=function(){return 0},Re.DO_INTERSECT.get=function(){return 1},Re.COLLINEAR.get=function(){return 2},Re.NO_INTERSECTION.get=function(){return 0},Re.POINT_INTERSECTION.get=function(){return 1},Re.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Ne,Re);var Ve=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.isInSegmentEnvelopes=function(h){var p=new He(this._inputLines[0][0],this._inputLines[0][1]),v=new He(this._inputLines[1][0],this._inputLines[1][1]);return p.contains(h)&&v.contains(h)},c.prototype.computeIntersection=function(){if(3!==arguments.length)return s.prototype.computeIntersection.apply(this,arguments);var h=arguments[0],p=arguments[1],v=arguments[2];if(this._isProper=!1,He.intersects(p,v,h)&&0===qe.orientationIndex(p,v,h)&&0===qe.orientationIndex(v,p,h))return this._isProper=!0,(h.equals(p)||h.equals(v))&&(this._isProper=!1),this._result=s.POINT_INTERSECTION,null;this._result=s.NO_INTERSECTION},c.prototype.normalizeToMinimum=function(h,p,v,H,q){q.x=this.smallestInAbsValue(h.x,p.x,v.x,H.x),q.y=this.smallestInAbsValue(h.y,p.y,v.y,H.y),h.x-=q.x,h.y-=q.y,p.x-=q.x,p.y-=q.y,v.x-=q.x,v.y-=q.y,H.x-=q.x,H.y-=q.y},c.prototype.safeHCoordinateIntersection=function(h,p,v,H){var q=null;try{q=_e.intersection(h,p,v,H)}catch(le){if(!(le instanceof X))throw le;q=c.nearestEndpoint(h,p,v,H)}return q},c.prototype.intersection=function(h,p,v,H){var q=this.intersectionWithNormalization(h,p,v,H);return this.isInSegmentEnvelopes(q)||(q=new B(c.nearestEndpoint(h,p,v,H))),null!==this._precisionModel&&this._precisionModel.makePrecise(q),q},c.prototype.smallestInAbsValue=function(h,p,v,H){var q=h,le=Math.abs(q);return Math.abs(p)<le&&(q=p,le=Math.abs(p)),Math.abs(v)<le&&(q=v,le=Math.abs(v)),Math.abs(H)<le&&(q=H),q},c.prototype.checkDD=function(h,p,v,H,q){var le=me.intersection(h,p,v,H),De=this.isInSegmentEnvelopes(le);re.out.println("DD in env = "+De+"  --------------------- "+le),q.distance(le)>1e-4&&re.out.println("Distance = "+q.distance(le))},c.prototype.intersectionWithNormalization=function(h,p,v,H){var q=new B(h),le=new B(p),De=new B(v),je=new B(H),rt=new B;this.normalizeToEnvCentre(q,le,De,je,rt);var ot=this.safeHCoordinateIntersection(q,le,De,je);return ot.x+=rt.x,ot.y+=rt.y,ot},c.prototype.computeCollinearIntersection=function(h,p,v,H){var q=He.intersects(h,p,v),le=He.intersects(h,p,H),De=He.intersects(v,H,h),je=He.intersects(v,H,p);return q&&le?(this._intPt[0]=v,this._intPt[1]=H,s.COLLINEAR_INTERSECTION):De&&je?(this._intPt[0]=h,this._intPt[1]=p,s.COLLINEAR_INTERSECTION):q&&De?(this._intPt[0]=v,this._intPt[1]=h,!v.equals(h)||le||je?s.COLLINEAR_INTERSECTION:s.POINT_INTERSECTION):q&&je?(this._intPt[0]=v,this._intPt[1]=p,!v.equals(p)||le||De?s.COLLINEAR_INTERSECTION:s.POINT_INTERSECTION):le&&De?(this._intPt[0]=H,this._intPt[1]=h,!H.equals(h)||q||je?s.COLLINEAR_INTERSECTION:s.POINT_INTERSECTION):le&&je?(this._intPt[0]=H,this._intPt[1]=p,!H.equals(p)||q||De?s.COLLINEAR_INTERSECTION:s.POINT_INTERSECTION):s.NO_INTERSECTION},c.prototype.normalizeToEnvCentre=function(h,p,v,H,q){var le=h.x<p.x?h.x:p.x,De=h.y<p.y?h.y:p.y,je=h.x>p.x?h.x:p.x,rt=h.y>p.y?h.y:p.y,ot=v.x<H.x?v.x:H.x,bt=v.y<H.y?v.y:H.y,xt=v.x>H.x?v.x:H.x,kt=v.y>H.y?v.y:H.y,ct=((De>bt?De:bt)+(rt<kt?rt:kt))/2;q.x=((le>ot?le:ot)+(je<xt?je:xt))/2,q.y=ct,h.x-=q.x,h.y-=q.y,p.x-=q.x,p.y-=q.y,v.x-=q.x,v.y-=q.y,H.x-=q.x,H.y-=q.y},c.prototype.computeIntersect=function(h,p,v,H){if(this._isProper=!1,!He.intersects(h,p,v,H))return s.NO_INTERSECTION;var q=qe.orientationIndex(h,p,v),le=qe.orientationIndex(h,p,H);if(q>0&&le>0||q<0&&le<0)return s.NO_INTERSECTION;var De=qe.orientationIndex(v,H,h),je=qe.orientationIndex(v,H,p);return De>0&&je>0||De<0&&je<0?s.NO_INTERSECTION:0===q&&0===le&&0===De&&0===je?this.computeCollinearIntersection(h,p,v,H):(0===q||0===le||0===De||0===je?(this._isProper=!1,h.equals2D(v)||h.equals2D(H)?this._intPt[0]=h:p.equals2D(v)||p.equals2D(H)?this._intPt[0]=p:0===q?this._intPt[0]=new B(v):0===le?this._intPt[0]=new B(H):0===De?this._intPt[0]=new B(h):0===je&&(this._intPt[0]=new B(p))):(this._isProper=!0,this._intPt[0]=this.intersection(h,p,v,H)),s.POINT_INTERSECTION)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c.nearestEndpoint=function(h,p,v,H){var q=h,le=qe.distancePointLine(h,v,H),De=qe.distancePointLine(p,v,H);return De<le&&(le=De,q=p),(De=qe.distancePointLine(v,h,p))<le&&(le=De,q=v),(De=qe.distancePointLine(H,h,p))<le&&(le=De,q=H),q},c}(Ne),Ue=function(){};Ue.prototype.interfaces_=function(){return[]},Ue.prototype.getClass=function(){return Ue},Ue.orientationIndex=function(s,c,h){return Ue.signOfDet2x2(c.x-s.x,c.y-s.y,h.x-c.x,h.y-c.y)},Ue.signOfDet2x2=function(s,c,h,p){var v=null,H=null,q=null;if(v=1,0===s||0===p)return 0===c||0===h?0:c>0?h>0?-v:v:h>0?v:-v;if(0===c||0===h)return p>0?s>0?v:-v:s>0?-v:v;if(c>0?p>0?c<=p||(v=-v,H=s,s=h,h=H,H=c,c=p,p=H):c<=-p?(v=-v,h=-h,p=-p):(H=s,s=-h,h=H,H=c,c=-p,p=H):p>0?-c<=p?(v=-v,s=-s,c=-c):(H=-s,s=h,h=H,H=-c,c=p,p=H):c>=p?(s=-s,c=-c,h=-h,p=-p):(v=-v,H=-s,s=-h,h=H,H=-c,c=-p,p=H),s>0){if(!(h>0&&s<=h))return v}else{if(h>0||!(s>=h))return-v;v=-v,s=-s,h=-h}for(;;){if((p-=(q=Math.floor(h/s))*c)<0)return-v;if(p>c)return v;if(s>(h-=q*s)+h){if(c<p+p)return v}else{if(c>p+p)return-v;h=s-h,p=c-p,v=-v}if(0===p)return 0===h?0:-v;if(0===h||(s-=(q=Math.floor(s/h))*h,(c-=q*p)<0))return v;if(c>p)return-v;if(h>s+s){if(p<c+c)return-v}else{if(p>c+c)return v;s=h-s,c=p-c,v=-v}if(0===c)return 0===s?0:v;if(0===s)return-v}};var Je=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};Je.prototype.countSegment=function(s,c){if(s.x<this._p.x&&c.x<this._p.x)return null;if(this._p.x===c.x&&this._p.y===c.y)return this._isPointOnSegment=!0,null;if(s.y===this._p.y&&c.y===this._p.y){var h=s.x,p=c.x;return h>p&&(h=c.x,p=s.x),this._p.x>=h&&this._p.x<=p&&(this._isPointOnSegment=!0),null}if(s.y>this._p.y&&c.y<=this._p.y||c.y>this._p.y&&s.y<=this._p.y){var H=s.y-this._p.y,le=c.y-this._p.y,De=Ue.signOfDet2x2(s.x-this._p.x,H,c.x-this._p.x,le);if(0===De)return this._isPointOnSegment=!0,null;le<H&&(De=-De),De>0&&this._crossingCount++}},Je.prototype.isPointInPolygon=function(){return this.getLocation()!==te.EXTERIOR},Je.prototype.getLocation=function(){return this._isPointOnSegment?te.BOUNDARY:this._crossingCount%2==1?te.INTERIOR:te.EXTERIOR},Je.prototype.isOnSegment=function(){return this._isPointOnSegment},Je.prototype.interfaces_=function(){return[]},Je.prototype.getClass=function(){return Je},Je.locatePointInRing=function(){if(arguments[0]instanceof B&&Pe(arguments[1],ze)){for(var c=arguments[1],h=new Je(arguments[0]),p=new B,v=new B,H=1;H<c.size();H++)if(c.getCoordinate(H,p),c.getCoordinate(H-1,v),h.countSegment(p,v),h.isOnSegment())return h.getLocation();return h.getLocation()}if(arguments[0]instanceof B&&arguments[1]instanceof Array){for(var le=arguments[1],De=new Je(arguments[0]),je=1;je<le.length;je++)if(De.countSegment(le[je],le[je-1]),De.isOnSegment())return De.getLocation();return De.getLocation()}};var qe=function(){},gt={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};qe.prototype.interfaces_=function(){return[]},qe.prototype.getClass=function(){return qe},qe.orientationIndex=function(s,c,h){return me.orientationIndex(s,c,h)},qe.signedArea=function(){if(arguments[0]instanceof Array){var s=arguments[0];if(s.length<3)return 0;for(var c=0,h=s[0].x,p=1;p<s.length-1;p++)c+=(s[p].x-h)*(s[p-1].y-s[p+1].y);return c/2}if(Pe(arguments[0],ze)){var q=arguments[0],le=q.size();if(le<3)return 0;var De=new B,je=new B,rt=new B;q.getCoordinate(0,je),q.getCoordinate(1,rt);var ot=je.x;rt.x-=ot;for(var bt=0,xt=1;xt<le-1;xt++)De.y=je.y,je.x=rt.x,je.y=rt.y,q.getCoordinate(xt+1,rt),rt.x-=ot,bt+=je.x*(De.y-rt.y);return bt/2}},qe.distanceLineLine=function(s,c,h,p){if(s.equals(c))return qe.distancePointLine(s,h,p);if(h.equals(p))return qe.distancePointLine(p,s,c);var v=!1;if(He.intersects(s,c,h,p)){var H=(c.x-s.x)*(p.y-h.y)-(c.y-s.y)*(p.x-h.x);if(0===H)v=!0;else{var le=((s.y-h.y)*(c.x-s.x)-(s.x-h.x)*(c.y-s.y))/H,De=((s.y-h.y)*(p.x-h.x)-(s.x-h.x)*(p.y-h.y))/H;(De<0||De>1||le<0||le>1)&&(v=!0)}}else v=!0;return v?ve.min(qe.distancePointLine(s,h,p),qe.distancePointLine(c,h,p),qe.distancePointLine(h,s,c),qe.distancePointLine(p,s,c)):0},qe.isPointInRing=function(s,c){return qe.locatePointInRing(s,c)!==te.EXTERIOR},qe.computeLength=function(s){var c=s.size();if(c<=1)return 0;var h=0,p=new B;s.getCoordinate(0,p);for(var v=p.x,H=p.y,q=1;q<c;q++){s.getCoordinate(q,p);var le=p.x,De=p.y,je=le-v,rt=De-H;h+=Math.sqrt(je*je+rt*rt),v=le,H=De}return h},qe.isCCW=function(s){var c=s.length-1;if(c<3)throw new O("Ring has fewer than 4 points, so orientation cannot be determined");for(var h=s[0],p=0,v=1;v<=c;v++){var H=s[v];H.y>h.y&&(h=H,p=v)}var q=p;do{(q-=1)<0&&(q=c)}while(s[q].equals2D(h)&&q!==p);var le=p;do{le=(le+1)%c}while(s[le].equals2D(h)&&le!==p);var De=s[q],je=s[le];if(De.equals2D(h)||je.equals2D(h)||De.equals2D(je))return!1;var rt=qe.computeOrientation(De,h,je);return 0===rt?De.x>je.x:rt>0},qe.locatePointInRing=function(s,c){return Je.locatePointInRing(s,c)},qe.distancePointLinePerpendicular=function(s,c,h){var p=(h.x-c.x)*(h.x-c.x)+(h.y-c.y)*(h.y-c.y);return Math.abs(((c.y-s.y)*(h.x-c.x)-(c.x-s.x)*(h.y-c.y))/p)*Math.sqrt(p)},qe.computeOrientation=function(s,c,h){return qe.orientationIndex(s,c,h)},qe.distancePointLine=function(){if(2===arguments.length){var s=arguments[0],c=arguments[1];if(0===c.length)throw new O("Line array must contain at least one vertex");for(var h=s.distance(c[0]),p=0;p<c.length-1;p++){var v=qe.distancePointLine(s,c[p],c[p+1]);v<h&&(h=v)}return h}if(3===arguments.length){var H=arguments[0],q=arguments[1],le=arguments[2];if(q.x===le.x&&q.y===le.y)return H.distance(q);var De=(le.x-q.x)*(le.x-q.x)+(le.y-q.y)*(le.y-q.y),je=((H.x-q.x)*(le.x-q.x)+(H.y-q.y)*(le.y-q.y))/De;return je<=0?H.distance(q):je>=1?H.distance(le):Math.abs(((q.y-H.y)*(le.x-q.x)-(q.x-H.x)*(le.y-q.y))/De)*Math.sqrt(De)}},qe.isOnLine=function(s,c){for(var h=new Ve,p=1;p<c.length;p++)if(h.computeIntersection(s,c[p-1],c[p]),h.hasIntersection())return!0;return!1},gt.CLOCKWISE.get=function(){return-1},gt.RIGHT.get=function(){return qe.CLOCKWISE},gt.COUNTERCLOCKWISE.get=function(){return 1},gt.LEFT.get=function(){return qe.COUNTERCLOCKWISE},gt.COLLINEAR.get=function(){return 0},gt.STRAIGHT.get=function(){return qe.COLLINEAR},Object.defineProperties(qe,gt);var yt=function(){};yt.prototype.filter=function(s){},yt.prototype.interfaces_=function(){return[]},yt.prototype.getClass=function(){return yt};var it=function(){var s=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=s,this._SRID=s.getSRID()},Et={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};it.prototype.isGeometryCollection=function(){return this.getSortIndex()===it.SORTINDEX_GEOMETRYCOLLECTION},it.prototype.getFactory=function(){return this._factory},it.prototype.getGeometryN=function(s){return this},it.prototype.getArea=function(){return 0},it.prototype.isRectangle=function(){return!1},it.prototype.equals=function(){if(arguments[0]instanceof it){var s=arguments[0];return null!==s&&this.equalsTopo(s)}if(arguments[0]instanceof Object){var c=arguments[0];return c instanceof it&&this.equalsExact(c)}},it.prototype.equalsExact=function(s){return this===s||this.equalsExact(s,0)},it.prototype.geometryChanged=function(){this.apply(it.geometryChangedFilter)},it.prototype.geometryChangedAction=function(){this._envelope=null},it.prototype.equalsNorm=function(s){return null!==s&&this.norm().equalsExact(s.norm())},it.prototype.getLength=function(){return 0},it.prototype.getNumGeometries=function(){return 1},it.prototype.compareTo=function(){if(1===arguments.length){var s=arguments[0],c=s;return this.getSortIndex()!==c.getSortIndex()?this.getSortIndex()-c.getSortIndex():this.isEmpty()&&c.isEmpty()?0:this.isEmpty()?-1:c.isEmpty()?1:this.compareToSameClass(s)}if(2===arguments.length){var h=arguments[0],p=arguments[1];return this.getSortIndex()!==h.getSortIndex()?this.getSortIndex()-h.getSortIndex():this.isEmpty()&&h.isEmpty()?0:this.isEmpty()?-1:h.isEmpty()?1:this.compareToSameClass(h,p)}},it.prototype.getUserData=function(){return this._userData},it.prototype.getSRID=function(){return this._SRID},it.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},it.prototype.checkNotGeometryCollection=function(s){if(s.getSortIndex()===it.SORTINDEX_GEOMETRYCOLLECTION)throw new O("This method does not support GeometryCollection arguments")},it.prototype.equal=function(s,c,h){return 0===h?s.equals(c):s.distance(c)<=h},it.prototype.norm=function(){var s=this.copy();return s.normalize(),s},it.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},it.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new He(this._envelope)},it.prototype.setSRID=function(s){this._SRID=s},it.prototype.setUserData=function(s){this._userData=s},it.prototype.compare=function(s,c){for(var h=s.iterator(),p=c.iterator();h.hasNext()&&p.hasNext();){var v=h.next(),H=p.next(),q=v.compareTo(H);if(0!==q)return q}return h.hasNext()?1:p.hasNext()?-1:0},it.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},it.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===it.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===it.SORTINDEX_MULTIPOINT||this.getSortIndex()===it.SORTINDEX_MULTILINESTRING||this.getSortIndex()===it.SORTINDEX_MULTIPOLYGON},it.prototype.interfaces_=function(){return[K,k,P]},it.prototype.getClass=function(){return it},it.hasNonEmptyElements=function(s){for(var c=0;c<s.length;c++)if(!s[c].isEmpty())return!0;return!1},it.hasNullElements=function(s){for(var c=0;c<s.length;c++)if(null===s[c])return!0;return!1},Et.serialVersionUID.get=function(){return 0x799ea46522854c00},Et.SORTINDEX_POINT.get=function(){return 0},Et.SORTINDEX_MULTIPOINT.get=function(){return 1},Et.SORTINDEX_LINESTRING.get=function(){return 2},Et.SORTINDEX_LINEARRING.get=function(){return 3},Et.SORTINDEX_MULTILINESTRING.get=function(){return 4},Et.SORTINDEX_POLYGON.get=function(){return 5},Et.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Et.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Et.geometryChangedFilter.get=function(){return yn},Object.defineProperties(it,Et);var yn=function(){};yn.interfaces_=function(){return[yt]},yn.filter=function(s){s.geometryChangedAction()};var Gt=function(){};Gt.prototype.filter=function(s){},Gt.prototype.interfaces_=function(){return[]},Gt.prototype.getClass=function(){return Gt};var En=function(){},Tn={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};En.prototype.isInBoundary=function(s){},En.prototype.interfaces_=function(){return[]},En.prototype.getClass=function(){return En},Tn.Mod2BoundaryNodeRule.get=function(){return zr},Tn.EndPointBoundaryNodeRule.get=function(){return ii},Tn.MultiValentEndPointBoundaryNodeRule.get=function(){return Vi},Tn.MonoValentEndPointBoundaryNodeRule.get=function(){return Vo},Tn.MOD2_BOUNDARY_RULE.get=function(){return new zr},Tn.ENDPOINT_BOUNDARY_RULE.get=function(){return new ii},Tn.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Vi},Tn.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Vo},Tn.OGC_SFS_BOUNDARY_RULE.get=function(){return En.MOD2_BOUNDARY_RULE},Object.defineProperties(En,Tn);var zr=function(){};zr.prototype.isInBoundary=function(s){return s%2==1},zr.prototype.interfaces_=function(){return[En]},zr.prototype.getClass=function(){return zr};var ii=function(){};ii.prototype.isInBoundary=function(s){return s>0},ii.prototype.interfaces_=function(){return[En]},ii.prototype.getClass=function(){return ii};var Vi=function(){};Vi.prototype.isInBoundary=function(s){return s>1},Vi.prototype.interfaces_=function(){return[En]},Vi.prototype.getClass=function(){return Vi};var Vo=function(){};Vo.prototype.isInBoundary=function(s){return 1===s},Vo.prototype.interfaces_=function(){return[En]},Vo.prototype.getClass=function(){return Vo};var Gr=function(){};Gr.prototype.add=function(){},Gr.prototype.addAll=function(){},Gr.prototype.isEmpty=function(){},Gr.prototype.iterator=function(){},Gr.prototype.size=function(){},Gr.prototype.toArray=function(){},Gr.prototype.remove=function(){},(D.prototype=new Error).name="IndexOutOfBoundsException";var ts=function(){};ts.prototype.hasNext=function(){},ts.prototype.next=function(){},ts.prototype.remove=function(){};var _i=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.get=function(){},c.prototype.set=function(){},c.prototype.isEmpty=function(){},c}(Gr);(y.prototype=new Error).name="NoSuchElementException";var pt=function(s){function c(){s.call(this),this.array_=[],arguments[0]instanceof Gr&&this.addAll(arguments[0])}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.ensureCapacity=function(){},c.prototype.interfaces_=function(){return[s,Gr]},c.prototype.add=function(h){return 1===arguments.length?this.array_.push(h):this.array_.splice(arguments[0],arguments[1]),!0},c.prototype.clear=function(){this.array_=[]},c.prototype.addAll=function(h){for(var p=h.iterator();p.hasNext();)this.add(p.next());return!0},c.prototype.set=function(h,p){var v=this.array_[h];return this.array_[h]=p,v},c.prototype.iterator=function(){return new $a(this)},c.prototype.get=function(h){if(h<0||h>=this.size())throw new D;return this.array_[h]},c.prototype.isEmpty=function(){return 0===this.array_.length},c.prototype.size=function(){return this.array_.length},c.prototype.toArray=function(){for(var h=[],p=0,v=this.array_.length;p<v;p++)h.push(this.array_[p]);return h},c.prototype.remove=function(h){for(var p=!1,v=0,H=this.array_.length;v<H;v++)if(this.array_[v]===h){this.array_.splice(v,1),p=!0;break}return p},c}(_i),$a=function(s){function c(h){s.call(this),this.arrayList_=h,this.position_=0}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new y;return this.arrayList_.get(this.position_++)},c.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},c.prototype.set=function(h){return this.arrayList_.set(this.position_-1,h)},c.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},c}(ts),ns=function(s){function c(){if(s.call(this),0!==arguments.length)if(1===arguments.length){var p=arguments[0];this.ensureCapacity(p.length),this.add(p,!0)}else if(2===arguments.length){var v=arguments[0],H=arguments[1];this.ensureCapacity(v.length),this.add(v,H)}}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var h={coordArrayType:{configurable:!0}};return h.coordArrayType.get=function(){return new Array(0).fill(null)},c.prototype.getCoordinate=function(p){return this.get(p)},c.prototype.addAll=function(){if(2===arguments.length){for(var v=arguments[1],H=!1,q=arguments[0].iterator();q.hasNext();)this.add(q.next(),v),H=!0;return H}return s.prototype.addAll.apply(this,arguments)},c.prototype.clone=function(){for(var p=s.prototype.clone.call(this),v=0;v<this.size();v++)p.add(v,this.get(v).copy());return p},c.prototype.toCoordinateArray=function(){return this.toArray(c.coordArrayType)},c.prototype.add=function(){if(1===arguments.length)s.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof B&&"boolean"==typeof arguments[1]){var q=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(q))return null;s.prototype.add.call(this,q)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var je=arguments[0],rt=arguments[1];if(arguments[2])for(var ot=0;ot<je.length;ot++)this.add(je[ot],rt);else for(var bt=je.length-1;bt>=0;bt--)this.add(je[bt],rt);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof B){var xt=arguments[0],kt=arguments[1];if(!arguments[2]){var Zt=this.size();if(Zt>0&&(xt>0&&this.get(xt-1).equals2D(kt)||xt<Zt&&this.get(xt).equals2D(kt)))return null}s.prototype.add.call(this,xt,kt)}}else if(4===arguments.length){var ct=arguments[0],on=arguments[1],Or=arguments[2],Di=arguments[3],zi=1;Or>Di&&(zi=-1);for(var al=Or;al!==Di;al+=zi)this.add(ct[al],on);return!0}},c.prototype.closeRing=function(){this.size()>0&&this.add(new B(this.get(0)),!1)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},Object.defineProperties(c,h),c}(pt),pn=function(){},sa={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};sa.ForwardComparator.get=function(){return Ds},sa.BidirectionalComparator.get=function(){return ms},sa.coordArrayType.get=function(){return new Array(0).fill(null)},pn.prototype.interfaces_=function(){return[]},pn.prototype.getClass=function(){return pn},pn.isRing=function(s){return!(s.length<4||!s[0].equals2D(s[s.length-1]))},pn.ptNotInList=function(s,c){for(var h=0;h<s.length;h++){var p=s[h];if(pn.indexOf(p,c)<0)return p}return null},pn.scroll=function(s,c){var h=pn.indexOf(c,s);if(h<0)return null;var p=new Array(s.length).fill(null);re.arraycopy(s,h,p,0,s.length-h),re.arraycopy(s,0,p,s.length-h,h),re.arraycopy(p,0,s,0,s.length)},pn.equals=function(){if(2===arguments.length){var s=arguments[0],c=arguments[1];if(s===c)return!0;if(null===s||null===c||s.length!==c.length)return!1;for(var h=0;h<s.length;h++)if(!s[h].equals(c[h]))return!1;return!0}if(3===arguments.length){var p=arguments[0],v=arguments[1],H=arguments[2];if(p===v)return!0;if(null===p||null===v||p.length!==v.length)return!1;for(var q=0;q<p.length;q++)if(0!==H.compare(p[q],v[q]))return!1;return!0}},pn.intersection=function(s,c){for(var h=new ns,p=0;p<s.length;p++)c.intersects(s[p])&&h.add(s[p],!0);return h.toCoordinateArray()},pn.hasRepeatedPoints=function(s){for(var c=1;c<s.length;c++)if(s[c-1].equals(s[c]))return!0;return!1},pn.removeRepeatedPoints=function(s){return pn.hasRepeatedPoints(s)?new ns(s,!1).toCoordinateArray():s},pn.reverse=function(s){for(var c=s.length-1,h=Math.trunc(c/2),p=0;p<=h;p++){var v=s[p];s[p]=s[c-p],s[c-p]=v}},pn.removeNull=function(s){for(var c=0,h=0;h<s.length;h++)null!==s[h]&&c++;var p=new Array(c).fill(null);if(0===c)return p;for(var v=0,H=0;H<s.length;H++)null!==s[H]&&(p[v++]=s[H]);return p},pn.copyDeep=function(){if(1===arguments.length){for(var s=arguments[0],c=new Array(s.length).fill(null),h=0;h<s.length;h++)c[h]=new B(s[h]);return c}if(5===arguments.length)for(var p=arguments[0],v=arguments[1],H=arguments[2],q=arguments[3],le=arguments[4],De=0;De<le;De++)H[q+De]=new B(p[v+De])},pn.isEqualReversed=function(s,c){for(var h=0;h<s.length;h++)if(0!==s[h].compareTo(c[s.length-h-1]))return!1;return!0},pn.envelope=function(s){for(var c=new He,h=0;h<s.length;h++)c.expandToInclude(s[h]);return c},pn.toCoordinateArray=function(s){return s.toArray(pn.coordArrayType)},pn.atLeastNCoordinatesOrNothing=function(s,c){return c.length>=s?c:[]},pn.indexOf=function(s,c){for(var h=0;h<c.length;h++)if(s.equals(c[h]))return h;return-1},pn.increasingDirection=function(s){for(var c=0;c<Math.trunc(s.length/2);c++){var p=s[c].compareTo(s[s.length-1-c]);if(0!==p)return p}return 1},pn.compare=function(s,c){for(var h=0;h<s.length&&h<c.length;){var p=s[h].compareTo(c[h]);if(0!==p)return p;h++}return h<c.length?-1:h<s.length?1:0},pn.minCoordinate=function(s){for(var c=null,h=0;h<s.length;h++)(null===c||c.compareTo(s[h])>0)&&(c=s[h]);return c},pn.extract=function(s,c,h){c=ve.clamp(c,0,s.length);var p=(h=ve.clamp(h,-1,s.length))-c+1;h<0&&(p=0),c>=s.length&&(p=0),h<c&&(p=0);var v=new Array(p).fill(null);if(0===p)return v;for(var H=0,q=c;q<=h;q++)v[H++]=s[q];return v},Object.defineProperties(pn,sa);var Ds=function(){};Ds.prototype.compare=function(s,c){return pn.compare(s,c)},Ds.prototype.interfaces_=function(){return[oe]},Ds.prototype.getClass=function(){return Ds};var ms=function(){};ms.prototype.compare=function(s,c){var h=s,p=c;if(h.length<p.length)return-1;if(h.length>p.length)return 1;if(0===h.length)return 0;var v=pn.compare(h,p);return pn.isEqualReversed(h,p)?0:v},ms.prototype.OLDcompare=function(s,c){var h=s,p=c;if(h.length<p.length)return-1;if(h.length>p.length)return 1;if(0===h.length)return 0;for(var v=pn.increasingDirection(h),H=pn.increasingDirection(p),q=v>0?0:h.length-1,le=H>0?0:h.length-1,De=0;De<h.length;De++){var je=h[q].compareTo(p[le]);if(0!==je)return je;q+=v,le+=H}return 0},ms.prototype.interfaces_=function(){return[oe]},ms.prototype.getClass=function(){return ms};var Wa=function(){};Wa.prototype.get=function(){},Wa.prototype.put=function(){},Wa.prototype.size=function(){},Wa.prototype.values=function(){},Wa.prototype.entrySet=function(){};var il=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c}(Wa);(b.prototype=new Error).name="OperationNotSupported",(w.prototype=new Gr).contains=function(){};var To=function(s){function c(){s.call(this),this.array_=[],arguments[0]instanceof Gr&&this.addAll(arguments[0])}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.contains=function(h){for(var p=0,v=this.array_.length;p<v;p++)if(this.array_[p]===h)return!0;return!1},c.prototype.add=function(h){return!this.contains(h)&&(this.array_.push(h),!0)},c.prototype.addAll=function(h){for(var p=h.iterator();p.hasNext();)this.add(p.next());return!0},c.prototype.remove=function(h){throw new Error},c.prototype.size=function(){return this.array_.length},c.prototype.isEmpty=function(){return 0===this.array_.length},c.prototype.toArray=function(){for(var h=[],p=0,v=this.array_.length;p<v;p++)h.push(this.array_[p]);return h},c.prototype.iterator=function(){return new H3(this)},c}(w),H3=function(s){function c(h){s.call(this),this.hashSet_=h,this.position_=0}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new y;return this.hashSet_.array_[this.position_++]},c.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},c.prototype.remove=function(){throw new b},c}(ts),Ji=0;($.prototype=new il).get=function(s){for(var c=this.root_;null!==c;){var h=s.compareTo(c.key);if(h<0)c=c.left;else{if(!(h>0))return c.value;c=c.right}}return null},$.prototype.put=function(s,c){if(null===this.root_)return this.root_={key:s,value:c,left:null,right:null,parent:null,color:Ji,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var h,p,v=this.root_;do{if(h=v,(p=s.compareTo(v.key))<0)v=v.left;else{if(!(p>0)){var H=v.value;return v.value=c,H}v=v.right}}while(null!==v);var q={key:s,left:null,right:null,value:c,parent:h,color:Ji,getValue:function(){return this.value},getKey:function(){return this.key}};return p<0?h.left=q:h.right=q,this.fixAfterInsertion(q),this.size_++,null},$.prototype.fixAfterInsertion=function(s){for(s.color=1;null!=s&&s!==this.root_&&1===s.parent.color;)if(I(s)===R(I(I(s)))){var c=Y(I(I(s)));1===E(c)?(M(I(s),Ji),M(c,Ji),M(I(I(s)),1),s=I(I(s))):(s===Y(I(s))&&(s=I(s),this.rotateLeft(s)),M(I(s),Ji),M(I(I(s)),1),this.rotateRight(I(I(s))))}else{var h=R(I(I(s)));1===E(h)?(M(I(s),Ji),M(h,Ji),M(I(I(s)),1),s=I(I(s))):(s===R(I(s))&&(s=I(s),this.rotateRight(s)),M(I(s),Ji),M(I(I(s)),1),this.rotateLeft(I(I(s))))}this.root_.color=Ji},$.prototype.values=function(){var s=new pt,c=this.getFirstEntry();if(null!==c)for(s.add(c.value);null!==(c=$.successor(c));)s.add(c.value);return s},$.prototype.entrySet=function(){var s=new To,c=this.getFirstEntry();if(null!==c)for(s.add(c);null!==(c=$.successor(c));)s.add(c);return s},$.prototype.rotateLeft=function(s){if(null!=s){var c=s.right;s.right=c.left,null!=c.left&&(c.left.parent=s),c.parent=s.parent,null===s.parent?this.root_=c:s.parent.left===s?s.parent.left=c:s.parent.right=c,c.left=s,s.parent=c}},$.prototype.rotateRight=function(s){if(null!=s){var c=s.left;s.left=c.right,null!=c.right&&(c.right.parent=s),c.parent=s.parent,null===s.parent?this.root_=c:s.parent.right===s?s.parent.right=c:s.parent.left=c,c.right=s,s.parent=c}},$.prototype.getFirstEntry=function(){var s=this.root_;if(null!=s)for(;null!=s.left;)s=s.left;return s},$.successor=function(s){if(null===s)return null;if(null!==s.right){for(var c=s.right;null!==c.left;)c=c.left;return c}for(var h=s.parent,p=s;null!==h&&p===h.right;)p=h,h=h.parent;return h},$.prototype.size=function(){return this.size_};var Yt=function(){};Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt},J.prototype=new w,(G.prototype=new J).contains=function(s){for(var c=0,h=this.array_.length;c<h;c++)if(0===this.array_[c].compareTo(s))return!0;return!1},G.prototype.add=function(s){if(this.contains(s))return!1;for(var c=0,h=this.array_.length;c<h;c++)if(1===this.array_[c].compareTo(s))return this.array_.splice(c,0,s),!0;return this.array_.push(s),!0},G.prototype.addAll=function(s){for(var c=s.iterator();c.hasNext();)this.add(c.next());return!0},G.prototype.remove=function(s){throw new b},G.prototype.size=function(){return this.array_.length},G.prototype.isEmpty=function(){return 0===this.array_.length},G.prototype.toArray=function(){for(var s=[],c=0,h=this.array_.length;c<h;c++)s.push(this.array_[c]);return s},G.prototype.iterator=function(){return new f2(this)};var f2=function(s){this.treeSet_=s,this.position_=0};f2.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new y;return this.treeSet_.array_[this.position_++]},f2.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},f2.prototype.remove=function(){throw new b};var aa=function(){};aa.sort=function(){var s,c,h,v=arguments[0];if(1===arguments.length)v.sort(function(q,le){return q.compareTo(le)});else if(2===arguments.length)h=arguments[1],v.sort(function(q,le){return h.compare(q,le)});else if(3===arguments.length){(c=v.slice(arguments[1],arguments[2])).sort();var H=v.slice(0,arguments[1]).concat(c,v.slice(arguments[2],v.length));for(v.splice(0,v.length),s=0;s<H.length;s++)v.push(H[s])}else if(4===arguments.length)for(c=v.slice(arguments[1],arguments[2]),h=arguments[3],c.sort(function(q,le){return h.compare(q,le)}),H=v.slice(0,arguments[1]).concat(c,v.slice(arguments[2],v.length)),v.splice(0,v.length),s=0;s<H.length;s++)v.push(H[s])},aa.asList=function(s){for(var c=new pt,h=0,p=s.length;h<p;h++)c.add(s[h]);return c};var Fn=function(){},rs={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};rs.P.get=function(){return 0},rs.L.get=function(){return 1},rs.A.get=function(){return 2},rs.FALSE.get=function(){return-1},rs.TRUE.get=function(){return-2},rs.DONTCARE.get=function(){return-3},rs.SYM_FALSE.get=function(){return"F"},rs.SYM_TRUE.get=function(){return"T"},rs.SYM_DONTCARE.get=function(){return"*"},rs.SYM_P.get=function(){return"0"},rs.SYM_L.get=function(){return"1"},rs.SYM_A.get=function(){return"2"},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn},Fn.toDimensionSymbol=function(s){switch(s){case Fn.FALSE:return Fn.SYM_FALSE;case Fn.TRUE:return Fn.SYM_TRUE;case Fn.DONTCARE:return Fn.SYM_DONTCARE;case Fn.P:return Fn.SYM_P;case Fn.L:return Fn.SYM_L;case Fn.A:return Fn.SYM_A}throw new O("Unknown dimension value: "+s)},Fn.toDimensionValue=function(s){switch(he.toUpperCase(s)){case Fn.SYM_FALSE:return Fn.FALSE;case Fn.SYM_TRUE:return Fn.TRUE;case Fn.SYM_DONTCARE:return Fn.DONTCARE;case Fn.SYM_P:return Fn.P;case Fn.SYM_L:return Fn.L;case Fn.SYM_A:return Fn.A}throw new O("Unknown dimension symbol: "+s)},Object.defineProperties(Fn,rs);var Ti=function(){};Ti.prototype.filter=function(s){},Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti};var is=function(){};is.prototype.filter=function(s,c){},is.prototype.isDone=function(){},is.prototype.isGeometryChanged=function(){},is.prototype.interfaces_=function(){return[]},is.prototype.getClass=function(){return is};var zn=function(s){function c(p,v){if(s.call(this,v),this._geometries=p||[],s.hasNullElements(this._geometries))throw new O("geometries must not contain null elements")}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var h={serialVersionUID:{configurable:!0}};return c.prototype.computeEnvelopeInternal=function(){for(var p=new He,v=0;v<this._geometries.length;v++)p.expandToInclude(this._geometries[v].getEnvelopeInternal());return p},c.prototype.getGeometryN=function(p){return this._geometries[p]},c.prototype.getSortIndex=function(){return s.SORTINDEX_GEOMETRYCOLLECTION},c.prototype.getCoordinates=function(){for(var p=new Array(this.getNumPoints()).fill(null),v=-1,H=0;H<this._geometries.length;H++)for(var q=this._geometries[H].getCoordinates(),le=0;le<q.length;le++)p[++v]=q[le];return p},c.prototype.getArea=function(){for(var p=0,v=0;v<this._geometries.length;v++)p+=this._geometries[v].getArea();return p},c.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],v=arguments[1];if(!this.isEquivalentClass(p))return!1;var H=p;if(this._geometries.length!==H._geometries.length)return!1;for(var q=0;q<this._geometries.length;q++)if(!this._geometries[q].equalsExact(H._geometries[q],v))return!1;return!0}return s.prototype.equalsExact.apply(this,arguments)},c.prototype.normalize=function(){for(var p=0;p<this._geometries.length;p++)this._geometries[p].normalize();aa.sort(this._geometries)},c.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},c.prototype.getBoundaryDimension=function(){for(var p=Fn.FALSE,v=0;v<this._geometries.length;v++)p=Math.max(p,this._geometries[v].getBoundaryDimension());return p},c.prototype.getDimension=function(){for(var p=Fn.FALSE,v=0;v<this._geometries.length;v++)p=Math.max(p,this._geometries[v].getDimension());return p},c.prototype.getLength=function(){for(var p=0,v=0;v<this._geometries.length;v++)p+=this._geometries[v].getLength();return p},c.prototype.getNumPoints=function(){for(var p=0,v=0;v<this._geometries.length;v++)p+=this._geometries[v].getNumPoints();return p},c.prototype.getNumGeometries=function(){return this._geometries.length},c.prototype.reverse=function(){for(var v=new Array(this._geometries.length).fill(null),H=0;H<this._geometries.length;H++)v[H]=this._geometries[H].reverse();return this.getFactory().createGeometryCollection(v)},c.prototype.compareToSameClass=function(){if(1===arguments.length){var p=arguments[0],v=new G(aa.asList(this._geometries)),H=new G(aa.asList(p._geometries));return this.compare(v,H)}if(2===arguments.length){for(var le=arguments[1],De=arguments[0],je=this.getNumGeometries(),rt=De.getNumGeometries(),ot=0;ot<je&&ot<rt;){var bt=this.getGeometryN(ot),xt=De.getGeometryN(ot),kt=bt.compareToSameClass(xt,le);if(0!==kt)return kt;ot++}return ot<je?1:ot<rt?-1:0}},c.prototype.apply=function(){if(Pe(arguments[0],Gt))for(var p=arguments[0],v=0;v<this._geometries.length;v++)this._geometries[v].apply(p);else if(Pe(arguments[0],is)){var H=arguments[0];if(0===this._geometries.length)return null;for(var q=0;q<this._geometries.length&&(this._geometries[q].apply(H),!H.isDone());q++);H.isGeometryChanged()&&this.geometryChanged()}else if(Pe(arguments[0],Ti)){var le=arguments[0];le.filter(this);for(var De=0;De<this._geometries.length;De++)this._geometries[De].apply(le)}else if(Pe(arguments[0],yt)){var je=arguments[0];je.filter(this);for(var rt=0;rt<this._geometries.length;rt++)this._geometries[rt].apply(je)}},c.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),be.shouldNeverReachHere(),null},c.prototype.clone=function(){var p=s.prototype.clone.call(this);p._geometries=new Array(this._geometries.length).fill(null);for(var v=0;v<this._geometries.length;v++)p._geometries[v]=this._geometries[v].clone();return p},c.prototype.getGeometryType=function(){return"GeometryCollection"},c.prototype.copy=function(){for(var p=new Array(this._geometries.length).fill(null),v=0;v<p.length;v++)p[v]=this._geometries[v].copy();return new c(p,this._factory)},c.prototype.isEmpty=function(){for(var p=0;p<this._geometries.length;p++)if(!this._geometries[p].isEmpty())return!1;return!0},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},h.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(c,h),c}(it),os=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var h={serialVersionUID:{configurable:!0}};return c.prototype.getSortIndex=function(){return it.SORTINDEX_MULTILINESTRING},c.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],v=arguments[1];return!!this.isEquivalentClass(p)&&s.prototype.equalsExact.call(this,p,v)}return s.prototype.equalsExact.apply(this,arguments)},c.prototype.getBoundaryDimension=function(){return this.isClosed()?Fn.FALSE:0},c.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var p=0;p<this._geometries.length;p++)if(!this._geometries[p].isClosed())return!1;return!0},c.prototype.getDimension=function(){return 1},c.prototype.reverse=function(){for(var p=this._geometries.length,v=new Array(p).fill(null),H=0;H<this._geometries.length;H++)v[p-1-H]=this._geometries[H].reverse();return this.getFactory().createMultiLineString(v)},c.prototype.getBoundary=function(){return new yi(this).getBoundary()},c.prototype.getGeometryType=function(){return"MultiLineString"},c.prototype.copy=function(){for(var p=new Array(this._geometries.length).fill(null),v=0;v<p.length;v++)p[v]=this._geometries[v].copy();return new c(p,this._factory)},c.prototype.interfaces_=function(){return[Yt]},c.prototype.getClass=function(){return c},h.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(c,h),c}(zn),yi=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var s=arguments[0],c=En.MOD2_BOUNDARY_RULE;this._geom=s,this._geomFact=s.getFactory(),this._bnRule=c}else if(2===arguments.length){var h=arguments[0],p=arguments[1];this._geom=h,this._geomFact=h.getFactory(),this._bnRule=p}};yi.prototype.boundaryMultiLineString=function(s){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var c=this.computeBoundaryCoordinates(s);return 1===c.length?this._geomFact.createPoint(c[0]):this._geomFact.createMultiPointFromCoords(c)},yi.prototype.getBoundary=function(){return this._geom instanceof Kr?this.boundaryLineString(this._geom):this._geom instanceof os?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},yi.prototype.boundaryLineString=function(s){return this._geom.isEmpty()?this.getEmptyMultiPoint():s.isClosed()?this._bnRule.isInBoundary(2)?s.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([s.getStartPoint(),s.getEndPoint()])},yi.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},yi.prototype.computeBoundaryCoordinates=function(s){var c=new pt;this._endpointMap=new $;for(var h=0;h<s.getNumGeometries();h++){var p=s.getGeometryN(h);0!==p.getNumPoints()&&(this.addEndpoint(p.getCoordinateN(0)),this.addEndpoint(p.getCoordinateN(p.getNumPoints()-1)))}for(var v=this._endpointMap.entrySet().iterator();v.hasNext();){var H=v.next(),q=H.getValue().count;this._bnRule.isInBoundary(q)&&c.add(H.getKey())}return pn.toCoordinateArray(c)},yi.prototype.addEndpoint=function(s){var c=this._endpointMap.get(s);null===c&&(c=new gc,this._endpointMap.put(s,c)),c.count++},yi.prototype.interfaces_=function(){return[]},yi.prototype.getClass=function(){return yi},yi.getBoundary=function(){return 1===arguments.length?new yi(arguments[0]).getBoundary():2===arguments.length?new yi(arguments[0],arguments[1]).getBoundary():void 0};var gc=function(){this.count=null};gc.prototype.interfaces_=function(){return[]},gc.prototype.getClass=function(){return gc};var ss=function(){},B2={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};ss.prototype.interfaces_=function(){return[]},ss.prototype.getClass=function(){return ss},ss.chars=function(s,c){for(var h=new Array(c).fill(null),p=0;p<c;p++)h[p]=s;return String(h)},ss.getStackTrace=function(){if(1===arguments.length){var s=arguments[0],c=new function(){},h=new function(){}(c);return s.printStackTrace(h),c.toString()}if(2===arguments.length){for(var v=arguments[1],H="",q=new function(){}(new function(){}(ss.getStackTrace(arguments[0]))),le=0;le<v;le++)try{H+=q.readLine()+ss.NEWLINE}catch(De){if(!(De instanceof ne))throw De;be.shouldNeverReachHere()}return H}},ss.split=function(s,c){for(var h=c.length,p=new pt,v=""+s,H=v.indexOf(c);H>=0;){var q=v.substring(0,H);p.add(q),H=(v=v.substring(H+h)).indexOf(c)}v.length>0&&p.add(v);for(var le=new Array(p.size()).fill(null),De=0;De<le.length;De++)le[De]=p.get(De);return le},ss.toString=function(){if(1===arguments.length)return ss.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},ss.spaces=function(s){return ss.chars(" ",s)},B2.NEWLINE.get=function(){return re.getProperty("line.separator")},B2.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(ss,B2);var Yr=function(){};Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr},Yr.copyCoord=function(s,c,h,p){for(var v=Math.min(s.getDimension(),h.getDimension()),H=0;H<v;H++)h.setOrdinate(p,H,s.getOrdinate(c,H))},Yr.isRing=function(s){var c=s.size();return 0===c||!(c<=3)&&s.getOrdinate(0,ze.X)===s.getOrdinate(c-1,ze.X)&&s.getOrdinate(0,ze.Y)===s.getOrdinate(c-1,ze.Y)},Yr.isEqual=function(s,c){var h=s.size();if(h!==c.size())return!1;for(var p=Math.min(s.getDimension(),c.getDimension()),v=0;v<h;v++)for(var H=0;H<p;H++){var q=s.getOrdinate(v,H),le=c.getOrdinate(v,H);if(!(s.getOrdinate(v,H)===c.getOrdinate(v,H)||z.isNaN(q)&&z.isNaN(le)))return!1}return!0},Yr.extend=function(s,c,h){var p=s.create(h,c.getDimension()),v=c.size();if(Yr.copy(c,0,p,0,v),v>0)for(var H=v;H<h;H++)Yr.copy(c,v-1,p,H,1);return p},Yr.reverse=function(s){for(var c=s.size()-1,h=Math.trunc(c/2),p=0;p<=h;p++)Yr.swap(s,p,c-p)},Yr.swap=function(s,c,h){if(c===h)return null;for(var p=0;p<s.getDimension();p++){var v=s.getOrdinate(c,p);s.setOrdinate(c,p,s.getOrdinate(h,p)),s.setOrdinate(h,p,v)}},Yr.copy=function(s,c,h,p,v){for(var H=0;H<v;H++)Yr.copyCoord(s,c+H,h,p+H)},Yr.toString=function(){if(1===arguments.length){var s=arguments[0],c=s.size();if(0===c)return"()";var h=s.getDimension(),p=new ye;p.append("(");for(var v=0;v<c;v++){v>0&&p.append(" ");for(var H=0;H<h;H++)H>0&&p.append(","),p.append(ss.toString(s.getOrdinate(v,H)))}return p.append(")"),p.toString()}},Yr.ensureValidRing=function(s,c){var h=c.size();return 0===h?c:h<=3?Yr.createClosedRing(s,c,4):c.getOrdinate(0,ze.X)===c.getOrdinate(h-1,ze.X)&&c.getOrdinate(0,ze.Y)===c.getOrdinate(h-1,ze.Y)?c:Yr.createClosedRing(s,c,h+1)},Yr.createClosedRing=function(s,c,h){var p=s.create(h,c.getDimension()),v=c.size();Yr.copy(c,0,p,0,v);for(var H=v;H<h;H++)Yr.copy(c,0,p,H,1);return p};var Kr=function(s){function c(p,v){s.call(this,v),this._points=null,this.init(p)}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var h={serialVersionUID:{configurable:!0}};return c.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new He:this._points.expandEnvelope(new He)},c.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},c.prototype.getSortIndex=function(){return s.SORTINDEX_LINESTRING},c.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},c.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],v=arguments[1];if(!this.isEquivalentClass(p))return!1;var H=p;if(this._points.size()!==H._points.size())return!1;for(var q=0;q<this._points.size();q++)if(!this.equal(this._points.getCoordinate(q),H._points.getCoordinate(q),v))return!1;return!0}return s.prototype.equalsExact.apply(this,arguments)},c.prototype.normalize=function(){for(var p=0;p<Math.trunc(this._points.size()/2);p++){var v=this._points.size()-1-p;if(!this._points.getCoordinate(p).equals(this._points.getCoordinate(v)))return this._points.getCoordinate(p).compareTo(this._points.getCoordinate(v))>0&&Yr.reverse(this._points),null}},c.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},c.prototype.getBoundaryDimension=function(){return this.isClosed()?Fn.FALSE:0},c.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},c.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},c.prototype.getDimension=function(){return 1},c.prototype.getLength=function(){return qe.computeLength(this._points)},c.prototype.getNumPoints=function(){return this._points.size()},c.prototype.reverse=function(){var p=this._points.copy();return Yr.reverse(p),this.getFactory().createLineString(p)},c.prototype.compareToSameClass=function(){if(1===arguments.length){for(var p=arguments[0],v=0,H=0;v<this._points.size()&&H<p._points.size();){var q=this._points.getCoordinate(v).compareTo(p._points.getCoordinate(H));if(0!==q)return q;v++,H++}return v<this._points.size()?1:H<p._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},c.prototype.apply=function(){if(Pe(arguments[0],Gt))for(var p=arguments[0],v=0;v<this._points.size();v++)p.filter(this._points.getCoordinate(v));else if(Pe(arguments[0],is)){var H=arguments[0];if(0===this._points.size())return null;for(var q=0;q<this._points.size()&&(H.filter(this._points,q),!H.isDone());q++);H.isGeometryChanged()&&this.geometryChanged()}else(Pe(arguments[0],Ti)||Pe(arguments[0],yt))&&arguments[0].filter(this)},c.prototype.getBoundary=function(){return new yi(this).getBoundary()},c.prototype.isEquivalentClass=function(p){return p instanceof c},c.prototype.clone=function(){var p=s.prototype.clone.call(this);return p._points=this._points.clone(),p},c.prototype.getCoordinateN=function(p){return this._points.getCoordinate(p)},c.prototype.getGeometryType=function(){return"LineString"},c.prototype.copy=function(){return new c(this._points.copy(),this._factory)},c.prototype.getCoordinateSequence=function(){return this._points},c.prototype.isEmpty=function(){return 0===this._points.size()},c.prototype.init=function(p){if(null===p&&(p=this.getFactory().getCoordinateSequenceFactory().create([])),1===p.size())throw new O("Invalid number of points in LineString (found "+p.size()+" - must be 0 or >= 2)");this._points=p},c.prototype.isCoordinate=function(p){for(var v=0;v<this._points.size();v++)if(this._points.getCoordinate(v).equals(p))return!0;return!1},c.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},c.prototype.getPointN=function(p){return this.getFactory().createPoint(this._points.getCoordinate(p))},c.prototype.interfaces_=function(){return[Yt]},c.prototype.getClass=function(){return c},h.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(c,h),c}(it),Ps=function(){};Ps.prototype.interfaces_=function(){return[]},Ps.prototype.getClass=function(){return Ps};var Io=function(s){function c(p,v){s.call(this,v),this._coordinates=p||null,this.init(this._coordinates)}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var h={serialVersionUID:{configurable:!0}};return c.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new He;var p=new He;return p.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),p},c.prototype.getSortIndex=function(){return s.SORTINDEX_POINT},c.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},c.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],v=arguments[1];return!!this.isEquivalentClass(p)&&(!(!this.isEmpty()||!p.isEmpty())||this.isEmpty()===p.isEmpty()&&this.equal(p.getCoordinate(),this.getCoordinate(),v))}return s.prototype.equalsExact.apply(this,arguments)},c.prototype.normalize=function(){},c.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},c.prototype.getBoundaryDimension=function(){return Fn.FALSE},c.prototype.getDimension=function(){return 0},c.prototype.getNumPoints=function(){return this.isEmpty()?0:1},c.prototype.reverse=function(){return this.copy()},c.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},c.prototype.compareToSameClass=function(){if(1===arguments.length){var p=arguments[0];return this.getCoordinate().compareTo(p.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},c.prototype.apply=function(){if(Pe(arguments[0],Gt)){var p=arguments[0];if(this.isEmpty())return null;p.filter(this.getCoordinate())}else if(Pe(arguments[0],is)){var v=arguments[0];if(this.isEmpty())return null;v.filter(this._coordinates,0),v.isGeometryChanged()&&this.geometryChanged()}else(Pe(arguments[0],Ti)||Pe(arguments[0],yt))&&arguments[0].filter(this)},c.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},c.prototype.clone=function(){var p=s.prototype.clone.call(this);return p._coordinates=this._coordinates.clone(),p},c.prototype.getGeometryType=function(){return"Point"},c.prototype.copy=function(){return new c(this._coordinates.copy(),this._factory)},c.prototype.getCoordinateSequence=function(){return this._coordinates},c.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},c.prototype.isEmpty=function(){return 0===this._coordinates.size()},c.prototype.init=function(p){null===p&&(p=this.getFactory().getCoordinateSequenceFactory().create([])),be.isTrue(p.size()<=1),this._coordinates=p},c.prototype.isSimple=function(){return!0},c.prototype.interfaces_=function(){return[Ps]},c.prototype.getClass=function(){return c},h.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(c,h),c}(it),ca=function(){};ca.prototype.interfaces_=function(){return[]},ca.prototype.getClass=function(){return ca};var Ci=function(s){function c(p,v,H){if(s.call(this,H),this._shell=null,this._holes=null,null===p&&(p=this.getFactory().createLinearRing()),null===v&&(v=[]),s.hasNullElements(v))throw new O("holes must not contain null elements");if(p.isEmpty()&&s.hasNonEmptyElements(v))throw new O("shell is empty but holes are not");this._shell=p,this._holes=v}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var h={serialVersionUID:{configurable:!0}};return c.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},c.prototype.getSortIndex=function(){return s.SORTINDEX_POLYGON},c.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var p=new Array(this.getNumPoints()).fill(null),v=-1,H=this._shell.getCoordinates(),q=0;q<H.length;q++)p[++v]=H[q];for(var le=0;le<this._holes.length;le++)for(var De=this._holes[le].getCoordinates(),je=0;je<De.length;je++)p[++v]=De[je];return p},c.prototype.getArea=function(){var p=0;p+=Math.abs(qe.signedArea(this._shell.getCoordinateSequence()));for(var v=0;v<this._holes.length;v++)p-=Math.abs(qe.signedArea(this._holes[v].getCoordinateSequence()));return p},c.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var p=this._shell.getCoordinateSequence(),v=this.getEnvelopeInternal(),H=0;H<5;H++){var q=p.getX(H);if(q!==v.getMinX()&&q!==v.getMaxX())return!1;var le=p.getY(H);if(le!==v.getMinY()&&le!==v.getMaxY())return!1}for(var De=p.getX(0),je=p.getY(0),rt=1;rt<=4;rt++){var ot=p.getX(rt),bt=p.getY(rt);if(ot!==De==(bt!==je))return!1;De=ot,je=bt}return!0},c.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],v=arguments[1];if(!this.isEquivalentClass(p))return!1;var H=p;if(!this._shell.equalsExact(H._shell,v)||this._holes.length!==H._holes.length)return!1;for(var De=0;De<this._holes.length;De++)if(!this._holes[De].equalsExact(H._holes[De],v))return!1;return!0}return s.prototype.equalsExact.apply(this,arguments)},c.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var p=0;p<this._holes.length;p++)this.normalize(this._holes[p],!1);aa.sort(this._holes)}else if(2===arguments.length){var v=arguments[0],H=arguments[1];if(v.isEmpty())return null;var q=new Array(v.getCoordinates().length-1).fill(null);re.arraycopy(v.getCoordinates(),0,q,0,q.length);var le=pn.minCoordinate(v.getCoordinates());pn.scroll(q,le),re.arraycopy(q,0,v.getCoordinates(),0,q.length),v.getCoordinates()[q.length]=q[0],qe.isCCW(v.getCoordinates())===H&&pn.reverse(v.getCoordinates())}},c.prototype.getCoordinate=function(){return this._shell.getCoordinate()},c.prototype.getNumInteriorRing=function(){return this._holes.length},c.prototype.getBoundaryDimension=function(){return 1},c.prototype.getDimension=function(){return 2},c.prototype.getLength=function(){var p=0;p+=this._shell.getLength();for(var v=0;v<this._holes.length;v++)p+=this._holes[v].getLength();return p},c.prototype.getNumPoints=function(){for(var p=this._shell.getNumPoints(),v=0;v<this._holes.length;v++)p+=this._holes[v].getNumPoints();return p},c.prototype.reverse=function(){var p=this.copy();p._shell=this._shell.copy().reverse(),p._holes=new Array(this._holes.length).fill(null);for(var v=0;v<this._holes.length;v++)p._holes[v]=this._holes[v].copy().reverse();return p},c.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},c.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var le=arguments[1],De=arguments[0],ot=this._shell.compareToSameClass(De._shell,le);if(0!==ot)return ot;for(var bt=this.getNumInteriorRing(),xt=De.getNumInteriorRing(),kt=0;kt<bt&&kt<xt;){var Zt=this.getInteriorRingN(kt),ct=De.getInteriorRingN(kt),on=Zt.compareToSameClass(ct,le);if(0!==on)return on;kt++}return kt<bt?1:kt<xt?-1:0}},c.prototype.apply=function(p){if(Pe(p,Gt)){this._shell.apply(p);for(var v=0;v<this._holes.length;v++)this._holes[v].apply(p)}else if(Pe(p,is)){if(this._shell.apply(p),!p.isDone())for(var H=0;H<this._holes.length&&(this._holes[H].apply(p),!p.isDone());H++);p.isGeometryChanged()&&this.geometryChanged()}else if(Pe(p,Ti))p.filter(this);else if(Pe(p,yt)){p.filter(this),this._shell.apply(p);for(var q=0;q<this._holes.length;q++)this._holes[q].apply(p)}},c.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var p=new Array(this._holes.length+1).fill(null);p[0]=this._shell;for(var v=0;v<this._holes.length;v++)p[v+1]=this._holes[v];return p.length<=1?this.getFactory().createLinearRing(p[0].getCoordinateSequence()):this.getFactory().createMultiLineString(p)},c.prototype.clone=function(){var p=s.prototype.clone.call(this);p._shell=this._shell.clone(),p._holes=new Array(this._holes.length).fill(null);for(var v=0;v<this._holes.length;v++)p._holes[v]=this._holes[v].clone();return p},c.prototype.getGeometryType=function(){return"Polygon"},c.prototype.copy=function(){for(var p=this._shell.copy(),v=new Array(this._holes.length).fill(null),H=0;H<v.length;H++)v[H]=this._holes[H].copy();return new c(p,v,this._factory)},c.prototype.getExteriorRing=function(){return this._shell},c.prototype.isEmpty=function(){return this._shell.isEmpty()},c.prototype.getInteriorRingN=function(p){return this._holes[p]},c.prototype.interfaces_=function(){return[ca]},c.prototype.getClass=function(){return c},h.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(c,h),c}(it),H1=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var h={serialVersionUID:{configurable:!0}};return c.prototype.getSortIndex=function(){return it.SORTINDEX_MULTIPOINT},c.prototype.isValid=function(){return!0},c.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],v=arguments[1];return!!this.isEquivalentClass(p)&&s.prototype.equalsExact.call(this,p,v)}return s.prototype.equalsExact.apply(this,arguments)},c.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():s.prototype.getCoordinate.apply(this,arguments)},c.prototype.getBoundaryDimension=function(){return Fn.FALSE},c.prototype.getDimension=function(){return 0},c.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},c.prototype.getGeometryType=function(){return"MultiPoint"},c.prototype.copy=function(){for(var p=new Array(this._geometries.length).fill(null),v=0;v<p.length;v++)p[v]=this._geometries[v].copy();return new c(p,this._factory)},c.prototype.interfaces_=function(){return[Ps]},c.prototype.getClass=function(){return c},h.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(c,h),c}(zn),Bs=function(s){function c(p,v){p instanceof B&&v instanceof mt&&(p=v.getCoordinateSequenceFactory().create(p)),s.call(this,p,v),this.validateConstruction()}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var h={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return c.prototype.getSortIndex=function(){return it.SORTINDEX_LINEARRING},c.prototype.getBoundaryDimension=function(){return Fn.FALSE},c.prototype.isClosed=function(){return!!this.isEmpty()||s.prototype.isClosed.call(this)},c.prototype.reverse=function(){var p=this._points.copy();return Yr.reverse(p),this.getFactory().createLinearRing(p)},c.prototype.validateConstruction=function(){if(!this.isEmpty()&&!s.prototype.isClosed.call(this))throw new O("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<c.MINIMUM_VALID_SIZE)throw new O("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},c.prototype.getGeometryType=function(){return"LinearRing"},c.prototype.copy=function(){return new c(this._points.copy(),this._factory)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},h.MINIMUM_VALID_SIZE.get=function(){return 4},h.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(c,h),c}(Kr),gs=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var h={serialVersionUID:{configurable:!0}};return c.prototype.getSortIndex=function(){return it.SORTINDEX_MULTIPOLYGON},c.prototype.equalsExact=function(){if(2===arguments.length){var p=arguments[0],v=arguments[1];return!!this.isEquivalentClass(p)&&s.prototype.equalsExact.call(this,p,v)}return s.prototype.equalsExact.apply(this,arguments)},c.prototype.getBoundaryDimension=function(){return 1},c.prototype.getDimension=function(){return 2},c.prototype.reverse=function(){for(var v=new Array(this._geometries.length).fill(null),H=0;H<this._geometries.length;H++)v[H]=this._geometries[H].reverse();return this.getFactory().createMultiPolygon(v)},c.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var p=new pt,v=0;v<this._geometries.length;v++)for(var H=this._geometries[v].getBoundary(),q=0;q<H.getNumGeometries();q++)p.add(H.getGeometryN(q));var le=new Array(p.size()).fill(null);return this.getFactory().createMultiLineString(p.toArray(le))},c.prototype.getGeometryType=function(){return"MultiPolygon"},c.prototype.copy=function(){for(var p=new Array(this._geometries.length).fill(null),v=0;v<p.length;v++)p[v]=this._geometries[v].copy();return new c(p,this._factory)},c.prototype.interfaces_=function(){return[ca]},c.prototype.getClass=function(){return c},h.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(c,h),c}(zn),ao=function(s){this._factory=s||null,this._isUserDataCopied=!1},A1={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};ao.prototype.setCopyUserData=function(s){this._isUserDataCopied=s},ao.prototype.edit=function(s,c){if(null===s)return null;var h=this.editInternal(s,c);return this._isUserDataCopied&&h.setUserData(s.getUserData()),h},ao.prototype.editInternal=function(s,c){return null===this._factory&&(this._factory=s.getFactory()),s instanceof zn?this.editGeometryCollection(s,c):s instanceof Ci?this.editPolygon(s,c):s instanceof Io||s instanceof Kr?c.edit(s,this._factory):(be.shouldNeverReachHere("Unsupported Geometry class: "+s.getClass().getName()),null)},ao.prototype.editGeometryCollection=function(s,c){for(var h=c.edit(s,this._factory),p=new pt,v=0;v<h.getNumGeometries();v++){var H=this.edit(h.getGeometryN(v),c);null===H||H.isEmpty()||p.add(H)}return h.getClass()===H1?this._factory.createMultiPoint(p.toArray([])):h.getClass()===os?this._factory.createMultiLineString(p.toArray([])):h.getClass()===gs?this._factory.createMultiPolygon(p.toArray([])):this._factory.createGeometryCollection(p.toArray([]))},ao.prototype.editPolygon=function(s,c){var h=c.edit(s,this._factory);if(null===h&&(h=this._factory.createPolygon(null)),h.isEmpty())return h;var p=this.edit(h.getExteriorRing(),c);if(null===p||p.isEmpty())return this._factory.createPolygon();for(var v=new pt,H=0;H<h.getNumInteriorRing();H++){var q=this.edit(h.getInteriorRingN(H),c);null===q||q.isEmpty()||v.add(q)}return this._factory.createPolygon(p,v.toArray([]))},ao.prototype.interfaces_=function(){return[]},ao.prototype.getClass=function(){return ao},ao.GeometryEditorOperation=function(){},A1.NoOpGeometryOperation.get=function(){return V1},A1.CoordinateOperation.get=function(){return xa},A1.CoordinateSequenceOperation.get=function(){return tn},Object.defineProperties(ao,A1);var V1=function(){};V1.prototype.edit=function(s,c){return s},V1.prototype.interfaces_=function(){return[ao.GeometryEditorOperation]},V1.prototype.getClass=function(){return V1};var xa=function(){};xa.prototype.edit=function(s,c){var h=this.editCoordinates(s.getCoordinates(),s);return null===h?s:s instanceof Bs?c.createLinearRing(h):s instanceof Kr?c.createLineString(h):s instanceof Io?h.length>0?c.createPoint(h[0]):c.createPoint():s},xa.prototype.interfaces_=function(){return[ao.GeometryEditorOperation]},xa.prototype.getClass=function(){return xa};var tn=function(){};tn.prototype.edit=function(s,c){return s instanceof Bs?c.createLinearRing(this.edit(s.getCoordinateSequence(),s)):s instanceof Kr?c.createLineString(this.edit(s.getCoordinateSequence(),s)):s instanceof Io?c.createPoint(this.edit(s.getCoordinateSequence(),s)):s},tn.prototype.interfaces_=function(){return[ao.GeometryEditorOperation]},tn.prototype.getClass=function(){return tn};var fn=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var s=arguments[0];this._coordinates=new Array(s).fill(null);for(var c=0;c<s;c++)this._coordinates[c]=new B}else if(Pe(arguments[0],ze)){var h=arguments[0];if(null===h)return this._coordinates=new Array(0).fill(null),null;this._dimension=h.getDimension(),this._coordinates=new Array(h.size()).fill(null);for(var p=0;p<this._coordinates.length;p++)this._coordinates[p]=h.getCoordinateCopy(p)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var v=arguments[0],H=arguments[1];this._coordinates=v,this._dimension=H,null===v&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var q=arguments[0],le=arguments[1];this._coordinates=new Array(q).fill(null),this._dimension=le;for(var De=0;De<q;De++)this._coordinates[De]=new B}},T1={serialVersionUID:{configurable:!0}};fn.prototype.setOrdinate=function(s,c,h){switch(c){case ze.X:this._coordinates[s].x=h;break;case ze.Y:this._coordinates[s].y=h;break;case ze.Z:this._coordinates[s].z=h;break;default:throw new O("invalid ordinateIndex")}},fn.prototype.size=function(){return this._coordinates.length},fn.prototype.getOrdinate=function(s,c){switch(c){case ze.X:return this._coordinates[s].x;case ze.Y:return this._coordinates[s].y;case ze.Z:return this._coordinates[s].z}return z.NaN},fn.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var c=arguments[0],h=arguments[1];h.x=this._coordinates[c].x,h.y=this._coordinates[c].y,h.z=this._coordinates[c].z}},fn.prototype.getCoordinateCopy=function(s){return new B(this._coordinates[s])},fn.prototype.getDimension=function(){return this._dimension},fn.prototype.getX=function(s){return this._coordinates[s].x},fn.prototype.clone=function(){for(var s=new Array(this.size()).fill(null),c=0;c<this._coordinates.length;c++)s[c]=this._coordinates[c].clone();return new fn(s,this._dimension)},fn.prototype.expandEnvelope=function(s){for(var c=0;c<this._coordinates.length;c++)s.expandToInclude(this._coordinates[c]);return s},fn.prototype.copy=function(){for(var s=new Array(this.size()).fill(null),c=0;c<this._coordinates.length;c++)s[c]=this._coordinates[c].copy();return new fn(s,this._dimension)},fn.prototype.toString=function(){if(this._coordinates.length>0){var s=new ye(17*this._coordinates.length);s.append("("),s.append(this._coordinates[0]);for(var c=1;c<this._coordinates.length;c++)s.append(", "),s.append(this._coordinates[c]);return s.append(")"),s.toString()}return"()"},fn.prototype.getY=function(s){return this._coordinates[s].y},fn.prototype.toCoordinateArray=function(){return this._coordinates},fn.prototype.interfaces_=function(){return[ze,P]},fn.prototype.getClass=function(){return fn},T1.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(fn,T1);var co=function(){},br={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};co.prototype.readResolve=function(){return co.instance()},co.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new fn(arguments[0]);if(Pe(arguments[0],ze))return new fn(arguments[0])}else if(2===arguments.length){var h=arguments[0],p=arguments[1];return p>3&&(p=3),p<2?new fn(h):new fn(h,p)}},co.prototype.interfaces_=function(){return[ce,P]},co.prototype.getClass=function(){return co},co.instance=function(){return co.instanceObject},br.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},br.instanceObject.get=function(){return new co},Object.defineProperties(co,br);var I1=function(s){function c(){s.call(this),this.map_=new Map}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.get=function(h){return this.map_.get(h)||null},c.prototype.put=function(h,p){return this.map_.set(h,p),p},c.prototype.values=function(){for(var h=new pt,p=this.map_.values(),v=p.next();!v.done;)h.add(v.value),v=p.next();return h},c.prototype.entrySet=function(){var h=new To;return this.map_.entries().forEach(function(p){return h.add(p)}),h},c.prototype.size=function(){return this.map_.size()},c}(Wa),vt=function s(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=s.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof as){var c=arguments[0];this._modelType=c,c===s.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var h=arguments[0];this._modelType=s.FIXED,this.setScale(h)}else if(arguments[0]instanceof s){var p=arguments[0];this._modelType=p._modelType,this._scale=p._scale}},ui={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};vt.prototype.equals=function(s){return s instanceof vt&&this._modelType===s._modelType&&this._scale===s._scale},vt.prototype.compareTo=function(s){var c=s,h=this.getMaximumSignificantDigits(),p=c.getMaximumSignificantDigits();return new de(h).compareTo(new de(p))},vt.prototype.getScale=function(){return this._scale},vt.prototype.isFloating=function(){return this._modelType===vt.FLOATING||this._modelType===vt.FLOATING_SINGLE},vt.prototype.getType=function(){return this._modelType},vt.prototype.toString=function(){var s="UNKNOWN";return this._modelType===vt.FLOATING?s="Floating":this._modelType===vt.FLOATING_SINGLE?s="Floating-Single":this._modelType===vt.FIXED&&(s="Fixed (Scale="+this.getScale()+")"),s},vt.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var s=arguments[0];return z.isNaN(s)||this._modelType===vt.FLOATING_SINGLE?s:this._modelType===vt.FIXED?Math.round(s*this._scale)/this._scale:s}if(arguments[0]instanceof B){var c=arguments[0];if(this._modelType===vt.FLOATING)return null;c.x=this.makePrecise(c.x),c.y=this.makePrecise(c.y)}},vt.prototype.getMaximumSignificantDigits=function(){var s=16;return this._modelType===vt.FLOATING?s=16:this._modelType===vt.FLOATING_SINGLE?s=6:this._modelType===vt.FIXED&&(s=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),s},vt.prototype.setScale=function(s){this._scale=Math.abs(s)},vt.prototype.interfaces_=function(){return[P,k]},vt.prototype.getClass=function(){return vt},vt.mostPrecise=function(s,c){return s.compareTo(c)>=0?s:c},ui.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},ui.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(vt,ui);var as=function s(c){this._name=c||null,s.nameToTypeMap.put(c,this)},Hr={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};as.prototype.readResolve=function(){return as.nameToTypeMap.get(this._name)},as.prototype.toString=function(){return this._name},as.prototype.interfaces_=function(){return[P]},as.prototype.getClass=function(){return as},Hr.serialVersionUID.get=function(){return-552860263173159e4},Hr.nameToTypeMap.get=function(){return new I1},Object.defineProperties(as,Hr),vt.Type=as,vt.FIXED=new as("FIXED"),vt.FLOATING=new as("FLOATING"),vt.FLOATING_SINGLE=new as("FLOATING SINGLE");var mt=function s(){this._precisionModel=new vt,this._SRID=0,this._coordinateSequenceFactory=s.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Pe(arguments[0],ce)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof vt&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},U2={serialVersionUID:{configurable:!0}};mt.prototype.toGeometry=function(s){return s.isNull()?this.createPoint(null):s.getMinX()===s.getMaxX()&&s.getMinY()===s.getMaxY()?this.createPoint(new B(s.getMinX(),s.getMinY())):s.getMinX()===s.getMaxX()||s.getMinY()===s.getMaxY()?this.createLineString([new B(s.getMinX(),s.getMinY()),new B(s.getMaxX(),s.getMaxY())]):this.createPolygon(this.createLinearRing([new B(s.getMinX(),s.getMinY()),new B(s.getMinX(),s.getMaxY()),new B(s.getMaxX(),s.getMaxY()),new B(s.getMaxX(),s.getMinY()),new B(s.getMinX(),s.getMinY())]),null)},mt.prototype.createLineString=function(s){return s?s instanceof Array?new Kr(this.getCoordinateSequenceFactory().create(s),this):Pe(s,ze)?new Kr(s,this):void 0:new Kr(this.getCoordinateSequenceFactory().create([]),this)},mt.prototype.createMultiLineString=function(){return 0===arguments.length?new os(null,this):1===arguments.length?new os(arguments[0],this):void 0},mt.prototype.buildGeometry=function(s){for(var c=null,h=!1,p=!1,v=s.iterator();v.hasNext();){var H=v.next(),q=H.getClass();null===c&&(c=q),q!==c&&(h=!0),H.isGeometryCollectionOrDerived()&&(p=!0)}if(null===c)return this.createGeometryCollection();if(h||p)return this.createGeometryCollection(mt.toGeometryArray(s));var le=s.iterator().next();if(s.size()>1){if(le instanceof Ci)return this.createMultiPolygon(mt.toPolygonArray(s));if(le instanceof Kr)return this.createMultiLineString(mt.toLineStringArray(s));if(le instanceof Io)return this.createMultiPoint(mt.toPointArray(s));be.shouldNeverReachHere("Unhandled class: "+le.getClass().getName())}return le},mt.prototype.createMultiPointFromCoords=function(s){return this.createMultiPoint(null!==s?this.getCoordinateSequenceFactory().create(s):null)},mt.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof B){var s=arguments[0];return this.createPoint(null!==s?this.getCoordinateSequenceFactory().create([s]):null)}if(Pe(arguments[0],ze))return new Io(arguments[0],this)}},mt.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},mt.prototype.createPolygon=function(){if(0===arguments.length)return new Ci(null,null,this);if(1===arguments.length){if(Pe(arguments[0],ze))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Bs)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new Ci(arguments[0],arguments[1],this)},mt.prototype.getSRID=function(){return this._SRID},mt.prototype.createGeometryCollection=function(){return 0===arguments.length?new zn(null,this):1===arguments.length?new zn(arguments[0],this):void 0},mt.prototype.createGeometry=function(s){return new ao(this).edit(s,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},mt.prototype.getPrecisionModel=function(){return this._precisionModel},mt.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var s=arguments[0];return this.createLinearRing(null!==s?this.getCoordinateSequenceFactory().create(s):null)}if(Pe(arguments[0],ze))return new Bs(arguments[0],this)}},mt.prototype.createMultiPolygon=function(){return 0===arguments.length?new gs(null,this):1===arguments.length?new gs(arguments[0],this):void 0},mt.prototype.createMultiPoint=function(){if(0===arguments.length)return new H1(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new H1(arguments[0],this);if(arguments[0]instanceof Array){var c=arguments[0];return this.createMultiPoint(null!==c?this.getCoordinateSequenceFactory().create(c):null)}if(Pe(arguments[0],ze)){var h=arguments[0];if(null===h)return this.createMultiPoint(new Array(0).fill(null));for(var p=new Array(h.size()).fill(null),v=0;v<h.size();v++){var H=this.getCoordinateSequenceFactory().create(1,h.getDimension());Yr.copy(h,v,H,0,1),p[v]=this.createPoint(H)}return this.createMultiPoint(p)}}},mt.prototype.interfaces_=function(){return[P]},mt.prototype.getClass=function(){return mt},mt.toMultiPolygonArray=function(s){var c=new Array(s.size()).fill(null);return s.toArray(c)},mt.toGeometryArray=function(s){if(null===s)return null;var c=new Array(s.size()).fill(null);return s.toArray(c)},mt.getDefaultCoordinateSequenceFactory=function(){return co.instance()},mt.toMultiLineStringArray=function(s){var c=new Array(s.size()).fill(null);return s.toArray(c)},mt.toLineStringArray=function(s){var c=new Array(s.size()).fill(null);return s.toArray(c)},mt.toMultiPointArray=function(s){var c=new Array(s.size()).fill(null);return s.toArray(c)},mt.toLinearRingArray=function(s){var c=new Array(s.size()).fill(null);return s.toArray(c)},mt.toPointArray=function(s){var c=new Array(s.size()).fill(null);return s.toArray(c)},mt.toPolygonArray=function(s){var c=new Array(s.size()).fill(null);return s.toArray(c)},mt.createPointFromInternalCoord=function(s,c){return c.getPrecisionModel().makePrecise(s),c.getFactory().createPoint(s)},U2.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(mt,U2);var N1=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Ea=function(s){this.geometryFactory=s||new mt};Ea.prototype.read=function(s){var c,h=(c="string"==typeof s?JSON.parse(s):s).type;if(!Mr[h])throw new Error("Unknown GeoJSON type: "+c.type);return-1!==N1.indexOf(h)?Mr[h].apply(this,[c.coordinates]):Mr[h].apply(this,"GeometryCollection"===h?[c.geometries]:[c])},Ea.prototype.write=function(s){var c=s.getGeometryType();if(!at[c])throw new Error("Geometry is not supported");return at[c].apply(this,[s])};var Mr={Feature:function(s){var c={};for(var h in s)c[h]=s[h];if(s.geometry){if(!Mr[s.geometry.type])throw new Error("Unknown GeoJSON type: "+s.type);c.geometry=this.read(s.geometry)}return s.bbox&&(c.bbox=Mr.bbox.apply(this,[s.bbox])),c},FeatureCollection:function(s){var c={};if(s.features){c.features=[];for(var h=0;h<s.features.length;++h)c.features.push(this.read(s.features[h]))}return s.bbox&&(c.bbox=this.parse.bbox.apply(this,[s.bbox])),c},coordinates:function(s){for(var c=[],h=0;h<s.length;++h){var p=s[h];c.push(new B(p[0],p[1]))}return c},bbox:function(s){return this.geometryFactory.createLinearRing([new B(s[0],s[1]),new B(s[2],s[1]),new B(s[2],s[3]),new B(s[0],s[3]),new B(s[0],s[1])])},Point:function(s){var c=new B(s[0],s[1]);return this.geometryFactory.createPoint(c)},MultiPoint:function(s){for(var c=[],h=0;h<s.length;++h)c.push(Mr.Point.apply(this,[s[h]]));return this.geometryFactory.createMultiPoint(c)},LineString:function(s){var c=Mr.coordinates.apply(this,[s]);return this.geometryFactory.createLineString(c)},MultiLineString:function(s){for(var c=[],h=0;h<s.length;++h)c.push(Mr.LineString.apply(this,[s[h]]));return this.geometryFactory.createMultiLineString(c)},Polygon:function(s){for(var c=Mr.coordinates.apply(this,[s[0]]),h=this.geometryFactory.createLinearRing(c),p=[],v=1;v<s.length;++v){var q=Mr.coordinates.apply(this,[s[v]]),le=this.geometryFactory.createLinearRing(q);p.push(le)}return this.geometryFactory.createPolygon(h,p)},MultiPolygon:function(s){for(var c=[],h=0;h<s.length;++h)c.push(Mr.Polygon.apply(this,[s[h]]));return this.geometryFactory.createMultiPolygon(c)},GeometryCollection:function(s){for(var c=[],h=0;h<s.length;++h)c.push(this.read(s[h]));return this.geometryFactory.createGeometryCollection(c)}},at={coordinate:function(s){return[s.x,s.y]},Point:function(s){return{type:"Point",coordinates:at.coordinate.apply(this,[s.getCoordinate()])}},MultiPoint:function(s){for(var c=[],h=0;h<s._geometries.length;++h){var v=at.Point.apply(this,[s._geometries[h]]);c.push(v.coordinates)}return{type:"MultiPoint",coordinates:c}},LineString:function(s){for(var c=[],h=s.getCoordinates(),p=0;p<h.length;++p)c.push(at.coordinate.apply(this,[h[p]]));return{type:"LineString",coordinates:c}},MultiLineString:function(s){for(var c=[],h=0;h<s._geometries.length;++h){var v=at.LineString.apply(this,[s._geometries[h]]);c.push(v.coordinates)}return{type:"MultiLineString",coordinates:c}},Polygon:function(s){var c=[],h=at.LineString.apply(this,[s._shell]);c.push(h.coordinates);for(var p=0;p<s._holes.length;++p){var H=at.LineString.apply(this,[s._holes[p]]);c.push(H.coordinates)}return{type:"Polygon",coordinates:c}},MultiPolygon:function(s){for(var c=[],h=0;h<s._geometries.length;++h){var v=at.Polygon.apply(this,[s._geometries[h]]);c.push(v.coordinates)}return{type:"MultiPolygon",coordinates:c}},GeometryCollection:function(s){for(var c=[],h=0;h<s._geometries.length;++h){var p=s._geometries[h],v=p.getGeometryType();c.push(at[v].apply(this,[p]))}return{type:"GeometryCollection",geometries:c}}},la=function(s){this.geometryFactory=s||new mt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Ea(this.geometryFactory)};la.prototype.read=function(s){var c=this.parser.read(s);return this.precisionModel.getType()===vt.FIXED&&this.reducePrecision(c),c},la.prototype.reducePrecision=function(s){var c,h;if(s.coordinate)this.precisionModel.makePrecise(s.coordinate);else if(s.points)for(c=0,h=s.points.length;c<h;c++)this.precisionModel.makePrecise(s.points[c]);else if(s.geometries)for(c=0,h=s.geometries.length;c<h;c++)this.reducePrecision(s.geometries[c])};var mn=function(){this.parser=new Ea(this.geometryFactory)};mn.prototype.write=function(s){return this.parser.write(s)};var lt=function(){},Ya={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};lt.prototype.interfaces_=function(){return[]},lt.prototype.getClass=function(){return lt},lt.opposite=function(s){return s===lt.LEFT?lt.RIGHT:s===lt.RIGHT?lt.LEFT:s},Ya.ON.get=function(){return 0},Ya.LEFT.get=function(){return 1},Ya.RIGHT.get=function(){return 2},Object.defineProperties(lt,Ya),(N.prototype=new Error).name="EmptyStackException",(T.prototype=new _i).add=function(s){return this.array_.push(s),!0},T.prototype.get=function(s){if(s<0||s>=this.size())throw new Error;return this.array_[s]},T.prototype.push=function(s){return this.array_.push(s),s},T.prototype.pop=function(s){if(0===this.array_.length)throw new N;return this.array_.pop()},T.prototype.peek=function(){if(0===this.array_.length)throw new N;return this.array_[this.array_.length-1]},T.prototype.empty=function(){return 0===this.array_.length},T.prototype.isEmpty=function(){return this.empty()},T.prototype.search=function(s){return this.array_.indexOf(s)},T.prototype.size=function(){return this.array_.length},T.prototype.toArray=function(){for(var s=[],c=0,h=this.array_.length;c<h;c++)s.push(this.array_[c]);return s};var vs=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};vs.prototype.getCoordinate=function(){return this._minCoord},vs.prototype.getRightmostSide=function(s,c){var h=this.getRightmostSideOfSegment(s,c);return h<0&&(h=this.getRightmostSideOfSegment(s,c-1)),h<0&&(this._minCoord=null,this.checkForRightmostCoordinate(s)),h},vs.prototype.findRightmostEdgeAtVertex=function(){var s=this._minDe.getEdge().getCoordinates();be.isTrue(this._minIndex>0&&this._minIndex<s.length,"rightmost point expected to be interior vertex of edge");var c=s[this._minIndex-1],h=s[this._minIndex+1],p=qe.computeOrientation(this._minCoord,h,c),v=!1;(c.y<this._minCoord.y&&h.y<this._minCoord.y&&p===qe.COUNTERCLOCKWISE||c.y>this._minCoord.y&&h.y>this._minCoord.y&&p===qe.CLOCKWISE)&&(v=!0),v&&(this._minIndex=this._minIndex-1)},vs.prototype.getRightmostSideOfSegment=function(s,c){var h=s.getEdge().getCoordinates();if(c<0||c+1>=h.length||h[c].y===h[c+1].y)return-1;var p=lt.LEFT;return h[c].y<h[c+1].y&&(p=lt.RIGHT),p},vs.prototype.getEdge=function(){return this._orientedDe},vs.prototype.checkForRightmostCoordinate=function(s){for(var c=s.getEdge().getCoordinates(),h=0;h<c.length-1;h++)(null===this._minCoord||c[h].x>this._minCoord.x)&&(this._minDe=s,this._minIndex=h,this._minCoord=c[h])},vs.prototype.findRightmostEdgeAtNode=function(){var s=this._minDe.getNode().getEdges();this._minDe=s.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},vs.prototype.findEdge=function(s){for(var c=s.iterator();c.hasNext();){var h=c.next();h.isForward()&&this.checkForRightmostCoordinate(h)}be.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===lt.LEFT&&(this._orientedDe=this._minDe.getSym())},vs.prototype.interfaces_=function(){return[]},vs.prototype.getClass=function(){return vs};var zs=function(s){function c(h,p){s.call(this,c.msgWithCoord(h,p)),this.pt=p?new B(p):null,this.name="TopologyException"}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.getCoordinate=function(){return this.pt},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c.msgWithCoord=function(h,p){return p?h:h+" [ "+p+" ]"},c}(we),ua=function(){this.array_=[]};ua.prototype.addLast=function(s){this.array_.push(s)},ua.prototype.removeFirst=function(){return this.array_.shift()},ua.prototype.isEmpty=function(){return 0===this.array_.length};var Vr=function(){this._finder=null,this._dirEdgeList=new pt,this._nodes=new pt,this._rightMostCoord=null,this._env=null,this._finder=new vs};Vr.prototype.clearVisitedEdges=function(){for(var s=this._dirEdgeList.iterator();s.hasNext();)s.next().setVisited(!1)},Vr.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Vr.prototype.computeNodeDepth=function(s){for(var c=null,h=s.getEdges().iterator();h.hasNext();){var p=h.next();if(p.isVisited()||p.getSym().isVisited()){c=p;break}}if(null===c)throw new zs("unable to find edge to compute depths at "+s.getCoordinate());s.getEdges().computeDepths(c);for(var v=s.getEdges().iterator();v.hasNext();){var H=v.next();H.setVisited(!0),this.copySymDepths(H)}},Vr.prototype.computeDepth=function(s){this.clearVisitedEdges();var c=this._finder.getEdge();c.setEdgeDepths(lt.RIGHT,s),this.copySymDepths(c),this.computeDepths(c)},Vr.prototype.create=function(s){this.addReachable(s),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Vr.prototype.findResultEdges=function(){for(var s=this._dirEdgeList.iterator();s.hasNext();){var c=s.next();c.getDepth(lt.RIGHT)>=1&&c.getDepth(lt.LEFT)<=0&&!c.isInteriorAreaEdge()&&c.setInResult(!0)}},Vr.prototype.computeDepths=function(s){var c=new To,h=new ua,p=s.getNode();for(h.addLast(p),c.add(p),s.setVisited(!0);!h.isEmpty();){var v=h.removeFirst();c.add(v),this.computeNodeDepth(v);for(var H=v.getEdges().iterator();H.hasNext();){var q=H.next().getSym();if(!q.isVisited()){var le=q.getNode();c.contains(le)||(h.addLast(le),c.add(le))}}}},Vr.prototype.compareTo=function(s){return this._rightMostCoord.x<s._rightMostCoord.x?-1:this._rightMostCoord.x>s._rightMostCoord.x?1:0},Vr.prototype.getEnvelope=function(){if(null===this._env){for(var s=new He,c=this._dirEdgeList.iterator();c.hasNext();)for(var h=c.next().getEdge().getCoordinates(),p=0;p<h.length-1;p++)s.expandToInclude(h[p]);this._env=s}return this._env},Vr.prototype.addReachable=function(s){var c=new T;for(c.add(s);!c.empty();){var h=c.pop();this.add(h,c)}},Vr.prototype.copySymDepths=function(s){var c=s.getSym();c.setDepth(lt.LEFT,s.getDepth(lt.RIGHT)),c.setDepth(lt.RIGHT,s.getDepth(lt.LEFT))},Vr.prototype.add=function(s,c){s.setVisited(!0),this._nodes.add(s);for(var h=s.getEdges().iterator();h.hasNext();){var p=h.next();this._dirEdgeList.add(p);var v=p.getSym().getNode();v.isVisited()||c.push(v)}},Vr.prototype.getNodes=function(){return this._nodes},Vr.prototype.getDirectedEdges=function(){return this._dirEdgeList},Vr.prototype.interfaces_=function(){return[k]},Vr.prototype.getClass=function(){return Vr};var Tr=function s(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var h=arguments[0];this.init(1),this.location[lt.ON]=h}else if(arguments[0]instanceof s){var p=arguments[0];if(this.init(p.location.length),null!==p)for(var v=0;v<this.location.length;v++)this.location[v]=p.location[v]}}else if(3===arguments.length){var H=arguments[0],q=arguments[1],le=arguments[2];this.init(3),this.location[lt.ON]=H,this.location[lt.LEFT]=q,this.location[lt.RIGHT]=le}};Tr.prototype.setAllLocations=function(s){for(var c=0;c<this.location.length;c++)this.location[c]=s},Tr.prototype.isNull=function(){for(var s=0;s<this.location.length;s++)if(this.location[s]!==te.NONE)return!1;return!0},Tr.prototype.setAllLocationsIfNull=function(s){for(var c=0;c<this.location.length;c++)this.location[c]===te.NONE&&(this.location[c]=s)},Tr.prototype.isLine=function(){return 1===this.location.length},Tr.prototype.merge=function(s){if(s.location.length>this.location.length){var c=new Array(3).fill(null);c[lt.ON]=this.location[lt.ON],c[lt.LEFT]=te.NONE,c[lt.RIGHT]=te.NONE,this.location=c}for(var h=0;h<this.location.length;h++)this.location[h]===te.NONE&&h<s.location.length&&(this.location[h]=s.location[h])},Tr.prototype.getLocations=function(){return this.location},Tr.prototype.flip=function(){if(this.location.length<=1)return null;var s=this.location[lt.LEFT];this.location[lt.LEFT]=this.location[lt.RIGHT],this.location[lt.RIGHT]=s},Tr.prototype.toString=function(){var s=new ye;return this.location.length>1&&s.append(te.toLocationSymbol(this.location[lt.LEFT])),s.append(te.toLocationSymbol(this.location[lt.ON])),this.location.length>1&&s.append(te.toLocationSymbol(this.location[lt.RIGHT])),s.toString()},Tr.prototype.setLocations=function(s,c,h){this.location[lt.ON]=s,this.location[lt.LEFT]=c,this.location[lt.RIGHT]=h},Tr.prototype.get=function(s){return s<this.location.length?this.location[s]:te.NONE},Tr.prototype.isArea=function(){return this.location.length>1},Tr.prototype.isAnyNull=function(){for(var s=0;s<this.location.length;s++)if(this.location[s]===te.NONE)return!0;return!1},Tr.prototype.setLocation=function(){1===arguments.length?this.setLocation(lt.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},Tr.prototype.init=function(s){this.location=new Array(s).fill(null),this.setAllLocations(te.NONE)},Tr.prototype.isEqualOnSide=function(s,c){return this.location[c]===s.location[c]},Tr.prototype.allPositionsEqual=function(s){for(var c=0;c<this.location.length;c++)if(this.location[c]!==s)return!1;return!0},Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr};var Bn=function s(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var c=arguments[0];this.elt[0]=new Tr(c),this.elt[1]=new Tr(c)}else if(arguments[0]instanceof s){var h=arguments[0];this.elt[0]=new Tr(h.elt[0]),this.elt[1]=new Tr(h.elt[1])}}else if(2===arguments.length){var p=arguments[0],v=arguments[1];this.elt[0]=new Tr(te.NONE),this.elt[1]=new Tr(te.NONE),this.elt[p].setLocation(v)}else if(3===arguments.length){var H=arguments[0],q=arguments[1],le=arguments[2];this.elt[0]=new Tr(H,q,le),this.elt[1]=new Tr(H,q,le)}else if(4===arguments.length){var De=arguments[0],je=arguments[1],rt=arguments[2],ot=arguments[3];this.elt[0]=new Tr(te.NONE,te.NONE,te.NONE),this.elt[1]=new Tr(te.NONE,te.NONE,te.NONE),this.elt[De].setLocations(je,rt,ot)}};Bn.prototype.getGeometryCount=function(){var s=0;return this.elt[0].isNull()||s++,this.elt[1].isNull()||s++,s},Bn.prototype.setAllLocations=function(s,c){this.elt[s].setAllLocations(c)},Bn.prototype.isNull=function(s){return this.elt[s].isNull()},Bn.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var s=arguments[0];this.setAllLocationsIfNull(0,s),this.setAllLocationsIfNull(1,s)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},Bn.prototype.isLine=function(s){return this.elt[s].isLine()},Bn.prototype.merge=function(s){for(var c=0;c<2;c++)null===this.elt[c]&&null!==s.elt[c]?this.elt[c]=new Tr(s.elt[c]):this.elt[c].merge(s.elt[c])},Bn.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Bn.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(lt.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},Bn.prototype.toString=function(){var s=new ye;return null!==this.elt[0]&&(s.append("A:"),s.append(this.elt[0].toString())),null!==this.elt[1]&&(s.append(" B:"),s.append(this.elt[1].toString())),s.toString()},Bn.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},Bn.prototype.isAnyNull=function(s){return this.elt[s].isAnyNull()},Bn.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(lt.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},Bn.prototype.isEqualOnSide=function(s,c){return this.elt[0].isEqualOnSide(s.elt[0],c)&&this.elt[1].isEqualOnSide(s.elt[1],c)},Bn.prototype.allPositionsEqual=function(s,c){return this.elt[s].allPositionsEqual(c)},Bn.prototype.toLine=function(s){this.elt[s].isArea()&&(this.elt[s]=new Tr(this.elt[s].location[0]))},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn},Bn.toLineLabel=function(s){for(var c=new Bn(te.NONE),h=0;h<2;h++)c.setLocation(h,s.getLocation(h));return c};var bi=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new pt,this._pts=new pt,this._label=new Bn(te.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new pt,this._geometryFactory=null;var s=arguments[0];this._geometryFactory=arguments[1],this.computePoints(s),this.computeRing()};bi.prototype.computeRing=function(){if(null!==this._ring)return null;for(var s=new Array(this._pts.size()).fill(null),c=0;c<this._pts.size();c++)s[c]=this._pts.get(c);this._ring=this._geometryFactory.createLinearRing(s),this._isHole=qe.isCCW(this._ring.getCoordinates())},bi.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},bi.prototype.computePoints=function(s){this._startDe=s;var c=s,h=!0;do{if(null===c)throw new zs("Found null DirectedEdge");if(c.getEdgeRing()===this)throw new zs("Directed Edge visited twice during ring-building at "+c.getCoordinate());this._edges.add(c);var p=c.getLabel();be.isTrue(p.isArea()),this.mergeLabel(p),this.addPoints(c.getEdge(),c.isForward(),h),h=!1,this.setEdgeRing(c,this),c=this.getNext(c)}while(c!==this._startDe)},bi.prototype.getLinearRing=function(){return this._ring},bi.prototype.getCoordinate=function(s){return this._pts.get(s)},bi.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var s=this._startDe;do{var c=s.getNode().getEdges().getOutgoingDegree(this);c>this._maxNodeDegree&&(this._maxNodeDegree=c),s=this.getNext(s)}while(s!==this._startDe);this._maxNodeDegree*=2},bi.prototype.addPoints=function(s,c,h){var p=s.getCoordinates();if(c){var v=1;h&&(v=0);for(var H=v;H<p.length;H++)this._pts.add(p[H])}else{var q=p.length-2;h&&(q=p.length-1);for(var le=q;le>=0;le--)this._pts.add(p[le])}},bi.prototype.isHole=function(){return this._isHole},bi.prototype.setInResult=function(){var s=this._startDe;do{s.getEdge().setInResult(!0),s=s.getNext()}while(s!==this._startDe)},bi.prototype.containsPoint=function(s){var c=this.getLinearRing();if(!c.getEnvelopeInternal().contains(s)||!qe.isPointInRing(s,c.getCoordinates()))return!1;for(var h=this._holes.iterator();h.hasNext();)if(h.next().containsPoint(s))return!1;return!0},bi.prototype.addHole=function(s){this._holes.add(s)},bi.prototype.isShell=function(){return null===this._shell},bi.prototype.getLabel=function(){return this._label},bi.prototype.getEdges=function(){return this._edges},bi.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},bi.prototype.getShell=function(){return this._shell},bi.prototype.mergeLabel=function(){if(1===arguments.length){var s=arguments[0];this.mergeLabel(s,0),this.mergeLabel(s,1)}else if(2===arguments.length){var h=arguments[1],p=arguments[0].getLocation(h,lt.RIGHT);if(p===te.NONE)return null;if(this._label.getLocation(h)===te.NONE)return this._label.setLocation(h,p),null}},bi.prototype.setShell=function(s){this._shell=s,null!==s&&s.addHole(this)},bi.prototype.toPolygon=function(s){for(var c=new Array(this._holes.size()).fill(null),h=0;h<this._holes.size();h++)c[h]=this._holes.get(h).getLinearRing();return s.createPolygon(this.getLinearRing(),c)},bi.prototype.interfaces_=function(){return[]},bi.prototype.getClass=function(){return bi};var fa=function(s){function c(){s.call(this,arguments[0],arguments[1])}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.setEdgeRing=function(h,p){h.setMinEdgeRing(p)},c.prototype.getNext=function(h){return h.getNextMin()},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(bi),Bu=function(s){function c(){s.call(this,arguments[0],arguments[1])}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.buildMinimalRings=function(){var h=new pt,p=this._startDe;do{if(null===p.getMinEdgeRing()){var v=new fa(p,this._geometryFactory);h.add(v)}p=p.getNext()}while(p!==this._startDe);return h},c.prototype.setEdgeRing=function(h,p){h.setEdgeRing(p)},c.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var h=this._startDe;do{h.getNode().getEdges().linkMinimalDirectedEdges(this),h=h.getNext()}while(h!==this._startDe)},c.prototype.getNext=function(h){return h.getNext()},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(bi),nn=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};nn.prototype.setVisited=function(s){this._isVisited=s},nn.prototype.setInResult=function(s){this._isInResult=s},nn.prototype.isCovered=function(){return this._isCovered},nn.prototype.isCoveredSet=function(){return this._isCoveredSet},nn.prototype.setLabel=function(s){this._label=s},nn.prototype.getLabel=function(){return this._label},nn.prototype.setCovered=function(s){this._isCovered=s,this._isCoveredSet=!0},nn.prototype.updateIM=function(s){be.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(s)},nn.prototype.isInResult=function(){return this._isInResult},nn.prototype.isVisited=function(){return this._isVisited},nn.prototype.interfaces_=function(){return[]},nn.prototype.getClass=function(){return nn};var Hs=function(s){function c(){s.call(this),this._coord=null,this._edges=null;var p=arguments[1];this._coord=arguments[0],this._edges=p,this._label=new Bn(0,te.NONE)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.isIncidentEdgeInResult=function(){for(var h=this.getEdges().getEdges().iterator();h.hasNext();)if(h.next().getEdge().isInResult())return!0;return!1},c.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},c.prototype.getCoordinate=function(){return this._coord},c.prototype.print=function(h){h.println("node "+this._coord+" lbl: "+this._label)},c.prototype.computeIM=function(h){},c.prototype.computeMergedLocation=function(h,p){var v=te.NONE;if(v=this._label.getLocation(p),!h.isNull(p)){var H=h.getLocation(p);v!==te.BOUNDARY&&(v=H)}return v},c.prototype.setLabel=function(){if(2!==arguments.length)return s.prototype.setLabel.apply(this,arguments);var h=arguments[0],p=arguments[1];null===this._label?this._label=new Bn(h,p):this._label.setLocation(h,p)},c.prototype.getEdges=function(){return this._edges},c.prototype.mergeLabel=function(){if(arguments[0]instanceof c)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof Bn)for(var p=arguments[0],v=0;v<2;v++){var H=this.computeMergedLocation(p,v);this._label.getLocation(v)===te.NONE&&this._label.setLocation(v,H)}},c.prototype.add=function(h){this._edges.insert(h),h.setNode(this)},c.prototype.setLabelBoundary=function(h){if(null===this._label)return null;var p=te.NONE;null!==this._label&&(p=this._label.getLocation(h)),this._label.setLocation(h,p===te.BOUNDARY?te.INTERIOR:te.BOUNDARY)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(nn),qn=function(){this.nodeMap=new $,this.nodeFact=null,this.nodeFact=arguments[0]};qn.prototype.find=function(s){return this.nodeMap.get(s)},qn.prototype.addNode=function(){if(arguments[0]instanceof B){var s=arguments[0],c=this.nodeMap.get(s);return null===c&&(c=this.nodeFact.createNode(s),this.nodeMap.put(s,c)),c}if(arguments[0]instanceof Hs){var h=arguments[0],p=this.nodeMap.get(h.getCoordinate());return null===p?(this.nodeMap.put(h.getCoordinate(),h),h):(p.mergeLabel(h),p)}},qn.prototype.print=function(s){for(var c=this.iterator();c.hasNext();)c.next().print(s)},qn.prototype.iterator=function(){return this.nodeMap.values().iterator()},qn.prototype.values=function(){return this.nodeMap.values()},qn.prototype.getBoundaryNodes=function(s){for(var c=new pt,h=this.iterator();h.hasNext();){var p=h.next();p.getLabel().getLocation(s)===te.BOUNDARY&&c.add(p)}return c},qn.prototype.add=function(s){var c=s.getCoordinate();this.addNode(c).add(s)},qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn};var wr=function(){},k1={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};wr.prototype.interfaces_=function(){return[]},wr.prototype.getClass=function(){return wr},wr.isNorthern=function(s){return s===wr.NE||s===wr.NW},wr.isOpposite=function(s,c){return s!==c&&(s-c+4)%4==2},wr.commonHalfPlane=function(s,c){if(s===c)return s;if((s-c+4)%4==2)return-1;var h=s<c?s:c;return 0===h&&3===(s>c?s:c)?3:h},wr.isInHalfPlane=function(s,c){return c===wr.SE?s===wr.SE||s===wr.SW:s===c||s===c+1},wr.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var s=arguments[0],c=arguments[1];if(0===s&&0===c)throw new O("Cannot compute the quadrant for point ( "+s+", "+c+" )");return s>=0?c>=0?wr.NE:wr.SE:c>=0?wr.NW:wr.SW}if(arguments[0]instanceof B&&arguments[1]instanceof B){var h=arguments[0],p=arguments[1];if(p.x===h.x&&p.y===h.y)throw new O("Cannot compute the quadrant for two identical points "+h);return p.x>=h.x?p.y>=h.y?wr.NE:wr.SE:p.y>=h.y?wr.NW:wr.SW}},k1.NE.get=function(){return 0},k1.NW.get=function(){return 1},k1.SW.get=function(){return 2},k1.SE.get=function(){return 3},Object.defineProperties(wr,k1);var Oi=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var h=arguments[1],p=arguments[2];this._edge=arguments[0],this.init(h,p),this._label=null}else if(4===arguments.length){var H=arguments[1],q=arguments[2],le=arguments[3];this._edge=arguments[0],this.init(H,q),this._label=le}};Oi.prototype.compareDirection=function(s){return this._dx===s._dx&&this._dy===s._dy?0:this._quadrant>s._quadrant?1:this._quadrant<s._quadrant?-1:qe.computeOrientation(s._p0,s._p1,this._p1)},Oi.prototype.getDy=function(){return this._dy},Oi.prototype.getCoordinate=function(){return this._p0},Oi.prototype.setNode=function(s){this._node=s},Oi.prototype.print=function(s){var c=Math.atan2(this._dy,this._dx),h=this.getClass().getName(),p=h.lastIndexOf("."),v=h.substring(p+1);s.print("  "+v+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+c+"   "+this._label)},Oi.prototype.compareTo=function(s){return this.compareDirection(s)},Oi.prototype.getDirectedCoordinate=function(){return this._p1},Oi.prototype.getDx=function(){return this._dx},Oi.prototype.getLabel=function(){return this._label},Oi.prototype.getEdge=function(){return this._edge},Oi.prototype.getQuadrant=function(){return this._quadrant},Oi.prototype.getNode=function(){return this._node},Oi.prototype.toString=function(){var s=Math.atan2(this._dy,this._dx),c=this.getClass().getName(),h=c.lastIndexOf(".");return"  "+c.substring(h+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+s+"   "+this._label},Oi.prototype.computeLabel=function(s){},Oi.prototype.init=function(s,c){this._p0=s,this._p1=c,this._dx=c.x-s.x,this._dy=c.y-s.y,this._quadrant=wr.quadrant(this._dx,this._dy),be.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Oi.prototype.interfaces_=function(){return[k]},Oi.prototype.getClass=function(){return Oi};var j2=function(s){function c(){var h=arguments[0],p=arguments[1];if(s.call(this,h),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=p,p)this.init(h.getCoordinate(0),h.getCoordinate(1));else{var v=h.getNumPoints()-1;this.init(h.getCoordinate(v),h.getCoordinate(v-1))}this.computeDirectedLabel()}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.getNextMin=function(){return this._nextMin},c.prototype.getDepth=function(h){return this._depth[h]},c.prototype.setVisited=function(h){this._isVisited=h},c.prototype.computeDirectedLabel=function(){this._label=new Bn(this._edge.getLabel()),this._isForward||this._label.flip()},c.prototype.getNext=function(){return this._next},c.prototype.setDepth=function(h,p){if(-999!==this._depth[h]&&this._depth[h]!==p)throw new zs("assigned depths do not match",this.getCoordinate());this._depth[h]=p},c.prototype.isInteriorAreaEdge=function(){for(var h=!0,p=0;p<2;p++)this._label.isArea(p)&&this._label.getLocation(p,lt.LEFT)===te.INTERIOR&&this._label.getLocation(p,lt.RIGHT)===te.INTERIOR||(h=!1);return h},c.prototype.setNextMin=function(h){this._nextMin=h},c.prototype.print=function(h){s.prototype.print.call(this,h),h.print(" "+this._depth[lt.LEFT]+"/"+this._depth[lt.RIGHT]),h.print(" ("+this.getDepthDelta()+")"),this._isInResult&&h.print(" inResult")},c.prototype.setMinEdgeRing=function(h){this._minEdgeRing=h},c.prototype.isLineEdge=function(){var h=this._label.isLine(0)||this._label.isLine(1),p=!this._label.isArea(0)||this._label.allPositionsEqual(0,te.EXTERIOR),v=!this._label.isArea(1)||this._label.allPositionsEqual(1,te.EXTERIOR);return h&&p&&v},c.prototype.setEdgeRing=function(h){this._edgeRing=h},c.prototype.getMinEdgeRing=function(){return this._minEdgeRing},c.prototype.getDepthDelta=function(){var h=this._edge.getDepthDelta();return this._isForward||(h=-h),h},c.prototype.setInResult=function(h){this._isInResult=h},c.prototype.getSym=function(){return this._sym},c.prototype.isForward=function(){return this._isForward},c.prototype.getEdge=function(){return this._edge},c.prototype.printEdge=function(h){this.print(h),h.print(" "),this._isForward?this._edge.print(h):this._edge.printReverse(h)},c.prototype.setSym=function(h){this._sym=h},c.prototype.setVisitedEdge=function(h){this.setVisited(h),this._sym.setVisited(h)},c.prototype.setEdgeDepths=function(h,p){var v=this.getEdge().getDepthDelta();this._isForward||(v=-v);var H=1;h===lt.LEFT&&(H=-1);var q=lt.opposite(h),le=p+v*H;this.setDepth(h,p),this.setDepth(q,le)},c.prototype.getEdgeRing=function(){return this._edgeRing},c.prototype.isInResult=function(){return this._isInResult},c.prototype.setNext=function(h){this._next=h},c.prototype.isVisited=function(){return this._isVisited},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c.depthFactor=function(h,p){return h===te.EXTERIOR&&p===te.INTERIOR?1:h===te.INTERIOR&&p===te.EXTERIOR?-1:0},c}(Oi),Pi=function(){};Pi.prototype.createNode=function(s){return new Hs(s,null)},Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi};var Kt=function(){this._edges=new pt,this._nodes=null,this._edgeEndList=new pt,0===arguments.length?this._nodes=new qn(new Pi):1===arguments.length&&(this._nodes=new qn(arguments[0]))};Kt.prototype.printEdges=function(s){s.println("Edges:");for(var c=0;c<this._edges.size();c++){s.println("edge "+c+":");var h=this._edges.get(c);h.print(s),h.eiList.print(s)}},Kt.prototype.find=function(s){return this._nodes.find(s)},Kt.prototype.addNode=function(){return arguments[0]instanceof Hs||arguments[0]instanceof B?this._nodes.addNode(arguments[0]):void 0},Kt.prototype.getNodeIterator=function(){return this._nodes.iterator()},Kt.prototype.linkResultDirectedEdges=function(){for(var s=this._nodes.iterator();s.hasNext();)s.next().getEdges().linkResultDirectedEdges()},Kt.prototype.debugPrintln=function(s){re.out.println(s)},Kt.prototype.isBoundaryNode=function(s,c){var h=this._nodes.find(c);if(null===h)return!1;var p=h.getLabel();return null!==p&&p.getLocation(s)===te.BOUNDARY},Kt.prototype.linkAllDirectedEdges=function(){for(var s=this._nodes.iterator();s.hasNext();)s.next().getEdges().linkAllDirectedEdges()},Kt.prototype.matchInSameDirection=function(s,c,h,p){return!!s.equals(h)&&qe.computeOrientation(s,c,p)===qe.COLLINEAR&&wr.quadrant(s,c)===wr.quadrant(h,p)},Kt.prototype.getEdgeEnds=function(){return this._edgeEndList},Kt.prototype.debugPrint=function(s){re.out.print(s)},Kt.prototype.getEdgeIterator=function(){return this._edges.iterator()},Kt.prototype.findEdgeInSameDirection=function(s,c){for(var h=0;h<this._edges.size();h++){var p=this._edges.get(h),v=p.getCoordinates();if(this.matchInSameDirection(s,c,v[0],v[1])||this.matchInSameDirection(s,c,v[v.length-1],v[v.length-2]))return p}return null},Kt.prototype.insertEdge=function(s){this._edges.add(s)},Kt.prototype.findEdgeEnd=function(s){for(var c=this.getEdgeEnds().iterator();c.hasNext();){var h=c.next();if(h.getEdge()===s)return h}return null},Kt.prototype.addEdges=function(s){for(var c=s.iterator();c.hasNext();){var h=c.next();this._edges.add(h);var p=new j2(h,!0),v=new j2(h,!1);p.setSym(v),v.setSym(p),this.add(p),this.add(v)}},Kt.prototype.add=function(s){this._nodes.add(s),this._edgeEndList.add(s)},Kt.prototype.getNodes=function(){return this._nodes.values()},Kt.prototype.findEdge=function(s,c){for(var h=0;h<this._edges.size();h++){var p=this._edges.get(h),v=p.getCoordinates();if(s.equals(v[0])&&c.equals(v[1]))return p}return null},Kt.prototype.interfaces_=function(){return[]},Kt.prototype.getClass=function(){return Kt},Kt.linkResultDirectedEdges=function(s){for(var c=s.iterator();c.hasNext();)c.next().getEdges().linkResultDirectedEdges()};var eo=function(){this._geometryFactory=null,this._shellList=new pt,this._geometryFactory=arguments[0]};eo.prototype.sortShellsAndHoles=function(s,c,h){for(var p=s.iterator();p.hasNext();){var v=p.next();v.isHole()?h.add(v):c.add(v)}},eo.prototype.computePolygons=function(s){for(var c=new pt,h=s.iterator();h.hasNext();){var p=h.next().toPolygon(this._geometryFactory);c.add(p)}return c},eo.prototype.placeFreeHoles=function(s,c){for(var h=c.iterator();h.hasNext();){var p=h.next();if(null===p.getShell()){var v=this.findEdgeRingContaining(p,s);if(null===v)throw new zs("unable to assign hole to a shell",p.getCoordinate(0));p.setShell(v)}}},eo.prototype.buildMinimalEdgeRings=function(s,c,h){for(var p=new pt,v=s.iterator();v.hasNext();){var H=v.next();if(H.getMaxNodeDegree()>2){H.linkDirectedEdgesForMinimalEdgeRings();var q=H.buildMinimalRings(),le=this.findShell(q);null!==le?(this.placePolygonHoles(le,q),c.add(le)):h.addAll(q)}else p.add(H)}return p},eo.prototype.containsPoint=function(s){for(var c=this._shellList.iterator();c.hasNext();)if(c.next().containsPoint(s))return!0;return!1},eo.prototype.buildMaximalEdgeRings=function(s){for(var c=new pt,h=s.iterator();h.hasNext();){var p=h.next();if(p.isInResult()&&p.getLabel().isArea()&&null===p.getEdgeRing()){var v=new Bu(p,this._geometryFactory);c.add(v),v.setInResult()}}return c},eo.prototype.placePolygonHoles=function(s,c){for(var h=c.iterator();h.hasNext();){var p=h.next();p.isHole()&&p.setShell(s)}},eo.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},eo.prototype.findEdgeRingContaining=function(s,c){for(var h=s.getLinearRing(),p=h.getEnvelopeInternal(),v=h.getCoordinateN(0),H=null,q=null,le=c.iterator();le.hasNext();){var De=le.next(),je=De.getLinearRing(),rt=je.getEnvelopeInternal();null!==H&&(q=H.getLinearRing().getEnvelopeInternal());var ot=!1;rt.contains(p)&&qe.isPointInRing(v,je.getCoordinates())&&(ot=!0),ot&&(null===H||q.contains(rt))&&(H=De)}return H},eo.prototype.findShell=function(s){for(var c=0,h=null,p=s.iterator();p.hasNext();){var v=p.next();v.isHole()||(h=v,c++)}return be.isTrue(c<=1,"found two shells in MinimalEdgeRing list"),h},eo.prototype.add=function(){if(1===arguments.length){var s=arguments[0];this.add(s.getEdgeEnds(),s.getNodes())}else if(2===arguments.length){var c=arguments[0];Kt.linkResultDirectedEdges(arguments[1]);var p=this.buildMaximalEdgeRings(c),v=new pt,H=this.buildMinimalEdgeRings(p,this._shellList,v);this.sortShellsAndHoles(H,this._shellList,v),this.placeFreeHoles(this._shellList,v)}},eo.prototype.interfaces_=function(){return[]},eo.prototype.getClass=function(){return eo};var Ri=function(){};Ri.prototype.getBounds=function(){},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri};var lo=function(){this._bounds=null,this._item=null;var c=arguments[1];this._bounds=arguments[0],this._item=c};lo.prototype.getItem=function(){return this._item},lo.prototype.getBounds=function(){return this._bounds},lo.prototype.interfaces_=function(){return[Ri,P]},lo.prototype.getClass=function(){return lo};var _t=function(){this._size=null,this._items=null,this._size=0,this._items=new pt,this._items.add(null)};_t.prototype.poll=function(){if(this.isEmpty())return null;var s=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),s},_t.prototype.size=function(){return this._size},_t.prototype.reorder=function(s){for(var c=null,h=this._items.get(s);2*s<=this._size&&((c=2*s)!==this._size&&this._items.get(c+1).compareTo(this._items.get(c))<0&&c++,this._items.get(c).compareTo(h)<0);s=c)this._items.set(s,this._items.get(c));this._items.set(s,h)},_t.prototype.clear=function(){this._size=0,this._items.clear()},_t.prototype.isEmpty=function(){return 0===this._size},_t.prototype.add=function(s){this._items.add(null),this._size+=1;var c=this._size;for(this._items.set(0,s);s.compareTo(this._items.get(Math.trunc(c/2)))<0;c/=2)this._items.set(c,this._items.get(Math.trunc(c/2)));this._items.set(c,s)},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t};var Sa=function(){};Sa.prototype.visitItem=function(s){},Sa.prototype.interfaces_=function(){return[]},Sa.prototype.getClass=function(){return Sa};var Hn=function(){};Hn.prototype.insert=function(s,c){},Hn.prototype.remove=function(s,c){},Hn.prototype.query=function(){},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn};var Qr=function(){this._childBoundables=new pt,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])},G2={serialVersionUID:{configurable:!0}};Qr.prototype.getLevel=function(){return this._level},Qr.prototype.size=function(){return this._childBoundables.size()},Qr.prototype.getChildBoundables=function(){return this._childBoundables},Qr.prototype.addChildBoundable=function(s){be.isTrue(null===this._bounds),this._childBoundables.add(s)},Qr.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Qr.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Qr.prototype.interfaces_=function(){return[Ri,P]},Qr.prototype.getClass=function(){return Qr},G2.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Qr,G2);var cs=function(){};cs.reverseOrder=function(){return{compare:function(s,c){return c.compareTo(s)}}},cs.min=function(s){return cs.sort(s),s.get(0)},cs.sort=function(s,c){var h=s.toArray();c?aa.sort(h,c):aa.sort(h);for(var p=s.iterator(),v=0,H=h.length;v<H;v++)p.next(),p.set(h[v])},cs.singletonList=function(s){var c=new pt;return c.add(s),c};var fi=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var c=arguments[1],h=arguments[2];this._boundable1=arguments[0],this._boundable2=c,this._itemDistance=h,this._distance=this.distance()};fi.prototype.expandToQueue=function(s,c){var h=fi.isComposite(this._boundable1),p=fi.isComposite(this._boundable2);if(h&&p)return fi.area(this._boundable1)>fi.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,s,c),null):(this.expand(this._boundable2,this._boundable1,s,c),null);if(h)return this.expand(this._boundable1,this._boundable2,s,c),null;if(p)return this.expand(this._boundable2,this._boundable1,s,c),null;throw new O("neither boundable is composite")},fi.prototype.isLeaves=function(){return!(fi.isComposite(this._boundable1)||fi.isComposite(this._boundable2))},fi.prototype.compareTo=function(s){return this._distance<s._distance?-1:this._distance>s._distance?1:0},fi.prototype.expand=function(s,c,h,p){for(var v=s.getChildBoundables().iterator();v.hasNext();){var H=v.next(),q=new fi(H,c,this._itemDistance);q.getDistance()<p&&h.add(q)}},fi.prototype.getBoundable=function(s){return 0===s?this._boundable1:this._boundable2},fi.prototype.getDistance=function(){return this._distance},fi.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},fi.prototype.interfaces_=function(){return[k]},fi.prototype.getClass=function(){return fi},fi.area=function(s){return s.getBounds().getArea()},fi.isComposite=function(s){return s instanceof Qr};var rn=function s(){if(this._root=null,this._built=!1,this._itemBoundables=new pt,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=s.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var h=arguments[0];be.isTrue(h>1,"Node capacity must be greater than 1"),this._nodeCapacity=h}},p1={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};rn.prototype.getNodeCapacity=function(){return this._nodeCapacity},rn.prototype.lastNode=function(s){return s.get(s.size()-1)},rn.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var s=0,c=arguments[0].getChildBoundables().iterator();c.hasNext();){var h=c.next();h instanceof Qr?s+=this.size(h):h instanceof lo&&(s+=1)}return s}},rn.prototype.removeItem=function(s,c){for(var h=null,p=s.getChildBoundables().iterator();p.hasNext();){var v=p.next();v instanceof lo&&v.getItem()===c&&(h=v)}return null!==h&&(s.getChildBoundables().remove(h),!0)},rn.prototype.itemsTree=function(){if(0===arguments.length){this.build();var s=this.itemsTree(this._root);return null===s?new pt:s}if(1===arguments.length){for(var c=arguments[0],h=new pt,p=c.getChildBoundables().iterator();p.hasNext();){var v=p.next();if(v instanceof Qr){var H=this.itemsTree(v);null!==H&&h.add(H)}else v instanceof lo?h.add(v.getItem()):be.shouldNeverReachHere()}return h.size()<=0?null:h}},rn.prototype.insert=function(s,c){be.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new lo(s,c))},rn.prototype.boundablesAtLevel=function(){if(1===arguments.length){var s=arguments[0],c=new pt;return this.boundablesAtLevel(s,this._root,c),c}if(3===arguments.length){var h=arguments[0],p=arguments[1],v=arguments[2];if(be.isTrue(h>-2),p.getLevel()===h)return v.add(p),null;for(var H=p.getChildBoundables().iterator();H.hasNext();){var q=H.next();q instanceof Qr?this.boundablesAtLevel(h,q,v):(be.isTrue(q instanceof lo),-1===h&&v.add(q))}return null}},rn.prototype.query=function(){if(1===arguments.length){var s=arguments[0];this.build();var c=new pt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),s)&&this.query(s,this._root,c),c}if(2===arguments.length){var h=arguments[0],p=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),h)&&this.query(h,this._root,p)}else if(3===arguments.length)if(Pe(arguments[2],Sa)&&arguments[0]instanceof Object&&arguments[1]instanceof Qr)for(var v=arguments[0],q=arguments[2],le=arguments[1].getChildBoundables(),De=0;De<le.size();De++){var je=le.get(De);this.getIntersectsOp().intersects(je.getBounds(),v)&&(je instanceof Qr?this.query(v,je,q):je instanceof lo?q.visitItem(je.getItem()):be.shouldNeverReachHere())}else if(Pe(arguments[2],_i)&&arguments[0]instanceof Object&&arguments[1]instanceof Qr)for(var rt=arguments[0],bt=arguments[2],xt=arguments[1].getChildBoundables(),kt=0;kt<xt.size();kt++){var Zt=xt.get(kt);this.getIntersectsOp().intersects(Zt.getBounds(),rt)&&(Zt instanceof Qr?this.query(rt,Zt,bt):Zt instanceof lo?bt.add(Zt.getItem()):be.shouldNeverReachHere())}},rn.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},rn.prototype.getRoot=function(){return this.build(),this._root},rn.prototype.remove=function(){if(2===arguments.length){var s=arguments[0],c=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),s)&&this.remove(s,this._root,c)}if(3===arguments.length){var h=arguments[0],p=arguments[1],v=arguments[2],H=this.removeItem(p,v);if(H)return!0;for(var q=null,le=p.getChildBoundables().iterator();le.hasNext();){var De=le.next();if(this.getIntersectsOp().intersects(De.getBounds(),h)&&De instanceof Qr&&(H=this.remove(h,De,v))){q=De;break}}return null!==q&&q.getChildBoundables().isEmpty()&&p.getChildBoundables().remove(q),H}},rn.prototype.createHigherLevels=function(s,c){be.isTrue(!s.isEmpty());var h=this.createParentBoundables(s,c+1);return 1===h.size()?h.get(0):this.createHigherLevels(h,c+1)},rn.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var s=0,c=arguments[0].getChildBoundables().iterator();c.hasNext();){var h=c.next();if(h instanceof Qr){var p=this.depth(h);p>s&&(s=p)}}return s+1}},rn.prototype.createParentBoundables=function(s,c){be.isTrue(!s.isEmpty());var h=new pt;h.add(this.createNode(c));var p=new pt(s);cs.sort(p,this.getComparator());for(var v=p.iterator();v.hasNext();){var H=v.next();this.lastNode(h).getChildBoundables().size()===this.getNodeCapacity()&&h.add(this.createNode(c)),this.lastNode(h).addChildBoundable(H)}return h},rn.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},rn.prototype.interfaces_=function(){return[P]},rn.prototype.getClass=function(){return rn},rn.compareDoubles=function(s,c){return s>c?1:s<c?-1:0},p1.IntersectsOp.get=function(){return _s},p1.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},p1.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(rn,p1);var _s=function(){},Us=function(){};Us.prototype.distance=function(s,c){},Us.prototype.interfaces_=function(){return[]},Us.prototype.getClass=function(){return Us};var vc=function(s){function c(p){s.call(this,p=p||c.DEFAULT_NODE_CAPACITY)}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var h={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return c.prototype.createParentBoundablesFromVerticalSlices=function(p,v){be.isTrue(p.length>0);for(var H=new pt,q=0;q<p.length;q++)H.addAll(this.createParentBoundablesFromVerticalSlice(p[q],v));return H},c.prototype.createNode=function(p){return new cn(p)},c.prototype.size=function(){return 0===arguments.length?s.prototype.size.call(this):s.prototype.size.apply(this,arguments)},c.prototype.insert=function(){if(2!==arguments.length)return s.prototype.insert.apply(this,arguments);var p=arguments[0],v=arguments[1];if(p.isNull())return null;s.prototype.insert.call(this,p,v)},c.prototype.getIntersectsOp=function(){return c.intersectsOp},c.prototype.verticalSlices=function(p,v){for(var H=Math.trunc(Math.ceil(p.size()/v)),q=new Array(v).fill(null),le=p.iterator(),De=0;De<v;De++){q[De]=new pt;for(var je=0;le.hasNext()&&je<H;){var rt=le.next();q[De].add(rt),je++}}return q},c.prototype.query=function(){if(1===arguments.length)return s.prototype.query.call(this,arguments[0]);2===arguments.length?s.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(Pe(arguments[2],Sa)&&arguments[0]instanceof Object&&arguments[1]instanceof Qr||Pe(arguments[2],_i)&&arguments[0]instanceof Object&&arguments[1]instanceof Qr)&&s.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},c.prototype.getComparator=function(){return c.yComparator},c.prototype.createParentBoundablesFromVerticalSlice=function(p,v){return s.prototype.createParentBoundables.call(this,p,v)},c.prototype.remove=function(){return 2===arguments.length?s.prototype.remove.call(this,arguments[0],arguments[1]):s.prototype.remove.apply(this,arguments)},c.prototype.depth=function(){return 0===arguments.length?s.prototype.depth.call(this):s.prototype.depth.apply(this,arguments)},c.prototype.createParentBoundables=function(p,v){be.isTrue(!p.isEmpty());var H=Math.trunc(Math.ceil(p.size()/this.getNodeCapacity())),q=new pt(p);cs.sort(q,c.xComparator);var le=this.verticalSlices(q,Math.trunc(Math.ceil(Math.sqrt(H))));return this.createParentBoundablesFromVerticalSlices(le,v)},c.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Pe(arguments[0],Us)){var p=arguments[0],v=new fi(this.getRoot(),this.getRoot(),p);return this.nearestNeighbour(v)}if(arguments[0]instanceof fi)return this.nearestNeighbour(arguments[0],z.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof c&&Pe(arguments[1],Us)){var q=arguments[0],le=arguments[1],De=new fi(this.getRoot(),q.getRoot(),le);return this.nearestNeighbour(De)}if(arguments[0]instanceof fi&&"number"==typeof arguments[1]){var je=arguments[0],rt=arguments[1],ot=null,bt=new _t;for(bt.add(je);!bt.isEmpty()&&rt>0;){var xt=bt.poll(),kt=xt.getDistance();if(kt>=rt)break;xt.isLeaves()?(rt=kt,ot=xt):xt.expandToQueue(bt,rt)}return[ot.getBoundable(0).getItem(),ot.getBoundable(1).getItem()]}}else if(3===arguments.length){var on=arguments[2],Or=new lo(arguments[0],arguments[1]),Di=new fi(this.getRoot(),Or,on);return this.nearestNeighbour(Di)[0]}},c.prototype.interfaces_=function(){return[Hn,P]},c.prototype.getClass=function(){return c},c.centreX=function(p){return c.avg(p.getMinX(),p.getMaxX())},c.avg=function(p,v){return(p+v)/2},c.centreY=function(p){return c.avg(p.getMinY(),p.getMaxY())},h.STRtreeNode.get=function(){return cn},h.serialVersionUID.get=function(){return 0x39920f7d5f261e0},h.xComparator.get=function(){return{interfaces_:function(){return[oe]},compare:function(p,v){return s.compareDoubles(c.centreX(p.getBounds()),c.centreX(v.getBounds()))}}},h.yComparator.get=function(){return{interfaces_:function(){return[oe]},compare:function(p,v){return s.compareDoubles(c.centreY(p.getBounds()),c.centreY(v.getBounds()))}}},h.intersectsOp.get=function(){return{interfaces_:function(){return[s.IntersectsOp]},intersects:function(p,v){return p.intersects(v)}}},h.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(c,h),c}(rn),cn=function(s){function c(){s.call(this,arguments[0])}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.computeBounds=function(){for(var h=null,p=this.getChildBoundables().iterator();p.hasNext();){var v=p.next();null===h?h=new He(v.getBounds()):h.expandToInclude(v.getBounds())}return h},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(Qr),Fi=function(){};Fi.prototype.interfaces_=function(){return[]},Fi.prototype.getClass=function(){return Fi},Fi.relativeSign=function(s,c){return s<c?-1:s>c?1:0},Fi.compare=function(s,c,h){if(c.equals2D(h))return 0;var p=Fi.relativeSign(c.x,h.x),v=Fi.relativeSign(c.y,h.y);switch(s){case 0:return Fi.compareValue(p,v);case 1:return Fi.compareValue(v,p);case 2:return Fi.compareValue(v,-p);case 3:return Fi.compareValue(-p,v);case 4:return Fi.compareValue(-p,-v);case 5:return Fi.compareValue(-v,-p);case 6:return Fi.compareValue(-v,p);case 7:return Fi.compareValue(p,-v)}return be.shouldNeverReachHere("invalid octant value"),0},Fi.compareValue=function(s,c){return s<0?-1:s>0?1:c<0?-1:c>0?1:0};var La=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var s=arguments[0],c=arguments[1],h=arguments[2],p=arguments[3];this._segString=s,this.coord=new B(c),this.segmentIndex=h,this._segmentOctant=p,this._isInterior=!c.equals2D(s.getCoordinate(h))};La.prototype.getCoordinate=function(){return this.coord},La.prototype.print=function(s){s.print(this.coord),s.print(" seg # = "+this.segmentIndex)},La.prototype.compareTo=function(s){var c=s;return this.segmentIndex<c.segmentIndex?-1:this.segmentIndex>c.segmentIndex?1:this.coord.equals2D(c.coord)?0:Fi.compare(this._segmentOctant,this.coord,c.coord)},La.prototype.isEndPoint=function(s){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===s},La.prototype.isInterior=function(){return this._isInterior},La.prototype.interfaces_=function(){return[k]},La.prototype.getClass=function(){return La};var Br=function(){this._nodeMap=new $,this._edge=null,this._edge=arguments[0]};Br.prototype.getSplitCoordinates=function(){var s=new ns;this.addEndpoints();for(var c=this.iterator(),h=c.next();c.hasNext();){var p=c.next();this.addEdgeCoordinates(h,p,s),h=p}return s.toCoordinateArray()},Br.prototype.addCollapsedNodes=function(){var s=new pt;this.findCollapsesFromInsertedNodes(s),this.findCollapsesFromExistingVertices(s);for(var c=s.iterator();c.hasNext();){var h=c.next().intValue();this.add(this._edge.getCoordinate(h),h)}},Br.prototype.print=function(s){s.println("Intersections:");for(var c=this.iterator();c.hasNext();)c.next().print(s)},Br.prototype.findCollapsesFromExistingVertices=function(s){for(var c=0;c<this._edge.size()-2;c++){var h=this._edge.getCoordinate(c),p=this._edge.getCoordinate(c+2);h.equals2D(p)&&s.add(new de(c+1))}},Br.prototype.addEdgeCoordinates=function(s,c,h){var p=this._edge.getCoordinate(c.segmentIndex),v=c.isInterior()||!c.coord.equals2D(p);h.add(new B(s.coord),!1);for(var H=s.segmentIndex+1;H<=c.segmentIndex;H++)h.add(this._edge.getCoordinate(H));v&&h.add(new B(c.coord))},Br.prototype.iterator=function(){return this._nodeMap.values().iterator()},Br.prototype.addSplitEdges=function(s){this.addEndpoints(),this.addCollapsedNodes();for(var c=this.iterator(),h=c.next();c.hasNext();){var p=c.next(),v=this.createSplitEdge(h,p);s.add(v),h=p}},Br.prototype.findCollapseIndex=function(s,c,h){if(!s.coord.equals2D(c.coord))return!1;var p=c.segmentIndex-s.segmentIndex;return c.isInterior()||p--,1===p&&(h[0]=s.segmentIndex+1,!0)},Br.prototype.findCollapsesFromInsertedNodes=function(s){for(var c=new Array(1).fill(null),h=this.iterator(),p=h.next();h.hasNext();){var v=h.next();this.findCollapseIndex(p,v,c)&&s.add(new de(c[0])),p=v}},Br.prototype.getEdge=function(){return this._edge},Br.prototype.addEndpoints=function(){var s=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(s),s)},Br.prototype.createSplitEdge=function(s,c){var h=c.segmentIndex-s.segmentIndex+2,p=this._edge.getCoordinate(c.segmentIndex),v=c.isInterior()||!c.coord.equals2D(p);v||h--;var H=new Array(h).fill(null),q=0;H[q++]=new B(s.coord);for(var le=s.segmentIndex+1;le<=c.segmentIndex;le++)H[q++]=this._edge.getCoordinate(le);return v&&(H[q]=new B(c.coord)),new Mi(H,this._edge.getData())},Br.prototype.add=function(s,c){var h=new La(this._edge,s,c,this._edge.getSegmentOctant(c)),p=this._nodeMap.get(h);return null!==p?(be.isTrue(p.coord.equals2D(s),"Found equal nodes with different coordinates"),p):(this._nodeMap.put(h,h),h)},Br.prototype.checkSplitEdgesCorrectness=function(s){var c=this._edge.getCoordinates(),h=s.get(0).getCoordinate(0);if(!h.equals2D(c[0]))throw new we("bad split edge start point at "+h);var p=s.get(s.size()-1).getCoordinates(),v=p[p.length-1];if(!v.equals2D(c[c.length-1]))throw new we("bad split edge end point at "+v)},Br.prototype.interfaces_=function(){return[]},Br.prototype.getClass=function(){return Br};var Za=function(){};Za.prototype.interfaces_=function(){return[]},Za.prototype.getClass=function(){return Za},Za.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var s=arguments[0],c=arguments[1];if(0===s&&0===c)throw new O("Cannot compute the octant for point ( "+s+", "+c+" )");var h=Math.abs(s),p=Math.abs(c);return s>=0?c>=0?h>=p?0:1:h>=p?7:6:c>=0?h>=p?3:2:h>=p?4:5}if(arguments[0]instanceof B&&arguments[1]instanceof B){var v=arguments[0],H=arguments[1],q=H.x-v.x,le=H.y-v.y;if(0===q&&0===le)throw new O("Cannot compute the octant for two identical points "+v);return Za.octant(q,le)}};var ha=function(){};ha.prototype.getCoordinates=function(){},ha.prototype.size=function(){},ha.prototype.getCoordinate=function(s){},ha.prototype.isClosed=function(){},ha.prototype.setData=function(s){},ha.prototype.getData=function(){},ha.prototype.interfaces_=function(){return[]},ha.prototype.getClass=function(){return ha};var kr=function(){};kr.prototype.addIntersection=function(s,c){},kr.prototype.interfaces_=function(){return[ha]},kr.prototype.getClass=function(){return kr};var Mi=function(){this._nodeList=new Br(this),this._pts=null,this._data=null;var c=arguments[1];this._pts=arguments[0],this._data=c};Mi.prototype.getCoordinates=function(){return this._pts},Mi.prototype.size=function(){return this._pts.length},Mi.prototype.getCoordinate=function(s){return this._pts[s]},Mi.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Mi.prototype.getSegmentOctant=function(s){return s===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(s),this.getCoordinate(s+1))},Mi.prototype.setData=function(s){this._data=s},Mi.prototype.safeOctant=function(s,c){return s.equals2D(c)?0:Za.octant(s,c)},Mi.prototype.getData=function(){return this._data},Mi.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var p=arguments[1],H=new B(arguments[0].getIntersection(arguments[3]));this.addIntersection(H,p)}},Mi.prototype.toString=function(){return $e.toLineString(new fn(this._pts))},Mi.prototype.getNodeList=function(){return this._nodeList},Mi.prototype.addIntersectionNode=function(s,c){var h=c,p=h+1;return p<this._pts.length&&s.equals2D(this._pts[p])&&(h=p),this._nodeList.add(s,h)},Mi.prototype.addIntersections=function(s,c,h){for(var p=0;p<s.getIntersectionNum();p++)this.addIntersection(s,c,h,p)},Mi.prototype.interfaces_=function(){return[kr]},Mi.prototype.getClass=function(){return Mi},Mi.getNodedSubstrings=function(){if(1===arguments.length){var s=arguments[0],c=new pt;return Mi.getNodedSubstrings(s,c),c}if(2===arguments.length)for(var p=arguments[1],v=arguments[0].iterator();v.hasNext();)v.next().getNodeList().addSplitEdges(p)};var zt=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new B,this.p1=new B;else if(1===arguments.length){var s=arguments[0];this.p0=new B(s.p0),this.p1=new B(s.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var p=arguments[2],v=arguments[3];this.p0=new B(arguments[0],arguments[1]),this.p1=new B(p,v)}},A3={serialVersionUID:{configurable:!0}};zt.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},zt.prototype.orientationIndex=function(){if(arguments[0]instanceof zt){var s=arguments[0],c=qe.orientationIndex(this.p0,this.p1,s.p0),h=qe.orientationIndex(this.p0,this.p1,s.p1);return c>=0&&h>=0||c<=0&&h<=0?Math.max(c,h):0}if(arguments[0]instanceof B)return qe.orientationIndex(this.p0,this.p1,arguments[0])},zt.prototype.toGeometry=function(s){return s.createLineString([this.p0,this.p1])},zt.prototype.isVertical=function(){return this.p0.x===this.p1.x},zt.prototype.equals=function(s){if(!(s instanceof zt))return!1;var c=s;return this.p0.equals(c.p0)&&this.p1.equals(c.p1)},zt.prototype.intersection=function(s){var c=new Ve;return c.computeIntersection(this.p0,this.p1,s.p0,s.p1),c.hasIntersection()?c.getIntersection(0):null},zt.prototype.project=function(){if(arguments[0]instanceof B){var s=arguments[0];if(s.equals(this.p0)||s.equals(this.p1))return new B(s);var c=this.projectionFactor(s),h=new B;return h.x=this.p0.x+c*(this.p1.x-this.p0.x),h.y=this.p0.y+c*(this.p1.y-this.p0.y),h}if(arguments[0]instanceof zt){var p=arguments[0],v=this.projectionFactor(p.p0),H=this.projectionFactor(p.p1);if(v>=1&&H>=1||v<=0&&H<=0)return null;var q=this.project(p.p0);v<0&&(q=this.p0),v>1&&(q=this.p1);var le=this.project(p.p1);return H<0&&(le=this.p0),H>1&&(le=this.p1),new zt(q,le)}},zt.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},zt.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},zt.prototype.getCoordinate=function(s){return 0===s?this.p0:this.p1},zt.prototype.distancePerpendicular=function(s){return qe.distancePointLinePerpendicular(s,this.p0,this.p1)},zt.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},zt.prototype.midPoint=function(){return zt.midPoint(this.p0,this.p1)},zt.prototype.projectionFactor=function(s){if(s.equals(this.p0))return 0;if(s.equals(this.p1))return 1;var c=this.p1.x-this.p0.x,h=this.p1.y-this.p0.y,p=c*c+h*h;return p<=0?z.NaN:((s.x-this.p0.x)*c+(s.y-this.p0.y)*h)/p},zt.prototype.closestPoints=function(s){var c=this.intersection(s);if(null!==c)return[c,c];var h=new Array(2).fill(null),p=z.MAX_VALUE,v=null,H=this.closestPoint(s.p0);p=H.distance(s.p0),h[0]=H,h[1]=s.p0;var q=this.closestPoint(s.p1);(v=q.distance(s.p1))<p&&(p=v,h[0]=q,h[1]=s.p1);var le=s.closestPoint(this.p0);(v=le.distance(this.p0))<p&&(p=v,h[0]=this.p0,h[1]=le);var De=s.closestPoint(this.p1);return(v=De.distance(this.p1))<p&&(p=v,h[0]=this.p1,h[1]=De),h},zt.prototype.closestPoint=function(s){var c=this.projectionFactor(s);return c>0&&c<1?this.project(s):this.p0.distance(s)<this.p1.distance(s)?this.p0:this.p1},zt.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},zt.prototype.getLength=function(){return this.p0.distance(this.p1)},zt.prototype.compareTo=function(s){var c=s,h=this.p0.compareTo(c.p0);return 0!==h?h:this.p1.compareTo(c.p1)},zt.prototype.reverse=function(){var s=this.p0;this.p0=this.p1,this.p1=s},zt.prototype.equalsTopo=function(s){return this.p0.equals(s.p0)&&(this.p1.equals(s.p1)||this.p0.equals(s.p1))&&this.p1.equals(s.p0)},zt.prototype.lineIntersection=function(s){try{return _e.intersection(this.p0,this.p1,s.p0,s.p1)}catch(c){if(!(c instanceof X))throw c}return null},zt.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},zt.prototype.pointAlongOffset=function(s,c){var h=this.p0.x+s*(this.p1.x-this.p0.x),p=this.p0.y+s*(this.p1.y-this.p0.y),v=this.p1.x-this.p0.x,H=this.p1.y-this.p0.y,q=Math.sqrt(v*v+H*H),le=0,De=0;if(0!==c){if(q<=0)throw new Error("Cannot compute offset from zero-length line segment");le=c*v/q,De=c*H/q}return new B(h-De,p+le)},zt.prototype.setCoordinates=function(){if(1===arguments.length){var s=arguments[0];this.setCoordinates(s.p0,s.p1)}else if(2===arguments.length){var c=arguments[0],h=arguments[1];this.p0.x=c.x,this.p0.y=c.y,this.p1.x=h.x,this.p1.y=h.y}},zt.prototype.segmentFraction=function(s){var c=this.projectionFactor(s);return c<0?c=0:(c>1||z.isNaN(c))&&(c=1),c},zt.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},zt.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},zt.prototype.distance=function(){if(arguments[0]instanceof zt){var s=arguments[0];return qe.distanceLineLine(this.p0,this.p1,s.p0,s.p1)}if(arguments[0]instanceof B)return qe.distancePointLine(arguments[0],this.p0,this.p1)},zt.prototype.pointAlong=function(s){var c=new B;return c.x=this.p0.x+s*(this.p1.x-this.p0.x),c.y=this.p0.y+s*(this.p1.y-this.p0.y),c},zt.prototype.hashCode=function(){var s=z.doubleToLongBits(this.p0.x);s^=31*z.doubleToLongBits(this.p0.y);var c=Math.trunc(s)^Math.trunc(s>>32),h=z.doubleToLongBits(this.p1.x);return h^=31*z.doubleToLongBits(this.p1.y),c^Math.trunc(h)^Math.trunc(h>>32)},zt.prototype.interfaces_=function(){return[k,P]},zt.prototype.getClass=function(){return zt},zt.midPoint=function(s,c){return new B((s.x+c.x)/2,(s.y+c.y)/2)},A3.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(zt,A3);var da=function(){this.tempEnv1=new He,this.tempEnv2=new He,this._overlapSeg1=new zt,this._overlapSeg2=new zt};da.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var h=arguments[2],p=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),h.getLineSegment(p,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},da.prototype.interfaces_=function(){return[]},da.prototype.getClass=function(){return da};var hi=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var c=arguments[1],h=arguments[2],p=arguments[3];this._pts=arguments[0],this._start=c,this._end=h,this._context=p};hi.prototype.getLineSegment=function(s,c){c.p0=this._pts[s],c.p1=this._pts[s+1]},hi.prototype.computeSelect=function(s,c,h,p){if(p.tempEnv1.init(this._pts[c],this._pts[h]),h-c==1)return p.select(this,c),null;if(!s.intersects(p.tempEnv1))return null;var q=Math.trunc((c+h)/2);c<q&&this.computeSelect(s,c,q,p),q<h&&this.computeSelect(s,q,h,p)},hi.prototype.getCoordinates=function(){for(var s=new Array(this._end-this._start+1).fill(null),c=0,h=this._start;h<=this._end;h++)s[c++]=this._pts[h];return s},hi.prototype.computeOverlaps=function(s,c){this.computeOverlapsInternal(this._start,this._end,s,s._start,s._end,c)},hi.prototype.setId=function(s){this._id=s},hi.prototype.select=function(s,c){this.computeSelect(s,this._start,this._end,c)},hi.prototype.getEnvelope=function(){return null===this._env&&(this._env=new He(this._pts[this._start],this._pts[this._end])),this._env},hi.prototype.getEndIndex=function(){return this._end},hi.prototype.getStartIndex=function(){return this._start},hi.prototype.getContext=function(){return this._context},hi.prototype.getId=function(){return this._id},hi.prototype.computeOverlapsInternal=function(s,c,h,p,v,H){var q=this._pts[s],le=this._pts[c],De=h._pts[p],je=h._pts[v];if(c-s==1&&v-p==1)return H.overlap(this,s,h,p),null;if(H.tempEnv1.init(q,le),H.tempEnv2.init(De,je),!H.tempEnv1.intersects(H.tempEnv2))return null;var rt=Math.trunc((s+c)/2),ot=Math.trunc((p+v)/2);s<rt&&(p<ot&&this.computeOverlapsInternal(s,rt,h,p,ot,H),ot<v&&this.computeOverlapsInternal(s,rt,h,ot,v,H)),rt<c&&(p<ot&&this.computeOverlapsInternal(rt,c,h,p,ot,H),ot<v&&this.computeOverlapsInternal(rt,c,h,ot,v,H))},hi.prototype.interfaces_=function(){return[]},hi.prototype.getClass=function(){return hi};var No=function(){};No.prototype.interfaces_=function(){return[]},No.prototype.getClass=function(){return No},No.getChainStartIndices=function(s){var c=0,h=new pt;h.add(new de(c));do{var p=No.findChainEnd(s,c);h.add(new de(p)),c=p}while(c<s.length-1);return No.toIntArray(h)},No.findChainEnd=function(s,c){for(var h=c;h<s.length-1&&s[h].equals2D(s[h+1]);)h++;if(h>=s.length-1)return s.length-1;for(var p=wr.quadrant(s[h],s[h+1]),v=c+1;v<s.length&&(s[v-1].equals2D(s[v])||wr.quadrant(s[v-1],s[v])===p);)v++;return v-1},No.getChains=function(){if(1===arguments.length)return No.getChains(arguments[0],null);if(2===arguments.length){for(var c=arguments[0],h=arguments[1],p=new pt,v=No.getChainStartIndices(c),H=0;H<v.length-1;H++){var q=new hi(c,v[H],v[H+1],h);p.add(q)}return p}},No.toIntArray=function(s){for(var c=new Array(s.size()).fill(null),h=0;h<c.length;h++)c[h]=s.get(h).intValue();return c};var Da=function(){};Da.prototype.computeNodes=function(s){},Da.prototype.getNodedSubstrings=function(){},Da.prototype.interfaces_=function(){return[]},Da.prototype.getClass=function(){return Da};var h2=function(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};h2.prototype.setSegmentIntersector=function(s){this._segInt=s},h2.prototype.interfaces_=function(){return[Da]},h2.prototype.getClass=function(){return h2};var _c=function(s){function c(p){p?s.call(this,p):s.call(this),this._monoChains=new pt,this._index=new vc,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var h={SegmentOverlapAction:{configurable:!0}};return c.prototype.getMonotoneChains=function(){return this._monoChains},c.prototype.getNodedSubstrings=function(){return Mi.getNodedSubstrings(this._nodedSegStrings)},c.prototype.getIndex=function(){return this._index},c.prototype.add=function(p){for(var v=No.getChains(p.getCoordinates(),p).iterator();v.hasNext();){var H=v.next();H.setId(this._idCounter++),this._index.insert(H.getEnvelope(),H),this._monoChains.add(H)}},c.prototype.computeNodes=function(p){this._nodedSegStrings=p;for(var v=p.iterator();v.hasNext();)this.add(v.next());this.intersectChains()},c.prototype.intersectChains=function(){for(var p=new d2(this._segInt),v=this._monoChains.iterator();v.hasNext();)for(var H=v.next(),q=this._index.query(H.getEnvelope()).iterator();q.hasNext();){var le=q.next();if(le.getId()>H.getId()&&(H.computeOverlaps(le,p),this._nOverlaps++),this._segInt.isDone())return null}},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},h.SegmentOverlapAction.get=function(){return d2},Object.defineProperties(c,h),c}(h2),d2=function(s){function c(){s.call(this),this._si=null,this._si=arguments[0]}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.overlap=function(){if(4!==arguments.length)return s.prototype.overlap.apply(this,arguments);var p=arguments[1],v=arguments[2],H=arguments[3],q=arguments[0].getContext(),le=v.getContext();this._si.processIntersections(q,p,le,H)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(da),Dn=function s(){if(this._quadrantSegments=s.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=s.CAP_ROUND,this._joinStyle=s.JOIN_ROUND,this._mitreLimit=s.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=s.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var p=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(p)}else if(4===arguments.length){var H=arguments[1],q=arguments[2],le=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(H),this.setJoinStyle(q),this.setMitreLimit(le)}},ko={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Dn.prototype.getEndCapStyle=function(){return this._endCapStyle},Dn.prototype.isSingleSided=function(){return this._isSingleSided},Dn.prototype.setQuadrantSegments=function(s){this._quadrantSegments=s,0===this._quadrantSegments&&(this._joinStyle=Dn.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Dn.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),s<=0&&(this._quadrantSegments=1),this._joinStyle!==Dn.JOIN_ROUND&&(this._quadrantSegments=Dn.DEFAULT_QUADRANT_SEGMENTS)},Dn.prototype.getJoinStyle=function(){return this._joinStyle},Dn.prototype.setJoinStyle=function(s){this._joinStyle=s},Dn.prototype.setSimplifyFactor=function(s){this._simplifyFactor=s<0?0:s},Dn.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Dn.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Dn.prototype.setEndCapStyle=function(s){this._endCapStyle=s},Dn.prototype.getMitreLimit=function(){return this._mitreLimit},Dn.prototype.setMitreLimit=function(s){this._mitreLimit=s},Dn.prototype.setSingleSided=function(s){this._isSingleSided=s},Dn.prototype.interfaces_=function(){return[]},Dn.prototype.getClass=function(){return Dn},Dn.bufferDistanceError=function(s){var c=Math.PI/2/s;return 1-Math.cos(c/2)},ko.CAP_ROUND.get=function(){return 1},ko.CAP_FLAT.get=function(){return 2},ko.CAP_SQUARE.get=function(){return 3},ko.JOIN_ROUND.get=function(){return 1},ko.JOIN_MITRE.get=function(){return 2},ko.JOIN_BEVEL.get=function(){return 3},ko.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},ko.DEFAULT_MITRE_LIMIT.get=function(){return 5},ko.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Dn,ko);var Jr=function(s){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=qe.COUNTERCLOCKWISE,this._inputLine=s||null},nt={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Jr.prototype.isDeletable=function(s,c,h,p){var v=this._inputLine[s],H=this._inputLine[c],q=this._inputLine[h];return!!this.isConcave(v,H,q)&&!!this.isShallow(v,H,q,p)&&this.isShallowSampled(v,H,s,h,p)},Jr.prototype.deleteShallowConcavities=function(){for(var s=1,c=this.findNextNonDeletedIndex(s),h=this.findNextNonDeletedIndex(c),p=!1;h<this._inputLine.length;){var v=!1;this.isDeletable(s,c,h,this._distanceTol)&&(this._isDeleted[c]=Jr.DELETE,v=!0,p=!0),c=this.findNextNonDeletedIndex(s=v?h:c),h=this.findNextNonDeletedIndex(c)}return p},Jr.prototype.isShallowConcavity=function(s,c,h,p){return qe.computeOrientation(s,c,h)===this._angleOrientation&&qe.distancePointLine(c,s,h)<p},Jr.prototype.isShallowSampled=function(s,c,h,p,v){var H=Math.trunc((p-h)/Jr.NUM_PTS_TO_CHECK);H<=0&&(H=1);for(var q=h;q<p;q+=H)if(!this.isShallow(s,c,this._inputLine[q],v))return!1;return!0},Jr.prototype.isConcave=function(s,c,h){return qe.computeOrientation(s,c,h)===this._angleOrientation},Jr.prototype.simplify=function(s){this._distanceTol=Math.abs(s),s<0&&(this._angleOrientation=qe.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var c=!1;do{c=this.deleteShallowConcavities()}while(c);return this.collapseLine()},Jr.prototype.findNextNonDeletedIndex=function(s){for(var c=s+1;c<this._inputLine.length&&this._isDeleted[c]===Jr.DELETE;)c++;return c},Jr.prototype.isShallow=function(s,c,h,p){return qe.distancePointLine(c,s,h)<p},Jr.prototype.collapseLine=function(){for(var s=new ns,c=0;c<this._inputLine.length;c++)this._isDeleted[c]!==Jr.DELETE&&s.add(this._inputLine[c]);return s.toCoordinateArray()},Jr.prototype.interfaces_=function(){return[]},Jr.prototype.getClass=function(){return Jr},Jr.simplify=function(s,c){return new Jr(s).simplify(c)},nt.INIT.get=function(){return 0},nt.DELETE.get=function(){return 1},nt.KEEP.get=function(){return 1},nt.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Jr,nt);var Ii=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new pt},Cn={COORDINATE_ARRAY_TYPE:{configurable:!0}};Ii.prototype.getCoordinates=function(){return this._ptList.toArray(Ii.COORDINATE_ARRAY_TYPE)},Ii.prototype.setPrecisionModel=function(s){this._precisionModel=s},Ii.prototype.addPt=function(s){var c=new B(s);if(this._precisionModel.makePrecise(c),this.isRedundant(c))return null;this._ptList.add(c)},Ii.prototype.revere=function(){},Ii.prototype.addPts=function(s,c){if(c)for(var h=0;h<s.length;h++)this.addPt(s[h]);else for(var p=s.length-1;p>=0;p--)this.addPt(s[p])},Ii.prototype.isRedundant=function(s){if(this._ptList.size()<1)return!1;var c=this._ptList.get(this._ptList.size()-1);return s.distance(c)<this._minimimVertexDistance},Ii.prototype.toString=function(){return(new mt).createLineString(this.getCoordinates()).toString()},Ii.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var s=new B(this._ptList.get(0)),c=this._ptList.get(this._ptList.size()-1);if(s.equals(c))return null;this._ptList.add(s)},Ii.prototype.setMinimumVertexDistance=function(s){this._minimimVertexDistance=s},Ii.prototype.interfaces_=function(){return[]},Ii.prototype.getClass=function(){return Ii},Cn.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Ii,Cn);var bn=function(){},Xi={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn},bn.toDegrees=function(s){return 180*s/Math.PI},bn.normalize=function(s){for(;s>Math.PI;)s-=bn.PI_TIMES_2;for(;s<=-Math.PI;)s+=bn.PI_TIMES_2;return s},bn.angle=function(){if(1===arguments.length){var s=arguments[0];return Math.atan2(s.y,s.x)}if(2===arguments.length){var c=arguments[0],h=arguments[1];return Math.atan2(h.y-c.y,h.x-c.x)}},bn.isAcute=function(s,c,h){return(s.x-c.x)*(h.x-c.x)+(s.y-c.y)*(h.y-c.y)>0},bn.isObtuse=function(s,c,h){return(s.x-c.x)*(h.x-c.x)+(s.y-c.y)*(h.y-c.y)<0},bn.interiorAngle=function(s,c,h){var p=bn.angle(c,s),v=bn.angle(c,h);return Math.abs(v-p)},bn.normalizePositive=function(s){if(s<0){for(;s<0;)s+=bn.PI_TIMES_2;s>=bn.PI_TIMES_2&&(s=0)}else{for(;s>=bn.PI_TIMES_2;)s-=bn.PI_TIMES_2;s<0&&(s=0)}return s},bn.angleBetween=function(s,c,h){var p=bn.angle(c,s),v=bn.angle(c,h);return bn.diff(p,v)},bn.diff=function(s,c){var h=null;return(h=s<c?c-s:s-c)>Math.PI&&(h=2*Math.PI-h),h},bn.toRadians=function(s){return s*Math.PI/180},bn.getTurn=function(s,c){var h=Math.sin(c-s);return h>0?bn.COUNTERCLOCKWISE:h<0?bn.CLOCKWISE:bn.NONE},bn.angleBetweenOriented=function(s,c,h){var p=bn.angle(c,s),v=bn.angle(c,h)-p;return v<=-Math.PI?v+bn.PI_TIMES_2:v>Math.PI?v-bn.PI_TIMES_2:v},Xi.PI_TIMES_2.get=function(){return 2*Math.PI},Xi.PI_OVER_2.get=function(){return Math.PI/2},Xi.PI_OVER_4.get=function(){return Math.PI/4},Xi.COUNTERCLOCKWISE.get=function(){return qe.COUNTERCLOCKWISE},Xi.CLOCKWISE.get=function(){return qe.CLOCKWISE},Xi.NONE.get=function(){return qe.COLLINEAR},Object.defineProperties(bn,Xi);var xr=function s(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new zt,this._seg1=new zt,this._offset0=new zt,this._offset1=new zt,this._side=0,this._hasNarrowConcaveAngle=!1;var h=arguments[1],p=arguments[2];this._precisionModel=arguments[0],this._bufParams=h,this._li=new Ve,this._filletAngleQuantum=Math.PI/2/h.getQuadrantSegments(),h.getQuadrantSegments()>=8&&h.getJoinStyle()===Dn.JOIN_ROUND&&(this._closingSegLengthFactor=s.MAX_CLOSING_SEG_LEN_FACTOR),this.init(p)},O1={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};xr.prototype.addNextSegment=function(s,c){if(this._s0=this._s1,this._s1=this._s2,this._s2=s,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var h=qe.computeOrientation(this._s0,this._s1,this._s2),p=h===qe.CLOCKWISE&&this._side===lt.LEFT||h===qe.COUNTERCLOCKWISE&&this._side===lt.RIGHT;0===h?this.addCollinear(c):p?this.addOutsideTurn(h,c):this.addInsideTurn(h,c)},xr.prototype.addLineEndCap=function(s,c){var h=new zt(s,c),p=new zt;this.computeOffsetSegment(h,lt.LEFT,this._distance,p);var v=new zt;this.computeOffsetSegment(h,lt.RIGHT,this._distance,v);var le=Math.atan2(c.y-s.y,c.x-s.x);switch(this._bufParams.getEndCapStyle()){case Dn.CAP_ROUND:this._segList.addPt(p.p1),this.addFilletArc(c,le+Math.PI/2,le-Math.PI/2,qe.CLOCKWISE,this._distance),this._segList.addPt(v.p1);break;case Dn.CAP_FLAT:this._segList.addPt(p.p1),this._segList.addPt(v.p1);break;case Dn.CAP_SQUARE:var De=new B;De.x=Math.abs(this._distance)*Math.cos(le),De.y=Math.abs(this._distance)*Math.sin(le);var je=new B(p.p1.x+De.x,p.p1.y+De.y),rt=new B(v.p1.x+De.x,v.p1.y+De.y);this._segList.addPt(je),this._segList.addPt(rt)}},xr.prototype.getCoordinates=function(){return this._segList.getCoordinates()},xr.prototype.addMitreJoin=function(s,c,h,p){var v=!0,H=null;try{H=_e.intersection(c.p0,c.p1,h.p0,h.p1),(p<=0?1:H.distance(s)/Math.abs(p))>this._bufParams.getMitreLimit()&&(v=!1)}catch(q){if(!(q instanceof X))throw q;H=new B(0,0),v=!1}v?this._segList.addPt(H):this.addLimitedMitreJoin(c,h,p,this._bufParams.getMitreLimit())},xr.prototype.addFilletCorner=function(s,c,h,p,v){var le=Math.atan2(c.y-s.y,c.x-s.x),rt=Math.atan2(h.y-s.y,h.x-s.x);p===qe.CLOCKWISE?le<=rt&&(le+=2*Math.PI):le>=rt&&(le-=2*Math.PI),this._segList.addPt(c),this.addFilletArc(s,le,rt,p,v),this._segList.addPt(h)},xr.prototype.addOutsideTurn=function(s,c){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*xr.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Dn.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Dn.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(c&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,s,this._distance),this._segList.addPt(this._offset1.p0))},xr.prototype.createSquare=function(s){this._segList.addPt(new B(s.x+this._distance,s.y+this._distance)),this._segList.addPt(new B(s.x+this._distance,s.y-this._distance)),this._segList.addPt(new B(s.x-this._distance,s.y-this._distance)),this._segList.addPt(new B(s.x-this._distance,s.y+this._distance)),this._segList.closeRing()},xr.prototype.addSegments=function(s,c){this._segList.addPts(s,c)},xr.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},xr.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},xr.prototype.initSideSegments=function(s,c,h){this._s1=s,this._s2=c,this._side=h,this._seg1.setCoordinates(s,c),this.computeOffsetSegment(this._seg1,h,this._distance,this._offset1)},xr.prototype.addLimitedMitreJoin=function(s,c,h,p){var v=this._seg0.p1,H=bn.angle(v,this._seg0.p0),q=bn.angleBetweenOriented(this._seg0.p0,v,this._seg1.p1)/2,le=bn.normalize(H+q),De=bn.normalize(le+Math.PI),je=p*h,rt=h-je*Math.abs(Math.sin(q)),ot=v.x+je*Math.cos(De),bt=v.y+je*Math.sin(De),xt=new B(ot,bt),kt=new zt(v,xt),Zt=kt.pointAlongOffset(1,rt),ct=kt.pointAlongOffset(1,-rt);this._side===lt.LEFT?(this._segList.addPt(Zt),this._segList.addPt(ct)):(this._segList.addPt(ct),this._segList.addPt(Zt))},xr.prototype.computeOffsetSegment=function(s,c,h,p){var v=c===lt.LEFT?1:-1,H=s.p1.x-s.p0.x,q=s.p1.y-s.p0.y,le=Math.sqrt(H*H+q*q),De=v*h*H/le,je=v*h*q/le;p.p0.x=s.p0.x-je,p.p0.y=s.p0.y+De,p.p1.x=s.p1.x-je,p.p1.y=s.p1.y+De},xr.prototype.addFilletArc=function(s,c,h,p,v){var H=p===qe.CLOCKWISE?-1:1,q=Math.abs(c-h),le=Math.trunc(q/this._filletAngleQuantum+.5);if(le<1)return null;for(var De=q/le,je=0,rt=new B;je<q;){var ot=c+H*je;rt.x=s.x+v*Math.cos(ot),rt.y=s.y+v*Math.sin(ot),this._segList.addPt(rt),je+=De}},xr.prototype.addInsideTurn=function(s,c){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*xr.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var h=new B((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(h);var p=new B((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(p)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},xr.prototype.createCircle=function(s){var c=new B(s.x+this._distance,s.y);this._segList.addPt(c),this.addFilletArc(s,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},xr.prototype.addBevelJoin=function(s,c){this._segList.addPt(s.p1),this._segList.addPt(c.p0)},xr.prototype.init=function(s){this._distance=s,this._maxCurveSegmentError=s*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Ii,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(s*xr.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},xr.prototype.addCollinear=function(s){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Dn.JOIN_BEVEL||this._bufParams.getJoinStyle()===Dn.JOIN_MITRE?(s&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,qe.CLOCKWISE,this._distance))},xr.prototype.closeRing=function(){this._segList.closeRing()},xr.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},xr.prototype.interfaces_=function(){return[]},xr.prototype.getClass=function(){return xr},O1.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},O1.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},O1.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},O1.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(xr,O1);var yo=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var c=arguments[1];this._precisionModel=arguments[0],this._bufParams=c};yo.prototype.getOffsetCurve=function(s,c){if(this._distance=c,0===c)return null;var h=c<0,p=Math.abs(c),v=this.getSegGen(p);s.length<=1?this.computePointCurve(s[0],v):this.computeOffsetCurve(s,h,v);var H=v.getCoordinates();return h&&pn.reverse(H),H},yo.prototype.computeSingleSidedBufferCurve=function(s,c,h){var p=this.simplifyTolerance(this._distance);if(c){h.addSegments(s,!0);var v=Jr.simplify(s,-p),H=v.length-1;h.initSideSegments(v[H],v[H-1],lt.LEFT),h.addFirstSegment();for(var q=H-2;q>=0;q--)h.addNextSegment(v[q],!0)}else{h.addSegments(s,!1);var le=Jr.simplify(s,p),De=le.length-1;h.initSideSegments(le[0],le[1],lt.LEFT),h.addFirstSegment();for(var je=2;je<=De;je++)h.addNextSegment(le[je],!0)}h.addLastSegment(),h.closeRing()},yo.prototype.computeRingBufferCurve=function(s,c,h){var p=this.simplifyTolerance(this._distance);c===lt.RIGHT&&(p=-p);var v=Jr.simplify(s,p),H=v.length-1;h.initSideSegments(v[H-1],v[0],c);for(var q=1;q<=H;q++)h.addNextSegment(v[q],1!==q);h.closeRing()},yo.prototype.computeLineBufferCurve=function(s,c){var h=this.simplifyTolerance(this._distance),p=Jr.simplify(s,h),v=p.length-1;c.initSideSegments(p[0],p[1],lt.LEFT);for(var H=2;H<=v;H++)c.addNextSegment(p[H],!0);c.addLastSegment(),c.addLineEndCap(p[v-1],p[v]);var q=Jr.simplify(s,-h),le=q.length-1;c.initSideSegments(q[le],q[le-1],lt.LEFT);for(var De=le-2;De>=0;De--)c.addNextSegment(q[De],!0);c.addLastSegment(),c.addLineEndCap(q[1],q[0]),c.closeRing()},yo.prototype.computePointCurve=function(s,c){switch(this._bufParams.getEndCapStyle()){case Dn.CAP_ROUND:c.createCircle(s);break;case Dn.CAP_SQUARE:c.createSquare(s)}},yo.prototype.getLineCurve=function(s,c){if(this._distance=c,c<0&&!this._bufParams.isSingleSided()||0===c)return null;var h=Math.abs(c),p=this.getSegGen(h);return s.length<=1?this.computePointCurve(s[0],p):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(s,c<0,p):this.computeLineBufferCurve(s,p),p.getCoordinates()},yo.prototype.getBufferParameters=function(){return this._bufParams},yo.prototype.simplifyTolerance=function(s){return s*this._bufParams.getSimplifyFactor()},yo.prototype.getRingCurve=function(s,c,h){if(this._distance=h,s.length<=2)return this.getLineCurve(s,h);if(0===h)return yo.copyCoordinates(s);var p=this.getSegGen(h);return this.computeRingBufferCurve(s,c,p),p.getCoordinates()},yo.prototype.computeOffsetCurve=function(s,c,h){var p=this.simplifyTolerance(this._distance);if(c){var v=Jr.simplify(s,-p),H=v.length-1;h.initSideSegments(v[H],v[H-1],lt.LEFT),h.addFirstSegment();for(var q=H-2;q>=0;q--)h.addNextSegment(v[q],!0)}else{var le=Jr.simplify(s,p),De=le.length-1;h.initSideSegments(le[0],le[1],lt.LEFT),h.addFirstSegment();for(var je=2;je<=De;je++)h.addNextSegment(le[je],!0)}h.addLastSegment()},yo.prototype.getSegGen=function(s){return new xr(this._precisionModel,this._bufParams,s)},yo.prototype.interfaces_=function(){return[]},yo.prototype.getClass=function(){return yo},yo.copyCoordinates=function(s){for(var c=new Array(s.length).fill(null),h=0;h<c.length;h++)c[h]=new B(s[h]);return c};var Xa=function(){this._subgraphs=null,this._seg=new zt,this._cga=new qe,this._subgraphs=arguments[0]},js={DepthSegment:{configurable:!0}};Xa.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var s=arguments[0],c=new pt,h=this._subgraphs.iterator();h.hasNext();){var p=h.next(),v=p.getEnvelope();s.y<v.getMinY()||s.y>v.getMaxY()||this.findStabbedSegments(s,p.getDirectedEdges(),c)}return c}if(3===arguments.length)if(Pe(arguments[2],_i)&&arguments[0]instanceof B&&arguments[1]instanceof j2){for(var H=arguments[0],q=arguments[1],le=arguments[2],De=q.getEdge().getCoordinates(),je=0;je<De.length-1;je++)if(this._seg.p0=De[je],this._seg.p1=De[je+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<H.x||this._seg.isHorizontal()||H.y<this._seg.p0.y||H.y>this._seg.p1.y||qe.computeOrientation(this._seg.p0,this._seg.p1,H)===qe.RIGHT)){var rt=q.getDepth(lt.LEFT);this._seg.p0.equals(De[je])||(rt=q.getDepth(lt.RIGHT));var ot=new Co(this._seg,rt);le.add(ot)}}else if(Pe(arguments[2],_i)&&arguments[0]instanceof B&&Pe(arguments[1],_i))for(var bt=arguments[0],kt=arguments[2],Zt=arguments[1].iterator();Zt.hasNext();){var ct=Zt.next();ct.isForward()&&this.findStabbedSegments(bt,ct,kt)}},Xa.prototype.getDepth=function(s){var c=this.findStabbedSegments(s);return 0===c.size()?0:cs.min(c)._leftDepth},Xa.prototype.interfaces_=function(){return[]},Xa.prototype.getClass=function(){return Xa},js.DepthSegment.get=function(){return Co},Object.defineProperties(Xa,js);var Co=function(){this._upwardSeg=null,this._leftDepth=null;var c=arguments[1];this._upwardSeg=new zt(arguments[0]),this._leftDepth=c};Co.prototype.compareTo=function(s){var c=s;if(this._upwardSeg.minX()>=c._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=c._upwardSeg.minX())return-1;var h=this._upwardSeg.orientationIndex(c._upwardSeg);return 0!==h||0!=(h=-1*c._upwardSeg.orientationIndex(this._upwardSeg))?h:this._upwardSeg.compareTo(c._upwardSeg)},Co.prototype.compareX=function(s,c){var h=s.p0.compareTo(c.p0);return 0!==h?h:s.p1.compareTo(c.p1)},Co.prototype.toString=function(){return this._upwardSeg.toString()},Co.prototype.interfaces_=function(){return[k]},Co.prototype.getClass=function(){return Co};var gn=function(s,c,h){this.p0=s||null,this.p1=c||null,this.p2=h||null};gn.prototype.area=function(){return gn.area(this.p0,this.p1,this.p2)},gn.prototype.signedArea=function(){return gn.signedArea(this.p0,this.p1,this.p2)},gn.prototype.interpolateZ=function(s){if(null===s)throw new O("Supplied point is null.");return gn.interpolateZ(s,this.p0,this.p1,this.p2)},gn.prototype.longestSideLength=function(){return gn.longestSideLength(this.p0,this.p1,this.p2)},gn.prototype.isAcute=function(){return gn.isAcute(this.p0,this.p1,this.p2)},gn.prototype.circumcentre=function(){return gn.circumcentre(this.p0,this.p1,this.p2)},gn.prototype.area3D=function(){return gn.area3D(this.p0,this.p1,this.p2)},gn.prototype.centroid=function(){return gn.centroid(this.p0,this.p1,this.p2)},gn.prototype.inCentre=function(){return gn.inCentre(this.p0,this.p1,this.p2)},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn},gn.area=function(s,c,h){return Math.abs(((h.x-s.x)*(c.y-s.y)-(c.x-s.x)*(h.y-s.y))/2)},gn.signedArea=function(s,c,h){return((h.x-s.x)*(c.y-s.y)-(c.x-s.x)*(h.y-s.y))/2},gn.det=function(s,c,h,p){return s*p-c*h},gn.interpolateZ=function(s,c,h,p){var v=c.x,H=c.y,q=h.x-v,le=p.x-v,De=h.y-H,je=p.y-H,rt=q*je-le*De,ot=s.x-v,bt=s.y-H;return c.z+(je*ot-le*bt)/rt*(h.z-c.z)+(-De*ot+q*bt)/rt*(p.z-c.z)},gn.longestSideLength=function(s,c,h){var p=s.distance(c),v=c.distance(h),H=h.distance(s),q=p;return v>q&&(q=v),H>q&&(q=H),q},gn.isAcute=function(s,c,h){return!!bn.isAcute(s,c,h)&&!!bn.isAcute(c,h,s)&&!!bn.isAcute(h,s,c)},gn.circumcentre=function(s,c,h){var p=h.x,v=h.y,H=s.x-p,q=s.y-v,le=c.x-p,De=c.y-v,je=2*gn.det(H,q,le,De),rt=gn.det(q,H*H+q*q,De,le*le+De*De),ot=gn.det(H,H*H+q*q,le,le*le+De*De);return new B(p-rt/je,v+ot/je)},gn.perpendicularBisector=function(s,c){var h=c.x-s.x,p=c.y-s.y,v=new _e(s.x+h/2,s.y+p/2,1),H=new _e(s.x-p+h/2,s.y+h+p/2,1);return new _e(v,H)},gn.angleBisector=function(s,c,h){var p=c.distance(s),v=p/(p+c.distance(h));return new B(s.x+v*(h.x-s.x),s.y+v*(h.y-s.y))},gn.area3D=function(s,c,h){var p=c.x-s.x,v=c.y-s.y,H=c.z-s.z,q=h.x-s.x,le=h.y-s.y,De=h.z-s.z,je=v*De-H*le,rt=H*q-p*De,ot=p*le-v*q;return Math.sqrt(je*je+rt*rt+ot*ot)/2},gn.centroid=function(s,c,h){return new B((s.x+c.x+h.x)/3,(s.y+c.y+h.y)/3)},gn.inCentre=function(s,c,h){var p=c.distance(h),v=s.distance(h),H=s.distance(c),q=p+v+H;return new B((p*s.x+v*c.x+H*h.x)/q,(p*s.y+v*c.y+H*h.y)/q)};var wi=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new pt;var c=arguments[1],h=arguments[2];this._inputGeom=arguments[0],this._distance=c,this._curveBuilder=h};wi.prototype.addPoint=function(s){if(this._distance<=0)return null;var c=s.getCoordinates(),h=this._curveBuilder.getLineCurve(c,this._distance);this.addCurve(h,te.EXTERIOR,te.INTERIOR)},wi.prototype.addPolygon=function(s){var c=this._distance,h=lt.LEFT;this._distance<0&&(c=-this._distance,h=lt.RIGHT);var p=s.getExteriorRing(),v=pn.removeRepeatedPoints(p.getCoordinates());if(this._distance<0&&this.isErodedCompletely(p,this._distance)||this._distance<=0&&v.length<3)return null;this.addPolygonRing(v,c,h,te.EXTERIOR,te.INTERIOR);for(var H=0;H<s.getNumInteriorRing();H++){var q=s.getInteriorRingN(H),le=pn.removeRepeatedPoints(q.getCoordinates());this._distance>0&&this.isErodedCompletely(q,-this._distance)||this.addPolygonRing(le,c,lt.opposite(h),te.INTERIOR,te.EXTERIOR)}},wi.prototype.isTriangleErodedCompletely=function(s,c){var h=new gn(s[0],s[1],s[2]),p=h.inCentre();return qe.distancePointLine(p,h.p0,h.p1)<Math.abs(c)},wi.prototype.addLineString=function(s){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var c=pn.removeRepeatedPoints(s.getCoordinates()),h=this._curveBuilder.getLineCurve(c,this._distance);this.addCurve(h,te.EXTERIOR,te.INTERIOR)},wi.prototype.addCurve=function(s,c,h){if(null===s||s.length<2)return null;var p=new Mi(s,new Bn(0,te.BOUNDARY,c,h));this._curveList.add(p)},wi.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},wi.prototype.addPolygonRing=function(s,c,h,p,v){if(0===c&&s.length<Bs.MINIMUM_VALID_SIZE)return null;var H=p,q=v;s.length>=Bs.MINIMUM_VALID_SIZE&&qe.isCCW(s)&&(H=v,q=p,h=lt.opposite(h));var le=this._curveBuilder.getRingCurve(s,h,c);this.addCurve(le,H,q)},wi.prototype.add=function(s){if(s.isEmpty())return null;s instanceof Ci?this.addPolygon(s):s instanceof Kr?this.addLineString(s):s instanceof Io?this.addPoint(s):(s instanceof H1||s instanceof os||s instanceof gs||s instanceof zn)&&this.addCollection(s)},wi.prototype.isErodedCompletely=function(s,c){var h=s.getCoordinates();if(h.length<4)return c<0;if(4===h.length)return this.isTriangleErodedCompletely(h,c);var p=s.getEnvelopeInternal(),v=Math.min(p.getHeight(),p.getWidth());return c<0&&2*Math.abs(c)>v},wi.prototype.addCollection=function(s){for(var c=0;c<s.getNumGeometries();c++){var h=s.getGeometryN(c);this.add(h)}},wi.prototype.interfaces_=function(){return[]},wi.prototype.getClass=function(){return wi};var $n=function(){};$n.prototype.locate=function(s){},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n};var ls=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var s=arguments[0];this._parent=s,this._atStart=!0,this._index=0,this._max=s.getNumGeometries()};ls.prototype.next=function(){if(this._atStart)return this._atStart=!1,ls.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new y;var s=this._parent.getGeometryN(this._index++);return s instanceof zn?(this._subcollectionIterator=new ls(s),this._subcollectionIterator.next()):s},ls.prototype.remove=function(){throw new Error(this.getClass().getName())},ls.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},ls.prototype.interfaces_=function(){return[ts]},ls.prototype.getClass=function(){return ls},ls.isAtomic=function(s){return!(s instanceof zn)};var uo=function(){this._geom=null,this._geom=arguments[0]};uo.prototype.locate=function(s){return uo.locate(s,this._geom)},uo.prototype.interfaces_=function(){return[$n]},uo.prototype.getClass=function(){return uo},uo.isPointInRing=function(s,c){return!!c.getEnvelopeInternal().intersects(s)&&qe.isPointInRing(s,c.getCoordinates())},uo.containsPointInPolygon=function(s,c){if(c.isEmpty())return!1;var h=c.getExteriorRing();if(!uo.isPointInRing(s,h))return!1;for(var p=0;p<c.getNumInteriorRing();p++){var v=c.getInteriorRingN(p);if(uo.isPointInRing(s,v))return!1}return!0},uo.containsPoint=function(s,c){if(c instanceof Ci)return uo.containsPointInPolygon(s,c);if(c instanceof zn)for(var h=new ls(c);h.hasNext();){var p=h.next();if(p!==c&&uo.containsPoint(s,p))return!0}return!1},uo.locate=function(s,c){return c.isEmpty()?te.EXTERIOR:uo.containsPoint(s,c)?te.INTERIOR:te.EXTERIOR};var Bi=function(){this._edgeMap=new $,this._edgeList=null,this._ptInAreaLocation=[te.NONE,te.NONE]};Bi.prototype.getNextCW=function(s){this.getEdges();var c=this._edgeList.indexOf(s),h=c-1;return 0===c&&(h=this._edgeList.size()-1),this._edgeList.get(h)},Bi.prototype.propagateSideLabels=function(s){for(var c=te.NONE,h=this.iterator();h.hasNext();){var p=h.next().getLabel();p.isArea(s)&&p.getLocation(s,lt.LEFT)!==te.NONE&&(c=p.getLocation(s,lt.LEFT))}if(c===te.NONE)return null;for(var v=c,H=this.iterator();H.hasNext();){var q=H.next(),le=q.getLabel();if(le.getLocation(s,lt.ON)===te.NONE&&le.setLocation(s,lt.ON,v),le.isArea(s)){var De=le.getLocation(s,lt.LEFT),je=le.getLocation(s,lt.RIGHT);if(je!==te.NONE){if(je!==v)throw new zs("side location conflict",q.getCoordinate());De===te.NONE&&be.shouldNeverReachHere("found single null side (at "+q.getCoordinate()+")"),v=De}else be.isTrue(le.getLocation(s,lt.LEFT)===te.NONE,"found single null side"),le.setLocation(s,lt.RIGHT,v),le.setLocation(s,lt.LEFT,v)}}},Bi.prototype.getCoordinate=function(){var s=this.iterator();return s.hasNext()?s.next().getCoordinate():null},Bi.prototype.print=function(s){re.out.println("EdgeEndStar:   "+this.getCoordinate());for(var c=this.iterator();c.hasNext();)c.next().print(s)},Bi.prototype.isAreaLabelsConsistent=function(s){return this.computeEdgeEndLabels(s.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Bi.prototype.checkAreaLabelsConsistent=function(s){var c=this.getEdges();if(c.size()<=0)return!0;var h=c.size()-1,p=c.get(h).getLabel().getLocation(s,lt.LEFT);be.isTrue(p!==te.NONE,"Found unlabelled area edge");for(var v=p,H=this.iterator();H.hasNext();){var q=H.next().getLabel();be.isTrue(q.isArea(s),"Found non-area edge");var le=q.getLocation(s,lt.LEFT),De=q.getLocation(s,lt.RIGHT);if(le===De||De!==v)return!1;v=le}return!0},Bi.prototype.findIndex=function(s){this.iterator();for(var c=0;c<this._edgeList.size();c++)if(this._edgeList.get(c)===s)return c;return-1},Bi.prototype.iterator=function(){return this.getEdges().iterator()},Bi.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new pt(this._edgeMap.values())),this._edgeList},Bi.prototype.getLocation=function(s,c,h){return this._ptInAreaLocation[s]===te.NONE&&(this._ptInAreaLocation[s]=uo.locate(c,h[s].getGeometry())),this._ptInAreaLocation[s]},Bi.prototype.toString=function(){var s=new ye;s.append("EdgeEndStar:   "+this.getCoordinate()),s.append("\n");for(var c=this.iterator();c.hasNext();){var h=c.next();s.append(h),s.append("\n")}return s.toString()},Bi.prototype.computeEdgeEndLabels=function(s){for(var c=this.iterator();c.hasNext();)c.next().computeLabel(s)},Bi.prototype.computeLabelling=function(s){this.computeEdgeEndLabels(s[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var c=[!1,!1],h=this.iterator();h.hasNext();)for(var p=h.next().getLabel(),v=0;v<2;v++)p.isLine(v)&&p.getLocation(v)===te.BOUNDARY&&(c[v]=!0);for(var H=this.iterator();H.hasNext();)for(var q=H.next(),le=q.getLabel(),De=0;De<2;De++)if(le.isAnyNull(De)){var je=te.NONE;if(c[De])je=te.EXTERIOR;else{var rt=q.getCoordinate();je=this.getLocation(De,rt,s)}le.setAllLocationsIfNull(De,je)}},Bi.prototype.getDegree=function(){return this._edgeMap.size()},Bi.prototype.insertEdgeEnd=function(s,c){this._edgeMap.put(s,c),this._edgeList=null},Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi};var As=function(s){function c(){s.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var h=null,p=null,v=this._SCANNING_FOR_INCOMING,H=0;H<this._resultAreaEdgeList.size();H++){var q=this._resultAreaEdgeList.get(H),le=q.getSym();if(q.getLabel().isArea())switch(null===h&&q.isInResult()&&(h=q),v){case this._SCANNING_FOR_INCOMING:if(!le.isInResult())continue;p=le,v=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!q.isInResult())continue;p.setNext(q),v=this._SCANNING_FOR_INCOMING}}if(v===this._LINKING_TO_OUTGOING){if(null===h)throw new zs("no outgoing dirEdge found",this.getCoordinate());be.isTrue(h.isInResult(),"unable to link last incoming dirEdge"),p.setNext(h)}},c.prototype.insert=function(h){this.insertEdgeEnd(h,h)},c.prototype.getRightmostEdge=function(){var h=this.getEdges(),p=h.size();if(p<1)return null;var v=h.get(0);if(1===p)return v;var H=h.get(p-1),q=v.getQuadrant(),le=H.getQuadrant();return wr.isNorthern(q)&&wr.isNorthern(le)?v:wr.isNorthern(q)||wr.isNorthern(le)?0!==v.getDy()?v:0!==H.getDy()?H:(be.shouldNeverReachHere("found two horizontal edges incident on node"),null):H},c.prototype.print=function(h){re.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var p=this.iterator();p.hasNext();){var v=p.next();h.print("out "),v.print(h),h.println(),h.print("in "),v.getSym().print(h),h.println()}},c.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new pt;for(var h=this.iterator();h.hasNext();){var p=h.next();(p.isInResult()||p.getSym().isInResult())&&this._resultAreaEdgeList.add(p)}return this._resultAreaEdgeList},c.prototype.updateLabelling=function(h){for(var p=this.iterator();p.hasNext();){var v=p.next().getLabel();v.setAllLocationsIfNull(0,h.getLocation(0)),v.setAllLocationsIfNull(1,h.getLocation(1))}},c.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var h=null,p=null,v=this._edgeList.size()-1;v>=0;v--){var H=this._edgeList.get(v),q=H.getSym();null===p&&(p=q),null!==h&&q.setNext(h),h=H}p.setNext(h)},c.prototype.computeDepths=function(){if(1===arguments.length){var h=arguments[0],p=this.findIndex(h),v=h.getDepth(lt.LEFT),H=h.getDepth(lt.RIGHT),q=this.computeDepths(p+1,this._edgeList.size(),v);if(this.computeDepths(0,p,q)!==H)throw new zs("depth mismatch at "+h.getCoordinate())}else if(3===arguments.length){for(var De=arguments[1],je=arguments[2],rt=arguments[0];rt<De;rt++){var ot=this._edgeList.get(rt);ot.setEdgeDepths(lt.RIGHT,je),je=ot.getDepth(lt.LEFT)}return je}},c.prototype.mergeSymLabels=function(){for(var h=this.iterator();h.hasNext();){var p=h.next();p.getLabel().merge(p.getSym().getLabel())}},c.prototype.linkMinimalDirectedEdges=function(h){for(var p=null,v=null,H=this._SCANNING_FOR_INCOMING,q=this._resultAreaEdgeList.size()-1;q>=0;q--){var le=this._resultAreaEdgeList.get(q),De=le.getSym();switch(null===p&&le.getEdgeRing()===h&&(p=le),H){case this._SCANNING_FOR_INCOMING:if(De.getEdgeRing()!==h)continue;v=De,H=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(le.getEdgeRing()!==h)continue;v.setNextMin(le),H=this._SCANNING_FOR_INCOMING}}H===this._LINKING_TO_OUTGOING&&(be.isTrue(null!==p,"found null for first outgoing dirEdge"),be.isTrue(p.getEdgeRing()===h,"unable to link last incoming dirEdge"),v.setNextMin(p))},c.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var h=0,p=this.iterator();p.hasNext();)p.next().isInResult()&&h++;return h}if(1===arguments.length){for(var v=arguments[0],H=0,q=this.iterator();q.hasNext();)q.next().getEdgeRing()===v&&H++;return H}},c.prototype.getLabel=function(){return this._label},c.prototype.findCoveredLineEdges=function(){for(var h=te.NONE,p=this.iterator();p.hasNext();){var v=p.next(),H=v.getSym();if(!v.isLineEdge()){if(v.isInResult()){h=te.INTERIOR;break}if(H.isInResult()){h=te.EXTERIOR;break}}}if(h===te.NONE)return null;for(var q=h,le=this.iterator();le.hasNext();){var De=le.next(),je=De.getSym();De.isLineEdge()?De.getEdge().setCovered(q===te.INTERIOR):(De.isInResult()&&(q=te.EXTERIOR),je.isInResult()&&(q=te.INTERIOR))}},c.prototype.computeLabelling=function(h){s.prototype.computeLabelling.call(this,h),this._label=new Bn(te.NONE);for(var p=this.iterator();p.hasNext();)for(var v=p.next().getEdge().getLabel(),H=0;H<2;H++){var q=v.getLocation(H);q!==te.INTERIOR&&q!==te.BOUNDARY||this._label.setLocation(H,te.INTERIOR)}},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(Bi),jo=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.createNode=function(h){return new Hs(h,new As)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(Pi),ys=function s(){this._pts=null,this._orientation=null;var c=arguments[0];this._pts=c,this._orientation=s.orientation(c)};ys.prototype.compareTo=function(s){return ys.compareOriented(this._pts,this._orientation,s._pts,s._orientation)},ys.prototype.interfaces_=function(){return[k]},ys.prototype.getClass=function(){return ys},ys.orientation=function(s){return 1===pn.increasingDirection(s)},ys.compareOriented=function(s,c,h,p){for(var v=c?1:-1,H=p?1:-1,q=c?s.length:-1,le=p?h.length:-1,De=c?0:s.length-1,je=p?0:h.length-1;;){var rt=s[De].compareTo(h[je]);if(0!==rt)return rt;var ot=(De+=v)===q,bt=(je+=H)===le;if(ot&&!bt)return-1;if(!ot&&bt)return 1;if(ot&&bt)return 0}};var Ui=function(){this._edges=new pt,this._ocaMap=new $};Ui.prototype.print=function(s){s.print("MULTILINESTRING ( ");for(var c=0;c<this._edges.size();c++){var h=this._edges.get(c);c>0&&s.print(","),s.print("(");for(var p=h.getCoordinates(),v=0;v<p.length;v++)v>0&&s.print(","),s.print(p[v].x+" "+p[v].y);s.println(")")}s.print(")  ")},Ui.prototype.addAll=function(s){for(var c=s.iterator();c.hasNext();)this.add(c.next())},Ui.prototype.findEdgeIndex=function(s){for(var c=0;c<this._edges.size();c++)if(this._edges.get(c).equals(s))return c;return-1},Ui.prototype.iterator=function(){return this._edges.iterator()},Ui.prototype.getEdges=function(){return this._edges},Ui.prototype.get=function(s){return this._edges.get(s)},Ui.prototype.findEqualEdge=function(s){var c=new ys(s.getCoordinates());return this._ocaMap.get(c)},Ui.prototype.add=function(s){this._edges.add(s);var c=new ys(s.getCoordinates());this._ocaMap.put(c,s)},Ui.prototype.interfaces_=function(){return[]},Ui.prototype.getClass=function(){return Ui};var ei=function(){};ei.prototype.processIntersections=function(s,c,h,p){},ei.prototype.isDone=function(){},ei.prototype.interfaces_=function(){return[]},ei.prototype.getClass=function(){return ei};var ji=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};ji.prototype.isTrivialIntersection=function(s,c,h,p){if(s===h&&1===this._li.getIntersectionNum()){if(ji.isAdjacentSegments(c,p))return!0;if(s.isClosed()){var v=s.size()-1;if(0===c&&p===v||0===p&&c===v)return!0}}return!1},ji.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ji.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ji.prototype.getLineIntersector=function(){return this._li},ji.prototype.hasProperIntersection=function(){return this._hasProper},ji.prototype.processIntersections=function(s,c,h,p){if(s===h&&c===p)return null;this.numTests++;var v=s.getCoordinates()[c],H=s.getCoordinates()[c+1],q=h.getCoordinates()[p],le=h.getCoordinates()[p+1];this._li.computeIntersection(v,H,q,le),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(s,c,h,p)||(this._hasIntersection=!0,s.addIntersections(this._li,c,0),h.addIntersections(this._li,p,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},ji.prototype.hasIntersection=function(){return this._hasIntersection},ji.prototype.isDone=function(){return!1},ji.prototype.hasInteriorIntersection=function(){return this._hasInterior},ji.prototype.interfaces_=function(){return[ei]},ji.prototype.getClass=function(){return ji},ji.isAdjacentSegments=function(s,c){return 1===Math.abs(s-c)};var Vs=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var c=arguments[1],h=arguments[2];this.coord=new B(arguments[0]),this.segmentIndex=c,this.dist=h};Vs.prototype.getSegmentIndex=function(){return this.segmentIndex},Vs.prototype.getCoordinate=function(){return this.coord},Vs.prototype.print=function(s){s.print(this.coord),s.print(" seg # = "+this.segmentIndex),s.println(" dist = "+this.dist)},Vs.prototype.compareTo=function(s){return this.compare(s.segmentIndex,s.dist)},Vs.prototype.isEndPoint=function(s){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===s},Vs.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Vs.prototype.getDistance=function(){return this.dist},Vs.prototype.compare=function(s,c){return this.segmentIndex<s?-1:this.segmentIndex>s?1:this.dist<c?-1:this.dist>c?1:0},Vs.prototype.interfaces_=function(){return[k]},Vs.prototype.getClass=function(){return Vs};var Go=function(){this._nodeMap=new $,this.edge=null,this.edge=arguments[0]};Go.prototype.print=function(s){s.println("Intersections:");for(var c=this.iterator();c.hasNext();)c.next().print(s)},Go.prototype.iterator=function(){return this._nodeMap.values().iterator()},Go.prototype.addSplitEdges=function(s){this.addEndpoints();for(var c=this.iterator(),h=c.next();c.hasNext();){var p=c.next(),v=this.createSplitEdge(h,p);s.add(v),h=p}},Go.prototype.addEndpoints=function(){var s=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[s],s,0)},Go.prototype.createSplitEdge=function(s,c){var h=c.segmentIndex-s.segmentIndex+2,v=c.dist>0||!c.coord.equals2D(this.edge.pts[c.segmentIndex]);v||h--;var H=new Array(h).fill(null),q=0;H[q++]=new B(s.coord);for(var le=s.segmentIndex+1;le<=c.segmentIndex;le++)H[q++]=this.edge.pts[le];return v&&(H[q]=c.coord),new Ki(H,new Bn(this.edge._label))},Go.prototype.add=function(s,c,h){var p=new Vs(s,c,h),v=this._nodeMap.get(p);return null!==v?v:(this._nodeMap.put(p,p),p)},Go.prototype.isIntersection=function(s){for(var c=this.iterator();c.hasNext();)if(c.next().coord.equals(s))return!0;return!1},Go.prototype.interfaces_=function(){return[]},Go.prototype.getClass=function(){return Go};var Pn=function(){};Pn.prototype.getChainStartIndices=function(s){var c=0,h=new pt;h.add(new de(c));do{var p=this.findChainEnd(s,c);h.add(new de(p)),c=p}while(c<s.length-1);return Pn.toIntArray(h)},Pn.prototype.findChainEnd=function(s,c){for(var h=wr.quadrant(s[c],s[c+1]),p=c+1;p<s.length&&wr.quadrant(s[p-1],s[p])===h;)p++;return p-1},Pn.prototype.interfaces_=function(){return[]},Pn.prototype.getClass=function(){return Pn},Pn.toIntArray=function(s){for(var c=new Array(s.size()).fill(null),h=0;h<c.length;h++)c[h]=s.get(h).intValue();return c};var Cs=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new He,this.env2=new He;var s=arguments[0];this.e=s,this.pts=s.getCoordinates();var c=new Pn;this.startIndex=c.getChainStartIndices(this.pts)};Cs.prototype.getCoordinates=function(){return this.pts},Cs.prototype.getMaxX=function(s){var c=this.pts[this.startIndex[s]].x,h=this.pts[this.startIndex[s+1]].x;return c>h?c:h},Cs.prototype.getMinX=function(s){var c=this.pts[this.startIndex[s]].x,h=this.pts[this.startIndex[s+1]].x;return c<h?c:h},Cs.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var s=arguments[0],c=arguments[1],h=arguments[2];this.computeIntersectsForChain(this.startIndex[s],this.startIndex[s+1],c,c.startIndex[h],c.startIndex[h+1],arguments[3])}else if(6===arguments.length){var v=arguments[0],H=arguments[1],q=arguments[2],le=arguments[3],De=arguments[4],je=arguments[5],rt=this.pts[v],ot=this.pts[H],bt=q.pts[le],xt=q.pts[De];if(H-v==1&&De-le==1)return je.addIntersections(this.e,v,q.e,le),null;if(this.env1.init(rt,ot),this.env2.init(bt,xt),!this.env1.intersects(this.env2))return null;var kt=Math.trunc((v+H)/2),Zt=Math.trunc((le+De)/2);v<kt&&(le<Zt&&this.computeIntersectsForChain(v,kt,q,le,Zt,je),Zt<De&&this.computeIntersectsForChain(v,kt,q,Zt,De,je)),kt<H&&(le<Zt&&this.computeIntersectsForChain(kt,H,q,le,Zt,je),Zt<De&&this.computeIntersectsForChain(kt,H,q,Zt,De,je))}},Cs.prototype.getStartIndexes=function(){return this.startIndex},Cs.prototype.computeIntersects=function(s,c){for(var h=0;h<this.startIndex.length-1;h++)for(var p=0;p<s.startIndex.length-1;p++)this.computeIntersectsForChain(h,s,p,c)},Cs.prototype.interfaces_=function(){return[]},Cs.prototype.getClass=function(){return Cs};var Gi=function s(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var c=0;c<2;c++)for(var h=0;h<3;h++)this._depth[c][h]=s.NULL_VALUE},Ht={NULL_VALUE:{configurable:!0}};Gi.prototype.getDepth=function(s,c){return this._depth[s][c]},Gi.prototype.setDepth=function(s,c,h){this._depth[s][c]=h},Gi.prototype.isNull=function(){if(0===arguments.length){for(var s=0;s<2;s++)for(var c=0;c<3;c++)if(this._depth[s][c]!==Gi.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===Gi.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===Gi.NULL_VALUE:void 0},Gi.prototype.normalize=function(){for(var s=0;s<2;s++)if(!this.isNull(s)){var c=this._depth[s][1];this._depth[s][2]<c&&(c=this._depth[s][2]),c<0&&(c=0);for(var h=1;h<3;h++){var p=0;this._depth[s][h]>c&&(p=1),this._depth[s][h]=p}}},Gi.prototype.getDelta=function(s){return this._depth[s][lt.RIGHT]-this._depth[s][lt.LEFT]},Gi.prototype.getLocation=function(s,c){return this._depth[s][c]<=0?te.EXTERIOR:te.INTERIOR},Gi.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Gi.prototype.add=function(){if(1===arguments.length)for(var s=arguments[0],c=0;c<2;c++)for(var h=1;h<3;h++){var p=s.getLocation(c,h);p!==te.EXTERIOR&&p!==te.INTERIOR||(this.isNull(c,h)?this._depth[c][h]=Gi.depthAtLocation(p):this._depth[c][h]+=Gi.depthAtLocation(p))}else 3===arguments.length&&arguments[2]===te.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},Gi.prototype.interfaces_=function(){return[]},Gi.prototype.getClass=function(){return Gi},Gi.depthAtLocation=function(s){return s===te.EXTERIOR?0:s===te.INTERIOR?1:Gi.NULL_VALUE},Ht.NULL_VALUE.get=function(){return-1},Object.defineProperties(Gi,Ht);var Ki=function(s){function c(){if(s.call(this),this.pts=null,this._env=null,this.eiList=new Go(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Gi,this._depthDelta=0,1===arguments.length)c.call(this,arguments[0],null);else if(2===arguments.length){var v=arguments[1];this.pts=arguments[0],this._label=v}}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.getDepth=function(){return this._depth},c.prototype.getCollapsedEdge=function(){var h=new Array(2).fill(null);return h[0]=this.pts[0],h[1]=this.pts[1],new c(h,Bn.toLineLabel(this._label))},c.prototype.isIsolated=function(){return this._isIsolated},c.prototype.getCoordinates=function(){return this.pts},c.prototype.setIsolated=function(h){this._isIsolated=h},c.prototype.setName=function(h){this._name=h},c.prototype.equals=function(h){if(!(h instanceof c))return!1;var p=h;if(this.pts.length!==p.pts.length)return!1;for(var v=!0,H=!0,q=this.pts.length,le=0;le<this.pts.length;le++)if(this.pts[le].equals2D(p.pts[le])||(v=!1),this.pts[le].equals2D(p.pts[--q])||(H=!1),!v&&!H)return!1;return!0},c.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},c.prototype.print=function(h){h.print("edge "+this._name+": "),h.print("LINESTRING (");for(var p=0;p<this.pts.length;p++)p>0&&h.print(","),h.print(this.pts[p].x+" "+this.pts[p].y);h.print(")  "+this._label+" "+this._depthDelta)},c.prototype.computeIM=function(h){c.updateIM(this._label,h)},c.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},c.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},c.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},c.prototype.getDepthDelta=function(){return this._depthDelta},c.prototype.getNumPoints=function(){return this.pts.length},c.prototype.printReverse=function(h){h.print("edge "+this._name+": ");for(var p=this.pts.length-1;p>=0;p--)h.print(this.pts[p]+" ");h.println("")},c.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Cs(this)),this._mce},c.prototype.getEnvelope=function(){if(null===this._env){this._env=new He;for(var h=0;h<this.pts.length;h++)this._env.expandToInclude(this.pts[h])}return this._env},c.prototype.addIntersection=function(h,p,v,H){var q=new B(h.getIntersection(H)),le=p,De=h.getEdgeDistance(v,H),je=le+1;je<this.pts.length&&q.equals2D(this.pts[je])&&(le=je,De=0),this.eiList.add(q,le,De)},c.prototype.toString=function(){var h=new ye;h.append("edge "+this._name+": "),h.append("LINESTRING (");for(var p=0;p<this.pts.length;p++)p>0&&h.append(","),h.append(this.pts[p].x+" "+this.pts[p].y);return h.append(")  "+this._label+" "+this._depthDelta),h.toString()},c.prototype.isPointwiseEqual=function(h){if(this.pts.length!==h.pts.length)return!1;for(var p=0;p<this.pts.length;p++)if(!this.pts[p].equals2D(h.pts[p]))return!1;return!0},c.prototype.setDepthDelta=function(h){this._depthDelta=h},c.prototype.getEdgeIntersectionList=function(){return this.eiList},c.prototype.addIntersections=function(h,p,v){for(var H=0;H<h.getIntersectionNum();H++)this.addIntersection(h,p,v,H)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c.updateIM=function(){if(2!==arguments.length)return s.prototype.updateIM.apply(this,arguments);var h=arguments[0],p=arguments[1];p.setAtLeastIfValid(h.getLocation(0,lt.ON),h.getLocation(1,lt.ON),1),h.isArea()&&(p.setAtLeastIfValid(h.getLocation(0,lt.LEFT),h.getLocation(1,lt.LEFT),2),p.setAtLeastIfValid(h.getLocation(0,lt.RIGHT),h.getLocation(1,lt.RIGHT),2))},c}(nn),Mn=function(s){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Ui,this._bufParams=s||null};Mn.prototype.setWorkingPrecisionModel=function(s){this._workingPrecisionModel=s},Mn.prototype.insertUniqueEdge=function(s){var c=this._edgeList.findEqualEdge(s);if(null!==c){var h=c.getLabel(),p=s.getLabel();c.isPointwiseEqual(s)||(p=new Bn(s.getLabel())).flip(),h.merge(p);var v=Mn.depthDelta(p),H=c.getDepthDelta()+v;c.setDepthDelta(H)}else this._edgeList.add(s),s.setDepthDelta(Mn.depthDelta(s.getLabel()))},Mn.prototype.buildSubgraphs=function(s,c){for(var h=new pt,p=s.iterator();p.hasNext();){var v=p.next(),H=v.getRightmostCoordinate(),q=new Xa(h).getDepth(H);v.computeDepth(q),v.findResultEdges(),h.add(v),c.add(v.getDirectedEdges(),v.getNodes())}},Mn.prototype.createSubgraphs=function(s){for(var c=new pt,h=s.getNodes().iterator();h.hasNext();){var p=h.next();if(!p.isVisited()){var v=new Vr;v.create(p),c.add(v)}}return cs.sort(c,cs.reverseOrder()),c},Mn.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Mn.prototype.getNoder=function(s){if(null!==this._workingNoder)return this._workingNoder;var c=new _c,h=new Ve;return h.setPrecisionModel(s),c.setSegmentIntersector(new ji(h)),c},Mn.prototype.buffer=function(s,c){var h=this._workingPrecisionModel;null===h&&(h=s.getPrecisionModel()),this._geomFact=s.getFactory();var p=new yo(h,this._bufParams),v=new wi(s,c,p).getCurves();if(v.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(v,h),this._graph=new Kt(new jo),this._graph.addEdges(this._edgeList.getEdges());var H=this.createSubgraphs(this._graph),q=new eo(this._geomFact);this.buildSubgraphs(H,q);var le=q.getPolygons();return le.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(le)},Mn.prototype.computeNodedEdges=function(s,c){var h=this.getNoder(c);h.computeNodes(s);for(var p=h.getNodedSubstrings().iterator();p.hasNext();){var v=p.next(),H=v.getCoordinates();if(2!==H.length||!H[0].equals2D(H[1])){var q=v.getData(),le=new Ki(v.getCoordinates(),new Bn(q));this.insertUniqueEdge(le)}}},Mn.prototype.setNoder=function(s){this._workingNoder=s},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn},Mn.depthDelta=function(s){var c=s.getLocation(0,lt.LEFT),h=s.getLocation(0,lt.RIGHT);return c===te.INTERIOR&&h===te.EXTERIOR?1:c===te.EXTERIOR&&h===te.INTERIOR?-1:0},Mn.convertSegStrings=function(s){for(var c=new mt,h=new pt;s.hasNext();){var p=s.next(),v=c.createLineString(p.getCoordinates());h.add(v)}return c.buildGeometry(h)};var oi=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var c=arguments[1];this._noder=arguments[0],this._scaleFactor=c,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var p=arguments[1],v=arguments[2],H=arguments[3];this._noder=arguments[0],this._scaleFactor=p,this._offsetX=v,this._offsetY=H,this._isScaled=!this.isIntegerPrecision()}};oi.prototype.rescale=function(){if(Pe(arguments[0],Gr))for(var s=arguments[0].iterator();s.hasNext();){var c=s.next();this.rescale(c.getCoordinates())}else if(arguments[0]instanceof Array){for(var h=arguments[0],p=0;p<h.length;p++)h[p].x=h[p].x/this._scaleFactor+this._offsetX,h[p].y=h[p].y/this._scaleFactor+this._offsetY;2===h.length&&h[0].equals2D(h[1])&&re.out.println(h)}},oi.prototype.scale=function(){if(Pe(arguments[0],Gr)){for(var s=arguments[0],c=new pt,h=s.iterator();h.hasNext();){var p=h.next();c.add(new Mi(this.scale(p.getCoordinates()),p.getData()))}return c}if(arguments[0]instanceof Array){for(var v=arguments[0],H=new Array(v.length).fill(null),q=0;q<v.length;q++)H[q]=new B(Math.round((v[q].x-this._offsetX)*this._scaleFactor),Math.round((v[q].y-this._offsetY)*this._scaleFactor),v[q].z);return pn.removeRepeatedPoints(H)}},oi.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},oi.prototype.getNodedSubstrings=function(){var s=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(s),s},oi.prototype.computeNodes=function(s){var c=s;this._isScaled&&(c=this.scale(s)),this._noder.computeNodes(c)},oi.prototype.interfaces_=function(){return[Da]},oi.prototype.getClass=function(){return oi};var di=function(){this._li=new Ve,this._segStrings=null,this._segStrings=arguments[0]},qo={fact:{configurable:!0}};di.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var s=this._segStrings.iterator();s.hasNext();){var c=s.next().getCoordinates();this.checkEndPtVertexIntersections(c[0],this._segStrings),this.checkEndPtVertexIntersections(c[c.length-1],this._segStrings)}else if(2===arguments.length)for(var h=arguments[0],p=arguments[1].iterator();p.hasNext();)for(var v=p.next().getCoordinates(),H=1;H<v.length-1;H++)if(v[H].equals(h))throw new we("found endpt/interior pt intersection at index "+H+" :pt "+h)},di.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var s=this._segStrings.iterator();s.hasNext();)for(var c=s.next(),h=this._segStrings.iterator();h.hasNext();){var p=h.next();this.checkInteriorIntersections(c,p)}else if(2===arguments.length)for(var v=arguments[0],H=arguments[1],q=v.getCoordinates(),le=H.getCoordinates(),De=0;De<q.length-1;De++)for(var je=0;je<le.length-1;je++)this.checkInteriorIntersections(v,De,H,je);else if(4===arguments.length){var rt=arguments[0],ot=arguments[1],bt=arguments[2],xt=arguments[3];if(rt===bt&&ot===xt)return null;var kt=rt.getCoordinates()[ot],Zt=rt.getCoordinates()[ot+1],ct=bt.getCoordinates()[xt],on=bt.getCoordinates()[xt+1];if(this._li.computeIntersection(kt,Zt,ct,on),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,kt,Zt)||this.hasInteriorIntersection(this._li,ct,on)))throw new we("found non-noded intersection at "+kt+"-"+Zt+" and "+ct+"-"+on)}},di.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},di.prototype.checkCollapses=function(){if(0===arguments.length)for(var s=this._segStrings.iterator();s.hasNext();){var c=s.next();this.checkCollapses(c)}else if(1===arguments.length)for(var h=arguments[0].getCoordinates(),p=0;p<h.length-2;p++)this.checkCollapse(h[p],h[p+1],h[p+2])},di.prototype.hasInteriorIntersection=function(s,c,h){for(var p=0;p<s.getIntersectionNum();p++){var v=s.getIntersection(p);if(!v.equals(c)&&!v.equals(h))return!0}return!1},di.prototype.checkCollapse=function(s,c,h){if(s.equals(h))throw new we("found non-noded collapse at "+di.fact.createLineString([s,c,h]))},di.prototype.interfaces_=function(){return[]},di.prototype.getClass=function(){return di},qo.fact.get=function(){return new mt},Object.defineProperties(di,qo);var qr=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var s=arguments[0],c=arguments[1],h=arguments[2];if(this._originalPt=s,this._pt=s,this._scaleFactor=c,this._li=h,c<=0)throw new O("Scale factor must be non-zero");1!==c&&(this._pt=new B(this.scale(s.x),this.scale(s.y)),this._p0Scaled=new B,this._p1Scaled=new B),this.initCorners(this._pt)},Ka={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};qr.prototype.intersectsScaled=function(s,c){var h=Math.min(s.x,c.x),p=Math.max(s.x,c.x),v=Math.min(s.y,c.y),H=Math.max(s.y,c.y),q=this._maxx<h||this._minx>p||this._maxy<v||this._miny>H;if(q)return!1;var le=this.intersectsToleranceSquare(s,c);return be.isTrue(!(q&&le),"Found bad envelope test"),le},qr.prototype.initCorners=function(s){this._minx=s.x-.5,this._maxx=s.x+.5,this._miny=s.y-.5,this._maxy=s.y+.5,this._corner[0]=new B(this._maxx,this._maxy),this._corner[1]=new B(this._minx,this._maxy),this._corner[2]=new B(this._minx,this._miny),this._corner[3]=new B(this._maxx,this._miny)},qr.prototype.intersects=function(s,c){return 1===this._scaleFactor?this.intersectsScaled(s,c):(this.copyScaled(s,this._p0Scaled),this.copyScaled(c,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},qr.prototype.scale=function(s){return Math.round(s*this._scaleFactor)},qr.prototype.getCoordinate=function(){return this._originalPt},qr.prototype.copyScaled=function(s,c){c.x=this.scale(s.x),c.y=this.scale(s.y)},qr.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var s=qr.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new He(this._originalPt.x-s,this._originalPt.x+s,this._originalPt.y-s,this._originalPt.y+s)}return this._safeEnv},qr.prototype.intersectsPixelClosure=function(s,c){return this._li.computeIntersection(s,c,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(s,c,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(s,c,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(s,c,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},qr.prototype.intersectsToleranceSquare=function(s,c){var h=!1,p=!1;return this._li.computeIntersection(s,c,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(s,c,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(h=!0),this._li.computeIntersection(s,c,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(p=!0),this._li.computeIntersection(s,c,this._corner[3],this._corner[0]),this._li.isProper()||h&&p||s.equals(this._pt)||c.equals(this._pt)))))},qr.prototype.addSnappedNode=function(s,c){var h=s.getCoordinate(c),p=s.getCoordinate(c+1);return!!this.intersects(h,p)&&(s.addIntersection(this.getCoordinate(),c),!0)},qr.prototype.interfaces_=function(){return[]},qr.prototype.getClass=function(){return qr},Ka.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(qr,Ka);var R1=function(){this.tempEnv1=new He,this.selectedSegment=new zt};R1.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},R1.prototype.interfaces_=function(){return[]},R1.prototype.getClass=function(){return R1};var bo=function(){this._index=null,this._index=arguments[0]},bs={HotPixelSnapAction:{configurable:!0}};bo.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var c=arguments[0],h=arguments[1],p=arguments[2],v=c.getSafeEnvelope(),H=new Ot(c,h,p);return this._index.query(v,{interfaces_:function(){return[Sa]},visitItem:function(q){q.select(v,H)}}),H.isNodeAdded()}},bo.prototype.interfaces_=function(){return[]},bo.prototype.getClass=function(){return bo},bs.HotPixelSnapAction.get=function(){return Ot},Object.defineProperties(bo,bs);var Ot=function(s){function c(){s.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var p=arguments[1],v=arguments[2];this._hotPixel=arguments[0],this._parentEdge=p,this._hotPixelVertexIndex=v}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.isNodeAdded=function(){return this._isNodeAdded},c.prototype.select=function(){if(2!==arguments.length)return s.prototype.select.apply(this,arguments);var p=arguments[1],v=arguments[0].getContext();if(null!==this._parentEdge&&v===this._parentEdge&&p===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(v,p)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(R1),vn=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new pt};vn.prototype.processIntersections=function(s,c,h,p){if(s===h&&c===p)return null;var v=s.getCoordinates()[c],H=s.getCoordinates()[c+1],q=h.getCoordinates()[p],le=h.getCoordinates()[p+1];if(this._li.computeIntersection(v,H,q,le),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var De=0;De<this._li.getIntersectionNum();De++)this._interiorIntersections.add(this._li.getIntersection(De));s.addIntersections(this._li,c,0),h.addIntersections(this._li,p,1)}},vn.prototype.isDone=function(){return!1},vn.prototype.getInteriorIntersections=function(){return this._interiorIntersections},vn.prototype.interfaces_=function(){return[ei]},vn.prototype.getClass=function(){return vn};var Yn=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var s=arguments[0];this._pm=s,this._li=new Ve,this._li.setPrecisionModel(s),this._scaleFactor=s.getScale()};Yn.prototype.checkCorrectness=function(s){var c=Mi.getNodedSubstrings(s),h=new di(c);try{h.checkValid()}catch(p){if(!(p instanceof Ke))throw p;p.printStackTrace()}},Yn.prototype.getNodedSubstrings=function(){return Mi.getNodedSubstrings(this._nodedSegStrings)},Yn.prototype.snapRound=function(s,c){var h=this.findInteriorIntersections(s,c);this.computeIntersectionSnaps(h),this.computeVertexSnaps(s)},Yn.prototype.findInteriorIntersections=function(s,c){var h=new vn(c);return this._noder.setSegmentIntersector(h),this._noder.computeNodes(s),h.getInteriorIntersections()},Yn.prototype.computeVertexSnaps=function(){if(Pe(arguments[0],Gr))for(var s=arguments[0].iterator();s.hasNext();){var c=s.next();this.computeVertexSnaps(c)}else if(arguments[0]instanceof Mi)for(var h=arguments[0],p=h.getCoordinates(),v=0;v<p.length;v++){var H=new qr(p[v],this._scaleFactor,this._li);this._pointSnapper.snap(H,h,v)&&h.addIntersection(p[v],v)}},Yn.prototype.computeNodes=function(s){this._nodedSegStrings=s,this._noder=new _c,this._pointSnapper=new bo(this._noder.getIndex()),this.snapRound(s,this._li)},Yn.prototype.computeIntersectionSnaps=function(s){for(var c=s.iterator();c.hasNext();){var h=c.next(),p=new qr(h,this._scaleFactor,this._li);this._pointSnapper.snap(p)}},Yn.prototype.interfaces_=function(){return[Da]},Yn.prototype.getClass=function(){return Yn};var Ir=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Dn,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var h=arguments[1];this._argGeom=arguments[0],this._bufParams=h}},$o={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Ir.prototype.bufferFixedPrecision=function(s){var c=new oi(new Yn(new vt(1)),s.getScale()),h=new Mn(this._bufParams);h.setWorkingPrecisionModel(s),h.setNoder(c),this._resultGeometry=h.buffer(this._argGeom,this._distance)},Ir.prototype.bufferReducedPrecision=function(){var s=this;if(0===arguments.length){for(var c=Ir.MAX_PRECISION_DIGITS;c>=0;c--){try{s.bufferReducedPrecision(c)}catch(H){if(!(H instanceof zs))throw H;s._saveException=H}if(null!==s._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var p=Ir.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),v=new vt(p);this.bufferFixedPrecision(v)}},Ir.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var s=this._argGeom.getFactory().getPrecisionModel();s.getType()===vt.FIXED?this.bufferFixedPrecision(s):this.bufferReducedPrecision()},Ir.prototype.setQuadrantSegments=function(s){this._bufParams.setQuadrantSegments(s)},Ir.prototype.bufferOriginalPrecision=function(){try{var s=new Mn(this._bufParams);this._resultGeometry=s.buffer(this._argGeom,this._distance)}catch(c){if(!(c instanceof we))throw c;this._saveException=c}},Ir.prototype.getResultGeometry=function(s){return this._distance=s,this.computeGeometry(),this._resultGeometry},Ir.prototype.setEndCapStyle=function(s){this._bufParams.setEndCapStyle(s)},Ir.prototype.interfaces_=function(){return[]},Ir.prototype.getClass=function(){return Ir},Ir.bufferOp=function(){if(2===arguments.length){var c=arguments[1];return new Ir(arguments[0]).getResultGeometry(c)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof it&&"number"==typeof arguments[1]){var p=arguments[1],v=arguments[2],H=new Ir(arguments[0]);return H.setQuadrantSegments(v),H.getResultGeometry(p)}if(arguments[2]instanceof Dn&&arguments[0]instanceof it&&"number"==typeof arguments[1]){var le=arguments[1];return new Ir(arguments[0],arguments[2]).getResultGeometry(le)}}else if(4===arguments.length){var rt=arguments[1],ot=arguments[2],bt=arguments[3],xt=new Ir(arguments[0]);return xt.setQuadrantSegments(ot),xt.setEndCapStyle(bt),xt.getResultGeometry(rt)}},Ir.precisionScaleFactor=function(s,c,h){var p=s.getEnvelopeInternal(),v=ve.max(Math.abs(p.getMaxX()),Math.abs(p.getMaxY()),Math.abs(p.getMinX()),Math.abs(p.getMinY()))+2*(c>0?c:0),H=h-Math.trunc(Math.log(v)/Math.log(10)+1);return Math.pow(10,H)},$o.CAP_ROUND.get=function(){return Dn.CAP_ROUND},$o.CAP_BUTT.get=function(){return Dn.CAP_FLAT},$o.CAP_FLAT.get=function(){return Dn.CAP_FLAT},$o.CAP_SQUARE.get=function(){return Dn.CAP_SQUARE},$o.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Ir,$o);var Un=function(){this._pt=[new B,new B],this._distance=z.NaN,this._isNull=!0};Un.prototype.getCoordinates=function(){return this._pt},Un.prototype.getCoordinate=function(s){return this._pt[s]},Un.prototype.setMinimum=function(){if(1===arguments.length){var s=arguments[0];this.setMinimum(s._pt[0],s._pt[1])}else if(2===arguments.length){var c=arguments[0],h=arguments[1];if(this._isNull)return this.initialize(c,h),null;var p=c.distance(h);p<this._distance&&this.initialize(c,h,p)}},Un.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var s=arguments[0],c=arguments[1];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(c),this._distance=s.distance(c),this._isNull=!1}else if(3===arguments.length){var p=arguments[1],v=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(p),this._distance=v,this._isNull=!1}},Un.prototype.getDistance=function(){return this._distance},Un.prototype.setMaximum=function(){if(1===arguments.length){var s=arguments[0];this.setMaximum(s._pt[0],s._pt[1])}else if(2===arguments.length){var c=arguments[0],h=arguments[1];if(this._isNull)return this.initialize(c,h),null;var p=c.distance(h);p>this._distance&&this.initialize(c,h,p)}},Un.prototype.interfaces_=function(){return[]},Un.prototype.getClass=function(){return Un};var to=function(){};to.prototype.interfaces_=function(){return[]},to.prototype.getClass=function(){return to},to.computeDistance=function(){if(arguments[2]instanceof Un&&arguments[0]instanceof Kr&&arguments[1]instanceof B)for(var c=arguments[1],h=arguments[2],p=arguments[0].getCoordinates(),v=new zt,H=0;H<p.length-1;H++){v.setCoordinates(p[H],p[H+1]);var q=v.closestPoint(c);h.setMinimum(q,c)}else if(arguments[2]instanceof Un&&arguments[0]instanceof Ci&&arguments[1]instanceof B){var le=arguments[0],De=arguments[1],je=arguments[2];to.computeDistance(le.getExteriorRing(),De,je);for(var rt=0;rt<le.getNumInteriorRing();rt++)to.computeDistance(le.getInteriorRingN(rt),De,je)}else if(arguments[2]instanceof Un&&arguments[0]instanceof it&&arguments[1]instanceof B){var ot=arguments[0],bt=arguments[1],xt=arguments[2];if(ot instanceof Kr)to.computeDistance(ot,bt,xt);else if(ot instanceof Ci)to.computeDistance(ot,bt,xt);else if(ot instanceof zn)for(var kt=ot,Zt=0;Zt<kt.getNumGeometries();Zt++){var ct=kt.getGeometryN(Zt);to.computeDistance(ct,bt,xt)}else xt.setMinimum(ot.getCoordinate(),bt)}else if(arguments[2]instanceof Un&&arguments[0]instanceof zt&&arguments[1]instanceof B){var Or=arguments[1],Di=arguments[2],zi=arguments[0].closestPoint(Or);Di.setMinimum(zi,Or)}};var Ur=function(s){this._maxPtDist=new Un,this._inputGeom=s||null},m1={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Ur.prototype.computeMaxMidpointDistance=function(s){var c=new un(this._inputGeom);s.apply(c),this._maxPtDist.setMaximum(c.getMaxPointDistance())},Ur.prototype.computeMaxVertexDistance=function(s){var c=new pa(this._inputGeom);s.apply(c),this._maxPtDist.setMaximum(c.getMaxPointDistance())},Ur.prototype.findDistance=function(s){return this.computeMaxVertexDistance(s),this.computeMaxMidpointDistance(s),this._maxPtDist.getDistance()},Ur.prototype.getDistancePoints=function(){return this._maxPtDist},Ur.prototype.interfaces_=function(){return[]},Ur.prototype.getClass=function(){return Ur},m1.MaxPointDistanceFilter.get=function(){return pa},m1.MaxMidpointDistanceFilter.get=function(){return un},Object.defineProperties(Ur,m1);var pa=function(s){this._maxPtDist=new Un,this._minPtDist=new Un,this._geom=s||null};pa.prototype.filter=function(s){this._minPtDist.initialize(),to.computeDistance(this._geom,s,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},pa.prototype.getMaxPointDistance=function(){return this._maxPtDist},pa.prototype.interfaces_=function(){return[Gt]},pa.prototype.getClass=function(){return pa};var un=function(s){this._maxPtDist=new Un,this._minPtDist=new Un,this._geom=s||null};un.prototype.filter=function(s,c){if(0===c)return null;var h=s.getCoordinate(c-1),p=s.getCoordinate(c),v=new B((h.x+p.x)/2,(h.y+p.y)/2);this._minPtDist.initialize(),to.computeDistance(this._geom,v,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},un.prototype.isDone=function(){return!1},un.prototype.isGeometryChanged=function(){return!1},un.prototype.getMaxPointDistance=function(){return this._maxPtDist},un.prototype.interfaces_=function(){return[is]},un.prototype.getClass=function(){return un};var Ts=function(s){this._comps=s||null};Ts.prototype.filter=function(s){s instanceof Ci&&this._comps.add(s)},Ts.prototype.interfaces_=function(){return[Ti]},Ts.prototype.getClass=function(){return Ts},Ts.getPolygons=function(){if(1===arguments.length)return Ts.getPolygons(arguments[0],new pt);if(2===arguments.length){var c=arguments[0],h=arguments[1];return c instanceof Ci?h.add(c):c instanceof zn&&c.apply(new Ts(h)),h}};var mi=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var h=arguments[1];this._lines=arguments[0],this._isForcedToLineString=h}};mi.prototype.filter=function(s){if(this._isForcedToLineString&&s instanceof Bs){var c=s.getFactory().createLineString(s.getCoordinateSequence());return this._lines.add(c),null}s instanceof Kr&&this._lines.add(s)},mi.prototype.setForceToLineString=function(s){this._isForcedToLineString=s},mi.prototype.interfaces_=function(){return[yt]},mi.prototype.getClass=function(){return mi},mi.getGeometry=function(){if(1===arguments.length){var s=arguments[0];return s.getFactory().buildGeometry(mi.getLines(s))}if(2===arguments.length){var c=arguments[0],h=arguments[1];return c.getFactory().buildGeometry(mi.getLines(c,h))}},mi.getLines=function(){if(1===arguments.length)return mi.getLines(arguments[0],!1);if(2===arguments.length){if(Pe(arguments[0],Gr)&&Pe(arguments[1],Gr)){for(var h=arguments[1],p=arguments[0].iterator();p.hasNext();){var v=p.next();mi.getLines(v,h)}return h}if(arguments[0]instanceof it&&"boolean"==typeof arguments[1]){var H=arguments[0],q=arguments[1],le=new pt;return H.apply(new mi(le,q)),le}if(arguments[0]instanceof it&&Pe(arguments[1],Gr)){var De=arguments[0],je=arguments[1];return De instanceof Kr?je.add(De):De.apply(new mi(je)),je}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Pe(arguments[0],Gr)&&Pe(arguments[1],Gr)){for(var ot=arguments[1],bt=arguments[2],xt=arguments[0].iterator();xt.hasNext();){var kt=xt.next();mi.getLines(kt,ot,bt)}return ot}if("boolean"==typeof arguments[2]&&arguments[0]instanceof it&&Pe(arguments[1],Gr)){var ct=arguments[1];return arguments[0].apply(new mi(ct,arguments[2])),ct}}};var us=function(){if(this._boundaryRule=En.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var s=arguments[0];if(null===s)throw new O("Rule must be non-null");this._boundaryRule=s}};us.prototype.locateInternal=function(){if(arguments[0]instanceof B&&arguments[1]instanceof Ci){var s=arguments[0],c=arguments[1];if(c.isEmpty())return te.EXTERIOR;var h=c.getExteriorRing(),p=this.locateInPolygonRing(s,h);if(p===te.EXTERIOR)return te.EXTERIOR;if(p===te.BOUNDARY)return te.BOUNDARY;for(var v=0;v<c.getNumInteriorRing();v++){var H=c.getInteriorRingN(v),q=this.locateInPolygonRing(s,H);if(q===te.INTERIOR)return te.EXTERIOR;if(q===te.BOUNDARY)return te.BOUNDARY}return te.INTERIOR}if(arguments[0]instanceof B&&arguments[1]instanceof Kr){var le=arguments[0],De=arguments[1];if(!De.getEnvelopeInternal().intersects(le))return te.EXTERIOR;var je=De.getCoordinates();return De.isClosed()||!le.equals(je[0])&&!le.equals(je[je.length-1])?qe.isOnLine(le,je)?te.INTERIOR:te.EXTERIOR:te.BOUNDARY}if(arguments[0]instanceof B&&arguments[1]instanceof Io){var rt=arguments[0];return arguments[1].getCoordinate().equals2D(rt)?te.INTERIOR:te.EXTERIOR}},us.prototype.locateInPolygonRing=function(s,c){return c.getEnvelopeInternal().intersects(s)?qe.locatePointInRing(s,c.getCoordinates()):te.EXTERIOR},us.prototype.intersects=function(s,c){return this.locate(s,c)!==te.EXTERIOR},us.prototype.updateLocationInfo=function(s){s===te.INTERIOR&&(this._isIn=!0),s===te.BOUNDARY&&this._numBoundaries++},us.prototype.computeLocation=function(s,c){if(c instanceof Io&&this.updateLocationInfo(this.locateInternal(s,c)),c instanceof Kr)this.updateLocationInfo(this.locateInternal(s,c));else if(c instanceof Ci)this.updateLocationInfo(this.locateInternal(s,c));else if(c instanceof os)for(var h=c,p=0;p<h.getNumGeometries();p++){var v=h.getGeometryN(p);this.updateLocationInfo(this.locateInternal(s,v))}else if(c instanceof gs)for(var H=c,q=0;q<H.getNumGeometries();q++){var le=H.getGeometryN(q);this.updateLocationInfo(this.locateInternal(s,le))}else if(c instanceof zn)for(var De=new ls(c);De.hasNext();){var je=De.next();je!==c&&this.computeLocation(s,je)}},us.prototype.locate=function(s,c){return c.isEmpty()?te.EXTERIOR:c instanceof Kr||c instanceof Ci?this.locateInternal(s,c):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(s,c),this._boundaryRule.isInBoundary(this._numBoundaries)?te.BOUNDARY:this._numBoundaries>0||this._isIn?te.INTERIOR:te.EXTERIOR)},us.prototype.interfaces_=function(){return[]},us.prototype.getClass=function(){return us};var xi=function s(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)s.call(this,arguments[0],s.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var v=arguments[1],H=arguments[2];this._component=arguments[0],this._segIndex=v,this._pt=H}},Mo={INSIDE_AREA:{configurable:!0}};xi.prototype.isInsideArea=function(){return this._segIndex===xi.INSIDE_AREA},xi.prototype.getCoordinate=function(){return this._pt},xi.prototype.getGeometryComponent=function(){return this._component},xi.prototype.getSegmentIndex=function(){return this._segIndex},xi.prototype.interfaces_=function(){return[]},xi.prototype.getClass=function(){return xi},Mo.INSIDE_AREA.get=function(){return-1},Object.defineProperties(xi,Mo);var Ni=function(s){this._pts=s||null};Ni.prototype.filter=function(s){s instanceof Io&&this._pts.add(s)},Ni.prototype.interfaces_=function(){return[Ti]},Ni.prototype.getClass=function(){return Ni},Ni.getPoints=function(){if(1===arguments.length){var s=arguments[0];return s instanceof Io?cs.singletonList(s):Ni.getPoints(s,new pt)}if(2===arguments.length){var c=arguments[0],h=arguments[1];return c instanceof Io?h.add(c):c instanceof zn&&c.apply(new Ni(h)),h}};var Wo=function(){this._locations=null,this._locations=arguments[0]};Wo.prototype.filter=function(s){(s instanceof Io||s instanceof Kr||s instanceof Ci)&&this._locations.add(new xi(s,0,s.getCoordinate()))},Wo.prototype.interfaces_=function(){return[Ti]},Wo.prototype.getClass=function(){return Wo},Wo.getLocations=function(s){var c=new pt;return s.apply(new Wo(c)),c};var $r=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new us,this._minDistanceLocation=null,this._minDistance=z.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var h=arguments[0],p=arguments[1],v=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=h,this._geom[1]=p,this._terminateDistance=v}};$r.prototype.computeContainmentDistance=function(){if(0===arguments.length){var s=new Array(2).fill(null);if(this.computeContainmentDistance(0,s),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,s)}else if(2===arguments.length){var c=arguments[0],h=arguments[1],p=1-c,v=Ts.getPolygons(this._geom[c]);if(v.size()>0){var H=Wo.getLocations(this._geom[p]);if(this.computeContainmentDistance(H,v,h),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[p]=h[0],this._minDistanceLocation[c]=h[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Pe(arguments[0],_i)&&Pe(arguments[1],_i)){for(var q=arguments[0],le=arguments[1],De=arguments[2],je=0;je<q.size();je++)for(var rt=q.get(je),ot=0;ot<le.size();ot++)if(this.computeContainmentDistance(rt,le.get(ot),De),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof xi&&arguments[1]instanceof Ci){var bt=arguments[0],xt=arguments[1],kt=arguments[2],Zt=bt.getCoordinate();if(te.EXTERIOR!==this._ptLocator.locate(Zt,xt))return this._minDistance=0,kt[0]=bt,kt[1]=new xi(xt,Zt),null}},$r.prototype.computeMinDistanceLinesPoints=function(s,c,h){for(var p=0;p<s.size();p++)for(var v=s.get(p),H=0;H<c.size();H++){var q=c.get(H);if(this.computeMinDistance(v,q,h),this._minDistance<=this._terminateDistance)return null}},$r.prototype.computeFacetDistance=function(){var s=new Array(2).fill(null),c=mi.getLines(this._geom[0]),h=mi.getLines(this._geom[1]),p=Ni.getPoints(this._geom[0]),v=Ni.getPoints(this._geom[1]);return this.computeMinDistanceLines(c,h,s),this.updateMinDistance(s,!1),this._minDistance<=this._terminateDistance?null:(s[0]=null,s[1]=null,this.computeMinDistanceLinesPoints(c,v,s),this.updateMinDistance(s,!1),this._minDistance<=this._terminateDistance?null:(s[0]=null,s[1]=null,this.computeMinDistanceLinesPoints(h,p,s),this.updateMinDistance(s,!0),this._minDistance<=this._terminateDistance?null:(s[0]=null,s[1]=null,this.computeMinDistancePoints(p,v,s),void this.updateMinDistance(s,!1))))},$r.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},$r.prototype.updateMinDistance=function(s,c){if(null===s[0])return null;c?(this._minDistanceLocation[0]=s[1],this._minDistanceLocation[1]=s[0]):(this._minDistanceLocation[0]=s[0],this._minDistanceLocation[1]=s[1])},$r.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},$r.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Kr&&arguments[1]instanceof Io){var s=arguments[0],c=arguments[1],h=arguments[2];if(s.getEnvelopeInternal().distance(c.getEnvelopeInternal())>this._minDistance)return null;for(var p=s.getCoordinates(),v=c.getCoordinate(),H=0;H<p.length-1;H++){var q=qe.distancePointLine(v,p[H],p[H+1]);if(q<this._minDistance){this._minDistance=q;var le=new zt(p[H],p[H+1]).closestPoint(v);h[0]=new xi(s,H,le),h[1]=new xi(c,0,v)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Kr&&arguments[1]instanceof Kr){var De=arguments[0],je=arguments[1],rt=arguments[2];if(De.getEnvelopeInternal().distance(je.getEnvelopeInternal())>this._minDistance)return null;for(var ot=De.getCoordinates(),bt=je.getCoordinates(),xt=0;xt<ot.length-1;xt++)for(var kt=0;kt<bt.length-1;kt++){var Zt=qe.distanceLineLine(ot[xt],ot[xt+1],bt[kt],bt[kt+1]);if(Zt<this._minDistance){this._minDistance=Zt;var ct=new zt(ot[xt],ot[xt+1]),on=new zt(bt[kt],bt[kt+1]),Or=ct.closestPoints(on);rt[0]=new xi(De,xt,Or[0]),rt[1]=new xi(je,kt,Or[1])}if(this._minDistance<=this._terminateDistance)return null}}},$r.prototype.computeMinDistancePoints=function(s,c,h){for(var p=0;p<s.size();p++)for(var v=s.get(p),H=0;H<c.size();H++){var q=c.get(H),le=v.getCoordinate().distance(q.getCoordinate());if(le<this._minDistance&&(this._minDistance=le,h[0]=new xi(v,0,v.getCoordinate()),h[1]=new xi(q,0,q.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},$r.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new O("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},$r.prototype.computeMinDistanceLines=function(s,c,h){for(var p=0;p<s.size();p++)for(var v=s.get(p),H=0;H<c.size();H++){var q=c.get(H);if(this.computeMinDistance(v,q,h),this._minDistance<=this._terminateDistance)return null}},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r},$r.distance=function(s,c){return new $r(s,c).distance()},$r.isWithinDistance=function(s,c,h){return new $r(s,c,h).distance()<=h},$r.nearestPoints=function(s,c){return new $r(s,c).nearestPoints()};var si=function(){this._pt=[new B,new B],this._distance=z.NaN,this._isNull=!0};si.prototype.getCoordinates=function(){return this._pt},si.prototype.getCoordinate=function(s){return this._pt[s]},si.prototype.setMinimum=function(){if(1===arguments.length){var s=arguments[0];this.setMinimum(s._pt[0],s._pt[1])}else if(2===arguments.length){var c=arguments[0],h=arguments[1];if(this._isNull)return this.initialize(c,h),null;var p=c.distance(h);p<this._distance&&this.initialize(c,h,p)}},si.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var s=arguments[0],c=arguments[1];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(c),this._distance=s.distance(c),this._isNull=!1}else if(3===arguments.length){var p=arguments[1],v=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(p),this._distance=v,this._isNull=!1}},si.prototype.toString=function(){return $e.toLineString(this._pt[0],this._pt[1])},si.prototype.getDistance=function(){return this._distance},si.prototype.setMaximum=function(){if(1===arguments.length){var s=arguments[0];this.setMaximum(s._pt[0],s._pt[1])}else if(2===arguments.length){var c=arguments[0],h=arguments[1];if(this._isNull)return this.initialize(c,h),null;var p=c.distance(h);p>this._distance&&this.initialize(c,h,p)}},si.prototype.interfaces_=function(){return[]},si.prototype.getClass=function(){return si};var Ms=function(){};Ms.prototype.interfaces_=function(){return[]},Ms.prototype.getClass=function(){return Ms},Ms.computeDistance=function(){if(arguments[2]instanceof si&&arguments[0]instanceof Kr&&arguments[1]instanceof B)for(var s=arguments[0],c=arguments[1],h=arguments[2],p=new zt,v=s.getCoordinates(),H=0;H<v.length-1;H++){p.setCoordinates(v[H],v[H+1]);var q=p.closestPoint(c);h.setMinimum(q,c)}else if(arguments[2]instanceof si&&arguments[0]instanceof Ci&&arguments[1]instanceof B){var le=arguments[0],De=arguments[1],je=arguments[2];Ms.computeDistance(le.getExteriorRing(),De,je);for(var rt=0;rt<le.getNumInteriorRing();rt++)Ms.computeDistance(le.getInteriorRingN(rt),De,je)}else if(arguments[2]instanceof si&&arguments[0]instanceof it&&arguments[1]instanceof B){var ot=arguments[0],bt=arguments[1],xt=arguments[2];if(ot instanceof Kr)Ms.computeDistance(ot,bt,xt);else if(ot instanceof Ci)Ms.computeDistance(ot,bt,xt);else if(ot instanceof zn)for(var kt=ot,Zt=0;Zt<kt.getNumGeometries();Zt++){var ct=kt.getGeometryN(Zt);Ms.computeDistance(ct,bt,xt)}else xt.setMinimum(ot.getCoordinate(),bt)}else if(arguments[2]instanceof si&&arguments[0]instanceof zt&&arguments[1]instanceof B){var Or=arguments[1],Di=arguments[2],zi=arguments[0].closestPoint(Or);Di.setMinimum(zi,Or)}};var In=function(){this._g0=null,this._g1=null,this._ptDist=new si,this._densifyFrac=0;var c=arguments[1];this._g0=arguments[0],this._g1=c},ol={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};In.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},In.prototype.setDensifyFraction=function(s){if(s>1||s<=0)throw new O("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=s},In.prototype.compute=function(s,c){this.computeOrientedDistance(s,c,this._ptDist),this.computeOrientedDistance(c,s,this._ptDist)},In.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},In.prototype.computeOrientedDistance=function(s,c,h){var p=new ws(c);if(s.apply(p),h.setMaximum(p.getMaxPointDistance()),this._densifyFrac>0){var v=new ma(c,this._densifyFrac);s.apply(v),h.setMaximum(v.getMaxPointDistance())}},In.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},In.prototype.interfaces_=function(){return[]},In.prototype.getClass=function(){return In},In.distance=function(){if(2===arguments.length)return new In(arguments[0],arguments[1]).distance();if(3===arguments.length){var v=arguments[2],H=new In(arguments[0],arguments[1]);return H.setDensifyFraction(v),H.distance()}},ol.MaxPointDistanceFilter.get=function(){return ws},ol.MaxDensifiedByFractionDistanceFilter.get=function(){return ma},Object.defineProperties(In,ol);var ws=function(){this._maxPtDist=new si,this._minPtDist=new si,this._euclideanDist=new Ms,this._geom=null,this._geom=arguments[0]};ws.prototype.filter=function(s){this._minPtDist.initialize(),Ms.computeDistance(this._geom,s,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},ws.prototype.getMaxPointDistance=function(){return this._maxPtDist},ws.prototype.interfaces_=function(){return[Gt]},ws.prototype.getClass=function(){return ws};var ma=function(){this._maxPtDist=new si,this._minPtDist=new si,this._geom=null,this._numSubSegs=0;var c=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/c))};ma.prototype.filter=function(s,c){if(0===c)return null;for(var h=s.getCoordinate(c-1),p=s.getCoordinate(c),v=(p.x-h.x)/this._numSubSegs,H=(p.y-h.y)/this._numSubSegs,q=0;q<this._numSubSegs;q++){var je=new B(h.x+q*v,h.y+q*H);this._minPtDist.initialize(),Ms.computeDistance(this._geom,je,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},ma.prototype.isDone=function(){return!1},ma.prototype.isGeometryChanged=function(){return!1},ma.prototype.getMaxPointDistance=function(){return this._maxPtDist},ma.prototype.interfaces_=function(){return[is]},ma.prototype.getClass=function(){return ma};var Ei=function(s,c,h){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=s||null,this._bufDistance=c||null,this._result=h||null},g1={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Ei.prototype.checkMaximumDistance=function(s,c,h){var p=new In(c,s);if(p.setDensifyFraction(.25),this._maxDistanceFound=p.orientedDistance(),this._maxDistanceFound>h){this._isValid=!1;var v=p.getCoordinates();this._errorLocation=v[1],this._errorIndicator=s.getFactory().createLineString(v),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+$e.toLineString(v[0],v[1])+")"}},Ei.prototype.isValid=function(){var s=Math.abs(this._bufDistance),c=Ei.MAX_DISTANCE_DIFF_FRAC*s;return this._minValidDistance=s-c,this._maxValidDistance=s+c,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Ei.VERBOSE&&re.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Ei.prototype.checkNegativeValid=function(){if(!(this._input instanceof Ci||this._input instanceof gs||this._input instanceof zn))return null;var s=this.getPolygonLines(this._input);if(this.checkMinimumDistance(s,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(s,this._result,this._maxValidDistance)},Ei.prototype.getErrorIndicator=function(){return this._errorIndicator},Ei.prototype.checkMinimumDistance=function(s,c,h){var p=new $r(s,c,h);if(this._minDistanceFound=p.distance(),this._minDistanceFound<h){this._isValid=!1;var v=p.nearestPoints();this._errorLocation=p.nearestPoints()[1],this._errorIndicator=s.getFactory().createLineString(v),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+$e.toLineString(v[0],v[1])+" )"}},Ei.prototype.checkPositiveValid=function(){var s=this._result.getBoundary();if(this.checkMinimumDistance(this._input,s,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,s,this._maxValidDistance)},Ei.prototype.getErrorLocation=function(){return this._errorLocation},Ei.prototype.getPolygonLines=function(s){for(var c=new pt,h=new mi(c),p=Ts.getPolygons(s).iterator();p.hasNext();)p.next().apply(h);return s.getFactory().buildGeometry(c)},Ei.prototype.getErrorMessage=function(){return this._errMsg},Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei},g1.VERBOSE.get=function(){return!1},g1.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Ei,g1);var ai=function(s,c,h){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=s||null,this._distance=c||null,this._result=h||null},wo={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};ai.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},ai.prototype.checkEnvelope=function(){if(this._distance<0)return null;var s=this._distance*ai.MAX_ENV_DIFF_FRAC;0===s&&(s=.001);var c=new He(this._input.getEnvelopeInternal());c.expandBy(this._distance);var h=new He(this._result.getEnvelopeInternal());h.expandBy(s),h.contains(c)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(h)),this.report("Envelope")},ai.prototype.checkDistance=function(){var s=new Ei(this._input,this._distance,this._result);s.isValid()||(this._isValid=!1,this._errorMsg=s.getErrorMessage(),this._errorLocation=s.getErrorLocation(),this._errorIndicator=s.getErrorIndicator()),this.report("Distance")},ai.prototype.checkArea=function(){var s=this._input.getArea(),c=this._result.getArea();this._distance>0&&s>c&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&s<c&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},ai.prototype.checkPolygonal=function(){this._result instanceof Ci||this._result instanceof gs||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},ai.prototype.getErrorIndicator=function(){return this._errorIndicator},ai.prototype.getErrorLocation=function(){return this._errorLocation},ai.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},ai.prototype.report=function(s){if(!ai.VERBOSE)return null;re.out.println("Check "+s+": "+(this._isValid?"passed":"FAILED"))},ai.prototype.getErrorMessage=function(){return this._errorMsg},ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai},ai.isValidMsg=function(s,c,h){var p=new ai(s,c,h);return p.isValid()?null:p.getErrorMessage()},ai.isValid=function(s,c,h){return!!new ai(s,c,h).isValid()},wo.VERBOSE.get=function(){return!1},wo.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(ai,wo);var no=function(){this._pts=null,this._data=null;var c=arguments[1];this._pts=arguments[0],this._data=c};no.prototype.getCoordinates=function(){return this._pts},no.prototype.size=function(){return this._pts.length},no.prototype.getCoordinate=function(s){return this._pts[s]},no.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},no.prototype.getSegmentOctant=function(s){return s===this._pts.length-1?-1:Za.octant(this.getCoordinate(s),this.getCoordinate(s+1))},no.prototype.setData=function(s){this._data=s},no.prototype.getData=function(){return this._data},no.prototype.toString=function(){return $e.toLineString(new fn(this._pts))},no.prototype.interfaces_=function(){return[ha]},no.prototype.getClass=function(){return no};var Er=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new pt,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};Er.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Er.prototype.setCheckEndSegmentsOnly=function(s){this._isCheckEndSegmentsOnly=s},Er.prototype.getIntersectionSegments=function(){return this._intSegments},Er.prototype.count=function(){return this._intersectionCount},Er.prototype.getIntersections=function(){return this._intersections},Er.prototype.setFindAllIntersections=function(s){this._findAllIntersections=s},Er.prototype.setKeepIntersections=function(s){this._keepIntersections=s},Er.prototype.processIntersections=function(s,c,h,p){if(!this._findAllIntersections&&this.hasIntersection()||s===h&&c===p||this._isCheckEndSegmentsOnly&&!this.isEndSegment(s,c)&&!this.isEndSegment(h,p))return null;var v=s.getCoordinates()[c],H=s.getCoordinates()[c+1],q=h.getCoordinates()[p],le=h.getCoordinates()[p+1];this._li.computeIntersection(v,H,q,le),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=v,this._intSegments[1]=H,this._intSegments[2]=q,this._intSegments[3]=le,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Er.prototype.isEndSegment=function(s,c){return 0===c||c>=s.size()-2},Er.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Er.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Er.prototype.interfaces_=function(){return[ei]},Er.prototype.getClass=function(){return Er},Er.createAllIntersectionsFinder=function(s){var c=new Er(s);return c.setFindAllIntersections(!0),c},Er.createAnyIntersectionFinder=function(s){return new Er(s)},Er.createIntersectionCounter=function(s){var c=new Er(s);return c.setFindAllIntersections(!0),c.setKeepIntersections(!1),c};var Si=function(){this._li=new Ve,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};Si.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Si.prototype.getIntersections=function(){return this._segInt.getIntersections()},Si.prototype.isValid=function(){return this.execute(),this._isValid},Si.prototype.setFindAllIntersections=function(s){this._findAllIntersections=s},Si.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Er(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var s=new _c;if(s.setSegmentIntersector(this._segInt),s.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Si.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new zs(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Si.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var s=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+$e.toLineString(s[0],s[1])+" and "+$e.toLineString(s[2],s[3])},Si.prototype.interfaces_=function(){return[]},Si.prototype.getClass=function(){return Si},Si.computeIntersections=function(s){var c=new Si(s);return c.setFindAllIntersections(!0),c.isValid(),c.getIntersections()};var fs=function s(){this._nv=null,this._nv=new Si(s.toSegmentStrings(arguments[0]))};fs.prototype.checkValid=function(){this._nv.checkValid()},fs.prototype.interfaces_=function(){return[]},fs.prototype.getClass=function(){return fs},fs.toSegmentStrings=function(s){for(var c=new pt,h=s.iterator();h.hasNext();){var p=h.next();c.add(new no(p.getCoordinates(),p))}return c},fs.checkValid=function(s){new fs(s).checkValid()};var Gs=function(s){this._mapOp=s};Gs.prototype.map=function(s){for(var c=new pt,h=0;h<s.getNumGeometries();h++){var p=this._mapOp.map(s.getGeometryN(h));p.isEmpty()||c.add(p)}return s.getFactory().createGeometryCollection(mt.toGeometryArray(c))},Gs.prototype.interfaces_=function(){return[]},Gs.prototype.getClass=function(){return Gs},Gs.map=function(s,c){return new Gs(c).map(s)};var fo=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new pt,this._resultLineList=new pt;var c=arguments[1],h=arguments[2];this._op=arguments[0],this._geometryFactory=c,this._ptLocator=h};fo.prototype.collectLines=function(s){for(var c=this._op.getGraph().getEdgeEnds().iterator();c.hasNext();){var h=c.next();this.collectLineEdge(h,s,this._lineEdgesList),this.collectBoundaryTouchEdge(h,s,this._lineEdgesList)}},fo.prototype.labelIsolatedLine=function(s,c){var h=this._ptLocator.locate(s.getCoordinate(),this._op.getArgGeometry(c));s.getLabel().setLocation(c,h)},fo.prototype.build=function(s){return this.findCoveredLineEdges(),this.collectLines(s),this.buildLines(s),this._resultLineList},fo.prototype.collectLineEdge=function(s,c,h){var p=s.getLabel(),v=s.getEdge();s.isLineEdge()&&(s.isVisited()||!$t.isResultOfOp(p,c)||v.isCovered()||(h.add(v),s.setVisitedEdge(!0)))},fo.prototype.findCoveredLineEdges=function(){for(var s=this._op.getGraph().getNodes().iterator();s.hasNext();)s.next().getEdges().findCoveredLineEdges();for(var c=this._op.getGraph().getEdgeEnds().iterator();c.hasNext();){var h=c.next(),p=h.getEdge();if(h.isLineEdge()&&!p.isCoveredSet()){var v=this._op.isCoveredByA(h.getCoordinate());p.setCovered(v)}}},fo.prototype.labelIsolatedLines=function(s){for(var c=s.iterator();c.hasNext();){var h=c.next(),p=h.getLabel();h.isIsolated()&&(p.isNull(0)?this.labelIsolatedLine(h,0):this.labelIsolatedLine(h,1))}},fo.prototype.buildLines=function(s){for(var c=this._lineEdgesList.iterator();c.hasNext();){var h=c.next(),p=this._geometryFactory.createLineString(h.getCoordinates());this._resultLineList.add(p),h.setInResult(!0)}},fo.prototype.collectBoundaryTouchEdge=function(s,c,h){var p=s.getLabel();return s.isLineEdge()||s.isVisited()||s.isInteriorAreaEdge()||s.getEdge().isInResult()?null:(be.isTrue(!(s.isInResult()||s.getSym().isInResult())||!s.getEdge().isInResult()),void($t.isResultOfOp(p,c)&&c===$t.INTERSECTION&&(h.add(s.getEdge()),s.setVisitedEdge(!0))))},fo.prototype.interfaces_=function(){return[]},fo.prototype.getClass=function(){return fo};var qi=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new pt;var c=arguments[1];this._op=arguments[0],this._geometryFactory=c};qi.prototype.filterCoveredNodeToPoint=function(s){var c=s.getCoordinate();if(!this._op.isCoveredByLA(c)){var h=this._geometryFactory.createPoint(c);this._resultPointList.add(h)}},qi.prototype.extractNonCoveredResultNodes=function(s){for(var c=this._op.getGraph().getNodes().iterator();c.hasNext();){var h=c.next();if(!(h.isInResult()||h.isIncidentEdgeInResult()||0!==h.getEdges().getDegree()&&s!==$t.INTERSECTION)){var p=h.getLabel();$t.isResultOfOp(p,s)&&this.filterCoveredNodeToPoint(h)}}},qi.prototype.build=function(s){return this.extractNonCoveredResultNodes(s),this._resultPointList},qi.prototype.interfaces_=function(){return[]},qi.prototype.getClass=function(){return qi};var ho=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};ho.prototype.transformPoint=function(s,c){return this._factory.createPoint(this.transformCoordinates(s.getCoordinateSequence(),s))},ho.prototype.transformPolygon=function(s,c){var h=!0,p=this.transformLinearRing(s.getExteriorRing(),s);null!==p&&p instanceof Bs&&!p.isEmpty()||(h=!1);for(var v=new pt,H=0;H<s.getNumInteriorRing();H++){var q=this.transformLinearRing(s.getInteriorRingN(H),s);null===q||q.isEmpty()||(q instanceof Bs||(h=!1),v.add(q))}if(h)return this._factory.createPolygon(p,v.toArray([]));var le=new pt;return null!==p&&le.add(p),le.addAll(v),this._factory.buildGeometry(le)},ho.prototype.createCoordinateSequence=function(s){return this._factory.getCoordinateSequenceFactory().create(s)},ho.prototype.getInputGeometry=function(){return this._inputGeom},ho.prototype.transformMultiLineString=function(s,c){for(var h=new pt,p=0;p<s.getNumGeometries();p++){var v=this.transformLineString(s.getGeometryN(p),s);null!==v&&(v.isEmpty()||h.add(v))}return this._factory.buildGeometry(h)},ho.prototype.transformCoordinates=function(s,c){return this.copy(s)},ho.prototype.transformLineString=function(s,c){return this._factory.createLineString(this.transformCoordinates(s.getCoordinateSequence(),s))},ho.prototype.transformMultiPoint=function(s,c){for(var h=new pt,p=0;p<s.getNumGeometries();p++){var v=this.transformPoint(s.getGeometryN(p),s);null!==v&&(v.isEmpty()||h.add(v))}return this._factory.buildGeometry(h)},ho.prototype.transformMultiPolygon=function(s,c){for(var h=new pt,p=0;p<s.getNumGeometries();p++){var v=this.transformPolygon(s.getGeometryN(p),s);null!==v&&(v.isEmpty()||h.add(v))}return this._factory.buildGeometry(h)},ho.prototype.copy=function(s){return s.copy()},ho.prototype.transformGeometryCollection=function(s,c){for(var h=new pt,p=0;p<s.getNumGeometries();p++){var v=this.transform(s.getGeometryN(p));null!==v&&(this._pruneEmptyGeometry&&v.isEmpty()||h.add(v))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(mt.toGeometryArray(h)):this._factory.buildGeometry(h)},ho.prototype.transform=function(s){if(this._inputGeom=s,this._factory=s.getFactory(),s instanceof Io)return this.transformPoint(s,null);if(s instanceof H1)return this.transformMultiPoint(s,null);if(s instanceof Bs)return this.transformLinearRing(s,null);if(s instanceof Kr)return this.transformLineString(s,null);if(s instanceof os)return this.transformMultiLineString(s,null);if(s instanceof Ci)return this.transformPolygon(s,null);if(s instanceof gs)return this.transformMultiPolygon(s,null);if(s instanceof zn)return this.transformGeometryCollection(s,null);throw new O("Unknown Geometry subtype: "+s.getClass().getName())},ho.prototype.transformLinearRing=function(s,c){var h=this.transformCoordinates(s.getCoordinateSequence(),s);if(null===h)return this._factory.createLinearRing(null);var p=h.size();return p>0&&p<4&&!this._preserveType?this._factory.createLineString(h):this._factory.createLinearRing(h)},ho.prototype.interfaces_=function(){return[]},ho.prototype.getClass=function(){return ho};var qs=function s(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new zt,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Kr&&"number"==typeof arguments[1]){var h=arguments[1];s.call(this,arguments[0].getCoordinates(),h)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var p=arguments[0],v=arguments[1];this._srcPts=p,this._isClosed=s.isClosed(p),this._snapTolerance=v}};qs.prototype.snapVertices=function(s,c){for(var h=this._isClosed?s.size()-1:s.size(),p=0;p<h;p++){var v=s.get(p),H=this.findSnapForVertex(v,c);null!==H&&(s.set(p,new B(H)),0===p&&this._isClosed&&s.set(s.size()-1,new B(H)))}},qs.prototype.findSnapForVertex=function(s,c){for(var h=0;h<c.length;h++){if(s.equals2D(c[h]))return null;if(s.distance(c[h])<this._snapTolerance)return c[h]}return null},qs.prototype.snapTo=function(s){var c=new ns(this._srcPts);return this.snapVertices(c,s),this.snapSegments(c,s),c.toCoordinateArray()},qs.prototype.snapSegments=function(s,c){if(0===c.length)return null;var h=c.length;c[0].equals2D(c[c.length-1])&&(h=c.length-1);for(var p=0;p<h;p++){var v=c[p],H=this.findSegmentIndexToSnap(v,s);H>=0&&s.add(H+1,new B(v),!1)}},qs.prototype.findSegmentIndexToSnap=function(s,c){for(var h=z.MAX_VALUE,p=-1,v=0;v<c.size()-1;v++){if(this._seg.p0=c.get(v),this._seg.p1=c.get(v+1),this._seg.p0.equals2D(s)||this._seg.p1.equals2D(s)){if(this._allowSnappingToSourceVertices)continue;return-1}var H=this._seg.distance(s);H<this._snapTolerance&&H<h&&(h=H,p=v)}return p},qs.prototype.setAllowSnappingToSourceVertices=function(s){this._allowSnappingToSourceVertices=s},qs.prototype.interfaces_=function(){return[]},qs.prototype.getClass=function(){return qs},qs.isClosed=function(s){return!(s.length<=1)&&s[0].equals2D(s[s.length-1])};var gi=function(s){this._srcGeom=s||null},yc={SNAP_PRECISION_FACTOR:{configurable:!0}};gi.prototype.snapTo=function(s,c){var h=this.extractTargetCoordinates(s);return new sl(c,h).transform(this._srcGeom)},gi.prototype.snapToSelf=function(s,c){var h=this.extractTargetCoordinates(this._srcGeom),p=new sl(s,h,!0).transform(this._srcGeom),v=p;return c&&Pe(v,ca)&&(v=p.buffer(0)),v},gi.prototype.computeSnapTolerance=function(s){return this.computeMinimumSegmentLength(s)/10},gi.prototype.extractTargetCoordinates=function(s){for(var c=new G,h=s.getCoordinates(),p=0;p<h.length;p++)c.add(h[p]);return c.toArray(new Array(0).fill(null))},gi.prototype.computeMinimumSegmentLength=function(s){for(var c=z.MAX_VALUE,h=0;h<s.length-1;h++){var p=s[h].distance(s[h+1]);p<c&&(c=p)}return c},gi.prototype.interfaces_=function(){return[]},gi.prototype.getClass=function(){return gi},gi.snap=function(s,c,h){var p=new Array(2).fill(null),v=new gi(s);p[0]=v.snapTo(c,h);var H=new gi(c);return p[1]=H.snapTo(p[0],h),p},gi.computeOverlaySnapTolerance=function(){if(1===arguments.length){var s=arguments[0],c=gi.computeSizeBasedSnapTolerance(s),h=s.getPrecisionModel();if(h.getType()===vt.FIXED){var p=1/h.getScale()*2/1.415;p>c&&(c=p)}return c}if(2===arguments.length){var H=arguments[1];return Math.min(gi.computeOverlaySnapTolerance(arguments[0]),gi.computeOverlaySnapTolerance(H))}},gi.computeSizeBasedSnapTolerance=function(s){var c=s.getEnvelopeInternal();return Math.min(c.getHeight(),c.getWidth())*gi.SNAP_PRECISION_FACTOR},gi.snapToSelf=function(s,c,h){return new gi(s).snapToSelf(c,h)},yc.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(gi,yc);var sl=function(s){function c(h,p,v){s.call(this),this._snapTolerance=h||null,this._snapPts=p||null,this._isSelfSnap=void 0!==v&&v}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.snapLine=function(h,p){var v=new qs(h,this._snapTolerance);return v.setAllowSnappingToSourceVertices(this._isSelfSnap),v.snapTo(p)},c.prototype.transformCoordinates=function(h,p){var v=h.toCoordinateArray(),H=this.snapLine(v,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(H)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(ho),po=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};po.prototype.getCommon=function(){return z.longBitsToDouble(this._commonBits)},po.prototype.add=function(s){var c=z.doubleToLongBits(s);return this._isFirst?(this._commonBits=c,this._commonSignExp=po.signExpBits(this._commonBits),this._isFirst=!1,null):po.signExpBits(c)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=po.numCommonMostSigMantissaBits(this._commonBits,c),void(this._commonBits=po.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},po.prototype.toString=function(){if(1===arguments.length){var s=arguments[0],c=z.longBitsToDouble(s),h="0000000000000000000000000000000000000000000000000000000000000000"+z.toBinaryString(s),p=h.substring(h.length-64);return p.substring(0,1)+"  "+p.substring(1,12)+"(exp) "+p.substring(12)+" [ "+c+" ]"}},po.prototype.interfaces_=function(){return[]},po.prototype.getClass=function(){return po},po.getBit=function(s,c){return s&1<<c?1:0},po.signExpBits=function(s){return s>>52},po.zeroLowerBits=function(s,c){return s&~((1<<c)-1)},po.numCommonMostSigMantissaBits=function(s,c){for(var h=0,p=52;p>=0;p--){if(po.getBit(s,p)!==po.getBit(c,p))return h;h++}return 52};var Pa=function(){this._commonCoord=null,this._ccFilter=new F1},Cc={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Pa.prototype.addCommonBits=function(s){var c=new za(this._commonCoord);s.apply(c),s.geometryChanged()},Pa.prototype.removeCommonBits=function(s){if(0===this._commonCoord.x&&0===this._commonCoord.y)return s;var c=new B(this._commonCoord);c.x=-c.x,c.y=-c.y;var h=new za(c);return s.apply(h),s.geometryChanged(),s},Pa.prototype.getCommonCoordinate=function(){return this._commonCoord},Pa.prototype.add=function(s){s.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Pa.prototype.interfaces_=function(){return[]},Pa.prototype.getClass=function(){return Pa},Cc.CommonCoordinateFilter.get=function(){return F1},Cc.Translater.get=function(){return za},Object.defineProperties(Pa,Cc);var F1=function(){this._commonBitsX=new po,this._commonBitsY=new po};F1.prototype.filter=function(s){this._commonBitsX.add(s.x),this._commonBitsY.add(s.y)},F1.prototype.getCommonCoordinate=function(){return new B(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},F1.prototype.interfaces_=function(){return[Gt]},F1.prototype.getClass=function(){return F1};var za=function(){this.trans=null,this.trans=arguments[0]};za.prototype.filter=function(s,c){var h=s.getOrdinate(c,0)+this.trans.x,p=s.getOrdinate(c,1)+this.trans.y;s.setOrdinate(c,0,h),s.setOrdinate(c,1,p)},za.prototype.isDone=function(){return!1},za.prototype.isGeometryChanged=function(){return!0},za.prototype.interfaces_=function(){return[is]},za.prototype.getClass=function(){return za};var $i=function(s,c){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=s,this._geom[1]=c,this.computeSnapTolerance()};$i.prototype.selfSnap=function(s){return new gi(s).snapTo(s,this._snapTolerance)},$i.prototype.removeCommonBits=function(s){this._cbr=new Pa,this._cbr.add(s[0]),this._cbr.add(s[1]);var c=new Array(2).fill(null);return c[0]=this._cbr.removeCommonBits(s[0].copy()),c[1]=this._cbr.removeCommonBits(s[1].copy()),c},$i.prototype.prepareResult=function(s){return this._cbr.addCommonBits(s),s},$i.prototype.getResultGeometry=function(s){var c=this.snap(this._geom),h=$t.overlayOp(c[0],c[1],s);return this.prepareResult(h)},$i.prototype.checkValid=function(s){s.isValid()||re.out.println("Snapped geometry is invalid")},$i.prototype.computeSnapTolerance=function(){this._snapTolerance=gi.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},$i.prototype.snap=function(s){var c=this.removeCommonBits(s);return gi.snap(c[0],c[1],this._snapTolerance)},$i.prototype.interfaces_=function(){return[]},$i.prototype.getClass=function(){return $i},$i.overlayOp=function(s,c,h){return new $i(s,c).getResultGeometry(h)},$i.union=function(s,c){return $i.overlayOp(s,c,$t.UNION)},$i.intersection=function(s,c){return $i.overlayOp(s,c,$t.INTERSECTION)},$i.symDifference=function(s,c){return $i.overlayOp(s,c,$t.SYMDIFFERENCE)},$i.difference=function(s,c){return $i.overlayOp(s,c,$t.DIFFERENCE)};var xo=function(s,c){this._geom=new Array(2).fill(null),this._geom[0]=s,this._geom[1]=c};xo.prototype.getResultGeometry=function(s){var c=null,h=!1,p=null;try{c=$t.overlayOp(this._geom[0],this._geom[1],s),h=!0}catch(v){if(!(v instanceof we))throw v;p=v}if(!h)try{c=$i.overlayOp(this._geom[0],this._geom[1],s)}catch(v){throw v instanceof we?p:v}return c},xo.prototype.interfaces_=function(){return[]},xo.prototype.getClass=function(){return xo},xo.overlayOp=function(s,c,h){return new xo(s,c).getResultGeometry(h)},xo.union=function(s,c){return xo.overlayOp(s,c,$t.UNION)},xo.intersection=function(s,c){return xo.overlayOp(s,c,$t.INTERSECTION)},xo.symDifference=function(s,c){return xo.overlayOp(s,c,$t.SYMDIFFERENCE)},xo.difference=function(s,c){return xo.overlayOp(s,c,$t.DIFFERENCE)};var u=function(){this.mce=null,this.chainIndex=null;var c=arguments[1];this.mce=arguments[0],this.chainIndex=c};u.prototype.computeIntersections=function(s,c){this.mce.computeIntersectsForChain(this.chainIndex,s.mce,s.chainIndex,c)},u.prototype.interfaces_=function(){return[]},u.prototype.getClass=function(){return u};var g=function s(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var c=arguments[0],h=arguments[1];this._eventType=s.DELETE,this._xValue=c,this._insertEvent=h}else if(3===arguments.length){var p=arguments[0],v=arguments[1],H=arguments[2];this._eventType=s.INSERT,this._label=p,this._xValue=v,this._obj=H}},x={INSERT:{configurable:!0},DELETE:{configurable:!0}};g.prototype.isDelete=function(){return this._eventType===g.DELETE},g.prototype.setDeleteEventIndex=function(s){this._deleteEventIndex=s},g.prototype.getObject=function(){return this._obj},g.prototype.compareTo=function(s){return this._xValue<s._xValue?-1:this._xValue>s._xValue?1:this._eventType<s._eventType?-1:this._eventType>s._eventType?1:0},g.prototype.getInsertEvent=function(){return this._insertEvent},g.prototype.isInsert=function(){return this._eventType===g.INSERT},g.prototype.isSameLabel=function(s){return null!==this._label&&this._label===s._label},g.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},g.prototype.interfaces_=function(){return[k]},g.prototype.getClass=function(){return g},x.INSERT.get=function(){return 1},x.DELETE.get=function(){return 2},Object.defineProperties(g,x);var F=function(){};F.prototype.interfaces_=function(){return[]},F.prototype.getClass=function(){return F};var se=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var c=arguments[1],h=arguments[2];this._li=arguments[0],this._includeProper=c,this._recordIsolated=h};se.prototype.isTrivialIntersection=function(s,c,h,p){if(s===h&&1===this._li.getIntersectionNum()){if(se.isAdjacentSegments(c,p))return!0;if(s.isClosed()){var v=s.getNumPoints()-1;if(0===c&&p===v||0===p&&c===v)return!0}}return!1},se.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},se.prototype.setIsDoneIfProperInt=function(s){this._isDoneWhenProperInt=s},se.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},se.prototype.isBoundaryPointInternal=function(s,c){for(var h=c.iterator();h.hasNext();){var p=h.next().getCoordinate();if(s.isIntersection(p))return!0}return!1},se.prototype.hasProperIntersection=function(){return this._hasProper},se.prototype.hasIntersection=function(){return this._hasIntersection},se.prototype.isDone=function(){return this._isDone},se.prototype.isBoundaryPoint=function(s,c){return!(null===c||!this.isBoundaryPointInternal(s,c[0])&&!this.isBoundaryPointInternal(s,c[1]))},se.prototype.setBoundaryNodes=function(s,c){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=s,this._bdyNodes[1]=c},se.prototype.addIntersections=function(s,c,h,p){if(s===h&&c===p)return null;this.numTests++;var v=s.getCoordinates()[c],H=s.getCoordinates()[c+1],q=h.getCoordinates()[p],le=h.getCoordinates()[p+1];this._li.computeIntersection(v,H,q,le),this._li.hasIntersection()&&(this._recordIsolated&&(s.setIsolated(!1),h.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(s,c,h,p)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(s.addIntersections(this._li,c,0),h.addIntersections(this._li,p,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},se.prototype.interfaces_=function(){return[]},se.prototype.getClass=function(){return se},se.isAdjacentSegments=function(s,c){return 1===Math.abs(s-c)};var Se=function(s){function c(){s.call(this),this.events=new pt,this.nOverlaps=null}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.prepareEvents=function(){cs.sort(this.events);for(var h=0;h<this.events.size();h++){var p=this.events.get(h);p.isDelete()&&p.getInsertEvent().setDeleteEventIndex(h)}},c.prototype.computeIntersections=function(){if(1===arguments.length){var h=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var p=0;p<this.events.size();p++){var v=this.events.get(p);if(v.isInsert()&&this.processOverlaps(p,v.getDeleteEventIndex(),v,h),h.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof se&&Pe(arguments[0],_i)&&Pe(arguments[1],_i)){var H=arguments[0],q=arguments[1],le=arguments[2];this.addEdges(H,H),this.addEdges(q,q),this.computeIntersections(le)}else if("boolean"==typeof arguments[2]&&Pe(arguments[0],_i)&&arguments[1]instanceof se){var De=arguments[0],je=arguments[1];arguments[2]?this.addEdges(De,null):this.addEdges(De),this.computeIntersections(je)}},c.prototype.addEdge=function(h,p){for(var v=h.getMonotoneChainEdge(),H=v.getStartIndexes(),q=0;q<H.length-1;q++){var le=new u(v,q),De=new g(p,v.getMinX(q),le);this.events.add(De),this.events.add(new g(v.getMaxX(q),De))}},c.prototype.processOverlaps=function(h,p,v,H){for(var q=v.getObject(),le=h;le<p;le++){var De=this.events.get(le);if(De.isInsert()){var je=De.getObject();v.isSameLabel(De)||(q.computeIntersections(je,H),this.nOverlaps++)}}},c.prototype.addEdges=function(){if(1===arguments.length)for(var h=arguments[0].iterator();h.hasNext();){var p=h.next();this.addEdge(p,p)}else if(2===arguments.length)for(var H=arguments[1],q=arguments[0].iterator();q.hasNext();){var le=q.next();this.addEdge(le,H)}},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(F),Be=function(){this._min=z.POSITIVE_INFINITY,this._max=z.NEGATIVE_INFINITY},tt={NodeComparator:{configurable:!0}};Be.prototype.getMin=function(){return this._min},Be.prototype.intersects=function(s,c){return!(this._min>c||this._max<s)},Be.prototype.getMax=function(){return this._max},Be.prototype.toString=function(){return $e.toLineString(new B(this._min,0),new B(this._max,0))},Be.prototype.interfaces_=function(){return[]},Be.prototype.getClass=function(){return Be},tt.NodeComparator.get=function(){return st},Object.defineProperties(Be,tt);var st=function(){};st.prototype.compare=function(s,c){var v=(s._min+s._max)/2,H=(c._min+c._max)/2;return v<H?-1:v>H?1:0},st.prototype.interfaces_=function(){return[oe]},st.prototype.getClass=function(){return st};var dt=function(s){function c(){s.call(this),this._item=null;var p=arguments[1],v=arguments[2];this._min=arguments[0],this._max=p,this._item=v}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.query=function(h,p,v){if(!this.intersects(h,p))return null;v.visitItem(this._item)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(Be),It=function(s){function c(){s.call(this),this._node1=null,this._node2=null;var p=arguments[1];this._node1=arguments[0],this._node2=p,this.buildExtent(this._node1,this._node2)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.buildExtent=function(h,p){this._min=Math.min(h._min,p._min),this._max=Math.max(h._max,p._max)},c.prototype.query=function(h,p,v){if(!this.intersects(h,p))return null;null!==this._node1&&this._node1.query(h,p,v),null!==this._node2&&this._node2.query(h,p,v)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(Be),Nt=function(){this._leaves=new pt,this._root=null,this._level=0};Nt.prototype.buildTree=function(){cs.sort(this._leaves,new Be.NodeComparator);for(var s=this._leaves,c=null,h=new pt;;){if(this.buildLevel(s,h),1===h.size())return h.get(0);c=s,s=h,h=c}},Nt.prototype.insert=function(s,c,h){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new dt(s,c,h))},Nt.prototype.query=function(s,c,h){this.init(),this._root.query(s,c,h)},Nt.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Nt.prototype.printNode=function(s){re.out.println($e.toLineString(new B(s._min,this._level),new B(s._max,this._level)))},Nt.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Nt.prototype.buildLevel=function(s,c){this._level++,c.clear();for(var h=0;h<s.size();h+=2){var p=s.get(h);if(null===(h+1<s.size()?s.get(h):null))c.add(p);else{var v=new It(s.get(h),s.get(h+1));c.add(v)}}},Nt.prototype.interfaces_=function(){return[]},Nt.prototype.getClass=function(){return Nt};var Ln=function(){this._items=new pt};Ln.prototype.visitItem=function(s){this._items.add(s)},Ln.prototype.getItems=function(){return this._items},Ln.prototype.interfaces_=function(){return[Sa]},Ln.prototype.getClass=function(){return Ln};var Eo=function(){this._index=null;var s=arguments[0];if(!Pe(s,ca))throw new O("Argument must be Polygonal");this._index=new Oo(s)},Ha={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Eo.prototype.locate=function(s){var c=new Je(s),h=new ga(c);return this._index.query(s.y,s.y,h),c.getLocation()},Eo.prototype.interfaces_=function(){return[$n]},Eo.prototype.getClass=function(){return Eo},Ha.SegmentVisitor.get=function(){return ga},Ha.IntervalIndexedGeometry.get=function(){return Oo},Object.defineProperties(Eo,Ha);var ga=function(){this._counter=null,this._counter=arguments[0]};ga.prototype.visitItem=function(s){var c=s;this._counter.countSegment(c.getCoordinate(0),c.getCoordinate(1))},ga.prototype.interfaces_=function(){return[Sa]},ga.prototype.getClass=function(){return ga};var Oo=function(){this._index=new Nt,this.init(arguments[0])};Oo.prototype.init=function(s){for(var c=mi.getLines(s).iterator();c.hasNext();){var h=c.next().getCoordinates();this.addLine(h)}},Oo.prototype.addLine=function(s){for(var c=1;c<s.length;c++){var h=new zt(s[c-1],s[c]),p=Math.min(h.p0.y,h.p1.y),v=Math.max(h.p0.y,h.p1.y);this._index.insert(p,v,h)}},Oo.prototype.query=function(){if(2===arguments.length){var s=arguments[0],c=arguments[1],h=new Ln;return this._index.query(s,c,h),h.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},Oo.prototype.interfaces_=function(){return[]},Oo.prototype.getClass=function(){return Oo};var v1=function(s){function c(){if(s.call(this),this._parentGeom=null,this._lineEdgeMap=new I1,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new us,2===arguments.length){var p=arguments[1],v=En.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=p,this._boundaryNodeRule=v,null!==p&&this.add(p)}else if(3===arguments.length){var q=arguments[1],le=arguments[2];this._argIndex=arguments[0],this._parentGeom=q,this._boundaryNodeRule=le,null!==q&&this.add(q)}}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.insertBoundaryPoint=function(h,p){var v=this._nodes.addNode(p).getLabel(),H=1;v.getLocation(h,lt.ON)===te.BOUNDARY&&H++;var q=c.determineBoundary(this._boundaryNodeRule,H);v.setLocation(h,q)},c.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var H=arguments[1],q=arguments[2],le=new se(arguments[0],!0,!1);return le.setIsDoneIfProperInt(q),this.createEdgeSetIntersector().computeIntersections(this._edges,le,H||!(this._parentGeom instanceof Bs||this._parentGeom instanceof Ci||this._parentGeom instanceof gs)),this.addSelfIntersectionNodes(this._argIndex),le}},c.prototype.computeSplitEdges=function(h){for(var p=this._edges.iterator();p.hasNext();)p.next().eiList.addSplitEdges(h)},c.prototype.computeEdgeIntersections=function(h,p,v){var H=new se(p,v,!0);return H.setBoundaryNodes(this.getBoundaryNodes(),h.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,h._edges,H),H},c.prototype.getGeometry=function(){return this._parentGeom},c.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},c.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},c.prototype.addPoint=function(){if(arguments[0]instanceof Io){var h=arguments[0].getCoordinate();this.insertPoint(this._argIndex,h,te.INTERIOR)}else arguments[0]instanceof B&&this.insertPoint(this._argIndex,arguments[0],te.INTERIOR)},c.prototype.addPolygon=function(h){this.addPolygonRing(h.getExteriorRing(),te.EXTERIOR,te.INTERIOR);for(var p=0;p<h.getNumInteriorRing();p++){var v=h.getInteriorRingN(p);this.addPolygonRing(v,te.INTERIOR,te.EXTERIOR)}},c.prototype.addEdge=function(h){this.insertEdge(h);var p=h.getCoordinates();this.insertPoint(this._argIndex,p[0],te.BOUNDARY),this.insertPoint(this._argIndex,p[p.length-1],te.BOUNDARY)},c.prototype.addLineString=function(h){var p=pn.removeRepeatedPoints(h.getCoordinates());if(p.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=p[0],null;var v=new Ki(p,new Bn(this._argIndex,te.INTERIOR));this._lineEdgeMap.put(h,v),this.insertEdge(v),be.isTrue(p.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,p[0]),this.insertBoundaryPoint(this._argIndex,p[p.length-1])},c.prototype.getInvalidPoint=function(){return this._invalidPoint},c.prototype.getBoundaryPoints=function(){for(var h=this.getBoundaryNodes(),p=new Array(h.size()).fill(null),v=0,H=h.iterator();H.hasNext();){var q=H.next();p[v++]=q.getCoordinate().copy()}return p},c.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},c.prototype.addSelfIntersectionNode=function(h,p,v){if(this.isBoundaryNode(h,p))return null;v===te.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(h,p):this.insertPoint(h,p,v)},c.prototype.addPolygonRing=function(h,p,v){if(h.isEmpty())return null;var H=pn.removeRepeatedPoints(h.getCoordinates());if(H.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=H[0],null;var q=p,le=v;qe.isCCW(H)&&(q=v,le=p);var De=new Ki(H,new Bn(this._argIndex,te.BOUNDARY,q,le));this._lineEdgeMap.put(h,De),this.insertEdge(De),this.insertPoint(this._argIndex,H[0],te.BOUNDARY)},c.prototype.insertPoint=function(h,p,v){var H=this._nodes.addNode(p),q=H.getLabel();null===q?H._label=new Bn(h,v):q.setLocation(h,v)},c.prototype.createEdgeSetIntersector=function(){return new Se},c.prototype.addSelfIntersectionNodes=function(h){for(var p=this._edges.iterator();p.hasNext();)for(var v=p.next(),H=v.getLabel().getLocation(h),q=v.eiList.iterator();q.hasNext();){var le=q.next();this.addSelfIntersectionNode(h,le.coord,H)}},c.prototype.add=function(){if(1!==arguments.length)return s.prototype.add.apply(this,arguments);var h=arguments[0];if(h.isEmpty())return null;if(h instanceof gs&&(this._useBoundaryDeterminationRule=!1),h instanceof Ci)this.addPolygon(h);else if(h instanceof Kr)this.addLineString(h);else if(h instanceof Io)this.addPoint(h);else if(h instanceof H1)this.addCollection(h);else if(h instanceof os)this.addCollection(h);else if(h instanceof gs)this.addCollection(h);else{if(!(h instanceof zn))throw new Error(h.getClass().getName());this.addCollection(h)}},c.prototype.addCollection=function(h){for(var p=0;p<h.getNumGeometries();p++){var v=h.getGeometryN(p);this.add(v)}},c.prototype.locate=function(h){return Pe(this._parentGeom,ca)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Eo(this._parentGeom)),this._areaPtLocator.locate(h)):this._ptLocator.locate(h,this._parentGeom)},c.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):s.prototype.findEdge.apply(this,arguments)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c.determineBoundary=function(h,p){return h.isInBoundary(p)?te.BOUNDARY:te.INTERIOR},c}(Kt),Qa=function(){if(this._li=new Ve,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var s=arguments[0];this.setComputationPrecision(s.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new v1(0,s)}else if(2===arguments.length){var c=arguments[0],h=arguments[1],p=En.OGC_SFS_BOUNDARY_RULE;c.getPrecisionModel().compareTo(h.getPrecisionModel())>=0?this.setComputationPrecision(c.getPrecisionModel()):this.setComputationPrecision(h.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new v1(0,c,p),this._arg[1]=new v1(1,h,p)}else if(3===arguments.length){var v=arguments[0],H=arguments[1],q=arguments[2];v.getPrecisionModel().compareTo(H.getPrecisionModel())>=0?this.setComputationPrecision(v.getPrecisionModel()):this.setComputationPrecision(H.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new v1(0,v,q),this._arg[1]=new v1(1,H,q)}};Qa.prototype.getArgGeometry=function(s){return this._arg[s].getGeometry()},Qa.prototype.setComputationPrecision=function(s){this._resultPrecisionModel=s,this._li.setPrecisionModel(this._resultPrecisionModel)},Qa.prototype.interfaces_=function(){return[]},Qa.prototype.getClass=function(){return Qa};var Ja=function(){};Ja.prototype.interfaces_=function(){return[]},Ja.prototype.getClass=function(){return Ja},Ja.map=function(){if(arguments[0]instanceof it&&Pe(arguments[1],Ja.MapOp)){for(var s=arguments[0],c=arguments[1],h=new pt,p=0;p<s.getNumGeometries();p++){var v=c.map(s.getGeometryN(p));null!==v&&h.add(v)}return s.getFactory().buildGeometry(h)}if(Pe(arguments[0],Gr)&&Pe(arguments[1],Ja.MapOp)){for(var H=arguments[0],q=arguments[1],le=new pt,De=H.iterator();De.hasNext();){var je=De.next(),rt=q.map(je);null!==rt&&le.add(rt)}return le}},Ja.MapOp=function(){};var $t=function(s){function c(){var h=arguments[0];s.call(this,h,arguments[1]),this._ptLocator=new us,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Ui,this._resultPolyList=new pt,this._resultLineList=new pt,this._resultPointList=new pt,this._graph=new Kt(new jo),this._geomFact=h.getFactory()}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.insertUniqueEdge=function(h){var p=this._edgeList.findEqualEdge(h);if(null!==p){var v=p.getLabel(),H=h.getLabel();p.isPointwiseEqual(h)||(H=new Bn(h.getLabel())).flip();var q=p.getDepth();q.isNull()&&q.add(v),q.add(H),v.merge(H)}else this._edgeList.add(h)},c.prototype.getGraph=function(){return this._graph},c.prototype.cancelDuplicateResultEdges=function(){for(var h=this._graph.getEdgeEnds().iterator();h.hasNext();){var p=h.next(),v=p.getSym();p.isInResult()&&v.isInResult()&&(p.setInResult(!1),v.setInResult(!1))}},c.prototype.isCoveredByLA=function(h){return!!this.isCovered(h,this._resultLineList)||!!this.isCovered(h,this._resultPolyList)},c.prototype.computeGeometry=function(h,p,v,H){var q=new pt;return q.addAll(h),q.addAll(p),q.addAll(v),q.isEmpty()?c.createEmptyResult(H,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(q)},c.prototype.mergeSymLabels=function(){for(var h=this._graph.getNodes().iterator();h.hasNext();)h.next().getEdges().mergeSymLabels()},c.prototype.isCovered=function(h,p){for(var v=p.iterator();v.hasNext();){var H=v.next();if(this._ptLocator.locate(h,H)!==te.EXTERIOR)return!0}return!1},c.prototype.replaceCollapsedEdges=function(){for(var h=new pt,p=this._edgeList.iterator();p.hasNext();){var v=p.next();v.isCollapsed()&&(p.remove(),h.add(v.getCollapsedEdge()))}this._edgeList.addAll(h)},c.prototype.updateNodeLabelling=function(){for(var h=this._graph.getNodes().iterator();h.hasNext();){var p=h.next(),v=p.getEdges().getLabel();p.getLabel().merge(v)}},c.prototype.getResultGeometry=function(h){return this.computeOverlay(h),this._resultGeom},c.prototype.insertUniqueEdges=function(h){for(var p=h.iterator();p.hasNext();){var v=p.next();this.insertUniqueEdge(v)}},c.prototype.computeOverlay=function(h){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var p=new pt;this._arg[0].computeSplitEdges(p),this._arg[1].computeSplitEdges(p),this.insertUniqueEdges(p),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),fs.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(h),this.cancelDuplicateResultEdges();var v=new eo(this._geomFact);v.add(this._graph),this._resultPolyList=v.getPolygons();var H=new fo(this,this._geomFact,this._ptLocator);this._resultLineList=H.build(h);var q=new qi(this,this._geomFact,this._ptLocator);this._resultPointList=q.build(h),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,h)},c.prototype.labelIncompleteNode=function(h,p){var v=this._ptLocator.locate(h.getCoordinate(),this._arg[p].getGeometry());h.getLabel().setLocation(p,v)},c.prototype.copyPoints=function(h){for(var p=this._arg[h].getNodeIterator();p.hasNext();){var v=p.next();this._graph.addNode(v.getCoordinate()).setLabel(h,v.getLabel().getLocation(h))}},c.prototype.findResultAreaEdges=function(h){for(var p=this._graph.getEdgeEnds().iterator();p.hasNext();){var v=p.next(),H=v.getLabel();H.isArea()&&!v.isInteriorAreaEdge()&&c.isResultOfOp(H.getLocation(0,lt.RIGHT),H.getLocation(1,lt.RIGHT),h)&&v.setInResult(!0)}},c.prototype.computeLabelsFromDepths=function(){for(var h=this._edgeList.iterator();h.hasNext();){var p=h.next(),v=p.getLabel(),H=p.getDepth();if(!H.isNull()){H.normalize();for(var q=0;q<2;q++)v.isNull(q)||!v.isArea()||H.isNull(q)||(0===H.getDelta(q)?v.toLine(q):(be.isTrue(!H.isNull(q,lt.LEFT),"depth of LEFT side has not been initialized"),v.setLocation(q,lt.LEFT,H.getLocation(q,lt.LEFT)),be.isTrue(!H.isNull(q,lt.RIGHT),"depth of RIGHT side has not been initialized"),v.setLocation(q,lt.RIGHT,H.getLocation(q,lt.RIGHT))))}}},c.prototype.computeLabelling=function(){for(var h=this._graph.getNodes().iterator();h.hasNext();)h.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},c.prototype.labelIncompleteNodes=function(){for(var h=this._graph.getNodes().iterator();h.hasNext();){var p=h.next(),v=p.getLabel();p.isIsolated()&&(v.isNull(0)?this.labelIncompleteNode(p,0):this.labelIncompleteNode(p,1)),p.getEdges().updateLabelling(v)}},c.prototype.isCoveredByA=function(h){return!!this.isCovered(h,this._resultPolyList)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(Qa);$t.overlayOp=function(s,c,h){return new $t(s,c).getResultGeometry(h)},$t.intersection=function(s,c){if(s.isEmpty()||c.isEmpty())return $t.createEmptyResult($t.INTERSECTION,s,c,s.getFactory());if(s.isGeometryCollection()){var h=c;return Gs.map(s,{interfaces_:function(){return[Ja.MapOp]},map:function(p){return p.intersection(h)}})}return s.checkNotGeometryCollection(s),s.checkNotGeometryCollection(c),xo.overlayOp(s,c,$t.INTERSECTION)},$t.symDifference=function(s,c){if(s.isEmpty()||c.isEmpty()){if(s.isEmpty()&&c.isEmpty())return $t.createEmptyResult($t.SYMDIFFERENCE,s,c,s.getFactory());if(s.isEmpty())return c.copy();if(c.isEmpty())return s.copy()}return s.checkNotGeometryCollection(s),s.checkNotGeometryCollection(c),xo.overlayOp(s,c,$t.SYMDIFFERENCE)},$t.resultDimension=function(s,c,h){var p=c.getDimension(),v=h.getDimension(),H=-1;switch(s){case $t.INTERSECTION:H=Math.min(p,v);break;case $t.UNION:H=Math.max(p,v);break;case $t.DIFFERENCE:H=p;break;case $t.SYMDIFFERENCE:H=Math.max(p,v)}return H},$t.createEmptyResult=function(s,c,h,p){var v=null;switch($t.resultDimension(s,c,h)){case-1:v=p.createGeometryCollection(new Array(0).fill(null));break;case 0:v=p.createPoint();break;case 1:v=p.createLineString();break;case 2:v=p.createPolygon()}return v},$t.difference=function(s,c){return s.isEmpty()?$t.createEmptyResult($t.DIFFERENCE,s,c,s.getFactory()):c.isEmpty()?s.copy():(s.checkNotGeometryCollection(s),s.checkNotGeometryCollection(c),xo.overlayOp(s,c,$t.DIFFERENCE))},$t.isResultOfOp=function(){if(2===arguments.length){var s=arguments[0],c=arguments[1],h=s.getLocation(0),p=s.getLocation(1);return $t.isResultOfOp(h,p,c)}if(3===arguments.length){var v=arguments[0],H=arguments[1];switch(v===te.BOUNDARY&&(v=te.INTERIOR),H===te.BOUNDARY&&(H=te.INTERIOR),arguments[2]){case $t.INTERSECTION:return v===te.INTERIOR&&H===te.INTERIOR;case $t.UNION:return v===te.INTERIOR||H===te.INTERIOR;case $t.DIFFERENCE:return v===te.INTERIOR&&H!==te.INTERIOR;case $t.SYMDIFFERENCE:return v===te.INTERIOR&&H!==te.INTERIOR||v!==te.INTERIOR&&H===te.INTERIOR}return!1}},$t.INTERSECTION=1,$t.UNION=2,$t.DIFFERENCE=3,$t.SYMDIFFERENCE=4;var $s=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new us,this._seg=new zt;var s=arguments[0],c=arguments[1];this._g=s,this._boundaryDistanceTolerance=c,this._linework=this.extractLinework(s)};$s.prototype.isWithinToleranceOfBoundary=function(s){for(var c=0;c<this._linework.getNumGeometries();c++)for(var h=this._linework.getGeometryN(c).getCoordinateSequence(),p=0;p<h.size()-1;p++)if(h.getCoordinate(p,this._seg.p0),h.getCoordinate(p+1,this._seg.p1),this._seg.distance(s)<=this._boundaryDistanceTolerance)return!0;return!1},$s.prototype.getLocation=function(s){return this.isWithinToleranceOfBoundary(s)?te.BOUNDARY:this._ptLocator.locate(s,this._g)},$s.prototype.extractLinework=function(s){var c=new _1;s.apply(c);var h=c.getLinework(),p=mt.toLineStringArray(h);return s.getFactory().createMultiLineString(p)},$s.prototype.interfaces_=function(){return[]},$s.prototype.getClass=function(){return $s};var _1=function(){this._linework=null,this._linework=new pt};_1.prototype.getLinework=function(){return this._linework},_1.prototype.filter=function(s){if(s instanceof Ci){var c=s;this._linework.add(c.getExteriorRing());for(var h=0;h<c.getNumInteriorRing();h++)this._linework.add(c.getInteriorRingN(h))}},_1.prototype.interfaces_=function(){return[Ti]},_1.prototype.getClass=function(){return _1};var vi=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};vi.prototype.extractPoints=function(s,c,h){for(var p=s.getCoordinates(),v=0;v<p.length-1;v++)this.computeOffsetPoints(p[v],p[v+1],c,h)},vi.prototype.setSidesToGenerate=function(s,c){this._doLeft=s,this._doRight=c},vi.prototype.getPoints=function(s){for(var c=new pt,h=mi.getLines(this._g).iterator();h.hasNext();){var p=h.next();this.extractPoints(p,s,c)}return c},vi.prototype.computeOffsetPoints=function(s,c,h,p){var v=c.x-s.x,H=c.y-s.y,q=Math.sqrt(v*v+H*H),le=h*v/q,De=h*H/q,je=(c.x+s.x)/2,rt=(c.y+s.y)/2;if(this._doLeft){var ot=new B(je-De,rt+le);p.add(ot)}if(this._doRight){var bt=new B(je+De,rt-le);p.add(bt)}},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi};var Sr=function s(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=s.TOLERANCE,this._testCoords=new pt;var c=arguments[0],h=arguments[1],p=arguments[2];this._boundaryDistanceTolerance=s.computeBoundaryDistanceTolerance(c,h),this._geom=[c,h,p],this._locFinder=[new $s(this._geom[0],this._boundaryDistanceTolerance),new $s(this._geom[1],this._boundaryDistanceTolerance),new $s(this._geom[2],this._boundaryDistanceTolerance)]},e1={TOLERANCE:{configurable:!0}};Sr.prototype.reportResult=function(s,c,h){re.out.println("Overlay result invalid - A:"+te.toLocationSymbol(c[0])+" B:"+te.toLocationSymbol(c[1])+" expected:"+(h?"i":"e")+" actual:"+te.toLocationSymbol(c[2]))},Sr.prototype.isValid=function(s){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(s)},Sr.prototype.checkValid=function(){if(1===arguments.length){for(var s=arguments[0],c=0;c<this._testCoords.size();c++){var h=this._testCoords.get(c);if(!this.checkValid(s,h))return this._invalidLocation=h,!1}return!0}if(2===arguments.length){var p=arguments[0],v=arguments[1];return this._location[0]=this._locFinder[0].getLocation(v),this._location[1]=this._locFinder[1].getLocation(v),this._location[2]=this._locFinder[2].getLocation(v),!!Sr.hasLocation(this._location,te.BOUNDARY)||this.isValidResult(p,this._location)}},Sr.prototype.addTestPts=function(s){var c=new vi(s);this._testCoords.addAll(c.getPoints(5*this._boundaryDistanceTolerance))},Sr.prototype.isValidResult=function(s,c){var h=$t.isResultOfOp(c[0],c[1],s),p=!(h^c[2]===te.INTERIOR);return p||this.reportResult(s,c,h),p},Sr.prototype.getInvalidLocation=function(){return this._invalidLocation},Sr.prototype.interfaces_=function(){return[]},Sr.prototype.getClass=function(){return Sr},Sr.hasLocation=function(s,c){for(var h=0;h<3;h++)if(s[h]===c)return!0;return!1},Sr.computeBoundaryDistanceTolerance=function(s,c){return Math.min(gi.computeSizeBasedSnapTolerance(s),gi.computeSizeBasedSnapTolerance(c))},Sr.isValid=function(s,c,h,p){return new Sr(s,c,p).isValid(h)},e1.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Sr,e1);var ti=function s(c){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=s.extractFactory(c),this._inputGeoms=c};ti.prototype.extractElements=function(s,c){if(null===s)return null;for(var h=0;h<s.getNumGeometries();h++){var p=s.getGeometryN(h);this._skipEmpty&&p.isEmpty()||c.add(p)}},ti.prototype.combine=function(){for(var s=new pt,c=this._inputGeoms.iterator();c.hasNext();){var h=c.next();this.extractElements(h,s)}return 0===s.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(s)},ti.prototype.interfaces_=function(){return[]},ti.prototype.getClass=function(){return ti},ti.combine=function(){return 1===arguments.length?new ti(arguments[0]).combine():2===arguments.length?new ti(ti.createList(arguments[0],arguments[1])).combine():3===arguments.length?new ti(ti.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},ti.extractFactory=function(s){return s.isEmpty()?null:s.iterator().next().getFactory()},ti.createList=function(){if(2===arguments.length){var s=arguments[0],c=arguments[1],h=new pt;return h.add(s),h.add(c),h}if(3===arguments.length){var p=arguments[0],v=arguments[1],H=arguments[2],q=new pt;return q.add(p),q.add(v),q.add(H),q}};var Li=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new pt)},bc={STRTREE_NODE_CAPACITY:{configurable:!0}};Li.prototype.reduceToGeometries=function(s){for(var c=new pt,h=s.iterator();h.hasNext();){var p=h.next(),v=null;Pe(p,_i)?v=this.unionTree(p):p instanceof it&&(v=p),c.add(v)}return c},Li.prototype.extractByEnvelope=function(s,c,h){for(var p=new pt,v=0;v<c.getNumGeometries();v++){var H=c.getGeometryN(v);H.getEnvelopeInternal().intersects(s)?p.add(H):h.add(H)}return this._geomFactory.buildGeometry(p)},Li.prototype.unionOptimized=function(s,c){var h=s.getEnvelopeInternal(),p=c.getEnvelopeInternal();if(!h.intersects(p))return ti.combine(s,c);if(s.getNumGeometries()<=1&&c.getNumGeometries()<=1)return this.unionActual(s,c);var v=h.intersection(p);return this.unionUsingEnvelopeIntersection(s,c,v)},Li.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var s=new vc(Li.STRTREE_NODE_CAPACITY),c=this._inputPolys.iterator();c.hasNext();){var h=c.next();s.insert(h.getEnvelopeInternal(),h)}this._inputPolys=null;var p=s.itemsTree();return this.unionTree(p)},Li.prototype.binaryUnion=function(){if(1===arguments.length){var s=arguments[0];return this.binaryUnion(s,0,s.size())}if(3===arguments.length){var c=arguments[0],h=arguments[1],p=arguments[2];if(p-h<=1){var v=Li.getGeometry(c,h);return this.unionSafe(v,null)}if(p-h==2)return this.unionSafe(Li.getGeometry(c,h),Li.getGeometry(c,h+1));var H=Math.trunc((p+h)/2),q=this.binaryUnion(c,h,H),le=this.binaryUnion(c,H,p);return this.unionSafe(q,le)}},Li.prototype.repeatedUnion=function(s){for(var c=null,h=s.iterator();h.hasNext();){var p=h.next();c=null===c?p.copy():c.union(p)}return c},Li.prototype.unionSafe=function(s,c){return null===s&&null===c?null:null===s?c.copy():null===c?s.copy():this.unionOptimized(s,c)},Li.prototype.unionActual=function(s,c){return Li.restrictToPolygons(s.union(c))},Li.prototype.unionTree=function(s){var c=this.reduceToGeometries(s);return this.binaryUnion(c)},Li.prototype.unionUsingEnvelopeIntersection=function(s,c,h){var p=new pt,v=this.extractByEnvelope(h,s,p),H=this.extractByEnvelope(h,c,p),q=this.unionActual(v,H);return p.add(q),ti.combine(p)},Li.prototype.bufferUnion=function(){if(1===arguments.length){var s=arguments[0];return s.get(0).getFactory().buildGeometry(s).buffer(0)}if(2===arguments.length){var c=arguments[0],h=arguments[1];return c.getFactory().createGeometryCollection([c,h]).buffer(0)}},Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},Li.restrictToPolygons=function(s){if(Pe(s,ca))return s;var c=Ts.getPolygons(s);return 1===c.size()?c.get(0):s.getFactory().createMultiPolygon(mt.toPolygonArray(c))},Li.getGeometry=function(s,c){return c>=s.size()?null:s.get(c)},Li.union=function(s){return new Li(s).union()},bc.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Li,bc);var Is=function(){};Is.prototype.interfaces_=function(){return[]},Is.prototype.getClass=function(){return Is},Is.union=function(s,c){if(s.isEmpty()||c.isEmpty()){if(s.isEmpty()&&c.isEmpty())return $t.createEmptyResult($t.UNION,s,c,s.getFactory());if(s.isEmpty())return c.copy();if(c.isEmpty())return s.copy()}return s.checkNotGeometryCollection(s),s.checkNotGeometryCollection(c),xo.overlayOp(s,c,$t.UNION)},U.GeoJSONReader=la,U.GeoJSONWriter=mn,U.OverlayOp=$t,U.UnionOp=Is,U.BufferOp=Ir,Object.defineProperty(U,"__esModule",{value:!0})}(fe)},3294:Qe=>{"use strict";Qe.exports=function U(P,D,y){var b=P*D,w=fe*P,I=w-(w-P),M=P-I,R=fe*D,$=R-(R-D),J=D-$,T=M*J-(b-I*$-M*$-I*J);return y?(y[0]=T,y[1]=b,y):[T,b]};var fe=+(Math.pow(2,27)+1)},7448:Qe=>{"use strict";Qe.exports=function fe(U,P,D){var y=U+P,b=y-U,E=P-b,I=U-(y-b);return D?(D[0]=I+E,D[1]=y,D):[I+E,y]}}},Qe=>{Qe(Qe.s=6891)}]);